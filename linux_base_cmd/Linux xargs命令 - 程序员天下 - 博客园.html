<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8"/>
<title>Linux xargs命令 - 程序员天下 - 博客园</title>
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=5bITb1XmtieJKhNy3HCsng1mgkC1fjWAtqCxIQA888c1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="http://common.cnblogs.com/Skins/facebook/style.css?id=20131027"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/wdpp/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/wdpp/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/wdpp/wlwmanifest.xml"/>
<script src="http://common.cnblogs.com/script/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'wdpp';</script>
<script src="/bundles/blog-common.js?v=saW2cDTFfpQLTilXhuUNAbX6Ox2xoOn8SYSERk5jMCo1" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<div id="home">
<div id="header">
	<div id="blogTitle">
		
<!--done-->
<h1><a id="Header2_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/wdpp/">程序员天下</a></h1>
<h2></h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<!--done-->
			<ul id="navList">
				<li><a id="MyLinks1_HomeLink" class="menu" href="http://www.cnblogs.com/">博客园</a></li>
				<li><a id="MyLinks1_MyHomeLink" class="menu" href="http://www.cnblogs.com/wdpp/">首页</a></li>
				<li><a id="MyLinks1_NewPostLink" class="menu" rel="nofollow" href="http://www.cnblogs.com/wdpp/admin/EditPosts.aspx?opt=1">新随笔</a></li>
				<li><a id="MyLinks1_ContactLink" accesskey="9" class="menu" rel="nofollow" href="http://space.cnblogs.com/msg/send/%e7%a8%8b%e5%ba%8f%e5%91%98%e5%a4%a9%e4%b8%8b">联系</a></li>
				<li><a id="MyLinks1_Admin" class="menu" rel="nofollow" href="http://www.cnblogs.com/wdpp/admin/EditPosts.aspx">管理</a></li>
				<li><a id="MyLinks1_Syndication" class="menu" href="http://www.cnblogs.com/wdpp/rss">订阅</a>
				<a id="MyLinks1_XMLLink" class="aHeaderXML" href="http://www.cnblogs.com/wdpp/rss"><img src="http://www.cnblogs.com/images/xml.gif" alt="订阅" /></a></li>
			</ul>


		<div class="blogStats">
			
			
<!--done-->
随笔- 823&nbsp;
文章- 0&nbsp;
评论- 14&nbsp;

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		

<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/wdpp/archive/2012/02/28/2386683.html">Linux xargs命令</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body"><p align="left"><span style="color: rgb(42, 42, 42); font-family: Arial, Tahoma, Verdana, sans-serif; font-size: 14px; line-height: 25px; ">xargs是给命令传递参数的一个过滤器，也是组合多个命令的一个工具。它把一个数据流分割为一些足够小的块，以方便过滤器和命令进行处理。通常情况下，xargs从管道或者stdin中读取数据，但是它也能够从文件的输出中读取数据。</span><span style="color: rgb(42, 42, 42); font-family: Arial, Tahoma, Verdana, sans-serif; font-size: 14px; line-height: 25px; ">xargs的默认命令是echo，这意味着通过管道传递给xargs的输入将会包含换行和空白，不过通过xargs的处理，换行和空白将被空格取代。</span></p><p align="left"><span style="color: rgb(42, 42, 42); font-family: Arial, Tahoma, Verdana, sans-serif; font-size: 14px; line-height: 25px; text-align: left; text-indent: 28px; ">xargs&nbsp;是一个强有力的命令，它能够捕获一个命令的输出，然后传递给另外一个命令，下面是一些如何有效使用xargs&nbsp;的实用例子。<br /></span></p><p align="left">1.&nbsp;当你尝试用rm&nbsp;删除太多的文件，你可能得到一个错误信息：/bin/rm Argument list too long.&nbsp;用xargs&nbsp;去避免这个问题</p><p align="left">find ~ -name ‘*.log’ -print0 | xargs -0 rm -f</p><p align="left"><br /></p><p align="left">2.&nbsp;获得/etc/&nbsp;下所有*.conf&nbsp;结尾的文件列表，有几种不同的方法能得到相同的结果，下面的例子仅仅是示范怎么实用xargs&nbsp;，在这个例子中实用&nbsp;xargs将find&nbsp;命令的输出传递给ls -l</p><p align="left"># find /etc -name &quot;*.conf&quot; | xargs ls –l</p><p align="left"><br />3.&nbsp;假如你有一个文件包含了很多你希望下载的URL,&nbsp;你能够使用xargs&nbsp;下载所有链接</p><p align="left"># cat url-list.txt | xargs wget –c<br /></p><p align="left"><br /></p><p align="left">4.&nbsp;查找所有的jpg&nbsp;文件，并且压缩它</p><p align="left"># find / -name *.jpg -type f -print | xargs tar -cvzf images.tar.gz<br /></p><p align="left"><br />5.&nbsp;拷贝所有的图片文件到一个外部的硬盘驱动&nbsp;</p><p align="left"># ls *.jpg | xargs -n1 -i cp {} /external-hard-drive/directory</p><p align="left"><br /></p><p align="left"><strong>EXAMPLES</strong><br /><span style="color:#000099;">find /tmp -name core -type f -print | xargs /bin/rm -f</span><br />Find files named core in or below the directory /tmp and delete them. &nbsp;Note that this will work incorrectly if there are any filenames containing newlines or spaces.<br /><br /><span style="color:#000099;">find /tmp -name core -type f -print0 | xargs -0 /bin/rm -f</span><br />Find &nbsp;files &nbsp;named core in or below the directory /tmp and delete them, processing filenames in such a way that file or directory names containing spaces or newlines&nbsp;are correctly handled.<br /><br /><span style="color:#000099;">find /tmp -depth -name core -type f -delete</span><br />Find files named core in or below the directory /tmp and delete them, but more efficiently than in the previous example (because we avoid the need to use fork(2) and&nbsp;exec(2) to launch rm and we don't need the extra xargs process).<br /><br /><span style="color:#000099;">cut -d: -f1 &lt; /etc/passwd | sort | xargs echo</span><br />Generates a compact listing of all the users on the system.<br /><br /><span style="color:#000099;">xargs sh -c 'emacs &quot;$@&quot; &lt; /dev/tty' emacs</span><br />Launches the minimum number of copies of Emacs needed, one after the other, to edit the files listed on xargs' standard input. &nbsp;This example achieves the same effect&nbsp;as BSD's -o option, but in a more flexible and portable way.<br /></p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<div class = "postDesc">posted @ <span id="post-date">2012-02-28 19:55</span> <a href='http://www.cnblogs.com/wdpp/'>程序员天下</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="http://www.cnblogs.com/wdpp/admin/EditPosts.aspx?postid=2386683" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(2386683);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=111042,cb_entryId=2386683,cb_blogApp=currentBlogApp,cb_blogUserGuid='e5671356-8069-e111-aa3f-842b2b196315',cb_entryCreatedDate='2012/2/28 19:55:00';loadViewCount(cb_entryId);</script>
	
</div>
<!--end: topics 文章、评论容器-->
<a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.cnblogs.com/" target="_blank" title="程序员的网上家园">博客园首页</a><a href="http://q.cnblogs.com/" target="_blank" title="程序员问答社区">博问</a><a href="http://news.cnblogs.com/" target="_blank" title="IT新闻">新闻</a><a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a><a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a><a href="http://kb.cnblogs.com/" target="_blank">知识库</a></div>
<div id="ad_under_post_holder"></div>
<script type="text/javascript">
var enableGoogleAd = true;
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
fixPostBodyFormat();
loadAdUnderPost();
</script>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
loadBlogSignature();
LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
</script>
<script type="text/javascript">
    $.ajax({ url: 'http://counter.cnblogs.com/blog/post/' + cb_entryId, type: 'get', dataType: 'script', cache: true });
</script>
</div>

	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
		<div id="calendar"><div id="blog-calendar" style="displya:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>
			
			
			<DIV id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
			</DIV>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright &copy;2013 程序员天下
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
<script type="text/javascript" src="http://common.cnblogs.com/script/google-analytics.js"></script>
</body>
</html>
