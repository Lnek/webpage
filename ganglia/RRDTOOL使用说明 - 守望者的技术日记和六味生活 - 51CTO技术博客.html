
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<script id="allmobilize" charset="utf-8" src="http://a.yunshipei.com/ac0ecd4968d76dbea889a1a0f28e176f/allmobilize.min.js"></script><meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

<meta http-equiv="Content-Type"	content="text/html;	charset=gb2312">
<title>RRDTOOL使用说明 - 守望者的技术日记和六味生活 - 51CTO技术博客</title>
<meta name="description" content="rrdtoolcreatefilename[--start|-bstarttime][--step|-sstep]DS:ds-name:DST:heartbeat:min:max[DS:...]...RRA:CF:xff:steps:rows[RRA:...]...filenameThenameoftheRRDyouwanttocreate.RRDfilesshouldendwiththee..">
<meta name="keywords" content="RRDTOOL,休闲,职场">
<meta http-equiv="Cache-Control" content="private">
<base href="http://dannyyuan.blog.51cto.com/"></base>
<script src="/js/def.js"></script>
<SCRIPT language=javascript src="http://blog.51cto.com/js/message.js" type=text/javascript></SCRIPT>
<SCRIPT language=javascript src="http://blog.51cto.com/js/user_comment.js" type=text/javascript></SCRIPT>
<SCRIPT language=javascript src="http://blog.51cto.com/js/base2.js" type=text/javascript></SCRIPT>
<SCRIPT language=javascript src="http://blog.51cto.com/js/dialog_utf8.js" type=text/javascript></SCRIPT>
<link href="/css/skin/30.css" rel="stylesheet" type="text/css">
<link rel="alternate" href="../rss.php?uid=212520" type="application/rss+xml" title="RSS 2.0">
<link rel="edituri" type="application/rsd+xml" title="rsd" href="xmlrpc.php?rsd=1" />
<link href="http://blog.51cto.com/group/css/header_master_top.css" rel="stylesheet" type="text/css" />
<link href="http://blog.51cto.com/css/skin/base.css" rel="stylesheet" type="text/css" />
<style type="text/css">
	.mainNav li a{display:inline-block}
</style>
<script>
var myid = "";
function add_flink(){
	if(myid==""){

        var refurlk = "http://dannyyuan.blog.51cto.com/212520/46081";

				//commentSubmit("",refurlk);
				location.href="http://home.51cto.com/index.php?reback="+encodeURIComponent(encodeURIComponent(refurlk));
				return false;
	}else{
      		var url='/mod/edit_flink.php?type=addflink&uid=212520&flink=http://dannyyuan.blog.51cto.com';
		var ajax = InitAjax1();
		ajax.open("GET", url, true);
		ajax.onreadystatechange = function() {
			if (ajax.readyState == 4 && ajax.status == 200) {
				if(ajax.responseText==""){
					alert("添加成功。");
				}
				if(ajax.responseText=="1"){
				alert("链接指向自己。");
				}
				if(ajax.responseText=="2"){
				alert("友情链接已存在。")
				}
			}
		}
		ajax.send(null);
	}



}
function sendmessage(){

	var refurlk = "http://dannyyuan.blog.51cto.com/212520/46081";

	if(myid){
		return true;
	}else{
		commentSubmit("",refurlk);
		return false;
	}
}
function copylink(ourl){
	if(!ourl){
		var clipBoardContent = "http://dannyyuan.blog.51cto.com";
	}else{
		var clipBoardContent = ourl;
	}
	window.clipboardData.setData("Text",clipBoardContent);
	alert("复制成功!");
	return false;
}
function correctPNG() {
if (document.getElementById('blog_touxian'))
{
var img = document.getElementById('blog_touxian');
      var imgName = img.src.toUpperCase()
      var imgID = (img.id) ? "id='" + img.id + "' " : ""
      var imgClass = (img.className) ? "class='" + img.className + "' " : ""
      var imgTitle = (img.title) ? "title='" + img.title + "' " : "title='" + img.alt + "' "
      var imgStyle = "display:inline-block;" + img.style.cssText
      if (img.align == "left") imgStyle = "float:left;" + imgStyle
      if (img.align == "right") imgStyle = "float:right;" + imgStyle
      if (img.parentElement.href) imgStyle = "cursor:hand;" + imgStyle
      var strNewHTML = "<span " + imgID + imgClass + imgTitle
         + " style=\"" + "width:" + img.width + "px; height:" + img.height + "px;" + imgStyle + ";"
         + "filter:progid:DXImageTransform.Microsoft.AlphaImageLoader"
         + "(src=\'" + img.src + "\', sizingMethod='scale');\"></span>" ;
      img.outerHTML = strNewHTML;
}
}
//window.attachEvent("onload", correctPNG);
window.onload=correctPNG;

function copy(){
var text=document.getElementById("txtUser").value;
if(copy2Clipboard(text)!=false){ 
alert("复制成功了！ "); 
} 
}
function copy2Clipboard(txt){ 
if(window.clipboardData){ 
window.clipboardData.clearData(); 
window.clipboardData.setData("Text",txt); 
}else if(navigator.userAgent.indexOf("Opera")!=-1){ 
window.location=txt; 
}else if(window.netscape){ 
try{ 
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"); 
} 
catch(e){ 
alert("您使用的浏览器不支持此复制功能，请使用Ctrl+C或鼠标右键。"); 
return false; 
} 
var clip=Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard); 
if(!clip)return; 
var trans=Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable); 
if(!trans)return; 
trans.addDataFlavor('text/unicode'); 
var str=new Object(); 
var len=new Object(); 
var str=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString); 
var copytext=txt;str.data=copytext; 
trans.setTransferData("text/unicode",str,copytext.length*2); 
var clipid=Components.interfaces.nsIClipboard; 
if(!clip)return false; 
clip.setData(trans,null,clipid.kGlobalClipboard); 
return true;
} 
}

function mod_close(){
  document.getElementById('mod_tg').style.display="none";
}

function match_invite(uid) {
    var url='/mod/match_invite.php';
	var ajax = InitAjax();
    var re = 'uid=' + uid;
	ajax.open("POST", url, true);
    ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
	ajax.send(re);
    ajax.onreadystatechange = function() {
        if (ajax.readyState == 4 && ajax.status == 200) {
            if(ajax.responseText == 1){
                alert("邀请信息已经发送成功。");
            } else if(ajax.responseText=="-1"){
                alert("邀请失败，请稍候再试。");
            } else if(ajax.responseText=="2"){
                alert("该用户已经报名了。")
            }
        }
    }
}

</script>
<style type="text/css">
/*
.artContent img {max-width:450px !important;}
.showContent img{max-width:650px!important;}
*/

.artContent img{max-width: 450px; width:expression(this.width > 450 ? "450px" : this.width)}
/*
.showContent img{max-width: 450px; width:expression(this.width > 650 ? "650px" : this.width)}
*/


.header{
	background-image:url(/image/upload/212520_bb9a843649.jpg);
}

</style>
</head>

<body >

<div id="home_top">
<div class="top_nav" style="width:990px;">
<div class="left"  style="margin-top:10px; width:440px;"><a href="http://blog.51cto.com/" target="_blank"><img src="images/head_blog_sibebar_logo.gif" align="absmiddle" style="margin-top:-4px;" /></a><a target="_blank" href="http://www.51cto.com">51CTO首页</a><img height="25" align="absmiddle" width="16" src="http://home.51cto.com/public/themes/blue/images/top_bg_xian.gif" style="margin-top:-4px;" ><a href="http://blog.51cto.com/" target="_blank">51CTO博客</a><img height="25" align="absmiddle" width="16" src="http://home.51cto.com/public/themes/blue/images/top_bg_xian.gif" style="margin-top:-4px;" ><a href="http://home.51cto.com?reback=http%253A%252F%252Fdannyyuan.blog.51cto.com%252F212520%252F46081%252F" >我的博客</a><img height="25" align="absmiddle" width="16" src="http://home.51cto.com/public/themes/blue/images/top_bg_xian.gif" style="margin-top:-4px;" >

<a target="_blank" href="http://blog.51cto.com/search.php">搜索</a>
<a href="javascript:void(0);" style="color:#FF0000; text-decoration:underline; display:none" id="showMessagerDim">每日博报</a>
</div>

<div class="right" style="width:550px;">
<div class="more"><img height="16" align="absmiddle" width="27" src="http://home.51cto.com/public/themes/blue/images/top_shequ.gif">社区：<a target="_blank" href="http://edu.51cto.com/">学院</a><a target="_blank" href="http://bbs.51cto.com">论坛</a><a target="_blank" href="http://blog.51cto.com">博客</a><a target="_blank" href="http://down.51cto.com">下载</a><a href="javascript:viod(0);" onmouseout="popupClose()" onmouseover="show(3,this)">更多<img align="absmiddle" style="padding-left: 4px;" src="http://images.51cto.com/images/art/top_images/nav_ico1.gif"></a>            </div>            <span id="login_status"><div class="login" id="login_status"></div>    </span>                </div>    </div></div>



<div class="subMenu3" id="s3" onmouseover="popupNoClose()" onmouseout="popupClose()">
<ul>
<li><a href="http://home.51cto.com" target="_blank">家园</a></li>
<li><a href="http://edu.51cto.com" target="_blank">学院</a></li>
<li><a href="http://blog.51cto.com" target="_blank">博客</a></li>
<li><a href="http://bbs.51cto.com" target="_blank">论坛</a></li>
<li><a href="http://down.51cto.com" target="_blank">下载</a></li>

<li><a href="http://selftest.51cto.com" target="_blank">自测</a></li>
<li><a href="http://doctor.51cto.com" target="_blank">门诊</a></li>
<li><a href="http://blog.51cto.com/newsletter/" target="_blank">周刊</a></li>
<li><a href="http://book.51cto.com" target="_blank">读书</a></li>
<li><a href="http://g.51cto.com" target="_blank">技术圈</a></li>
</ul>
</div>
<!--简导航end-->



<div class="headerBox">
<div class="header">
<div class="header_l">
<div class="logo_blogname">


<div class="blogLogo">
<a href="http://blog.51cto.com/blogcommend" target="_blank"><img src="http://blog.51cto.com/image/skin/blogLogo01.png" width="161px;" height="70px;"></a>
</div>


<div class="blogName">
<a href="http://dannyyuan.blog.51cto.com"><h1>守望者的技术日记和六..</h1></a>
</div>
</div><!--logo_blogname end-->
<div class="blogLink">

<a href="http://dannyyuan.blog.51cto.com">http://dannyyuan.blog.51cto.com</a> <input id="txtUser" type="hidden" size=32 value="http://dannyyuan.blog.51cto.com" />   <a href="javascript:void(0);" onclick="copy();">【复制】</a> <a href='/rss.php?uid=212520' target='_blank'><a href='/rss.php?uid=212520' target='_blank'>【订阅】</a>

</div>



</div><!--header_l end-->
<div class="header_r">
<div class="blogInfo"><span><a href="http://dannyyuan.blog.51cto.com/212520/o" title="察看dannyy1026所有原创文章">原创</a>:172</span><span><a href="http://dannyyuan.blog.51cto.com/212520/t" title="察看dannyy1026所有翻译文章">翻译</a>:0</span><span><a href="http://dannyyuan.blog.51cto.com/212520/c" title="察看dannyy1026所有转载文章">转载</a>:24</span></div>
<div class="blogNav"><a href="/">博 客</a>|<a href="http://home.51cto.com/apps/photo/index.php?s=/Index/photos/uid/212520">图库</a>|<a href="/addblog.php">写博文</a>|<a href="http://51ctoblog.blog.51cto.com/all/26414/4" target="_blank">帮 助</a></div>
</div>
</div>
<!--header end-->
</div><!--headerBox end-->
<div class="mainNav">
<span class="mainNavT"></span>
<ul>
<li><a href="/">首页</a></li>|<li><a href="/212520/d-1">工作随记</a></li>|<li><a href="/212520/d-2">宝宝随拍</a></li>|<li><a href="/212520/d-3">生活随想</a></li>|<li><a href="/212520/d-4">技术小结</a></li>|<li><a href="/212520/d-5">天马行空</a></li>
</ul>
<span class="mainNavB"></span>
</div>
<!--mainNav end-->

<script type="text/javascript" src="http://blog.51cto.com/js/jquery-1.7.1.min.js"></script>
<!--[if IE 6]>
  <script type="text/javascript" src="http://images.watchstor.com/newhomes/png.js"></script>
  <script>
    DD_belatedPNG.fix('img,input,ul,li, .get-box, div, .add, .sub, .ui-slider-handle, .footer-chopper');
  </script>
<![endif]-->
<link type="text/css" rel="stylesheet" href="/neweditor/editor/css/fck_editorarea.css"></link>
<script type="text/javascript" charset="gbk" src="/e/u/third-party/SyntaxHighlighter/shCores.js"></script>
<link rel="stylesheet" type="text/css" href="/e/u/third-party/SyntaxHighlighter/shCoreDefault.css"/>
<script type="text/javascript" charset="gbk" src="/e/u/uparse.js"></script>
<script type="text/javascript">
	uParse('.showContent');
	$(function(){
		//SyntaxHighlighter.config.clipboardSwf = 'http://bbs.51cto.com/plugins/syntaxhighlighter/scripts/clipboard.swf'; 
		//为了在编辑器之外能展示高亮代码
		SyntaxHighlighter.highlight();
	}); 
</script>
<script type="text/javascript">
/**
 * 回复评论需要用的js
 * 2012-5-14
 * by:chengtao
 */
 jQuery(function(){
	blogpost.init();//初始化博客回复功能
 })
 /**
  * 处理博文评论功能优化
  */
 blogpost={
	abstruct_list:null,
	init:function(){
		blogpost.bind();//绑定一些时间
		this.abstruct_list=new Array();//初始化保存评论信息的数组
	},
	/**
	 * 博客回复需要绑定的一些事件
	 */
	bind:function(){
		/**
		 * 点击回复的事件
		 */
		jQuery('.repost').live('click',function(){
			blogpost.repost(jQuery(this).attr('user_name'),jQuery(this).attr('parentid'));
			return false;
		});
		/**
		 * 点击楼层进行翻页且找到锚点
		 */
		jQuery('.anchor_page').live('click',function(){
			var parentid = $(this).attr('parentid');
			var tid=$(this).attr('tid');
			$.get('/comments.php?tid='+tid+'&parentid='+parentid,function(data){
				$('#artcomment').html(data);
				window.location.hash=''+parentid;
			})
			return false;
		}),
		jQuery('.anchor_page').live('mouseover',function(){
			var parentid = $(this).attr('parentid');
			if(!blogpost.abstruct_list[parentid]){
				var this_t = $(this);
				$.get('/comments.php?cid='+parentid,function(data,textStatus){
					blogpost.abstruct_list[parentid]=data;
					this_t.attr('title',this_t.text()+':'+ blogpost.abstruct_list[parentid]);
				});
			}else{
				$(this).attr('title',$(this).text()+':'+blogpost.abstruct_list[parentid]);
			}
		})
	},
	/**
	 * @param user_name 用户名
	 * @param parentid  父评论id
	 */
	repost:function(user_name,parentid){
		window.location.hash='comment';
		jQuery('#parentid').val(parentid);
		jQuery('#commentcontent').val('回复 '+user_name+":\n").focus();
		if(!$.browser.mozilla){
			var elem = jQuery('#commentcontent')[0];		
			var caretPos = elem.value.length;
			if (elem.createTextRange) {
				var range = elem.createTextRange();
				range.move('character', caretPos);
				range.select();
			}else{
				elem.setSelectionRange(caretPos, caretPos);	
			}
		}
	},
	/**
	 * 发送完毕之后清理表单数据 不是ajax可能用不到
	 */
	clean:function(){
		
	}
 }
</script>
<script type="text/javascript">
jQuery(function(){
	var anchor = document.location.hash;
	var comment_id=anchor.split('#')[1];
	if(!isNaN(parseInt(comment_id))){//是整形
		jQuery.get('/comments.php?tid=46081&parentid='+comment_id,function(data){
			jQuery('#artcomment').html(data);
			window.location.hash=''+comment_id;
		})
	}
});
</script>



<script type="text/javascript">
jQuery(function() {
	jQuery('#favourdiv').mouseover(function(){
		if(jQuery(this).attr('className') == 'support01')
		{
			jQuery(this).attr('className', "support02");
			jQuery(this).html('+1人');
			jQuery(this).attr('title', "赞一个，我支持TA");
		}
		else if(jQuery(this).attr('className') == 'support03')
		{
			jQuery(this).attr('title', "你已经赞了这篇博文！");
		}
		
	});
	jQuery('#favourdiv').mouseout(function(){
		if(jQuery(this).attr('className') == 'support02')
		{
			jQuery(this).attr('className', "support01");
			jQuery(this).html("0人");
		}
	});
	jQuery('.blog_match_yq').click(function(){
		var wind_uid = '';
		if(!wind_uid){
			alert("请先登录！");
			return false;
		}
		jQuery.ajax({
			   type: "POST",
			   url:"/contest2012/index.php?mod=sendmsg",
			   dataType: "html",
			   data: "vuid=" + 212520,
			   success: function(data) {
					if(data == 0)
					{
						alert("查无此人！");
						return false;
					}else if(data == 1){
						alert("请先登录！");
						return false;
					}else if(data == 2){
						alert("不能邀请自己！");
						return false;
					}else if(data == 22){  
						alert("邀请信息已发出！");
						return false;
					}
			   }
		  });
	});
	jQuery('#favourdiv').click(function(){
			jQuery.ajax({
			   type: "POST",
			   url:"/mod/favour.php",
			   dataType: "html",
			   data: "tid=" + 46081,
			   success: function(data) {
					if(data == 0)
					{
						alert("您还未登录或者已过期，请重新登录");
						location.href = "http://home.51cto.com/index.php?reback=http%253A%252F%252Fdannyyuan.blog.51cto.com%252F212520%252F46081%252F";
						return false;
					}
					else if(data == '-1')
					{
						alert("参数传递错误！");
						return false;
					}
					else if(data == '-2')
					{
						alert("该博文已被删除或者不存在！");
						return false;
					}
					else if(data == '-3')
					{
						alert("您已经赞过了！");
						return false;
					}
					else if(data == '-4')
					{
						alert("赞操作失败！");
						return false;
					}
					else
					{  
						//alert("操作成功，你已经赞了这篇博文！");
						jQuery('#favourdiv').attr('className', "support03");

						var num = 0 + 1 + "人";
						jQuery('#favourdiv').html(num);
						jQuery('#favourer').html(data);
						return false;
					}
			   }
		  });
	});
	//Jaydar http://blog.51cto.com/js/header.php?uid=blogdb[uid]&tid=tid
	jQuery.post('/js/header.php',{uid:212520,tid:46081},function(data){
		jQuery('#readNum').html(data[0]);
		jQuery('#cmtNum').html(data[1]);
	},'json');
	

})

jQuery(function(){
	jQuery('#darid').bind('click',function(){
		if(confirm("你确定删除此篇文章？")){
			jQuery.ajax({
				'type':'post',
				'url':'user_index.php?action=delarticle',
				'data':{'job':'del', 'selid':'46081', 'mhash':''},
				'dataType':'html',
				'success':function(res){
					if('ok' == res){
						location.href="http://.blog.51cto.com";
					}
				
				}
			});
		}
	});
});
</script>




<style type="text/css">
.m_sharelinks{ 
	line-height:30px; 
	text-align:left; 
	padding-left:20px; 
	//background:url(http://img1.51cto.com/images/share/ico_lb.gif) no-repeat left center;
	float:left; 
	width:600px; 
	height:30px;
}
.m_sharelinks a{ margin-left:10px;}
.m_sharebtn{ height:50px; width:726px; margin:0 auto;}
.m_sharebtn01{width:520px; float:left;}
.weibo_51cto{ background:url(http://img1.51cto.com/images/share/ico_mweibo.gif) no-repeat center center; display:block; width:33px; height:33px; float:left; margin:3px 3px 0 0;cursor:pointer;}
.shareMored {
    line-height: 30px;
	float:right; 
	text-align:right; 
	width:100px; 
	height:30px;
}

.showContent {
	margin:20px 15px 8px;
}
.userImage img {
    text-align: center;
	border:0;
	padding:0;
}
.photo_links{ line-height:30px; padding-top:5px; font-size:13px;width:170px; margin:0 auto;}
.photo_links_blue{ text-align:center;}
.photo_links_blue a:link,.photo_links_blue a:visited,.photo_links_blue a:hover,.photo_links_blue a:active{ color:#015F91; text-decoration: underline;}
.photo_links_red{ text-align:left;}
.photo_links_red a:link,.photo_links_red a:visited,.photo_links_red a:hover,.photo_links_red a:active{ color:#fc4343; text-decoration:underline;}
.photo_links_red02{ text-align:center;}

.vlist{ margin:10px 10px; height:65px;}
.vlist img{ float:left; margin-right:10px;}
.vlist dl{ text-align:left;}
.vlist dl dt{ height:40px;line-height: 20px; overflow:hidden; padding-top:5px;}
.vlist dl dt,.vlist dl dt a{ color:#262626;}
.vlist dl dd,.vlist dl dd a{ color:#777;}

.video-icon{
    position: relative;
}
.video-icon a.i_video {
    background: url("http://www.51cto.com/images/homepage/Images/eduplay.png") repeat scroll 0 0 rgba(0, 0, 0, 0);
    display: block;
    height: 25px;
    left:31px;
    position: absolute;
    top:22px;
    width: 25px;
    z-index: 10;
}
</style>
<script language="JavaScript" type="text/javascript" src="http://g.51cto.com/js/group.js"></script>
<div id="add_sys_type_div" style="width:600px;border:1px #58B0DD solid; background-color:#FFF; position:absolute;left:30%;top:300px;display:none;z-index:255"></div>
<div id="add_sys_type_divs" style="width:550px;border:1px #58B0DD solid; background-color:#FFF; position:absolute;left:30%;top:300px;display:none;z-index:255"></div>



<div class="blogMain">
<div class="blogLeft">


<div class="box moduleUser">
<div class="title">
<h2><strong>dannyy1026</strong> 的BLOG  </h2>
</div>
<div class="modCon">

<div class="userImage" style="margin: 10px auto 5px;text-align: center;width: 130px;border: 1px solid #D4D4D4;">
	<table width="100%" cellpadding="0" cellspacing="0">
		<tr>
			<td valign="middle" align="center" height="130"><script src="http://blog.51cto.com/mod/userface.php?useruid=212520"></script></td>
		</tr>
	</table>
</div>
<div class="photo_links">
</div>









<div class="crumbs">
<a href="http://home.51cto.com/index.php?s=/space/212520#message" class="writeMessage" target="_blank">写留言</a><a href="http://edu.51cto.com/" class="inCircle" target="_blank">去学院学习</a><a href="http://home.51cto.com/index.php?s=/Notify/write/uid/212520" class="message"  target="_blank">发消息</a> <a href='/' onclick='add_flink(212520);return false' class="joinLinks">加友情链接</a><a href="http://home.51cto.com/index.php?s=/space/212520" class="joinFriends"  target="_blank">进家园 加好友</a>
</div>

<div style="width:239px;height:64px;display:none;">


<div style="float:left;"><p style="padding:15px 0 0 28px; line-height:20px;">2012年度IT博客大赛<br><a target="_blank" href="http://blog.51cto.com/contest2012/#top10000" style="color:#F00; text-decoration:underline;">十大杰出IT博客诞生</a></p></div>
<div style="float:right;"><a target="_blank" href="http://blog.51cto.com/contest2012/"><img width="57" height="27" src="http://img1.51cto.com/images/blog_match_endlook.jpg" style="margin:23px 20px 0 0;"></a></div>
<!-- <div style="float:left;"><p style="padding:15px 0 0 28px; line-height:20px;">星光评委正在评选<br><a target="_blank" href="http://blog.51cto.com/contest2012/index.php?mod=userlist_sec" style="color:#F00; text-decoration:underline;">2012年度IT博客大赛50强</a></p></div>
<div style="float:right;"><img class="blog_match_yq" width="57" height="27" src="http://img1.51cto.com/images/blog_match_invite.jpg" style="margin:23px 20px 0 0;"></div> -->



<div class="clear"></div>
</div>


</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="infoList box">
<div class="title">
<h2>博客统计信息</h2>
</div>
<div class="modCon">
<p>
<span class="infoListHead"><a href="http://blog.51cto.com/blogcommend" target="_blank" class="operlink"><b>51CTO推荐博客</b></a> <br></span>
用户名：dannyy1026<br />
文章数：196<br />
评论数：320<br />
访问量：371430<br />
<a href="http://home.51cto.com/index.php?s=/Account/credit" target="_blank">无忧币</a>：1229<br />
<a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank">博客积分</a>：3028<br />
<a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank">博客等级</a>：7<br />
注册日期：2007-08-13<br />
<script src="http://blog.51cto.com/active/no1/blogno1countdown.php"></script> 
</p>
</div>
<span class="modBot"></span>
</div>


<div class="infoList box">
	<div class="title">
		<h2 class="fl">热门专题</h2>
		<a target="_blank" class="fr" href="http://blog.51cto.com/zt">更多&gt;&gt;</a>
	</div>
	<div class="modCon">

	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/634" target="_blank"><img width="63" height="63" src="http://s3.51cto.com/wyfs02/M02/26/8A/wKiom1NrPWuAkPa_AAA0dLr6TW8919.jpg" /></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/634" target="_blank" title="微软公有云学习系列">微软公有云学习系列</a></dt>
		<dd>阅读量：1907</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/632" target="_blank"><img width="63" height="63" src="http://s3.51cto.com/wyfs02/M01/26/1F/wKiom1Np5rHwOcktAAAxPphVe6o918.jpg" /></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/632" target="_blank" title="揭秘DB2的备份与恢复">揭秘DB2的备份与恢复</a></dt>
		<dd>阅读量：2953</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/636" target="_blank"><img width="63" height="63" src="http://s3.51cto.com/wyfs02/M02/2A/4B/wKioL1ODCqjT-9kyAAA1W4eEzsA190.jpg" /></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/636" target="_blank" title="Exchange Server 2013 服务器配置详解">Exchange Server 2013 服务器配置详解</a></dt>
		<dd>阅读量：799</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/637" target="_blank"><img width="63" height="63" src="http://s3.51cto.com/wyfs02/M00/2B/B5/wKioL1OIUXyicLooAAA6EEdbiSM512.jpg" /></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/637" target="_blank" title="从零开始学高德地图JS API">从零开始学高德地图JS API</a></dt>
		<dd>阅读量：904</dd>
		</dl>
		</div>
		
		
	</div>
	<span class="modBot"></span>
</div>


<div class="hotArt box">
<div class="title">
<h2>热门文章</h2>
</div>
<div class="modCon">
<ul>
<li><a href="/212520/124957">CURL使用HTTPS的技术小结 </a></li>
<li><a href="/212520/55965">在美国买中国品牌笔记本..</a></li>
<li><a href="/212520/49893">把Linux加入到Windows域..</a></li>
<li><a href="/212520/160504">Spring集成AXIS2的Web se..</a></li>
<li><a href="/212520/47916">PERL中对SHELL命令的调用..</a></li>
<li><a href="/212520/38142">firefox与ie的javascript..</a></li>
<li><a href="/212520/172029">十八罗汉斗四大天王的经..</a></li>
<li><a href="/212520/160495">Spring的MVC模式I18N的配..</a></li>

</ul>
</div>
<span class="modBot"></span>
</div>
<div class="search box">
<div class="title"><h2>搜索BLOG文章</h2></div>
<div class="modCon">
<form method=post action="search.php?" tabindex="99">
<input type="hidden" name="step" value="2">
<input type="hidden" name="authorid" value="212520">
<input type="hidden" name="sch_area" value="S">
<input type="text" value="" name="keyword"  class="searchInput" />
<input type="submit" value="搜 索" class="searchBtn" />
</form>
</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="box recentGuests">
<div class="title">
<h2>最近访客</h2>
</div>
<div class="modCon">
<ul>

<li><a href="http://362124.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=352124&size=middle" /></a>
<p><a href="http://362124.blog.51cto.com">kenyu..</a></p>

<li><a href="http://6710720.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=6700720&size=middle" /></a>
<p><a href="http://6710720.blog.51cto.com">beido..</a></p>

<li><a href="http://8779600.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=8769600&size=middle" /></a>
<p><a href="http://8779600.blog.51cto.com">张德愁</a></p>

<li><a href="http://1183281.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=1173281&size=middle" /></a>
<p><a href="http://1183281.blog.51cto.com">wjpiao</a></p>

<li><a href="http://2005986.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=1995986&size=middle" /></a>
<p><a href="http://2005986.blog.51cto.com">hero420</a></p>

<li><a href="http://3419204.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=3409204&size=middle" /></a>
<p><a href="http://3419204.blog.51cto.com">cyalias</a></p>

<li><a href="http://8990248.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=8980248&size=middle" /></a>
<p><a href="http://8990248.blog.51cto.com">sicle</a></p>

<li><a href="http://2254932.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=2244932&size=middle" /></a>
<p><a href="http://2254932.blog.51cto.com">dabaoa</a></p>

<li><a href="http://luashin.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=416171&size=middle" /></a>
<p><a href="http://luashin.blog.51cto.com">luashin</a></p>

<li><a href="http://mstech.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=5759621&size=middle" /></a>
<p><a href="http://mstech.blog.51cto.com">slyxyllt</a></p>

<li><a href="http://andrlinux.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=1076151&size=middle" /></a>
<p><a href="http://andrlinux.blog.51cto.com">xk12</a></p>

<li><a href="http://2440154.blog.51cto.com"><img src="http://ucenter.51cto.com/avatar.php?uid=2430154&size=middle" /></a>
<p><a href="http://2440154.blog.51cto.com">yangf..</a></p>

</ul>
<span class="clear"></span>
</div>
<span class="modBot"></span>
</div>


<div class="newComments box">
<div class="title">
<h2>最新评论 

</h2>



</div>
<div class="modCon">
<ul>

<li>[匿名]51cto游客：<a href="/212520/118351" target=_blank>可通过客户端信任所有证书或是服务..</a></li>

<li>[匿名]51cto游客：<a href="/212520/63070" target=_blank>firefox可以实现自动域验证登陆，无..</a></li>

<li><a href='http://3524765.blog.51cto.com/' class='operlink' target=_blank><b>jdqsummer</b></a>：<a href="/212520/124957" target=_blank>遇到相同问题，求助</a></li>

<li><a href='http://derekliu.blog.51cto.com/' class='operlink' target=_blank><b>liu1985629</b></a>：<a href="/212520/756002" target=_blank>嗯，不错，有用！</a></li>

<li>[匿名]sidooh：<a href="/212520/83020" target=_blank>我安装时在数据库这步出现了问题, a..</a></li>


</ul>
</div>
<span class="modBot"></span>
</div>


<div class="hotBlogArt box">
<div class="title">
  <h2 class="fl">51CTO推荐博文</h2>
  <a href="http://blog.51cto.com/artcommend" class="fr">更多&gt;&gt;</a></div>
<div class="modCon">
<ul>
<li><a href="http://jimshu.blog.51cto.com/3171847/1420515" title="SQL Server 在虚拟化中的授权" target="_blank">SQL Server 在虚拟化中的授权</a></li>
<li><a href="http://8920932.blog.51cto.com/8910932/1419850" title="【高德地图API】从零开始学高德JS API（五）路线规划" target="_blank">【高德地图API】从零开始学高德JS..</a></li>
<li><a href="http://tiany.blog.51cto.com/513694/1419944" title="AIX环境文件系统迁移到ASM存储" target="_blank">AIX环境文件系统迁移到ASM存储</a></li>
<li><a href="http://aiilive.blog.51cto.com/1925756/1420837" title="jasypt命令行工具的使用说明" target="_blank">jasypt命令行工具的使用说明</a></li>
<li><a href="http://cnn237111.blog.51cto.com/2359144/1420977" title="c#中数组类型存放位置" target="_blank">c#中数组类型存放位置</a></li>
<li><a href="http://firehare.blog.51cto.com/809276/1421046" title="Drupal7主题初步设置篇-Ubuntu 14.04 LTS" target="_blank">Drupal7主题初步设置篇-Ubuntu 14..</a></li>
<li><a href="http://forlinux.blog.51cto.com/8001278/1421151" title="Iptables实用脚本工具" target="_blank">Iptables实用脚本工具</a></li>
<li><a href="http://peiquan.blog.51cto.com/7518552/1420159" title="从 apache duutils 所学到的" target="_blank">从 apache duutils 所学到的</a></li>
<li><a href="http://runtime.blog.51cto.com/7711135/1419377" title="【Apache Shiro】Non-Spring web app configuration" target="_blank">【Apache Shiro】Non-Spring web ..</a></li>
<li><a href="http://yangrong.blog.51cto.com/6945369/1419445" title="Nagios插件开发之监控服务器负载" target="_blank">Nagios插件开发之监控服务器负载</a></li>
<li><a href="http://yuhongchun.blog.51cto.com/1604432/1419501" title="如何快速导入SVN服务器的项目代码" target="_blank">如何快速导入SVN服务器的项目代码</a></li>

</ul>
</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="friendLink box">
<div class="title">
  <h2>友情链接</h2>
</div>
<div class="modCon">
<ul>

<li><a href="http://feiying.blog.51cto.com" title="飞鹰归来" target="_blank">网络攻击管理-飞鹰..</a></li>

<li><a href="http://zhangjunhd.blog.51cto.com" title="子 孑" target="_blank">子 孑----JAVA编程</a></li>

<li><a href="http://gairuhe.blog.51cto.com" title="My CCIE Road" target="_blank">My CCIE Road-盖如鹤</a></li>

<li><a href="http://gudugengkekao.blog.51cto.com" title="孤独更可靠" target="_blank">讲病毒方面的博客</a></li>

<li><a href="http://huakaibird.itpub.net/" title="Smith Hua" target="_blank">花开鸟</a></li>

</ul>
</div><!--modCon end-->
<span class="modBot"></span>
</div>



</div>
<!--left end-->

<script type="text/javascript">
    var favor_url = "http://dannyyuan.blog.51cto.com/212520/46081/";
    var favor_title = "RRDTOOL使用说明";
    var favor_fuid = "212520";
</script>
<script type="text/javascript" src="http://home.51cto.com/apps/favorite/Tpl/default/Public/js/favorbox.js"></script>
<div class="blogRight">


	<div class="box edu-col-a" style="display:none;">
		<div class="title">的视频课程</div>
		<div class="vbox" style="">

			<div class="clear hr10"></div>
		</div>
	</div>
	
	<div class="box edu-col-b" style="width:100%;">
		<div class="title"><a target="_blank" href="http://edu.51cto.com">相关视频课程</a>
		<a href="http://edu.51cto.com" target="_blank" style="float:right;">更多</a>
		</div>
		<div class="vbox" style="">
		
			<div class="vlist video-icon" style="margin: 2px 8px;"> 
				<a href="http://edu.51cto.com/course/course_id-460.html" target="_blank"><img src="http://s2.51cto.com/wyfs02/M01/24/A0/wKioL1NUhRvhM8QQAAEUQxciplA018.jpg" height="63" width="86"></a>
				<dl>
					<dt> <a href="http://edu.51cto.com/course/course_id-460.html" target="_blank" title="企业级高级监控系统cacti+nagios【马哥linux视频教程】">企业级高级监控系统cacti+nagios【马哥linux视频教程】(共29课时)</a></dt>
					<dd>34199人学习</dd>
				</dl>
				<a class="i_video" href="http://edu.51cto.com/course/course_id-460.html" target="_blank"></a>
			</div>
		
			<div class="vlist video-icon" style="margin: 2px 8px;"> 
				<a href="http://edu.51cto.com/course/course_id-963.html" target="_blank"><img src="http://s2.51cto.com/wyfs01/M02/53/D2/wKioJlMv5k6RsQqvAAH0CWUOacc257.jpg" height="63" width="86"></a>
				<dl>
					<dt> <a href="http://edu.51cto.com/course/course_id-963.html" target="_blank" title="Shell运维自动化高级实战[老男孩2014linux精品]">Shell运维自动化高级实战[老男孩2014linux精品](共140课时)</a></dt>
					<dd>34629人学习</dd>
				</dl>
				<a class="i_video" href="http://edu.51cto.com/course/course_id-963.html" target="_blank"></a>
			</div>
		
			<div class="vlist video-icon" style="margin: 2px 8px;"> 
				<a href="http://edu.51cto.com/course/course_id-655.html" target="_blank"><img src="http://s2.51cto.com/wyfs02/M02/24/9E/wKioL1NUhPmhjdhTAAEaaHmwO7g541.jpg" height="63" width="86"></a>
				<dl>
					<dt> <a href="http://edu.51cto.com/course/course_id-655.html" target="_blank" title="iOS开发视频教程-iOS网络编程【高级篇】">iOS开发视频教程-iOS网络编程【高级篇】(共39课时)</a></dt>
					<dd>1285人学习</dd>
				</dl>
				<a class="i_video" href="http://edu.51cto.com/course/course_id-655.html" target="_blank"></a>
			</div>
			
			<div class="clear hr10"></div>
		</div>
	</div>
	<p style="clear:both;"></p>
	<style type="text/css">
.vlist {
    float: left;
    padding: 2px 0 0 10px;
    width: 218px;
	
}
.vlist img {
    float: left;
    margin-right: 10px;
}
.vlist dl {
    float: left;
    text-align: left;
    width: 122px;
}
.vlist dl dt {
    height: 44px;
    overflow: hidden;
    padding-top: 5px;
}
.vlist dl dt, .vlist dl dt a {
    color: #262626;
}
.vlist dl dd, .vlist dl dd a {
    color: #777777;
}
.vbox_tit {
    border-bottom: 1px solid #B3D0E6;
    color: #666666;
    font-size: 14px;
    margin-top: 10px;
    text-align: left;
}
.video-icon {
    position: relative;
}
.video-icon a.i_video {
    background: url("http://www.51cto.com/images/homepage/Images/eduplay.png") repeat scroll 0 0 rgba(0, 0, 0, 0);
    display: block;
    height: 25px;
    left: 41px;
    position: absolute;
    top: 22px;
    width: 25px;
    z-index: 10;
}
.vbox2 .vlist1{margin:0;}
.edu-col-a{ float:left;margin-right:6px;}
.edu-col-b{ float:left;}
	</style><!--modCon end-->



	<div class="artShow box" style="margin-top:5px;">
   	  <div class="share" id="share">

    <div class="shareItem">
		<div class="m_sharelinks"><a target="_blank" href="" style="color:red;"></a><a target="_blank" href="" style="color:blue;"></a><a target="_blank" href="" style="color:blue;"></a></div>
		<p class="shareMored"><a href="/all/212520">博主的更多文章>></a></p>
	</div>
      </div>
       <div class="modCon">
   	  <div class="showBox" style="margin:0 0 10px;">
      <div class="line_hd_r"></div>
      <div class="art_tj">

      </div>

 
    		<div class="showHead">
    		  <div class="showTitleBOx" style="text-align:center">
              <div class="showTitle">

	 		<img src="http://blog.51cto.com/image/skin/artType02.jpg">


    		    RRDTOOL使用说明
                </div>
  		    </div>
   		    <span class="artTime">2007-10-13 21:15:08</span></div><!--showHead end-->
    <div class="showTags">标签：<a href="http://blog.51cto.com/tag-RRDTOOL.html" target="_blank" class="operlink">RRDTOOL</a> <a href="http://blog.51cto.com/tag-休闲.html" target="_blank" class="operlink">休闲</a> <a href="http://blog.51cto.com/tag-职场.html" target="_blank" class="operlink">职场</a>

	</div>


            <!--正文 begin-->
    		<div class="showContent">
    		  <div>rrdtool create filename [--start|-b start time] [--step|-s step] DS:ds-name:DST:heartbeat:min:max [DS:...] ... RRA:CF:xff:steps:rows [RRA:...] ...<br />filename</div>
<div>The name of the RRD you want to create. RRD files should end with the extension .rrd. However, RRDTool will accept any filename. </div>
<div>--start|-b start time (default: now - 10s)</div>
<div>Specifies the time in seconds since 1970-01-01 UTC when the first value should be added to the RRD. RRDTool will not accept any data timed before or at the time specified. <br />See also AT-STYLE TIME SPECIFICATION section in the rrdfetch documentation for more ways to specify time.</div>
<div><br />--step|-s step (default: 300 seconds)</div>
<div>Specifies the base interval in seconds with which data will be fed into the RRD. </div>
<div>DS:ds-name:DST:heartbeat:min:max</div>
<div>A single RRD can accept input from several data sources (DS). (e.g. Incoming and Outgoing traffic on a specific communication line). With the DS configuration option you must define some basic properties of each data source you want to use to feed the RRD. <br />ds-name is the name you will use to reference this particular data source from an RRD. A ds-name must be 1 to 19 characters long in the characters [a-zA-Z0-9_].</div>
<div>DST defines the Data Source Type. See the section on ``How to Measure'' below for further insight. The Data Source Type must be one of the following:</div>
<div>GAUGE</div>
<div>is for things like temperatures or number of people in a room or value of a RedHat share. </div>
<div>COUNTER</div>
<div>is for continuous incrementing counters like the InOctets counter in a router. The COUNTER data source assumes that the counter never decreases, except when a counter overflows. The update function takes the overflow into account. The counter is stored as a per-second rate. When the counter overflows, RRDTool checks if the overflow happened at the 32bit or 64bit border and acts accordingly by adding an appropriate value to the result. </div>
<div>DERIVE</div>
<div>will store the derivative of the line going from the last to the current value of the data source. This can be useful for gauges, for example, to measure the rate of people entering or leaving a room. Internally, derive works exactly like COUNTER but without overflow checks. So if your counter does not reset at 32 or 64 bit you might want to use DERIVE and combine it with a MIN value of 0. </div>
<div>ABSOLUTE</div>
<div>is for counters which get reset upon reading. This is used for fast counters which tend to overflow. So instead of reading them normally you reset them after every read to make sure you have a maximal time available before the next overflow. Another usage is for things you count like number of messages since the last update. </div>
<div>heartbeat defines the maximum number of seconds that may pass between two updates of this data source before the value of the data source is assumed to be *UNKNOWN*.</div>
<div>min and max are optional entries defining the expected range of the data supplied by this data source. If min and/or max are defined, any value outside the defined range will be regarded as *UNKNOWN*. If you do not know or care about min and max, set them to U for unknown. Note that min and max always refer to the processed values of the DS. For a traffic-COUNTER type DS this would be the max and min data-rate expected from the device.</div>
<div>If information on minimal/maximal expected values is available, always set the min and/or max properties. This will help RRDTool in doing a simple sanity check on the data supplied when running update.</div>
<div>RRA:CF:xff:steps:rows</div>
<div>The purpose of an RRD is to store data in the round robin archives (RRA). An archive consists of a number of data values from all the defined data-sources (DS) and is defined with an RRA line. <br />When data is entered into an RRD, it is first fit into time slots of the length defined with the -s option becoming a primary data point.</div>
<div>The data is also consolidated with the consolidation function (CF) of the archive. The following consolidation functions are defined: AVERAGE, MIN, MAX, LAST.</div>
<div>xff The xfiles factor defines what part of a consolidation interval may be made up from *UNKNOWN* data while the consolidated value is still regarded as known.</div>
<div>steps defines how many of these primary data points are used to build a consolidated data point which then goes into the archive.</div>
<div>rows defines how many generations of data values are kept in an RRA.</div>
<div><br />rrdtool update filename [--template|-t ds-name[:ds-name]...] N|timestamp:value[:value...] [timestamp:value[:value...] ...]</div>
<div>&nbsp;</div>
<div>--------------------------------------------------------------------------------</div>
<div>DESCRIPTION<br />The update function feeds new data values into an RRD. The data gets time aligned according to the properties of the RRD to which the data is written.</div>
<div>filename</div>
<div>The name of the RRD you want to update. </div>
<div>--template|-t ds-name[:ds-name]...</div>
<div>by default, the update function expects the data input in the order, the data sources are defined in the RRD. This is not very error resistant, as you might be sending the wrong data into a RRD. <br />The template switch allows you to specify which data sources you are going to update and in which order. If the data sources specified in the template are not available in the RRD file, the update process will abort with an error message.</div>
<div><br />N|timestamp:value[:value...]</div>
<div>The data used for updating the RRD was acquired at a certain time. This time can either be defined in seconds since 1970-01-01. Or by using the letter 'N' the update time is set to be the current time. Negative time values are subtracted from the current time. Getting the timing right to the second is especially important when you are working with data-sources of type COUNTER, DERIVE or ABSOLUTE. <br />The remaining elements of the argument are DS updates. The order of this list is the same as the order the data sources were defined in the RRA. If there is no data for a certain data-source, the letter U (e.g. N:0.1:U:1) can be defined.</div>
<div>The format of the value acquired from the data source is dependent of the data source type chosen. Normally it will be numeric, but the data acquisition modules may impose their very own parsing of this parameter as long as the colon (:) remains the data source value separator.</div>
<div><br />rrdtool fetch filename CF [--resolution|-r resolution] [--start|-s start] [--end|-e end]</div>
<div>filename</div>
<div>the name of the RRD you want to fetch the data from. </div>
<div>CF</div>
<div>which consolidation function should have been applied to the data you want to fetch? (AVERAGE,MIN,MAX,LAST) </div>
<div>--resolution|-r resolution (default is the highest resolution)</div>
<div>what interval should the values have (seconds per value). rrdfetch will try to match your request, but it will return data even if no absolute match is possible. NB. See note below. </div>
<div>--start|-s start (default end-1day)</div>
<div>when should the data begin. A time in seconds since epoch (1970-01-01) is required. Negative numbers are relative to the current time. By default one day worth of data will be fetched. See also AT-STYLE TIME SPECIFICATION section for a detailed explanation on ways to specify start time. </div>
<div>--end|-e end (default now)</div>
<div>when should the data end. Time in seconds since epoch. See also AT-STYLE TIME SPECIFICATION section for a detailed explanation of how to specify end time. <br />rrdtool graph filename [-s|--start seconds] [-e|--end seconds] [-x|--x-grid x-axis grid and label] [-y|--y-grid y-axis grid and label] [-Y|--alt-y-grid] [-R|--alt-y-mrtg] [-A|--alt-autoscale] [-M|--alt-autoscale-max] [-N|--no-minor] [-X|--units-exponent] value]&gt; [-L|--units-length] value]&gt; [-v|--vertical-label text] [-w|--width pixels] [-h|--height pixels] [-i|--interlaced] [-f|--imginfo formatstring] [-a|--imgformat GIF|PNG|GD] [-B|--background value] [-O|--overlay value] [-U|--unit value] [-z|--lazy] [-o|--logarithmic] [-u|--upper-limit value] [-l|--lower-limit value] [-g|--no-legend] [-j|--only-graph] [-F|--force-rules-legend] [-r|--rigid] [-S|--step value] [-b|--base value] [-c|--color COLORTAG#rrggbb] [-t|--title title] [DEF:vname=rrd:ds-name:CF] [CDEF:vname=rpn-expression] [PRINT:vname:CF:format] [GPRINT:vname:CF:format] [COMMENT:text] [HRULE:value#rrggbb[:legend]] [VRULE:time#rrggbb[:legend]] [LINE{1|2|3}:vname[#rrggbb[:legend]]] [AREA:vname[#rrggbb[:legend]]] [STACK:vname[#rrggbb[:legend]]]</div>
<div>&nbsp;</div>
<div>--------------------------------------------------------------------------------</div>
<div>DESCRIPTION<br />The graph functions main purpose is to create graphical representations of the data stored in one or several RRDs. Apart from generating graphs, it can also extract numerical reports.</div>
<div>filename</div>
<div>The name of the graph to generate. Since RRDTool outputs GIFs and PNGs, it's recommended that the filename end in either .gif or .png. RRDTool does not enforce this, however. If the filename is set to '-' the image file will be written to standard out. All other output will get suppressed. <br />PNG output is recommended, since it takes up to 40% less disk space and 20-30% less time to generate than a GIF file.</div>
<div>If no graph functions are called, the graph will not be created.</div>
<div><br />-s|--start seconds (default end-1day)</div>
<div>The time when the graph should begin. Time in seconds since epoch (1970-01-01) is required. Negative numbers are relative to the current time. By default one day worth of data will be graphed. See also AT-STYLE TIME SPECIFICATION section in the rrdfetch documentation for a detailed explanation on how to specify time. </div>
<div>-e|--end seconds (default now)</div>
<div>The time when the graph should end. Time in seconds since epoch. See also AT-STYLE TIME SPECIFICATION section in the rrdfetch documentation for a detailed explanation of ways to specify time. </div>
<div>-x|--x-grid x-axis grid and label (default autoconfigure)</div>
<div>The x-axis label is quite complex to configure. So if you don't have very special needs, you can rely on the autoconfiguration to get this right. <br />If you want no x-grid at all, use the magic setting none.</div>
<div>The x-axis label and grid can be configured, using the following format:</div>
<div>GTM:GST:MTM:MST:LTM:LST:LPR:LFM</div>
<div>You have to configure three elements making up the x-axis labels and grid. The base grid (G??), the major grid (M??) and the labels (L??). The configuration is based on the idea that you first specify a well known amount of time (?TM) and then say how many times it has to pass between each grid line or label (?ST). For the label you have to define two additional items: The precision of the label in seconds (LPR) and the strftime format used to generate the text of the label (LFM).</div>
<div>The ?TM elements must be one of the following keywords: SECOND, MINUTE, HOUR, DAY, WEEK, MONTH or YEAR.</div>
<div>If you wanted a graph with a base grid every 10 minutes and a major one every hour, with labels every hour you would use the following x-axis definition.</div>
<div>MINUTE:10:HOUR:1:HOUR:1:0:%X</div>
<div>The precision in this example is 0 because the %X format is exact. If the label was the name of the day, we would have had a precision of 24 hours, because when you say something like 'Monday' you mean the whole day and not Monday morning 00:00. Thus the label should be positioned at noon. By defining a precision of 24 hours or rather 86400 seconds, you make sure that this happens.</div>
<div>If you want to alter the generated text to another language, use the LC_TIME environment variable to set the locale you prefer prior to calling the graph function.</div>
<div><br />-y|--y-grid grid step:label factor (default autoconfigure)</div>
<div>Makes vertical grid lines appear at grid step interval. Every label factor gridstep, a major grid line is printed, along with label showing the value of the grid line. <br />If you want no y-grid at all set specify the magic word none.</div>
<div><br />-Y|--alt-y-grid</div>
<div>Place Y grid dynamically based on graph Y range. Algorithm ensures that you always have grid, that there are enough but not too many grid lines and the grid is metric. That is grid lines are placed every 1, 2, 5 or 10 units. (contributed by Sasha Mikheev) </div>
<div>--no-minor</div>
<div>Turn off the minor grid lines. This is particularly useful for small graphs which can be cluttered with the minor grid lines. (contributed by Travis Brown) </div>
<div>-R|--alt-y-mrtg</div>
<div>Y grid placed on graph Y range mimics MRTG's (rateup-generated) graphs. Currently axis is split into 4 parts, just as rateup does. </div>
<div>-A|--alt-autoscale</div>
<div>Compute Y range based on function absolute minimum and maximum values. Default algorithm uses predefined set of ranges. This is good in many cases but it fails miserably when you need to graph something like 260 + 0.001 * sin(x). Default algorithm will use Y range from 250 to 300 and on the graph you will see almost straight line. With --alt-autoscale Y range will be from slightly less the 260 - 0.001 to slightly more then 260 + 0.001 and periodic behavior will be seen. (contributed by Sasha Mikheev) </div>
<div>-M|--alt-autoscale-max</div>
<div>Where --alt-autoscale will modify both the absolute maximum AND minimum values, this option will only affect the maximum value. The minimum value, if not defined on the command line, will be 0. This option can be useful when graphing router traffic when the WAN line uses compression, and thus the throughput may be higher than the WAN line speed. </div>
<div>-X|--units-exponent value (default autoconfigure)</div>
<div>This sets the 10**exponent scaling of the y-axis values. Normally values will be scaled to the appropriate units (k, M, etc.). However you may wish to display units always in k (Kilo, 10e3) even if the data is in the M (Mega, 10e6) range for instance. Value should be an integer which is a multiple of 3 between -18 and 18 inclusive. It is the exponent on the units you which to use. For example, use 3 to display the y-axis values in k (Kilo, 10e3, thousands), use -6 to display the y-axis values in u (Micro, 10e-6, millionths). Use a value of 0 to prevent any scaling of the y-axis values. </div>
<div>-L|--units-length value (default 9 characters)</div>
<div>This sets the character width on the left side of the graph for y-axis values. </div>
<div>-v|--vertical-label text</div>
<div>vertical label on the left side of the graph. This is normally used to specify the units used. </div>
<div>-w|--width pixels (default 400 pixel)</div>
<div>Width of the drawing area within the graph. This affects the size of the gif. </div>
<div>-h|--height pixels (default 100 pixel)</div>
<div>Height of the drawing area within the graph. This affects the size of the gif. </div>
<div>-i|--interlaced (default: false)</div>
<div>If you set this option, then the resulting GIF will be interlaced. Most web browsers display these incrementally as they load. If you do not use this option, the GIFs default to being progressive scanned. The only effect of this option is to control the format of the GIF on disk. It makes no changes to the layout or contents of the graph. </div>
<div>-f|--imginfo formatstring</div>
<div>After the image has been created, the graph function uses printf together with this format string to create output similar to the PRINT function, only that the printf is supplied with the parameters filename, xsize and ysize. In order to generate an IMG tag suitable for including the graph into a web page, the command line would look like this: <br />&nbsp;--imginfo '&lt;IMG SRC="/img/%s" WIDTH="%lu" HEIGHT="%lu" ALT="Demo"&gt;'<br />-a|--imgformat GIF|PNG|GD (default: GIF)</div>
<div>Allows you to produce PNG or GD output from RRDTool. </div>
<div>-B|--background value</div>
<div>You could use image in (currently only) GD format for background. It is used as background at the very beginning of graph creation. </div>
<div>-O|--overlay value</div>
<div>You could use image in (currently only) GD format as overlay. It is placed over created graph so that white pixel (color 255,255,255) is considered transparent, all other is replacing corresponding pixel in created graph. </div>
<div>-U|--unit value</div>
<div>You could use unit to be displayed on y axis. It is wise to use only short units on graph, however. </div>
<div>-z|--lazy (default: false)</div>
<div>Only generate the graph, if the current gif is out of date or not existent. </div>
<div>-u|--upper-limit value (default autoconfigure)</div>
<div>Defines the value normally located at the upper border of the graph. If the graph contains higher values, the upper border will move upwards to accommodate these values as well. <br />If you want to define an upper-limit which will not move in any event you have to set the --rigid option as well.</div>
<div><br />-l|--lower-limit value (default autoconfigure)</div>
<div>This is not the lower limit of a graph. But rather, this is the maximum lower bound of a graph. For example, the value -100 will result in a graph that has a lower limit of -100 or less. Use this keyword to expand graphs down. </div>
<div>-r|--rigid</div>
<div>rigid boundaries mode. Normally rrdgraph will automatically expand the lower and upper limit if the graph contains a value outside the valid range. With the r option you can disable this behavior </div>
<div>-b|--base value</div>
<div>if you are graphing memory (and NOT network traffic) this switch should be set to 1024 so that one Kb is 1024 byte. For traffic measurement, 1 kb/s is 1000 b/s. </div>
<div>-o|--logarithmic</div>
<div>logarithmic y-axis scaling </div>
<div>-c|--color COLORTAG#rrggbb (default colors)</div>
<div>override the colors for the standard elements of the graph. The COLORTAG must be one of the following symbolic names: BACK ground, CANVAS, SHADEA left/top border, SHADEB right/bottom border, GRID, MGRID major grid, FONT, FRAME and axis of the graph or ARROW. This option can be called multiple times to set several colors. </div>
<div>-g|--no-legend</div>
<div>Suppress generation of legend; only render the graph. </div>
<div>-j|--only-graph</div>
<div>Suppress anything but the graph. </div>
<div>-F|--force-rules-legend</div>
<div>Force the generation of HRULE and VRULE legend even if those HRULE or VRULE will not be drawn because out of graph boundaries (mimics behaviour of pre 1.0.42 versions). </div>
<div>-t|--title text (default no title)</div>
<div>Define a title to be written into the graph </div>
<div>-S|--step value (default automatic)</div>
<div>By default rrdgraph calculates the width of one pixel in the time domain and tries to get data at that resolution from the RRD. With this switch you can override this behavior. If you want rrdgraph to get data at 1 hour resolution from the RRD, then you can set the step to 3600 seconds. Note, that a step smaller than 1 pixel will be silently ignored. </div>
<div>DEF:vname=rrd:ds-name:CF</div>
<div>Define virtual name for a data source. This name can then be used in the functions explained below. The DEF call automatically chooses an RRA which contains CF consolidated data in a resolution appropriate for the size of the graph to be drawn. Ideally this means that one data point from the RRA should be represented by one pixel in the graph. If the resolution of the RRA is higher than the resolution of the graph, the data in the RRA will be further consolidated according to the consolidation function (CF) chosen. </div>
<div>CDEF:vname=rpn-expression</div>
<div>Create a new virtual data source by evaluating a mathematical expression, specified in Reverse Polish Notation (RPN). If you have ever used a traditional HP calculator you already know RPN. The idea behind RPN notation is, that you have a stack and push your data onto this stack. When ever you execute an operation, it takes as many data values from the stack as needed. The pushing of data is implicit, so when ever you specify a number or a variable, it gets pushed automatically. <br />If this is all a big load of incomprehensible words for you, maybe an example helps (a more complete explanation is given in [1]): The expression vname+3/2 becomes vname,3,2,/,+ in RPN. First the three values get pushed onto the stack (which now contains (the current value of) vname, a 3 and a 2). Then the / operator pops two values from the stack (3 and 2), divides the first argument by the second (3/2) and pushes the result (1.5) back onto the stack. Then the + operator pops two values (vname and 1.5) from the stack; both values are added up and the result gets pushes back onto the stack. In the end there is only one value left on the stack: The result of the expression.</div>
<div>The rpn-expression in the CDEF function takes both, constant values as well as vname variables. The following operators can be used on these values:</div>
<div>+, -, *, /, %</div>
<div>pops two values from the stack applies the selected operator and pushes the result back onto the stack. The % operator stands for the modulo operation. </div>
<div>SIN, COS, LOG, EXP, FLOOR, CEIL</div>
<div>pops one value from the stack, applies the selected function and pushes the result back onto the stack. </div>
<div>LT, LE, GT, GE, EQ</div>
<div>pops two values from the stack, compares them according to the selected condition and pushes either 1 back onto the stack if the condition is true and 0 if the condition was not true. </div>
<div>IF</div>
<div>pops three values from the stack. If the last value is not 0, the second value will be pushed back onto the stack, otherwise the first value is pushed back. <br />If the stack contains the values A, B, C, D, E are presently on the stack, the IF operator will pop the values E D and C of the stack. It will look at C and if it is not 0 it will push D back onto the stack, otherwise E will be sent back to the stack.</div>
<div><br />MIN, MAX</div>
<div>selects the lesser or larger of the two top stack values respectively </div>
<div>LIMIT</div>
<div>replaces the value with *UNKNOWN* if it is outside the limits specified by the two values above it on the stack. <br />&nbsp;CDEF:a=alpha,0,100,LIMIT<br />DUP, EXC, POP</div>
<div>These manipulate the stack directly. DUP will duplicate the top of the stack, pushing the result back onto the stack. EXC will exchange the top two elements of the stack, and POP will pop off the top element of the stack. Having insufficient elements on the stack for these operations is an error. </div>
<div>UN</div>
<div>Pops one value off the stack, if it is *UNKNOWN*, 1 will be pushed back otherwise 0. </div>
<div>UNKN</div>
<div>Push an *UNKNOWN* value onto the stack. </div>
<div>PREV</div>
<div>Push *UNKNOWN* if its at the first value of a data set or otherwise the value of this CDEF at the previous time step. This allows you to perform calculations across the data. </div>
<div>PREV(vname)</div>
<div>Push *UNKNOWN* if its at the first value of the data set named vname or otherwise the value of the CDEF named vname at the previous time step. This allows you to perform complex calculations across the data. </div>
<div>INF, NEGINF</div>
<div>Push a positive or negative infinite (oo) value onto the stack. When drawing an infinite number it appears right at the top or bottom edge of the graph, depending whether you have a positive or negative infinite number. </div>
<div>NOW</div>
<div>Push the current (real world) time onto the stack. </div>
<div>TIME</div>
<div>Push the time the current sample was taken onto the stack. This is the number of non-skip seconds since 0:00:00 January 1, 1970. </div>
<div>LTIME</div>
<div>This is like TIME + current timezone offset in seconds. The current offset takes daylight saving time into account, given your OS supports this. If you were looking at a sample, in Zurich, in summer, the offset would be 2*3600 seconds, as Zurich at that time of year is 2 hours ahead of UTC. <br />Note that the timezone offset is always calculated for the time the current sample was taken at. It has nothing to do with the time you are doing the calculation.</div>
<div><br />Please note that you may only use vname variables that you previously defined by either DEF or CDEF. Furthermore, as of this writing (version 0.99.25), you must use at least one vname per expression, that is ``CDEF:fourtytwo=2,40,+'' will yield an error message but not a vname fourtytwo that's always equal to 42.</div>
<div>PRINT:vname:CF:format</div>
<div>Calculate the chosen consolidation function CF over the data-source variable vname and printf the result to stdout using format. In the format string there should be a '%lf', '%lg' or '%le' marker in the place where the number should be printed. <br />If an additional '%s' is found AFTER the marker, the value will be scaled and an appropriate SI magnitude unit will be printed in place of the '%s' marker. The scaling will take the '--base' argument into consideration!</div>
<div>If a '%S' is used instead of a '%s', then instead of calculating the appropriate SI magnitude unit for this value, the previously calculated SI magnitude unit will be used. This is useful if you want all the values in a PRINT statement to have the same SI magnitude unit. If there was no previous SI magnitude calculation made, then '%S' behaves like a '%s', unless the value is 0, in which case it does not remember a SI magnitude unit and a SI magnitude unit will only be calculated when the next '%s' is seen or the next '%S' for a non-zero value.</div>
<div>If you want to put a '%' into your PRINT string, use '%%' instead.</div>
<div><br />GPRINT:vname:CF:format</div>
<div>Same as PRINT but the result is printed into the graph below the legend. </div>
<div>Caveat: When using the PRINT and GRPRINT functions to calculate data summaries over time periods bounded by the current time, it is important to note that the last sample will almost always yield a value of UNKNOWN as it lies after the last update time. This can result in slight data skewing, particularly with the AVERAGE function. In order to avoid this, make sure that your end time is at least one heartbeat prior to the current time.</div>
<div>COMMENT:text</div>
<div>Like GPRINT but the text is simply printed into the graph. </div>
<div>HRULE:value#rrggbb[:legend]</div>
<div>Draw a horizontal rule into the graph and optionally add a legend </div>
<div>VRULE:time#rrggbb[:legend]</div>
<div>Draw a vertical rule into the graph and optionally add a legend </div>
<div>LINE{1|2|3}:vname[#rrggbb[:legend]]</div>
<div>Plot for the requested data, using the color specified. Write a legend into the graph. The 3 possible keywords LINE1, LINE2, and LINE3 generate increasingly wide lines. If no color is defined, the drawing is done 'blind' this is useful in connection with the STACK function when you want to ADD the values of two data-sources without showing it in the graph. </div>
<div>AREA:vname[#rrggbb[:legend]]</div>
<div>Does the same as LINE?, but the area between 0 and the graph will be filled with the color specified. </div>
<div>STACK:vname[#rrggbb[:legend]]</div>
<div>Does the same as LINE?, but the graph gets stacked on top of the previous LINE?, AREA or STACK graph. Depending on the type of the previous graph, the STACK will be either a LINE? or an AREA. This obviously implies that the first STACK must be preceded by an AREA or LINE? -- you need something to stack something onto in the first place ;) <br />Note, that when you STACK onto *UNKNOWN* data, RRDTool will not draw any graphics ... *UNKNOWN* is not zero ... if you want it to zero then you might want to use a CDEF argument with IF and UN functions to turn *UNKNOWN* into zero ...</div>
<div>&nbsp;</div>
<div>利用其PM模块进行接口调用的例子。<br />my ($st, $sp, $ds, $data)=RRDs::fetch("$RRAFILE", $dt, "-r", $interval, "-s", $stime, "-e", $etime);</div>
    		</div><!--正文 end-->
<script type="text/javascript">
	var kevent = 'onabort|onblur|onchange|onclick|ondblclick|onerror|onfocus|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onreset|onresize|onselect|onsubmit|onunload';
	var aevent = kevent.split('|');

	jQuery('.showContent img').each(function(){
		var nimg = this;
		jQuery.each(aevent, function(i, n){
			if (n!='onload') {
				jQuery(nimg).attr(n, '');
			} else {
				if (jQuery(nimg).attr(n) != 'if(this.width>650) this.width=650;') {
					jQuery(nimg).attr(n, '');
				}
			}
		});
	});
</script>
<script type="text/javascript" charset="utf-8">
var encodetitle = encodeURI('一篇很棒的博文分享给大家：《RRDTOOL使用说明》');

function show51share(){

	window.open('http://t.51cto.com/index.php?m=share&url=http://dannyyuan.blog.51cto.com/212520/46081/&type=l&count=&relateUid=&appkey=3843950324&title=' + encodetitle);
}
</script>		
<div class="m_sharebtn clear">
	<table width="100%" border="0" cellspacing="0" cellpadding="0">
	  <tr>
		<td width="11%" height="43" align="center" valign="middle"><img src="http://img1.51cto.com/images/share/ssk.png" alt="分享至"/></td>
		<td width="77%" align="left" valign="top">
			<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare" data="{'wbuid':1706976420}">
				<a class="bds_tsina"></a>
				<a class="bds_qzone"></a>
				<a class="bds_tqq"></a>
				<a class="bds_baidu"></a>
				<a class="bds_renren"></a>
				<a class="bds_qq"></a>
				<a class="bds_douban"></a>
				<a class="bds_hi"></a>
				<a class="bds_msn"></a>
				<em title="分享到51CTO微博" class="weibo_51cto" onMouseOut="this.style.backgroundImage='url(http://img1.51cto.com/images/share/ico_mweibo.gif)'" onMouseOver="this.style.backgroundImage='url(http://img1.51cto.com/images/share/ico_mweibob.gif)'" onClick="show51share();"></em>
				<span class="bds_more">更多</span>
				
				<a class="shareCount"></a>
			</div>
	<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=559183" ></script>
	<script type="text/javascript" id="bdshell_js"></script>
	<script type="text/javascript">
		var bds_config = {'wbUid':1706976420, 'bdPic':'http://blog.51cto.com/attachment/201305/173413310.jpg'};
		document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?t=" + new Date().getHours();
	</script>
	<!-- Baidu Button END --></td>
		<td width="12%" align="right" valign="middle"><a href="javascript:favorBox('open');" title="一键收藏，随时查看，分享好友！"><img src="http://home.51cto.com/public/themes/blue/images/favorite_add_small.gif" border="0" alt="一键收藏，随时查看，分享好友！" /></a></td>
	  </tr>
	</table>

</div>			
    		<div class="showBottom">
            <!--<div class="reviews"><span class="fl" style="cursor:pointer;"><a onclick="openFavoulist();" id="favourer"></a>

            </span><div id="favourdiv" class="support01">0人</div>
              <span class="fl">了这篇文章</span></div>-->
              <table width="720" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td  align="right"><img src="http://phpanddb.blog.51cto.com/image/skin/25/icon01.png" width="15" height="16" /> <span style="cursor:pointer;"><a onclick="openFavoulist();" id="favourer"></a></span></td>
    <td width="70" align="left"><div style="line-height:28px;" id="favourdiv" class="support01">0人</div></td>
    <td width="60" align="left">了这篇文章</td>
  </tr>
</table>




            <div class="showType">类别：<a href="/212520/d-4" class="operlink">技术小结</a>┆阅读(<span id="readNum">0</span>)┆评论(<span id='cmtNum' >0</span>)


┆
<a href="/">返回博主首页</a>┆<a href="http://blog.51cto.com">返回博客首页</a></div>
            <div class="prevNext">

			上一篇 <a href="/212520/46080" class="operlink" title="对CACTI数据库结构的一点分析">对CACTI数据库结构的一点分析</a>


			下一篇 <a href="/212520/46084" class="operlink" title="上网少了">上网少了</a>


            </div>

            </div>

	  </div><!--showBottom end-->
      </div><!--modCon-->
    <span class="modBot"></span>
    </div><!--artShow end-->
    <span class="blank"></span>
	
	<div class="relatedArt box">
<a href="http://blog.51cto.com/" target="_blank"><img src="http://s3.51cto.com/wyfs02/M01/23/16/wKiom1MxIyaSB27pAADprZnUlrk234.jpg" /></a>
</div>
	


    <div class="relatedArt box">
    <div class="title" name="zhuanti" id="zhuanti"><h2>相关文章</h2></div>
    <div class="modCon">
<ul>

<li><a href="http://dannyyuan.blog.51cto.com/212520/44220" title="RRDTOOL在Perl中的版本问题" target="_blank">RRDTOOL在Perl中的版本问题</a></li>



</ul>



<span class="blank6"></span>
</div><!--modCon end-->
<span class="modBot"></span>
</div><!--相关文章 end-->


<div class="artComm box">
    <div class="title"><a name="replay"></a><h2>文章评论</h2></div>
    <div class="modCon"  id="artcomment">
		<div>  &nbsp;</div><a name='85665'></a><div class='itcomment' style='table-layout: fixed;word-wrap: break-word' id='itcommentid0'><div><div style='width:100%;border-bottom:1px solid #A0A0A0;height:20px'><label style='float:left'>[1楼]<a href="/">楼主</a>&nbsp;&nbsp;&nbsp;&nbsp;<img src='http://img1.51cto.com/image/skin/reply.gif'>&nbsp;&nbsp;<a target='_blank' href='http://dannyyuan.blog.51cto.com' class='operlink' ref='nofollow'><b>dannyy1026</b></a></label><label style='float:right'>&nbsp;<a href='#' class='repost operlink' user_name='dannyy1026' parentid='85665' >回复</a></label></div></div><div align=right>2007-10-13 21:36:33</div><div class='commentcontent'>有空还是翻译下，更方便。</div></div><br><div>  &nbsp;</div>
    </div><!--modCon-->
        <span class="modBot"></span>
</div><!--commBox end-->
<a href="" id="com_top_top"></a>
<form action='/comment.php?' method='post' name='form1' id='form1' onSubmit='return commentSubmit(this,"");'>
<span class="blank1"></span>
<div class="box writeComm" style="min-height:30px;">
<a name='comment'></a>
<input type='hidden' name='action' value='comment'>
<input  id='commenttid' type='hidden' name='tid' value='46081'>
<input type="hidden" name="com_count_ajax" id="com_count_ajax" value="1" />

 <div class="title">
	<h2 class="fl">发表评论&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h2>
	<span class="fl"><a class="mred" target="_blank" href="http://edu.51cto.com/course/course_id-1189.html">2014 WOT全球软件技术峰会【火热抢票中】</a></span>
	<style type="text/css">
		a.mred:link{ color:#ff0000; text-decoration:underline;}
		a.mred:visited{color:#ff0000;}
		a.mred:hover{color:#ff0000;}
		a.mred:active{color:#ff0000;}
	</style>
</div>
 <div class="modCon">

 <div class="commForm">
<dl>
<dt>昵&nbsp;&nbsp;称：</dt>
<dd>

<input type="text" id='commentusername' name='username' value='' class="commInput fl" /><span><a href='http://home.51cto.com/index.php?reback=http%253A%252F%252Fdannyyuan.blog.51cto.com%252F212520%252F46081%252F' style='text-decoration:underline' >登录</a>&nbsp;&nbsp;<a href='http://ucenter.51cto.com/reg_01.php?reback=http://blog.51cto.com' target='_blank' style='text-decoration: underline;'>快速注册</a></span>



</dd>
</dl>



<dl id="commentyanzheng">


<dt>验证码：</dt>
<dd><input class="code" type="text" value=""  id="commentauthnum" name="authnum" onclick="displaysecunum();"/>

  <img width="78" class="fl" height="29"  id="secunum" onclick="refimg()" style="display:none;"/><p class="fl"><span style="display:none;" id="spanfont">点击图片可刷新验证码</span><span style="display:inline;" id="clickfont">请点击后输入验证码</span><span class="pl5"><a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank" style="text-decoration: underline;">博客过2级，无需填写验证码</a></span></p></dd>
</dl>
<dl>
<dt>内&nbsp;&nbsp;容：</dt>
<dd>
<textarea class="writeCommCon f12"  id="commentcontent" name='content'></textarea>
</dd>
</dl>
</div>
<div class="writeCommBot">
  <input type="hidden" name="parentid" value="" id="parentid"/>
  <input class="commBtn fl"   name='submit' type='button' id="commentsubmit" value='' onclick="commentSubmitend2()"/>

 <p class="fl" style="display:none;"><input class="fl" type="checkbox" name="favour" id="favour" checked="" value="1" /><span class="fl">同时赞一个</span></p>

</div>
<span class="blank"></span>

</div><!--modCon-->
<span class="modBot"></span>
</div>
</form>

<iframe id=iframe1 name=iframe1 width=0 height=0></iframe>
<!--发表评论 end-->
</div>
</div>
<script language="javascript">
	function refimg(){
		var randval = Math.random();
		document.getElementById("secunum").src="/seccode.php?rnum="+randval;
	}
	function displaysecunum()
	{
		var displaystr = document.getElementById("secunum").style.display;
		if(displaystr == 'none')
		{
			refimg();
			document.getElementById("clickfont").style.display = 'none';
			document.getElementById("secunum").style.display = 'inline';
			document.getElementById("spanfont").style.display = 'inline';
		}
	}

	function showMsn(){
		document.getElementById("c02").style.display = "none";
		document.getElementById("c01").style.display = "block";
		document.getElementById("share").style.height = "83px";
		document.getElementById("share").style.background = "none";
	}
	function showBBS(){
		document.getElementById("c01").style.display = "none";
		document.getElementById("c02").style.display = "block";
		document.getElementById("share").style.height = "83px";
		document.getElementById("share").style.background = "none";
	}

	//资源页面，分享按钮
	function copyShareUrl(title){

		if (window.clipboardData){

			if(document.getElementById("c01").style.display == 'block')
			{
				copy = "推荐：" + title + "http://dannyyuan.blog.51cto.com/212520/46081/";
				var alertText = "复制成功，你可以粘贴到MSN或QQ中发给好友。";
			}
			else
			{
				copy = "[url=" + "http://dannyyuan.blog.51cto.com/212520/46081/" + "][u]" + title + "[/u][/url]";
				var alertText = "复制成功，你可以粘贴到论坛分享给坛友。";
			}
			window.clipboardData.clearData();
			window.clipboardData.setData("Text", copy);
			alert(alertText);
		}
		else if (window.netscape){
			alert("您使用的浏览器不支持此复制功能，请使用Ctrl+C或鼠标右键。");
			if(document.getElementById("c01").style.display == 'block')
			{
				document.getElementById("shareTextQM").value = "推荐：" + title + "http://dannyyuan.blog.51cto.com/212520/46081/";
				document.getElementById("shareTextQM").select();
			}
			else
			{
				document.getElementById("shareTextBBS").value = "[url=" + "http://dannyyuan.blog.51cto.com/212520/46081/" + "][u]" + title + "[/u][/url]";
                document.getElementById("shareTextBBS").select();
			}
		}
		return false;
	}
	function select_login(){
		document.getElementById('fixed').style.display='';
	}
	function commentcheck()
	{
		if(document.form1.content.value == "")
		{
			alert("评论内容为空!");
			document.form1.content.focus();
			return false;
		}
	}
	function changename(){

	var memberid=0;
	memberid="";

	if(document.getElementById('commentniming').checked){
		document.getElementById('commentusername').disabled=false;
		document.getElementById('commentusername').value='';
		document.getElementById("indexhidden").style.display="none";
		document.getElementById("commentindex").value='';
		document.getElementById("commentyanzheng").style.display="";
	}else{
		document.getElementById('commentusername').disabled=true;
		document.getElementById('commentusername').value="";
		document.getElementById("indexhidden").style.display="";
		document.getElementById("commentindex").value="http://.blog.51cto.com";
		if(memberid>8)
		{
			document.getElementById("commentyanzheng").style.display="none";
		}
	}
	}
	function openFavoulist()
	{
		window.open ('http://blog.51cto.com/mod/favourlist.php?tid=46081','newwindow','height=300,width=500,top=400,left=400,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no,z-look=yes');
	}

	var e_zti = document.getElementById('zti');//有专题锚点
	var maodian = window.location.href;//锚点
	if (e_zti) {
		//e_zti.href= (/[#]+/.test(maodian)) ? maodian : maodian + "#zhuanti";
	}
</script>
<script src="http://blog.51cto.com/js/jquery-1.7.1.min.js"></script>
<script src="http://blog.51cto.com/js/jquery.cookie.js"></script>
<script src="http://blog.51cto.com/js/jquery.messager.js"></script>
<link href="http://blog.51cto.com/css/blog_top/blog_top.css" rel="stylesheet" type="text/css" />
<script src="http://blog.51cto.com/js/blog_top_list.php" type="text/javascript" language="javascript"></script>
<style>
.backToTop {
    display: none;
	WIDTH: 45px;
	height:45px;
	BOTTOM: 20px;
     position: fixed;
    _position: absolute;
    right: 140px;
    bottom: 10px;
    _bottom: "auto";
    cursor: pointer;
    opacity: .6;
    filter: Alpha(opacity=60);
	text-indent:-9999px;
}
.tops { background:url(/images/tops.jpg) no-repeat center center; }
</style>
<script type="text/javascript">
(function() {
    var backToTopTxt = "返回顶部", backToTopEle = $('<div class="backToTop tops"></div>').appendTo($("body"))
        .text(backToTopTxt).attr("title", backToTopTxt).click(function() {
            $("html, body").animate({ scrollTop: 0 }, 520);
    }), backToTopFun = function() {
        var st = $(document).scrollTop(), winh = $(window).height();
        (st > 0)? backToTopEle.show(): backToTopEle.hide();    
        //IE6下的定位
        if (!window.XMLHttpRequest) {
            backToTopEle.css("top", st + winh - 60);    
        }
    };
    $(window).bind("scroll", backToTopFun);
    $(function() { backToTopFun(); });
})();
</script>




</div>
</div>
<div class="clear"></div>
<!-- <script>
jQuery(function(){
	var html= "<div id=\"sogou_se_tgbar\" style=\"text-align:center;margin:0px auto 2px auto;clear:both;background:url(http://home.51cto.com/public/images/notice/sogou_se_tgbar_bg_final1.gif) repeat-x;width:950px;color:#000;font-size:13px;height:36px;z-index:21474836471\"><div style=\"float:left;cursor:pointer;width:910px;text-align:center;border-left:solid #efbf00 1px;height:32px; line-height:32px;txt-align:center;\"><span style=\"\">	<a href=\"http://51ctoblog.blog.51cto.com/26414/1093282\">【新年祝福征集】51CTO社区年底嘉年华活动正在征集博主祝福语，祝福以红包的形式随机的赠送给访问51CTO的网友 点此送祝福>></a></span></div><div onclick=\"document.getElementById('sogou_se_tgbar').style.display = 'none';\" style=\"float:right;width:20px;cursor:pointer;height:28px;padding:4px 8px 0px 8px;border-right:solid #efbf00 1px\"><img style=\"border:none;margin:4px 0px 0px 0px;\" src=\"http://home.51cto.com/public/images/notice/sogou_se_tgbar_close_final1.gif\"></div></div>"
	jQuery('body').prepend(html);
})
</script> -->
</div>
<div id="footer">
  <div id="innerFooter">
	<center>
		<small>
			Copyright By 51CTO.COM 版权所有<br><br>
			<a href="http://blog.51cto.com" target="_blank"><img src="http://img1.51cto.com/image/skin/30/copyright.jpg"></a>
	  </small>
	</center>
  </div>
</div>
<script src="http://home.51cto.com/index.php?s=/Index/getLoginStatus/reback/http%253A%252F%252Fdannyyuan.blog.51cto.com%252F212520%252F46081%252F" charset='utf-8'></script>
<div style="display:none">
<script src="http://logs.51cto.com/rizhi/count/count.js"></script>

<iframe frameborder="0" scrolling="no" width="0" height="0" src="http://log.51cto.com/pageview.php?frompos=blog_art"></iframe>
</div>
<div style="display:none;"><script src="http://s24.cnzz.com/stat.php?id=4274540&web_id=4274540&show=pic" language="JavaScript"></script><div>
<script src="http://blog.51cto.com/js/poptop.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38670657-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
