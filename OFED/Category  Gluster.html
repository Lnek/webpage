<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Category:  Gluster</title>

<link href="http://smilett.com/wp-content/themes/notepad-theme/style.css" rel="stylesheet" type="text/css" />
<link rel="pingback" href="http://smilett.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="Smile~ RSS Feed" href="http://smilett.com/?feed=rss2" />

    <script type="text/javascript">
    // <![CDATA[
        var disqus_shortname = 'smilett';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    //]]>
    </script>
<script type="text/javascript">
//<![CDATA[
var BrowserDetect = {
init: function () {
this.browser = this.searchString(this.dataBrowser) || "An unknown browser";
this.version = this.searchVersion(navigator.userAgent)|| this.searchVersion(navigator.appVersion)|| "an unknown version";
this.OS = this.searchString(this.dataOS) || "an unknown OS";
},
searchString: function (data) {
for (var i=0;i<data.length;i++)	{
        var dataString = data[i].string;
        var dataProp = data[i].prop;
        this.versionSearchString = data[i].versionSearch || data[i].identity;
        if (dataString) {if (dataString.indexOf(data[i].subString) != -1)
                return data[i].identity;}
        else if (dataProp){return data[i].identity;}
}
},
searchVersion: function (dataString) {
var index = dataString.indexOf(this.versionSearchString);
if (index == -1) return;
return parseFloat(dataString.substring(index+this.versionSearchString.length+1));
},
dataBrowser: [
        {string: navigator.userAgent,subString: "Chrome",identity: "Chrome"},
        {string: navigator.userAgent,subString: "OmniWeb",versionSearch: "OmniWeb/",identity: "OmniWeb"},
        {string: navigator.vendor,subString: "Apple",identity: "Safari",versionSearch: "Version"},
        {prop: window.opera,identity: "Opera"},
        {string: navigator.vendor,subString: "iCab",identity: "iCab"},
        {string: navigator.vendor,subString: "KDE",identity: "Konqueror"},
        {string: navigator.userAgent,subString: "Firefox",identity: "Firefox"},
        {string: navigator.vendor,subString: "Camino",identity: "Camino"},
        {string: navigator.userAgent,subString: "Netscape",identity: "Netscape"},
        {string: navigator.userAgent,subString: "MSIE",identity: "Explorer",versionSearch: "MSIE"},
        {string: navigator.userAgent,subString: "Gecko",identity: "Mozilla",versionSearch: "rv"},
        {string: navigator.userAgent,subString: "Mozilla",identity: "Netscape",versionSearch: "Mozilla"}],
dataOS:[{string: navigator.platform,subString: "Win",identity: "Windows"},
        {string: navigator.platform,subString: "Mac",identity: "Mac"},
        {string: navigator.userAgent,subString: "iPhone",identity: "iPhone/iPod"},
        {string: navigator.platform,subString: "Linux",identity: "Linux"}]
};
BrowserDetect.init();

function bookMark(theurl, thetitle, browser){
    switch(browser){
        case "Firefox":
            window.sidebar.addPanel(thetitle, theurl,"");
            break;
        case "Explorer":
            window.external.AddFavorite( theurl, thetitle);
            break;
        case "Chrome":
        case "Safari":
        case "Opera":
        case "Netscape":
            switch(BrowserDetect.OS){
            case "Windows":
            case "Linux":
            alert('press ctrl+D to bookmark this page');
            break;
            case "Mac":
                alert('press cmd+D to bookmark this page');
            break;
            }
            break;
    }
}
//]]>
</script>
                        <style type="text/css" media="screen" >
                                .socialwrap li.icon_text a img, .socialwrap li.iconOnly a img, .followwrap li.icon_text a img, .followwrap li.iconOnly a img{border-width:0 !important;background-color:none;}#follow.right {width:32px;position:fixed; right:0; top:100px;background-color:#878787;padding:10px 0;font-family:impact,charcoal,arial, helvetica,sans-serif;-moz-border-radius-topleft: 5px;-webkit-border-top-left-radius:5px;-moz-border-radius-bottomleft:5px;-webkit-border-bottom-left-radius:5px;border:2px solid #fff;border-right-width:0}#follow.right ul {padding:0; margin:0; list-style-type:none !important;font-size:24px;color:black;}
#follow.right ul li {padding-bottom:10px;list-style-type:none !important;padding-left:4px;padding-right:4px}
#follow img{border:none;}#follow.right ul li.follow {margin:0 4px;}
#follow.right ul li.follow img {border-width:0;display:block;overflow:hidden; background:transparent url(http://smilett.com/wp-content/plugins/share-and-follow/images/impact/follow-right.png) no-repeat -0px 0px;height:79px;width:20px;}
#follow.right ul li a {display:block;}
#follow.right ul li.follow span, #follow ul li a span {display:none}.share {margin:0 3px 3px 0;}
.phat span {display:inline;}
ul.row li {float:left;list-style-type:none;}
li.iconOnly a span.head {display:none}
#follow.left ul.size16 li.follow{margin:0px auto !important}
li.icon_text a {padding-left:0;margin-right:3px}
li.text_only a {background-image:none !important;padding-left:0;}
li.text_only a img {display:none;}
li.icon_text a span{background-image:none !important;padding-left:0 !important; }
li.iconOnly a span.head {display:none}
ul.socialwrap li {margin:0 3px 3px 0 !important;}
ul.socialwrap li a {text-decoration:none;}ul.row li {float:left;line-height:auto !important;}
ul.row li a img {padding:0}.size16 li a,.size24 li a,.size32 li a, .size48 li a, .size60 li a {display:block}ul.socialwrap {list-style-type:none !important;margin:0; padding:0;text-indent:0 !important;}
ul.socialwrap li {list-style-type:none !important;background-image:none;padding:0;list-style-image:none !important;}
ul.followwrap {list-style-type:none !important;margin:0; padding:0}
ul.followwrap li {margin-right:3px;margin-bottom:3px;list-style-type:none !important;}
#follow.right ul.followwrap li, #follow.left ul.followwrap li {margin-right:0px;margin-bottom:0px;}
.shareinpost {clear:both;padding-top:5px}.shareinpost ul.socialwrap {list-style-type:none !important;margin:0 !important; padding:0 !important}
.shareinpost ul.socialwrap li {padding-left:0 !important;background-image:none !important;margin-left:0 !important;list-style-type:none !important;text-indent:0 !important}
.socialwrap li.icon_text a img, .socialwrap li.iconOnly a img{border-width:0}ul.followrap li {list-style-type:none;list-style-image:none !important;}
div.clean {clear:left;}
div.display_none {display:none;}
                        </style>
                                                <style type="text/css" media="print" >
                                body {background: white;font-size: 12pt;color:black;}
 * {background-image:none;}
 #wrapper, #content {width: auto;margin: 0 5%;padding: 0;border: 0;float: none !important;color: black;background: transparent none;}
 a { text-decoration : underline; color : #0000ff; }
#menu, #navigation, #navi, .menu {display:none}
                        </style>
                        <link rel="image_src" href="http://smilett.com/wp-content/uploads/2010/11/face.png" /> 

			<script type="text/javascript">//<![CDATA[
			// Google Analytics for WordPress by Yoast v4.2.8 | http://yoast.com/wordpress/google-analytics/
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-15792492-1']);
							_gaq.push(['_trackPageview']);
			(function () {
				var ga = document.createElement('script');
				ga.type = 'text/javascript';
				ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(ga, s);
			})();
			//]]></script>
			<link rel="alternate" type="application/rss+xml" title="Smile~ &raquo; Gluster Category Feed" href="http://smilett.com/?feed=rss2&amp;cat=27" />
<link rel='stylesheet' id='social-widget-css'  href='http://smilett.com/wp-content/plugins/social-media-widget/social_widget.css?ver=3.1.2' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://smilett.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='http://smilett.com/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://smilett.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://smilett.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Smile~' href='http://smilett.com' />
<meta name="generator" content="WordPress 3.1.2" />
<script type="text/javascript" src="http://smilett.com/wp-content/plugins/audio-player/assets/audio-player.js?ver=2.0.4.6"></script>
<script type="text/javascript">AudioPlayer.setup("http://smilett.com/wp-content/plugins/audio-player/assets/player.swf?ver=2.0.4.6", {width:"290",animation:"yes",encode:"yes",initialvolume:"80",remaining:"yes",noinfo:"no",buffer:"5",checkpolicy:"no",rtl:"no",bg:"E5E5E5",text:"644527",leftbg:"CCCCCC",lefticon:"644527",volslider:"644527",voltrack:"fdfde8",rightbg:"B4B4B4",rightbghover:"999999",righticon:"644527",righticonhover:"ca6c18",track:"fdfde8",loader:"644527",border:"CCCCCC",tracker:"DDDDDD",skip:"644527",pagebg:"FFFFFF",transparentpagebg:"yes"});</script>

		<style type='text/css'>
			#wpadminbar .quicklinks li#wp-admin-bar-clickystats {
				height: 28px
			}

			#wpadminbar .quicklinks li#wp-admin-bar-clickystats a {
				height: 28px;
				padding: 0
			}

			#wpadminbar .quicklinks li#wp-admin-bar-clickystats a img {
				padding: 4px 5px;
				height: 20px;
				width: 99px;
			}
		</style>
		</head>
<body>
<div id="header">
	<h1 id="logo"><a href="http://smilett.com">Smile~</a></h1>
	<p class="description">Smile~ because sunshine is good for your teeth~~~ Nothing is impossible because the word itself says &quot;i&#039;m possible&quot;</p>

	<p class="socialmedia">

<a href="http://smilett.com/?feed=rss2"  target="_blank"><img src="http://smilett.com/wp-content/uploads/2011/06/rss.png" height=48 width=48 alt="RSS" title="RSS" /></a>

<a href="http://www.twitter.com/smilett"  target="_blank"><img src="http://smilett.com/wp-content/uploads/2011/06/twitter.png" height=48 width=48 alt="Twitter" title="Twitter" /></a>

<a href="http://www.facebook.com/smilett"  target="_blank"><img src="http://smilett.com/wp-content/uploads/2011/06/facebook.png" height=48 width=48 alt="Facebook" title="Facebook" /></a>

<a href="https://profiles.google.com/cmxsmile/"  target="_blank"><img src="http://smilett.com/wp-content/uploads/2011/06/google.png" height=48 width=48 alt="Google Plus" title="Google Plus" /></a>

<a href="mailto:smilett@smilett.com"  target="_blank"><img src="http://smilett.com/wp-content/uploads/2011/06/email.png" height=48 width=48 alt="E-mail" title="E-mail" /></a>

<a href="http://foursquare.com/smilett"  target="_blank"><img src="http://smilett.com/wp-content/uploads/2011/06/think.png" height=48 width=48 alt="FourSquare" title="FourSquare" /></a>

<a href="http://www.flickr.com/photos/smilett"  target="_blank"><img src="http://smilett.com/wp-content/uploads/2011/06/flickr.png" height=48 width=48 alt="Flickr" title="Flickr" /></a>

<a href="https://cid-0e65faf311f2a18c.skydrive.live.com/redir.aspx?page=play&resid=E65FAF311F2A18C!185&authkey=G0phCHChN5U%24"  target="_blank"><img src="http://smilett.com/wp-content/uploads/2011/06/mobile.png" height=48 width=48 alt="SkyDrive" title="SkyDrive" /></a>


</p>

	<ul id="nav">
		<li><a href="http://smilett.com">Home</a></li>
		<li class="page_item page-item-5"><a href="http://smilett.com/?page_id=5" title="About">About</a></li>
<li class="page_item page-item-179"><a href="http://smilett.com/?page_id=179" title="Album">Album</a></li>
<li class="page_item page-item-593"><a href="http://smilett.com/?page_id=593" title="Copyright">Copyright</a></li>
	</ul>
		<form method="get" id="searchform" action="http://smilett.com/">
		<input type="text" value="Search..." name="s" id="s" onblur="if (this.value == '') {this.value = 'Search...';}" onfocus="if (this.value == 'Search...') {this.value = '';}" />
		<input type="hidden" id="searchsubmit" />
	</form></div>
<!--/header -->
<div id="wrapper">
	<div id="content">

	
		
		<div class="post">
			<h2 class="post-title"><a href="http://smilett.com/?p=140" title="实习成果—Gluster虚拟机环境">实习成果—Gluster虚拟机环境</a></h2>
			<p class="post-date">Nov 18</p>
			<p class="post-data"><span class="postauthor">smilett</span><span class="postcategory"><a href="http://smilett.com/?cat=27" title="View all posts in Gluster" rel="category">Gluster</a>, <a href="http://smilett.com/?cat=14" title="View all posts in 实习" rel="category">实习</a></span> <span class="posttag"><a href="http://smilett.com/?tag=ctbri" rel="tag">CTBRI</a>, <a href="http://smilett.com/?tag=gluster" rel="tag">Gluster</a>, <a href="http://smilett.com/?tag=%e4%ba%91" rel="tag">云</a>, <a href="http://smilett.com/?tag=intern" rel="tag">实习</a></span> <span class="postcomment"><a href="http://smilett.com/?p=140#respond" title="Comment on 实习成果—Gluster虚拟机环境"><span class="dsq-postid" rel="140 http://smilett.com/?p=140">No Comments</span></a></span></p>
			<p><strong>简介</strong></p>
<p>在Gluster Storage Platform上，管理员可以通过创建一个全局的存储空间来存储所有的虚拟机，然后让文件系统自动分布数据和平衡资源负载。除了加强虚拟机磁盘镜像本身， Gluster Storage Platform也为在虚拟机上层的应用提供了NAS卷。它支持GlusterFS自己的客户端，CIFS，NFS和WebDAV协议。在一个单独的全局namespace里，卷可以增加到数PB。此外，复制和自我在线修复能力使得虚拟机可以永不停止地运转。</p>
<p><strong>协议支持</strong></p>
<p>GlusterFS提供了最大的灵活性：你可以自由地用各种现在存在的协议输出存储卷。例如，这允许一个Unix Server通过网络文件系统协议(NFS)访问一个放在Windows Vista客户端上的共享文件夹(CIFS)里的文件。Gluster支持的每一个协议都有着自己的性能表现，可管理性，以及操作系统支持优势，总结如下：</p>
<p><strong>1. Gluster自己的协议:</strong></p>
<p>Gluster从最底层做起，来设计这个协议，从而支持大规模的对外扩展并简化管理。尽管它功能很强大很灵活，但它只是像一个标准的应用程序一样安装，而不需要任何的内核操作。这个协议自动支持所有Gluster的实施。它兼容POSIX，这使得现有的应用可以不经过任何改变就跨存储运行。并且它支持GNU/Linux和Mac OS X操作系统(10.4以上)。</p>
<p><strong>2. NFS：</strong></p>
<p>GNU/Linux和Unix操作系统有内置的NFS客户端支持，这使得应用程序无需安装任何其它软件就可以访问存储卷。这是一个对通用的文件存储和归档很有用，易于部署的协议。</p>
<p><strong>3. Server Message Block/Common Internet File System (SMB/CIFS):</strong></p>
<p>微软的操作系统有内置的CIFS客户端支持，这使得这个协议对于在windows环境下的通用的文件存储和归档是一个理想的选择。</p>
<p><strong>4. HTTP GET/PUT：</strong></p>
<p>GlusterFS提供了一个兼容亚马逊S3云存储服务的分布式对象存储机制。这对于可扩展的Web或者基于云的应用是很理想的。它还提供了一个说明充分的可以RESETful的，并绑定了流行的编程语言的API。图形化界面十分简单，用户甚至可以通过浏览器中的JavaScript对其进行访问。</p>
<p><strong>5. Web-based Distributed Authoring and Versioning (WebDAV):</strong></p>
<p>这个协议提供了一个基于标准的，分布式对象存储机制，它采用HTTP作为底层传输协议。功能比基本的HTTP GET/PUT命令更加强大。它通过一个全局的namespace提供了对文件，文件夹，以及meta属性的支持。</p>
<p><strong>6. File Transfer Protocol (FTP)：</strong></p>
<p>这是网络下载文件的最流行的协议之一，它适用于在网络上传输大容量的文件。所有主流的系统都支持FTP协议。由于它工作在应用层，它是最互通的协议。</p>
<p><strong>7. Virtual iSCSI:</strong></p>
<p>这个SAN协议提供了基于块的存储访问一个虚拟集群存储的服务，这对微软的Hyper-V虚拟化环境很有用。这些卷具有冗余和高可用性。</p>
<div class='shareinpost'><ul class="socialwrap size24 row"><li class="iconOnly share"><b>Share this post:&nbsp;&nbsp;</b></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/blogger.png) no-repeat top left;height:24px;width:24px;" class="blogger"  href="http://www.blogger.com/blog_this.pyra?t&amp;u=http%3A%2F%2Fsmilett.com%2F%3Fp%3D140&amp;n=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%8E%AF%E5%A2%83&amp;pli=1" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.blogger.com']);" title="Share this post : 实习成果—Gluster虚拟机环境 on Blogger"><span class="head">Blog this!</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/facebook.png) no-repeat top left;height:24px;width:24px;" class="facebook"  href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fsmilett.com%2F%3Fp%3D140&amp;t=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%8E%AF%E5%A2%83" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);" title="Recommend this post : 实习成果—Gluster虚拟机环境 on Facebook"><span class="head">Recommend on Facebook</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/google_buzz.png) no-repeat top left;height:24px;width:24px;" class="google_buzz"  href="http://www.google.com/buzz/post?url=http%3A%2F%2Fsmilett.com%2F%3Fp%3D140&amp;title=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%8E%AF%E5%A2%83" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.google.com']);" title="Buzz up this post : 实习成果—Gluster虚拟机环境 "><span class="head">Buzz it up</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/linkedin.png) no-repeat top left;height:24px;width:24px;" class="linkedin"  href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsmilett.com%2F%3Fp%3D140&amp;title=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%8E%AF%E5%A2%83&amp;&amp;summary=%E7%AE%80%E4%BB%8B%0D%0A%0D%0A%E5%9C%A8Gluster+Storage+Platform%E4%B8%8A%EF%BC%8C%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E7%9A%84%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E6%9D%A5%E5%AD%98%E5%82%A8%E6%89%80%E6%9C%89%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%8C%E7%84%B6%E5%90%8E%E8%AE%A9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%8A%A8%E5%88%86%E5%B8%83%E6%95%B0%E6%8D%AE%E5%92%8C%E5%B9%B3%E8%A1%A1%E8%B5%84%E6%BA%90%E8%B4%9F%E8%BD%BD%E3%80%82%E9%99%A4%E4%BA%86%E5%8A%A0%E5%BC%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%A3%81%E7%9B%98%E9%95%9C%E5%83%8F%E6%9C%AC%E8%BA%AB%EF%BC%8C+Gluster+Storage+Platform%E4%B9%9F%E4%B8%BA%E5%9C%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8A%E5%B1%82%E7%9A%84%E5%BA%94%E7%94%A8%E6%8F%90%E4%BE%9B%E4%BA%86NAS%E5%8D%B7%E3%80%82%E5%AE%83%E6%94%AF%E6%8C%81Glu" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.linkedin.com']);" title="Share this post : 实习成果—Gluster虚拟机环境 on Linkedin"><span class="head">Share on Linkedin</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/twitter.png) no-repeat top left;height:24px;width:24px;" class="twitter" href="http://twitter.com/home/?status=http%3A%2F%2Fbit.ly%2FhKmI03 VIA+%40smilett" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);" title="Tweet this post : 实习成果—Gluster虚拟机环境 on Twitter"><span class="head">Tweet about it</span></a></li><li class="iconOnly"><a rel="nofollow" target="_self" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/bookmark.png) no-repeat top left;height:24px;width:24px;" class="bookmark"  href="javascript:window.bookMark('http%3A%2F%2Fsmilett.com%2F%3Fp%3D140', '%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%8E%AF%E5%A2%83', BrowserDetect.browser);" title="Bookmark this post : 实习成果—Gluster虚拟机环境"><span class="head">Bookmark in Browser</span></a></li></ul><div class="clean"></div> </div><div class="none"><div class="g-plusone" data-href="http://smilett.com/?p=140" size="standard" count="true"></div></div>		</div>
		<!--/post -->

		
		<div class="post">
			<h2 class="post-title"><a href="http://smilett.com/?p=127" title="实习成果—Gluster File System 安装及使用指南">实习成果—Gluster File System 安装及使用指南</a></h2>
			<p class="post-date">Nov 18</p>
			<p class="post-data"><span class="postauthor">smilett</span><span class="postcategory"><a href="http://smilett.com/?cat=27" title="View all posts in Gluster" rel="category">Gluster</a>, <a href="http://smilett.com/?cat=14" title="View all posts in 实习" rel="category">实习</a></span> <span class="posttag"><a href="http://smilett.com/?tag=ctbri" rel="tag">CTBRI</a>, <a href="http://smilett.com/?tag=gluster" rel="tag">Gluster</a>, <a href="http://smilett.com/?tag=%e4%ba%91" rel="tag">云</a>, <a href="http://smilett.com/?tag=intern" rel="tag">实习</a></span> <span class="postcomment"><a href="http://smilett.com/?p=127#comments" title="Comment on 实习成果—Gluster File System 安装及使用指南"><span class="dsq-postid" rel="127 http://smilett.com/?p=127">5 Comments</span></a></span></p>
			<p><strong>1. </strong><strong>配置要求</strong></p>
<p>硬件要求：GlusterFS支持大多数的符合商业标准的x86-64bit硬件平台。存储可以是直接附加的存储，RAID盘，以SATA/SAS/FC盘做后端的FC/Infiniband/iSCSI SAN盘。</p>
<p><strong>1.1 </strong><strong>网路要求</strong></p>
<p>GlusterFS支持千兆网，百兆网和Infiniband（光纤）。</p>
<p><strong>1.2 </strong><strong>操作系统要求</strong></p>
<p>GlusterFS可以支持很多POSIX兼容的系统，如GNU/Linux, FreeBSD, OpenSolaris, Solaris, 和Mac OS X。Gluster建议采用Ext3, Ext4或者ZFS作为子系统磁盘的格式。Gluster对GNU/Linux, Mac OS X, FreeBSD和OpenSolaris有内嵌的支持。</p>
<p><strong>1.3 </strong><strong>本文中的安装测试环境</strong></p>
<p>Ubuntu Server 9.10</p>
<p>千兆网</p>
<p>服务器端IP: 124.127.117.28, 124.127.117.11, 124.127.117.9</p>
<p>客户端IP：124.127.117.12</p>
<p><strong>2. </strong><strong>在服务器端，从源码安装</strong><strong>GlusterFS</strong><strong>，用作</strong><strong>GlusterFS</strong><strong> </strong><strong>Server</strong><strong>。</strong></p>
<p>下载最新版本（<a href="http://www.gluster.org/download" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.gluster.org']);">http://www.gluster.org/download</a>）</p>
<p>官方FTP主页（<a href="http://ftp.gluster.com/pub/gluster/glusterfs/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://ftp.gluster.com']);">http://ftp.gluster.com/pub/gluster/glusterfs/</a>）</p>
<p>本文中安装测试所用的GlusterFS为version3.0.4</p>
<p><strong>2.1 </strong><strong>安装必要的支持软件包</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> <span style="color: #c20cb9; font-weight: bold;">flex</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> <span style="color: #c20cb9; font-weight: bold;">bison</span></pre></td></tr></table></div>

</div>
</div>
<p><strong>2.2 </strong><strong>开始安装</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">tar</span> <span style="color: #660033;">-xzf</span> glusterfs-version.tar.gz
<span style="color: #7a0874; font-weight: bold;">cd</span> glusterfs-version
.<span style="color: #000000; font-weight: bold;">/</span>configure <span style="color: #660033;">--prefix</span>= <span style="color: #000000; font-weight: bold;">&gt;</span> <span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>null
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">make</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">make</span> insatll</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.3 </strong><strong>安装完毕，执行</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> ldconfig</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.4 </strong><strong>检验安装是否成功，输入</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">glusterfs <span style="color: #660033;">--version</span></pre></td></tr></table></div>

</div>
</div>
<p>显示如下输出则说明安装成功</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">Glusterfs 3.0.4 built on Apr <span style="color: #000000;">21</span> <span style="color: #000000;">2010</span> <span style="color: #000000;">11</span>:<span style="color: #000000;">54</span>:<span style="color: #000000;">11</span>
Repository revision: v3.0.4
Copyright <span style="color: #7a0874; font-weight: bold;">&#40;</span>c<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #000000;">2006</span>-<span style="color: #000000;">2009</span> Gluster Inc.
GlusterFS comes with ABSOLUTELY NO WARRANTY.
You may redistribute copies of GlusterFS under the terms of the GNU General Public License.</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.5 </strong><strong>创建必要的文件</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">mkdir</span> <span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>dir1
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">chmod</span> <span style="color: #000000;">1777</span> <span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>dir1</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.6 </strong><strong>配置</strong></p>
<p><strong>此配置方法为手工配置，参数设置简单。此方法可以用于在一台服务器上同时启动多个</strong><strong>Sever</strong><strong>。另外一种配制方法将在最后介绍。</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs</pre></td></tr></table></div>

</div>
</div>
<p>在此目录下有两个文件：glusterfsd.vol.sample，glusterfs.vol.sample 。glusterfsd.vol.sample，是服务器端配置文件的模板；glusterfs.vol.sample 是客户端配置文件的模板。</p>
<p><strong>2.6.1 </strong><strong>备份客户端配置文件模板</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">cp</span> glusterfsd.vol.sample glusterfsd.vol</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.6.2 </strong><strong>编辑服务器端配置文件</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">vim</span> glusterfsd.vol</pre></td></tr></table></div>

</div>
</div>
<p>编辑glusterfsd.vol中内容如下：</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">volume brick
<span style="color: #7a0874; font-weight: bold;">type</span> storage<span style="color: #000000; font-weight: bold;">/</span>posix <span style="color: #666666; font-style: italic;"># POSIX FS translator</span>
option directory <span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>dir1 <span style="color: #666666; font-style: italic;"># Export this directory</span>
end-volume
volume server
<span style="color: #7a0874; font-weight: bold;">type</span> protocol<span style="color: #000000; font-weight: bold;">/</span>server
option transport-type tcp<span style="color: #000000; font-weight: bold;">/</span>server
option transport.socket.bind-address 124.127.117.28 <span style="color: #666666; font-style: italic;"># Default is to listen on all interfaces</span>
subvolumes brick
option auth.addr.brick.allow <span style="color: #000000; font-weight: bold;">*</span>	 <span style="color: #666666; font-style: italic;"># Allow access to &quot;brick&quot; volume</span>
end-volume</pre></td></tr></table></div>

<p><strong>2.7 </strong><strong>启动</strong><strong>Server</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> glusterfsd <span style="color: #660033;">-f</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfsd.vol <span style="color: #660033;">-l</span> <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfsd.log</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.8 </strong><strong>检验</strong><strong>Server</strong><strong>启动是否成功</strong></p>
<p><strong>2.8.1 </strong><strong>检验</strong><strong>glusterfsd</strong><strong>进程是否存在</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">ps</span> ax<span style="color: #000000; font-weight: bold;">|</span><span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #660033;">-v</span> <span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #000000; font-weight: bold;">|</span><span style="color: #c20cb9; font-weight: bold;">grep</span> gluster</pre></td></tr></table></div>

</div>
</div>
<p>显示如下则说明Server进程启动</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #000000;">7535</span> ? Ssl <span style="color: #000000;">0</span>:00 glusterfsd <span style="color: #660033;">-f</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfsd.vol <span style="color: #660033;">-l</span> <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfsd.log</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.8.2 </strong><strong>检验端口</strong><strong>6996</strong><strong>是否启用监听</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">netstat</span> <span style="color: #660033;">-ln</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #000000;">6996</span></pre></td></tr></table></div>

</div>
</div>
<p>显示如下则说明6996端口处在监听状态</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">tcp <span style="color: #000000;">0</span> <span style="color: #000000;">0</span> 124.127.117.28:<span style="color: #000000;">6996</span> 0.0.0.0:<span style="color: #000000; font-weight: bold;">*</span> LISTEN</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.8.3 </strong><strong>查看</strong><strong>log</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">vim</span> <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfsd.log</pre></td></tr></table></div>

</div>
</div>
<p>log末尾显示如下则说明Server正常启动</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">+------------------------------------------------------------------------------+
<span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #000000;">2010</span>-05-<span style="color: #000000;">14</span> <span style="color: #000000;">10</span>:<span style="color: #000000;">15</span>:<span style="color: #000000;">18</span><span style="color: #7a0874; font-weight: bold;">&#93;</span> N <span style="color: #7a0874; font-weight: bold;">&#91;</span>glusterfsd.c:<span style="color: #000000;">1408</span>:main<span style="color: #7a0874; font-weight: bold;">&#93;</span> glusterfs: Successfully started</pre></td></tr></table></div>

</div>
</div>
<p><strong>2.9 </strong><strong>关闭</strong><strong>Server</strong></p>
<p>用sudo kill -9加进程号，结束server进程。如：</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">kill</span> <span style="color: #660033;">-9</span> <span style="color: #000000;">7535</span></pre></td></tr></table></div>

</div>
</div>
<p><strong>3. </strong><strong>在客户端，从源码安装</strong><strong>GlusterFS</strong><strong>，用作</strong><strong>GlusterFS</strong><strong> </strong><strong>Client</strong></p>
<p><strong>3.1 </strong><strong>客户端必须要有</strong><strong>FUSE</strong><strong>的内核支持。</strong><strong>FUSE</strong><strong>可到</strong><strong>http://fuse.sourceforge.net</strong><strong>下载安装。</strong></p>
<p>Ubuntu9.10的内核里应该是有FUSE的，但是也许是没有开启，我在机器上查，没有FUSE加载。用网上的命令试了，也开启不了。于是我去下了个来安。安起来比较麻烦，于是后来放弃了。但是Gluster却可以用，至今没搞懂。。。</p>
<p><strong>3.2 </strong><strong>从源码安装</strong><strong>GlusterFS</strong><strong>。方法步骤参看服务器端安装。</strong></p>
<p><strong>3.3 </strong><strong>配置：</strong></p>
<p><strong>此配置方法为手工配置，参数设置简单。另外一种配制方法将在最后介绍。</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs</pre></td></tr></table></div>

</div>
</div>
<p>在此目录下有两个文件：glusterfsd.vol.sample，glusterfs.vol.sample。glusterfsd.vol.sample，是服务器端配置文件的模板；glusterfs.vol.sample 是客户端配置文件的模板。</p>
<p><strong>3.3.1 </strong><strong>备份客户端配置文件模板</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">cp</span> glusterfs.vol.sample glusterfs.vol</pre></td></tr></table></div>

</div>
</div>
<p><strong>3.3.2 </strong><strong>编辑客户端配置文件</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">vim</span> glusterfs.vol</pre></td></tr></table></div>

</div>
</div>
<p>编辑glusterfs.vol中内容如下：</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">volume client
<span style="color: #7a0874; font-weight: bold;">type</span> protocol<span style="color: #000000; font-weight: bold;">/</span>client
option transport-type tcp<span style="color: #000000; font-weight: bold;">/</span>client
option remote-host 124.127.117.28 <span style="color: #666666; font-style: italic;"># IP address of the remote brick</span>
option remote-subvolume brick <span style="color: #666666; font-style: italic;"># name of the remote volume</span>
end-volume</pre></td></tr></table></div>

</div>
</div>
<p><strong>3.4 </strong><strong>在</strong><strong>客户端</strong><strong>挂载</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> glusterfs <span style="color: #660033;">-f</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.vol <span style="color: #660033;">-l</span> <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.log <span style="color: #000000; font-weight: bold;">/</span>mnt<span style="color: #000000; font-weight: bold;">/</span></pre></td></tr></table></div>

</div>
</div>
<p><strong>3.5 </strong><strong>检测客户端是否正常挂载</strong></p>
<p><strong>3.5.1</strong><strong> </strong><strong>查看挂在盘符</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">df</span> <span style="color: #660033;">-h</span></pre></td></tr></table></div>

</div>
</div>
<p>显示如下则说明客户端正常挂载了服务器端的磁盘 (即 /home/dir1)</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">Filesystem    Size     Used       Avail      Use<span style="color: #000000; font-weight: bold;">%</span>   Mounted on
<span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>sda1      21G      14G        5.7G       <span style="color: #000000;">71</span><span style="color: #000000; font-weight: bold;">%</span>    <span style="color: #000000; font-weight: bold;">/</span>
udev          502M     176K        501M        <span style="color: #000000;">1</span><span style="color: #000000; font-weight: bold;">%</span>    <span style="color: #000000; font-weight: bold;">/</span>dev
none          502M        <span style="color: #000000;">0</span>        502M        <span style="color: #000000;">0</span><span style="color: #000000; font-weight: bold;">%</span>    <span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>shm
none          502M      56K        502M        <span style="color: #000000;">1</span><span style="color: #000000; font-weight: bold;">%</span>    <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>run
none          502M        <span style="color: #000000;">0</span>        502M        <span style="color: #000000;">0</span><span style="color: #000000; font-weight: bold;">%</span>    <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>lock
none          502M        <span style="color: #000000;">0</span>        502M        <span style="color: #000000;">0</span><span style="color: #000000; font-weight: bold;">%</span>    <span style="color: #000000; font-weight: bold;">/</span>lib<span style="color: #000000; font-weight: bold;">/</span>init<span style="color: #000000; font-weight: bold;">/</span>rw
<span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>sda6     9.2G     150M        8.6G        <span style="color: #000000;">2</span><span style="color: #000000; font-weight: bold;">%</span>    <span style="color: #000000; font-weight: bold;">/</span>image
<span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>sda7     115G     188M        109G        <span style="color: #000000;">1</span><span style="color: #000000; font-weight: bold;">%</span>     <span style="color: #000000; font-weight: bold;">/</span>data
<span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.vol
              913G      33G        834G        <span style="color: #000000;">4</span><span style="color: #000000; font-weight: bold;">%</span>      <span style="color: #000000; font-weight: bold;">/</span>mnt</pre></td></tr></table></div>

</div>
</div>
<p><strong>3.5.2 </strong><strong>查看</strong><strong>glusterfs</strong><strong>进程是否存在</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">ps</span> ax<span style="color: #000000; font-weight: bold;">|</span><span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #660033;">-v</span> <span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #000000; font-weight: bold;">|</span><span style="color: #c20cb9; font-weight: bold;">grep</span> gluster</pre></td></tr></table></div>

</div>
</div>
<p>显示如下则说明glusterfs进程正常启动</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #000000;">23593</span> ? Ssl <span style="color: #000000;">0</span>:00 glusterfs <span style="color: #660033;">-f</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.vol <span style="color: #660033;">-l</span> <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.log <span style="color: #000000; font-weight: bold;">/</span>mnt<span style="color: #000000; font-weight: bold;">/</span></pre></td></tr></table></div>

</div>
</div>
<p><strong>3.5.3 </strong><strong>查看</strong><strong>log</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">vim</span> <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.log</pre></td></tr></table></div>

</div>
</div>
<p>log末尾显示如下则说明Client正常启动，并和Server交互正常</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">+------------------------------------------------------------------------------+
<span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #000000;">2010</span>-05-<span style="color: #000000;">14</span> <span style="color: #000000;">10</span>:09:<span style="color: #000000;">38</span><span style="color: #7a0874; font-weight: bold;">&#93;</span> N <span style="color: #7a0874; font-weight: bold;">&#91;</span>glusterfsd.c:<span style="color: #000000;">1408</span>:main<span style="color: #7a0874; font-weight: bold;">&#93;</span> glusterfs: Successfully started
<span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #000000;">2010</span>-05-<span style="color: #000000;">14</span> <span style="color: #000000;">10</span>:09:<span style="color: #000000;">38</span><span style="color: #7a0874; font-weight: bold;">&#93;</span> N <span style="color: #7a0874; font-weight: bold;">&#91;</span>client-protocol.c:<span style="color: #000000;">6246</span>:client_setvolume_cbk<span style="color: #7a0874; font-weight: bold;">&#93;</span> client: Connected to 124.127.117.28:<span style="color: #000000;">6996</span>, attached to remote volume <span style="color: #ff0000;">'brick'</span>.
<span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #000000;">2010</span>-05-<span style="color: #000000;">14</span> <span style="color: #000000;">10</span>:09:<span style="color: #000000;">38</span><span style="color: #7a0874; font-weight: bold;">&#93;</span> N <span style="color: #7a0874; font-weight: bold;">&#91;</span>client-protocol.c:<span style="color: #000000;">6246</span>:client_setvolume_cbk<span style="color: #7a0874; font-weight: bold;">&#93;</span> client: Connected to 124.127.117.28:<span style="color: #000000;">6996</span>, attached to remote volume <span style="color: #ff0000;">'brick'</span>.
<span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #000000;">2010</span>-05-<span style="color: #000000;">14</span> <span style="color: #000000;">10</span>:09:<span style="color: #000000;">38</span><span style="color: #7a0874; font-weight: bold;">&#93;</span> N <span style="color: #7a0874; font-weight: bold;">&#91;</span>fuse-bridge.c:<span style="color: #000000;">2950</span>:fuse_init<span style="color: #7a0874; font-weight: bold;">&#93;</span> glusterfs-fuse: FUSE inited with protocol versions: glusterfs <span style="color: #000000;">7.13</span> kernel <span style="color: #000000;">7.12</span></pre></td></tr></table></div>

<p><strong>3.6 </strong><strong>在客户端进行操作</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #000000; font-weight: bold;">/</span>mnt</pre></td></tr></table></div>

</div>
</div>
<p>进入挂载目录后即可在客户端实现各种文件读写工作。</p>
<p><strong>3.7 </strong><strong>卸载时用命令</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">umount</span> <span style="color: #000000; font-weight: bold;">/</span>mnt</pre></td></tr></table></div>

</div>
</div>
<p><strong>4. </strong><strong>利用</strong><strong>GlusterFS</strong><strong>内建的命令自动生成配置文件，并实现</strong><strong>Client</strong><strong>与</strong><strong>Server</strong><strong>的交互</strong></p>
<p><strong>glusterfs-volgen</strong><strong>是</strong><strong>GlusterFS</strong><strong>内建的命令，可以用来生成配置文件。</strong></p>
<p><strong>4.1 </strong><strong>生成分布式系统的配置文件</strong></p>
<p>glusterfs-volgen –name &lt;storage name&gt; &lt;hostname/ IP address&gt;:&lt;export directory&gt;</p>
<p>如本例中有3个Server，分别是28, 11, 9。可以输入以下命令来生成配置文件。</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">glusterfs-volgen <span style="color: #660033;">--name</span> <span style="color: #7a0874; font-weight: bold;">test</span> 124.127.117.28:<span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>dir1 124.127.117.11:<span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>dir1 124.127.117.9:<span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>dir1</pre></td></tr></table></div>

<p>如此，系统会生成4个文件：</p>
<p>124.127.117.28-test-export.vol</p>
<p>124.127.117.11-test-export.vol</p>
<p>124.127.117.19-test-export.vol</p>
<p>test-tcp.vol</p>
<p>前三个分别为28，11，9这三个Server端的配置文件，最后一个为Client端的配置文件。</p>
<p><strong>4.2 </strong><strong>配置服务器端</strong></p>
<p>把124.127.117.28-test-export.vol拷贝到28服务器上，并进行如下操作，以创建GlusterFS Server的配置文件。</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">cp</span> 124.127.117.28-test-export.vol <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfsd.vol</pre></td></tr></table></div>

</div>
</div>
<p>在11和9服务器上，安对应的文件重复以上操作。</p>
<p><strong>4.3 </strong><strong>启动</strong><strong>Server</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>init.d<span style="color: #000000; font-weight: bold;">/</span>glusterfsd start</pre></td></tr></table></div>

</div>
</div>
<p>显示如下则说明启动成功</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">*</span> Starting glusterfs server glusterfsd <span style="color: #7a0874; font-weight: bold;">&#91;</span> OK <span style="color: #7a0874; font-weight: bold;">&#93;</span></pre></td></tr></table></div>

</div>
</div>
<p>也可以他通过查看log了解Server启动情况</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">vim</span> <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>etc-glusterfs-glusterfsd.vol.log</pre></td></tr></table></div>

</div>
</div>
<p>在log的末尾显示如下则表明启动成功</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">+------------------------------------------------------------------------------+
<span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #000000;">2010</span>-05-<span style="color: #000000;">16</span> <span style="color: #000000;">22</span>:<span style="color: #000000;">41</span>:<span style="color: #000000;">31</span><span style="color: #7a0874; font-weight: bold;">&#93;</span> N <span style="color: #7a0874; font-weight: bold;">&#91;</span>glusterfsd.c:<span style="color: #000000;">1408</span>:main<span style="color: #7a0874; font-weight: bold;">&#93;</span> glusterfs: Successfully started</pre></td></tr></table></div>

</div>
</div>
<p><strong>4.4 </strong><strong>配置客户端</strong></p>
<p>把test-tcp.vol拷贝到12服务器上，并进行如下操作，以创建GlusterFS Client的配置文件。</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">cp</span> test-tcp.vol <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.vol</pre></td></tr></table></div>

</div>
</div>
<p><strong>4.5 </strong><strong>在</strong><strong>client</strong><strong>挂载</strong></p>
<p><strong>4.5.1 </strong><strong>创建挂载点</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">mkdir</span> <span style="color: #000000; font-weight: bold;">/</span>mnt<span style="color: #000000; font-weight: bold;">/</span>glusterfs</pre></td></tr></table></div>

</div>
</div>
<p><strong>4.5.2 </strong><strong>挂载</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">mount</span> <span style="color: #660033;">-t</span> glusterfs <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.vol <span style="color: #000000; font-weight: bold;">/</span>mnt<span style="color: #000000; font-weight: bold;">/</span>glusterfs</pre></td></tr></table></div>

</div>
</div>
<p><strong>4.5.3</strong><strong>检测挂载是否成功</strong></p>
<p>输入一下命令查看挂载情况</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">df</span> <span style="color: #660033;">-h</span></pre></td></tr></table></div>

</div>
</div>
<p>输出如下则说明正常挂载</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">Filesystem  Size  Used  Avail  Use<span style="color: #000000; font-weight: bold;">%</span>  Mounted on
<span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>sda1    21G   14G   5.7G   <span style="color: #000000;">71</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>
udev        502M  176K   501M    <span style="color: #000000;">1</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>dev
none        502M     <span style="color: #000000;">0</span>   502M    <span style="color: #000000;">0</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>shm
none        502M   56K   502M    <span style="color: #000000;">1</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>run
none        502M     <span style="color: #000000;">0</span>   502M    <span style="color: #000000;">0</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>lock
none        502M     <span style="color: #000000;">0</span>   502M    <span style="color: #000000;">0</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>lib<span style="color: #000000; font-weight: bold;">/</span>init<span style="color: #000000; font-weight: bold;">/</span>rw
<span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>sda6   9.2G  150M   8.6G    <span style="color: #000000;">2</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>image
<span style="color: #000000; font-weight: bold;">/</span>dev<span style="color: #000000; font-weight: bold;">/</span>sda7   115G  188M   109G    <span style="color: #000000;">1</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>data
<span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>glusterfs.vol
            949G   79G   822G    <span style="color: #000000;">9</span><span style="color: #000000; font-weight: bold;">%</span>  <span style="color: #000000; font-weight: bold;">/</span>mnt<span style="color: #000000; font-weight: bold;">/</span>glusterfs</pre></td></tr></table></div>

</div>
</div>
<p>也可查看log</p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">vim</span> <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>glusterfs<span style="color: #000000; font-weight: bold;">/</span>mnt-glusterfs.log</pre></td></tr></table></div>

</div>
</div>
<p><strong>4.6 </strong><strong>在客户端操作</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #000000; font-weight: bold;">/</span>mnt<span style="color: #000000; font-weight: bold;">/</span>glusterfs</pre></td></tr></table></div>

</div>
</div>
<p>进入挂载目录后即可在客户端实现各种文件读写工作。</p>
<p><strong>4.7 </strong><strong>卸载</strong></p>
<div>
<div>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">umount</span> <span style="color: #000000; font-weight: bold;">/</span>mnt<span style="color: #000000; font-weight: bold;">/</span>glusterfs</pre></td></tr></table></div>

</div>
</div>
<div class='shareinpost'><ul class="socialwrap size24 row"><li class="iconOnly share"><b>Share this post:&nbsp;&nbsp;</b></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/blogger.png) no-repeat top left;height:24px;width:24px;" class="blogger"  href="http://www.blogger.com/blog_this.pyra?t&amp;u=http%3A%2F%2Fsmilett.com%2F%3Fp%3D127&amp;n=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+File+System+%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97&amp;pli=1" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.blogger.com']);" title="Share this post : 实习成果—Gluster File System 安装及使用指南 on Blogger"><span class="head">Blog this!</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/facebook.png) no-repeat top left;height:24px;width:24px;" class="facebook"  href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fsmilett.com%2F%3Fp%3D127&amp;t=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+File+System+%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);" title="Recommend this post : 实习成果—Gluster File System 安装及使用指南 on Facebook"><span class="head">Recommend on Facebook</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/google_buzz.png) no-repeat top left;height:24px;width:24px;" class="google_buzz"  href="http://www.google.com/buzz/post?url=http%3A%2F%2Fsmilett.com%2F%3Fp%3D127&amp;title=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+File+System+%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.google.com']);" title="Buzz up this post : 实习成果—Gluster File System 安装及使用指南 "><span class="head">Buzz it up</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/linkedin.png) no-repeat top left;height:24px;width:24px;" class="linkedin"  href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsmilett.com%2F%3Fp%3D127&amp;title=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+File+System+%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97&amp;&amp;summary=1.+%E9%85%8D%E7%BD%AE%E8%A6%81%E6%B1%82%0D%0A%0D%0A%E7%A1%AC%E4%BB%B6%E8%A6%81%E6%B1%82%EF%BC%9AGlusterFS%E6%94%AF%E6%8C%81%E5%A4%A7%E5%A4%9A%E6%95%B0%E7%9A%84%E7%AC%A6%E5%90%88%E5%95%86%E4%B8%9A%E6%A0%87%E5%87%86%E7%9A%84x86-64bit%E7%A1%AC%E4%BB%B6%E5%B9%B3%E5%8F%B0%E3%80%82%E5%AD%98%E5%82%A8%E5%8F%AF%E4%BB%A5%E6%98%AF%E7%9B%B4%E6%8E%A5%E9%99%84%E5%8A%A0%E7%9A%84%E5%AD%98%E5%82%A8%EF%BC%8CRAID%E7%9B%98%EF%BC%8C%E4%BB%A5SATA%2FSAS%2FFC%E7%9B%98%E5%81%9A%E5%90%8E%E7%AB%AF%E7%9A%84FC%2FInfiniband%2FiSCSI+SAN%E7%9B%98%E3%80%82%0D%0A%0D%0A1.1+%E7%BD%91%E8%B7%AF%E8%A6%81%E6%B1%82%0D%0A%0D%0AGlusterFS%E6%94%AF%E6%8C%81%E5%8D%83%E5%85%86%E7%BD%91%EF%BC%8C%E7%99%BE%E5%85%86%E7%BD%91%E5%92%8CInfiniband%EF%BC%88%E5%85%89%E7%BA%A4%EF%BC%89%E3%80%82%0D%0A%0D%0A1.2+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.linkedin.com']);" title="Share this post : 实习成果—Gluster File System 安装及使用指南 on Linkedin"><span class="head">Share on Linkedin</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/twitter.png) no-repeat top left;height:24px;width:24px;" class="twitter" href="http://twitter.com/home/?status=http%3A%2F%2Fbit.ly%2FdWkmDa VIA+%40smilett" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);" title="Tweet this post : 实习成果—Gluster File System 安装及使用指南 on Twitter"><span class="head">Tweet about it</span></a></li><li class="iconOnly"><a rel="nofollow" target="_self" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/bookmark.png) no-repeat top left;height:24px;width:24px;" class="bookmark"  href="javascript:window.bookMark('http%3A%2F%2Fsmilett.com%2F%3Fp%3D127', '%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+File+System+%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97', BrowserDetect.browser);" title="Bookmark this post : 实习成果—Gluster File System 安装及使用指南"><span class="head">Bookmark in Browser</span></a></li></ul><div class="clean"></div> </div><div class="none"><div class="g-plusone" data-href="http://smilett.com/?p=127" size="standard" count="true"></div></div>		</div>
		<!--/post -->

		
		<div class="post">
			<h2 class="post-title"><a href="http://smilett.com/?p=123" title="实习成果—Gluster Storage Platform">实习成果—Gluster Storage Platform</a></h2>
			<p class="post-date">Nov 18</p>
			<p class="post-data"><span class="postauthor">smilett</span><span class="postcategory"><a href="http://smilett.com/?cat=27" title="View all posts in Gluster" rel="category">Gluster</a>, <a href="http://smilett.com/?cat=14" title="View all posts in 实习" rel="category">实习</a></span> <span class="posttag"><a href="http://smilett.com/?tag=ctbri" rel="tag">CTBRI</a>, <a href="http://smilett.com/?tag=gluster" rel="tag">Gluster</a>, <a href="http://smilett.com/?tag=%e4%ba%91" rel="tag">云</a>, <a href="http://smilett.com/?tag=intern" rel="tag">实习</a></span> <span class="postcomment"><a href="http://smilett.com/?p=123#comments" title="Comment on 实习成果—Gluster Storage Platform"><span class="dsq-postid" rel="123 http://smilett.com/?p=123">1 Comment</span></a></span></p>
			<p><strong>简介</strong></p>
<p>Gluster Storage Platform是一个开源的集群存储解决方案。这个系统是一个功能强大的灵活的解决方案，它简化了管理非结构化的文件数据的工作，无论是几TB或者好几PB的数据量。Gluster Storage Platform集成了Gluster File System，它是一个操作系统层，一个基于web的管理界面的安装软件。整个安装过程十分简单，用户只需点几下鼠标就可以部署上百TB的集群存储。Gluster Storage Platform运行在标准的工业化硬件平台上，并可以低成本地实现多次扩展。</p>
<p>Gluster Storage Platform把存储积木，磁盘聚集，内存资源，以及管理数据的功能集成在了一个全局的namespace中。它采用的可折叠的文件系统结构，可以简单地通过插件模块对特定的应用配置进行优化，在各种工作负载的情况下优化系统的性能。</p>
<p><strong>优势</strong></p>
<p>更低的成本&#8212;开源软件运行在商用的硬件上：使用工业化的标准硬件，利用现有的系统。</p>
<p>可扩展性&#8212;可以线性扩展到数百PB。</p>
<p>性能&#8212;没有metadata server造成的瓶颈。</p>
<p>高可用性&#8212;数据镜像，实时的自我修复能力。</p>
<p>更好的虚拟存储&#8212;时刻保持虚拟机的运转。。</p>
<p>简洁&#8212;完善的基于web的管理界面：模块化的结构使得管理员可以各种负载轻松地对系统进行配置。</p>
<p><strong>关键特性</strong></p>
<p><strong> </strong><strong>1. 可扩展性</strong><strong>&#8212;</strong><strong>线性扩展能力使得它可以很容易地根据需要进行扩展。</strong></p>
<p><strong> </strong>真正的线性扩展</p>
<p>可扩展到数百PB</p>
<p>添加新节点的时候只需点几下鼠标</p>
<p><strong>2. 性能</strong><strong>&#8212;</strong><strong>独有的一个消除</strong><strong>metadata 	server</strong><strong>的结构，并提供了真正的突破性的了</strong><strong>IOPS(Input/Output 	Operations Per Second)</strong><strong>和吞吐量。</strong></p>
<p><strong> </strong>没有metadata 	server</p>
<p>没有单点故障</p>
<p>自动负载均衡</p>
<p>文件条目分布在数十个存储块上</p>
<p><strong>3. 独立内核</strong><strong>&#8212;</strong><strong>可以在性能不受任何影响的情况下实现内核独立。</strong></p>
<p><strong> </strong>没有复杂的跨平台兼容性问题</p>
<p>没有升级问题</p>
<p>易于自定义应用程序和模块</p>
<p><strong>4. 高可用性</strong><strong>&#8212;</strong><strong>包括数据镜像和实时自我修复。</strong></p>
<p><strong></strong>可以自动检测并修复错误，甚至是在文件运行或者是硬件故障的时候</p>
<p><strong>5. 易于部署和管理</strong><strong>&#8212;-</strong><strong>可以在</strong><strong>15</strong><strong>分钟内部署</strong><strong>PB</strong><strong>级的存储。通过集成的容量、数据、资源和服务器的管理，持续性的维护变得很简单并且高效。</strong></p>
<p><strong></strong>自我恢复</p>
<p>自动修复错误</p>
<p>基于向导的部署</p>
<p>集中的日志和报告</p>
<p>在升级和添加节点的时候，系统会继续保持运转</p>
<p><strong>6. 优化虚拟服务器</strong><strong>&#8212;</strong><strong>为服务器虚拟化提供真正的虚拟存储</strong></p>
<p><strong></strong>把虚拟机镜像和数据存储在独立的namespace中</p>
<p>虚拟机镜像的多备份保证了系统的持续性能&#8212;即使在硬件故障的时候</p>
<p><strong>7. 快捷灵活的配置</strong><strong>&#8212;Gluster</strong><strong>功能按键可以使管理员为自己的系统负载进行配置，可以轻松地优化小文件，云计算，或者其它任何用途。</strong></p>
<p><strong></strong>提供自带的客户端，但不是必须的</p>
<p>支持NFS，CIFS，HTTP，Web-DAV和FTP协议</p>
<p>网络：千兆以太网，百兆以太网，光纤</p>
<p><strong>8. 灵活的模块设计</strong><strong>&#8212;Gluster</strong><strong>的模式化结构使得添加新特性变得很简单</strong></p>
<p><strong></strong>简单快捷地增强新特性</p>
<p>根据自己系统的工作负载设计Gluster</p>
<p>禁用不必要的特性以提升系统性能</p>
<p><strong>Gluster Storage Platform</strong><strong>系统结构</strong></p>
<p><strong><img class="size-full wp-image-124 alignnone" title="Gluster Storage File System" src="http://smilett.com/wp-content/uploads/2010/11/Screenshot.png" alt="" width="545" height="434" /><br />
</strong></p>
<p><strong><br />
</strong></p>
<div class='shareinpost'><ul class="socialwrap size24 row"><li class="iconOnly share"><b>Share this post:&nbsp;&nbsp;</b></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/blogger.png) no-repeat top left;height:24px;width:24px;" class="blogger"  href="http://www.blogger.com/blog_this.pyra?t&amp;u=http%3A%2F%2Fsmilett.com%2F%3Fp%3D123&amp;n=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+Storage+Platform&amp;pli=1" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.blogger.com']);" title="Share this post : 实习成果—Gluster Storage Platform on Blogger"><span class="head">Blog this!</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/facebook.png) no-repeat top left;height:24px;width:24px;" class="facebook"  href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fsmilett.com%2F%3Fp%3D123&amp;t=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+Storage+Platform" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);" title="Recommend this post : 实习成果—Gluster Storage Platform on Facebook"><span class="head">Recommend on Facebook</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/google_buzz.png) no-repeat top left;height:24px;width:24px;" class="google_buzz"  href="http://www.google.com/buzz/post?url=http%3A%2F%2Fsmilett.com%2F%3Fp%3D123&amp;title=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+Storage+Platform" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.google.com']);" title="Buzz up this post : 实习成果—Gluster Storage Platform "><span class="head">Buzz it up</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/linkedin.png) no-repeat top left;height:24px;width:24px;" class="linkedin"  href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsmilett.com%2F%3Fp%3D123&amp;title=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+Storage+Platform&amp;&amp;summary=%E7%AE%80%E4%BB%8B%0D%0A%0D%0AGluster+Storage+Platform%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%80%E6%BA%90%E7%9A%84%E9%9B%86%E7%BE%A4%E5%AD%98%E5%82%A8%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E3%80%82%E8%BF%99%E4%B8%AA%E7%B3%BB%E7%BB%9F%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8A%9F%E8%83%BD%E5%BC%BA%E5%A4%A7%E7%9A%84%E7%81%B5%E6%B4%BB%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%8C%E5%AE%83%E7%AE%80%E5%8C%96%E4%BA%86%E7%AE%A1%E7%90%86%E9%9D%9E%E7%BB%93%E6%9E%84%E5%8C%96%E7%9A%84%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%EF%BC%8C%E6%97%A0%E8%AE%BA%E6%98%AF%E5%87%A0TB%E6%88%96%E8%80%85%E5%A5%BD%E5%87%A0PB%E7%9A%84%E6%95%B0%E6%8D%AE%E9%87%8F%E3%80%82Gluster+Storage+Platform%E9%9B%86%E6%88%90%E4%BA%86Gluster+File+System%EF%BC%8C%E5%AE%83%E6%98%AF%E4%B8%80%E4%B8%AA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B1" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.linkedin.com']);" title="Share this post : 实习成果—Gluster Storage Platform on Linkedin"><span class="head">Share on Linkedin</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/twitter.png) no-repeat top left;height:24px;width:24px;" class="twitter" href="http://twitter.com/home/?status=http%3A%2F%2Fbit.ly%2FfnM78r VIA+%40smilett" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);" title="Tweet this post : 实习成果—Gluster Storage Platform on Twitter"><span class="head">Tweet about it</span></a></li><li class="iconOnly"><a rel="nofollow" target="_self" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/bookmark.png) no-repeat top left;height:24px;width:24px;" class="bookmark"  href="javascript:window.bookMark('http%3A%2F%2Fsmilett.com%2F%3Fp%3D123', '%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster+Storage+Platform', BrowserDetect.browser);" title="Bookmark this post : 实习成果—Gluster Storage Platform"><span class="head">Bookmark in Browser</span></a></li></ul><div class="clean"></div> </div><div class="none"><div class="g-plusone" data-href="http://smilett.com/?p=123" size="standard" count="true"></div></div>		</div>
		<!--/post -->

		
		<div class="post">
			<h2 class="post-title"><a href="http://smilett.com/?p=120" title="实习成果—Gluster原理分析">实习成果—Gluster原理分析</a></h2>
			<p class="post-date">Nov 18</p>
			<p class="post-data"><span class="postauthor">smilett</span><span class="postcategory"><a href="http://smilett.com/?cat=27" title="View all posts in Gluster" rel="category">Gluster</a>, <a href="http://smilett.com/?cat=14" title="View all posts in 实习" rel="category">实习</a></span> <span class="posttag"><a href="http://smilett.com/?tag=ctbri" rel="tag">CTBRI</a>, <a href="http://smilett.com/?tag=gluster" rel="tag">Gluster</a>, <a href="http://smilett.com/?tag=%e4%ba%91" rel="tag">云</a>, <a href="http://smilett.com/?tag=intern" rel="tag">实习</a></span> <span class="postcomment"><a href="http://smilett.com/?p=120#comments" title="Comment on 实习成果—Gluster原理分析"><span class="dsq-postid" rel="120 http://smilett.com/?p=120">2 Comments</span></a></span></p>
			<p><strong>简介</strong></p>
<p>GlusterFS是一个可扩展的开源集群文件系统。它提供了全局的namespace，分布式的前端，并可以轻松地扩展到数百PB的量级。GlusterFS是Gluster Storage System的核心堆栈。</p>
<p>设计的核心是一个全新的存储结构构建观点。其结果是一个可线性扩展的，高弹性的，并可提供非凡业绩的系统。 Gluster Storage Platform集成了GlusterFS、操作系统层和基于Web的管理及安装工具。这些把部署PB级规模的集群存储简化到了两个步骤，整个过程只需要点几次鼠标。</p>
<p><strong>线性扩展</strong></p>
<p>最根本的变化&#8212;为了实现真正的线性扩展，必须进行三个转变</p>
<p>可扩展性：</p>
<ol>
<li>metadata同步的消除和升级更新。</li>
<li>数据的有效分配，从而实现可扩展性和可靠性</li>
<li>使并行性能达到最大化</li>
</ol>
<p>这些转变的影响是很显著的&#8212;在保持弹性的同时实现了可扩展性。更好的是，一个平衡的系统可以获得更高的性能。</p>
<p><strong>Metadata&#8212;Gluster</strong><strong>可扩展性的关键</strong></p>
<p>Gluster结构中最重要的一个优势是它从任何依赖metadata的结构中解放出来，在所有商业化的存储管理系统中一枝独秀。这种根本的结构变化解决的是围绕着文件系统中的metadata的核心问题。</p>
<p>Gluster摆脱了metadata，他独一无二的无metadata的服务器结构消除了瓶颈效应，并提供了增强的扩展能力，可靠性以及性能。</p>
<p>Gluster不是将与文件，文件夹有关的metadata存在一系列静态的结构上，而是使用算法动态生成同等的信息。这些计算的结果是一个Gluster系统中一个节点所获得的任何必要的动态值。这消除了metadata不能同步的风险，因为这种算法是全局的，在分布式系统中无所不在。由于这些根本的原因，系统不可能永远不同步，并且这对于性能的提升是惊人的。</p>
<p>因为系统对节点没有“保持同步”的要求，Gluster可以独立地处理分布式结构中所有位置的数据访问。这使得无损耗的线性扩展得以实现。</p>
<p>此外，由于不依赖于静态数据结构（无论是单实例或可复制的整个分布式部署），Gluster速度较快。原因有二：配置性;以及与处理任何申请级别的文件系统相关I/O活动的工作量比例减少。Gluster不受metadata瓶颈的限制，所以这里可以提出一些大胆的想法。无论由什么产生的工作量（如NFS, CIFS, 以及本地应用软件的实例对I/O的请求）,你可以简单地通过将CPU和硬盘升级到原来的两倍，来达到两倍的系统性能。Gluster中的每个元素都可以靠其独立的全局算法，独立地处理metadata。从而系统资源不必像传统文件系统终端那样长期处于等待状态，并受硬盘I/O瓶颈限制。</p>
<p><em><strong>Gluster</strong></em><em><strong>更快，可实现真正的线性扩展，并且更加安全</strong></em></p>
<p>Gluster使每个独立的操作更快。因为它用算法计算metadata，并且这种方法比从任何介质中取metadata要快。</p>
<p>Gluster使大型的不断增长的独立系统更快。因为对存储在一个位置的任何一个单独的metadata实例来说，不会有任何争夺发生。</p>
<p>Gluster使分布式系统更快，并能实现真正的线性扩展。因为每个节点在它们处理自己metadata的算法时是独立的，这避免了同步metadata的需要。</p>
<p>Gluster使分布式部署更加安全。因为他避免了由同步metadata带来的各种风险。</p>
<p><strong>数据分布：复制如何实现</strong></p>
<p>Gluster用一种算法取代了metadata，来决定metadata在实时中的状态。通过这种算法，系统可以智能地处理文件分布，并可确保比一个单独的存储服务器容量大的文件可以被正确地处理。</p>
<p><em><strong>弹性</strong></em><em><strong>Hash</strong></em></p>
<p>弹性Hash是由Gluster研发出的一种新的具体存储算法。它负责决定数据保存的位置，是摆脱metadada的关键。</p>
<p>实现的核心有两个关键特性：</p>
<ol>
<li>这种算法可以保证在添删服务器时不丢失对已存在的数据的追踪。</li>
<li>这种算法工作在文件层，而不是块层。</li>
</ol>
<p>这种添删服务器的能力并不是一种典型的算法。大多数功能的实现是基于一个事实，即位置数据的量保持不变。在存储中，添加存储通常是通过抽象层（逻辑卷）实现，所以不需要对特定的文件系统进行修改。然而Gluster中的多个文件系统互相粘合在一起，通过metadada来追踪每个信息的位置。而在长期应用中metadata不需要可扩展性。</p>
<p>第二个特性的特点很显著：从块层向文件层的转变，加上抛弃了metadata，Gluster有了可以扩展到非凡水平的能力。</p>
<p>弹性的Hash使得对文件的存放位置的选择在host层决定，然后系统再把完成的文件发到选定的存储中。通过管理员的设定，多个文件的多个副本可以被放置到不同的host上去。这意味着，host以及所有与其相关的磁盘可以因为任何原因而下线，而由其它弄得host来担任文件的完整副本（例如网络分割，甚至只是系统维护）。</p>
<p>弹性的Hash使这些得到更进一步的推进。在优化选择的时候不仅基于可用性，更基于性能。所以在读取文件时，系统会选择离用户更近的副本。这种特性为系统提供了一种天然的复制机制，因为存储服务器集群可以分散把同样的文件副本分发到两个站点，并让用户选择离他们最近的站点。</p>
<p>当系统中出现永久性损坏的时候（如一台服务器的磁盘发生故障，导致本地文件无法读取），系统会更换主机并将其加入集群，并自动开始恢复过程。</p>
<p><strong>并行</strong></p>
<p>Gluster的系统决定运行在host级别，而不是独立的文件系统或者块级别，这使得它可以通过多CPU进行扩展。并且可以更好地分配在服务器的CPU以及其磁盘状态均衡的环境下，运行一个存储网络时的负载。随着每个CPU成为一个网络链接，所有传统文件系统中影响其扩展能力的严重缺陷在Gluster的结构中得到了良好的解决。</p>
<p><strong>稳定性</strong></p>
<p><em><strong>假设故障</strong></em></p>
<p>假设的故障有硬件故障, 磁盘故障，网络被分割，以及管理员误将电源线拔掉。Gluster对这些假定的故障都有处理预案，系统会自动处理这些故障，而不需要管理员的参与。</p>
<p><em><strong>不重做已经得到信任的东西</strong></em></p>
<p>在现有的操作系统中，已经有很多经过充分测试的磁盘文件系统，Gluster并不会去取代他们。相反的，Gluster站在巨人的肩膀上，并实地验证他们的可靠性。这除了证明了Gluster充分应变能力以外，还使得管理员在已存在的host上使用已经公认的磁盘文件系统的时候，即使没有Gluster层，也可以看到每个host上面的文件。</p>
<p>这使得管理员具有一个全新级别的自由度。Gluster使得管理员可以在任何时候很容易地停止使用Gluster，而不是将管理员锁定到这个特定的文件系统上。这样管理员可以使任何数据不受束缚。</p>
<p><em><strong>不依赖于</strong></em><em><strong>metadata</strong></em></p>
<p>Gluster提供了一流的可靠性。不依赖于metadata，系统将不用担心任何源于metadada的故障。</p>
<div class='shareinpost'><ul class="socialwrap size24 row"><li class="iconOnly share"><b>Share this post:&nbsp;&nbsp;</b></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/blogger.png) no-repeat top left;height:24px;width:24px;" class="blogger"  href="http://www.blogger.com/blog_this.pyra?t&amp;u=http%3A%2F%2Fsmilett.com%2F%3Fp%3D120&amp;n=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90&amp;pli=1" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.blogger.com']);" title="Share this post : 实习成果—Gluster原理分析 on Blogger"><span class="head">Blog this!</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/facebook.png) no-repeat top left;height:24px;width:24px;" class="facebook"  href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fsmilett.com%2F%3Fp%3D120&amp;t=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);" title="Recommend this post : 实习成果—Gluster原理分析 on Facebook"><span class="head">Recommend on Facebook</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/google_buzz.png) no-repeat top left;height:24px;width:24px;" class="google_buzz"  href="http://www.google.com/buzz/post?url=http%3A%2F%2Fsmilett.com%2F%3Fp%3D120&amp;title=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.google.com']);" title="Buzz up this post : 实习成果—Gluster原理分析 "><span class="head">Buzz it up</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/linkedin.png) no-repeat top left;height:24px;width:24px;" class="linkedin"  href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsmilett.com%2F%3Fp%3D120&amp;title=%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90&amp;&amp;summary=%E7%AE%80%E4%BB%8B%0D%0A%0D%0AGlusterFS%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8F%AF%E6%89%A9%E5%B1%95%E7%9A%84%E5%BC%80%E6%BA%90%E9%9B%86%E7%BE%A4%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E3%80%82%E5%AE%83%E6%8F%90%E4%BE%9B%E4%BA%86%E5%85%A8%E5%B1%80%E7%9A%84namespace%EF%BC%8C%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E5%89%8D%E7%AB%AF%EF%BC%8C%E5%B9%B6%E5%8F%AF%E4%BB%A5%E8%BD%BB%E6%9D%BE%E5%9C%B0%E6%89%A9%E5%B1%95%E5%88%B0%E6%95%B0%E7%99%BEPB%E7%9A%84%E9%87%8F%E7%BA%A7%E3%80%82GlusterFS%E6%98%AFGluster+Storage+System%E7%9A%84%E6%A0%B8%E5%BF%83%E5%A0%86%E6%A0%88%E3%80%82%0D%0A%0D%0A%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%A0%B8%E5%BF%83%E6%98%AF%E4%B8%80%E4%B8%AA%E5%85%A8%E6%96%B0%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E6%9E%84%E5%BB%BA%E8%A7%82%E7%82%B9%E3%80%82%E5%85%B6%E7%BB%93%E6%9E%9C%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8F%AF%E7%BA%BF%E6%80%A7%E6%89%A9%E5%B1%95%E7%9A%84" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.linkedin.com']);" title="Share this post : 实习成果—Gluster原理分析 on Linkedin"><span class="head">Share on Linkedin</span></a></li><li class="iconOnly"><a rel="nofollow" target="_blank" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/twitter.png) no-repeat top left;height:24px;width:24px;" class="twitter" href="http://twitter.com/home/?status=http%3A%2F%2Fbit.ly%2FfJnsWx VIA+%40smilett" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);" title="Tweet this post : 实习成果—Gluster原理分析 on Twitter"><span class="head">Tweet about it</span></a></li><li class="iconOnly"><a rel="nofollow" target="_self" style="display:block;background: transparent url(http://smilett.com/wp-content/plugins/share-and-follow/default/24/bookmark.png) no-repeat top left;height:24px;width:24px;" class="bookmark"  href="javascript:window.bookMark('http%3A%2F%2Fsmilett.com%2F%3Fp%3D120', '%E5%AE%9E%E4%B9%A0%E6%88%90%E6%9E%9C%E2%80%94Gluster%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90', BrowserDetect.browser);" title="Bookmark this post : 实习成果—Gluster原理分析"><span class="head">Bookmark in Browser</span></a></li></ul><div class="clean"></div> </div><div class="none"><div class="g-plusone" data-href="http://smilett.com/?p=120" size="standard" count="true"></div></div>		</div>
		<!--/post -->

		
		<p class="post-nav"> <span class="previous"></span> <span class="next"></span> </p>

	
	</div>
	<!--/content -->

	<div id="sidebar">

<div id="text-3" class="widget widget_text">			<div class="textwidget"><img src="http://smilett.com/wp-content/uploads/2010/11/face.png"/></div>
		</div>		<div id="recent-posts-3" class="widget widget_recent_entries">		<h4 class="widgettitle">Recent Posts</h4>		<ul>
				<li><a href="http://smilett.com/?p=799" title="太多浮躁，太少沉淀">太多浮躁，太少沉淀</a></li>
				<li><a href="http://smilett.com/?p=796" title="两年了">两年了</a></li>
				<li><a href="http://smilett.com/?p=776" title="上海开会纪行">上海开会纪行</a></li>
				<li><a href="http://smilett.com/?p=766" title="小米～">小米～</a></li>
				<li><a href="http://smilett.com/?p=763" title="中国社科院语言所招募英语发音人">中国社科院语言所招募英语发音人</a></li>
				</ul>
		</div><div id="categories-3" class="widget widget_categories"><h4 class="widgettitle">Categories</h4>		<ul>
	<li class="cat-item cat-item-66"><a href="http://smilett.com/?cat=66" title="View all posts filed under Festival">Festival</a> (2)
</li>
	<li class="cat-item cat-item-27 current-cat"><a href="http://smilett.com/?cat=27" title="View all posts filed under Gluster">Gluster</a> (4)
</li>
	<li class="cat-item cat-item-76"><a href="http://smilett.com/?cat=76" title="View all posts filed under Kindle">Kindle</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="http://smilett.com/?cat=3" title="View all posts filed under Linux">Linux</a> (5)
</li>
	<li class="cat-item cat-item-61"><a href="http://smilett.com/?cat=61" title="View all posts filed under Python">Python</a> (1)
</li>
	<li class="cat-item cat-item-78"><a href="http://smilett.com/?cat=78" title="View all posts filed under TED">TED</a> (2)
</li>
	<li class="cat-item cat-item-26"><a href="http://smilett.com/?cat=26" title="View all posts filed under VPS">VPS</a> (7)
</li>
	<li class="cat-item cat-item-82"><a href="http://smilett.com/?cat=82" title="View all posts filed under 伦敦奥运">伦敦奥运</a> (1)
</li>
	<li class="cat-item cat-item-100"><a href="http://smilett.com/?cat=100" title="View all posts filed under 博士生活">博士生活</a> (2)
</li>
	<li class="cat-item cat-item-4"><a href="http://smilett.com/?cat=4" title="View all posts filed under 和大学同学的那点事儿">和大学同学的那点事儿</a> (3)
</li>
	<li class="cat-item cat-item-93"><a href="http://smilett.com/?cat=93" title="View all posts filed under 声明">声明</a> (2)
</li>
	<li class="cat-item cat-item-5"><a href="http://smilett.com/?cat=5" title="View all posts filed under 大四杂记">大四杂记</a> (2)
</li>
	<li class="cat-item cat-item-14"><a href="http://smilett.com/?cat=14" title="View all posts filed under 实习">实习</a> (7)
</li>
	<li class="cat-item cat-item-40"><a href="http://smilett.com/?cat=40" title="View all posts filed under 家人">家人</a> (1)
</li>
	<li class="cat-item cat-item-36"><a href="http://smilett.com/?cat=36" title="View all posts filed under 旅行">旅行</a> (3)
</li>
	<li class="cat-item cat-item-49"><a href="http://smilett.com/?cat=49" title="View all posts filed under 毕设相关">毕设相关</a> (1)
</li>
	<li class="cat-item cat-item-30"><a href="http://smilett.com/?cat=30" title="View all posts filed under 爱丁堡">爱丁堡</a> (1)
</li>
	<li class="cat-item cat-item-89"><a href="http://smilett.com/?cat=89" title="View all posts filed under 琐记">琐记</a> (4)
</li>
	<li class="cat-item cat-item-90"><a href="http://smilett.com/?cat=90" title="View all posts filed under 留学生活总结">留学生活总结</a> (1)
</li>
	<li class="cat-item cat-item-64"><a href="http://smilett.com/?cat=64" title="View all posts filed under 英国万象">英国万象</a> (2)
</li>
	<li class="cat-item cat-item-53"><a href="http://smilett.com/?cat=53" title="View all posts filed under 英国生活技巧">英国生活技巧</a> (3)
</li>
	<li class="cat-item cat-item-70"><a href="http://smilett.com/?cat=70" title="View all posts filed under 软件推荐">软件推荐</a> (1)
</li>
	<li class="cat-item cat-item-7"><a href="http://smilett.com/?cat=7" title="View all posts filed under 面试经历">面试经历</a> (1)
</li>
		</ul>
</div><div id="text-6" class="widget widget_text"><h4 class="widgettitle">Recent Comments</h4>			<div class="textwidget"><div id="recentcomments" class="dsq-widget"><script type="text/javascript" src="http://smilett.disqus.com/recent_comments_widget.js?num_items=4&hide_avatars=0&avatar_size=32&excerpt_length=140"></script></div></div>
		</div><div id="linkcat-2" class="widget widget_links"><h4 class="widgettitle">Links</h4>
	<ul class='xoxo blogroll'>
<li><a href="http://www.casparant.com/" title="Ant&#8217;s WP" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.casparant.com/']);">CASPAR ANT</a></li>
<li><a href="http://imtx.me/" title="TualatriX&#8217;s blog" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://imtx.me/']);">I&#039;m TualatriX</a></li>
<li><a href="http://www.kathy-goes-northwards.de/" title="Kathrin&#8217;s blog~" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.kathy-goes-northwards.de/']);">Kathy goes northwards</a></li>
<li><a href="http://tardismeat.blogspot.com/" title="Terence&#8217;s blog~" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://tardismeat.blogspot.com/']);">TARDIS MEAT</a></li>
<li><a href="http://wonderli.info" title="WonderLi&#8217;s blog" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://wonderli.info']);">Wonderli&#039;s Space</a></li>
<li><a href="http://yegle.net/" title="yegle&#8217;s blog" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://yegle.net/']);">一阁Blog</a></li>
<li><a href="http://peter1987wxp.wordpress.com/" title="Xiaopeng&#8217;s blog" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://peter1987wxp.wordpress.com/']);">天雨流芳</a></li>
<li><a href="http://www.yulei666.com/" title="yulei666&#8242;s blog" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.yulei666.com/']);">导弹基地~~</a></li>

	</ul>
</div>
<div id="archives-3" class="widget widget_archive"><h4 class="widgettitle">Archives</h4>		<ul>
			<li><a href='http://smilett.com/?m=201307' title='July 2013'>July 2013</a>&nbsp;(1)</li>
	<li><a href='http://smilett.com/?m=201209' title='September 2012'>September 2012</a>&nbsp;(1)</li>
	<li><a href='http://smilett.com/?m=201205' title='May 2012'>May 2012</a>&nbsp;(2)</li>
	<li><a href='http://smilett.com/?m=201204' title='April 2012'>April 2012</a>&nbsp;(1)</li>
	<li><a href='http://smilett.com/?m=201203' title='March 2012'>March 2012</a>&nbsp;(2)</li>
	<li><a href='http://smilett.com/?m=201201' title='January 2012'>January 2012</a>&nbsp;(2)</li>
	<li><a href='http://smilett.com/?m=201108' title='August 2011'>August 2011</a>&nbsp;(2)</li>
	<li><a href='http://smilett.com/?m=201106' title='June 2011'>June 2011</a>&nbsp;(1)</li>
	<li><a href='http://smilett.com/?m=201105' title='May 2011'>May 2011</a>&nbsp;(6)</li>
	<li><a href='http://smilett.com/?m=201104' title='April 2011'>April 2011</a>&nbsp;(2)</li>
	<li><a href='http://smilett.com/?m=201103' title='March 2011'>March 2011</a>&nbsp;(3)</li>
	<li><a href='http://smilett.com/?m=201102' title='February 2011'>February 2011</a>&nbsp;(4)</li>
	<li><a href='http://smilett.com/?m=201101' title='January 2011'>January 2011</a>&nbsp;(1)</li>
	<li><a href='http://smilett.com/?m=201012' title='December 2010'>December 2010</a>&nbsp;(10)</li>
	<li><a href='http://smilett.com/?m=201011' title='November 2010'>November 2010</a>&nbsp;(7)</li>
	<li><a href='http://smilett.com/?m=201004' title='April 2010'>April 2010</a>&nbsp;(1)</li>
	<li><a href='http://smilett.com/?m=201003' title='March 2010'>March 2010</a>&nbsp;(7)</li>
		</ul>
</div><div id="text-4" class="widget widget_text"><h4 class="widgettitle">Map</h4>			<div class="textwidget"><a href="http://www3.clustrmaps.com/counter/maps.php?url=http://smilett.com" id="clustrMapsLink"><img src="http://www3.clustrmaps.com/counter/index2.php?url=http://smilett.com" style="border:0px;" alt="Locations of visitors to this page" title="Locations of visitors to this page" id="clustrMapsImg" onerror="this.onerror=null; this.src='http://www2.clustrmaps.com/images/clustrmaps-back-soon.jpg'; document.getElementById('clustrMapsLink').href='http://www2.clustrmaps.com';" />
</a>
</div>
		</div>
	</div>
	<!--/sidebar -->
</div>
<!--/wrapper -->

<div id="footer">
	<p class="copyright">&copy; <a href="http://smilett.com">Smile~</a> 2013 | <a href="http://smilett.com/?page_id=593" target="_blank">Copyright</a></p>
	<p class="credits">Powered by  <a href="http://wordpress.org">WordPress</a> | Theme by <a href="http://www.ndesign-studio.com">N.Design</a></div>
<!--/footer -->

<script src="https://apis.google.com/js/plusone.js">{lang: "en-GB"}</script>
<script type='text/javascript' src='http://smilett.com/wp-includes/js/jquery/jquery.js?ver=1.4.4'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?aa&#038;ver=3.1.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {
	my_hash: ""
};
/* ]]> */
</script>
<script type='text/javascript' src='http://smilett.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.1.2'></script>
	<div style="display:none">
	</div>
<!-- Clicky Web Analytics - http://getclicky.com, WordPress Plugin by Yoast - http://yoast.com/wordpress/clicky/ -->
	<script type='text/javascript'>
		function clicky_gc(name) {
			var ca = document.cookie.split(';');
			for (var i in ca) {
				if (ca[i].indexOf(name + '=') != -1)
					return decodeURIComponent(ca[i].split('=')[1]);
			}
			return '';
		}
		var username_check = clicky_gc('comment_author_dd6577a3e1aa46e240f0f6c8953949fc');
		if( username_check ) var clicky_custom_session = { username: username_check };
	</script>
	<script type="text/javascript">
	var clicky = { log:function () {
		return;
	}, goal:function () {
		return;
	}};
	var clicky_site_id = 66396098;
	(function () {
		var s = document.createElement('script');
		s.type = 'text/javascript';
		s.async = true;
		s.src = '//static.getclicky.com/js';
		( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild(s);
	})();
</script>
<noscript><p><img alt="Clicky" width="1" height="1"
				  src="http://in.getclicky.com/66396098ns.gif"/></p></noscript>
<!-- End Clicky Tracking -->

	<script src="http://stats.wordpress.com/e-201334.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:1.2.2',blog:'26959062',post:'0'});
	var load_cmc = function(){linktracker_init(26959062,0,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script></body>
</html>
