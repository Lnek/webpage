<html><head><title>RHEL LVM详解_CXK的角落_百度空间</title><meta http-equiv=content-type content="text/html; charset=GBK"><link rel=alternate type="application/rss+xml" title="订阅该空间的博客文章" href="http://hi.baidu.com/cxkipq/rss"><style type="text/css">.error{color:#F00;font-size:12px}.shareUser,.shareLastEditor{line-height:20px;color:#666;text-align:left}.shareLastEditor{margin:5px 0 8px}</style><script>
	    var g_pageTimerStart=new Date().getTime();
	</script><script src="http://hi.bdimg.com/static/cblog/js/other/global.js?v=009301b8.js"></script><script src="http://hi.bdimg.com/static/cblog/js/other/libs.js?v=48b209f9.js"></script><script src="http://img.baidu.com/js/tangram-1.1.0.js?v=1334907755.js"></script><script>
var Session = {
    isLogin: true,
    isHost: 0,
    loginStatus : 2,
    userName: "cxkipq",   
    userPortrait:'9ba763786b6970714a02',
    spaceURL: "\/cxkipq",
    spBasicURL:"http:\/\/hi.baidu.com\/cxkipq",
    spBasicURLEnc:"http%3A%2F%2Fhi.baidu.com%2Fcxkipq",
    visitorName:    "zhu__feng001",
    visitorPortrait:'a0a27a68755f5f66656e673030314312',
    isActive: '1',   /*{cmt 访问者是否激活空间}*/
    visitorURL: "\/zhu__feng001",        // 
    pageURL: "http://hi.baidu.com\/cxkipq\/blog\/item\/8b3be0ff13a4cf395d60083d.html",    
    refer: "http:\/\/www.baidu.com\/s?tn=baiduhome_pg&bs=lvm+pvcreate&f=8&rsv_bp=1&wd=lvm+&inputT=237",
    spToken: '159a0de2f990e4cff4c560e7c876c5be', 
    spFriendDomain: 'http://frd.baidu.com',
    spSpaceDomain: 'http://hi.baidu.com',
    spPortraitDomain: 'http://tx.bdimg.com',
    spSpaceStaticDomain: 'http://hi.bdimg.com', /*{cmt TODO RD似乎还不有提供这个变量，记得补成呀！}*/
    spImgDomain : 'http://img.baidu.com',
    spStaticDomain : 'http://hi.bdimg.com',

    isDrag: false  /*{cmt 是否在拖动页：是为了通用，只对模块内容有作用，这里也作为一个通用属性}*/
    ,isProfile: false   /*{cmt 是否在拖动页：是为了通用，只对模块内容有作用，这里也作为一个通用属性}*/
    ,isPortraitVerify:!true
    };
</script></head><body> <script>
/*<![CDATA[*/
if(top.location != self.location){
	top.location = self.location;
}
var myref = encodeURIComponent("http://hi.baidu.com\/cxkipq\/blog\/item\/8b3be0ff13a4cf395d60083d.html");
/*]]>*/
</script><!--[if (lt IE 8.0)]><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/ui/mods.css?v=774e31a7.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/ui/mods_datauri.css?v=a1661a70.css"><!--<![endif]--><link rel=stylesheet type=text/css href="http://hitn.bdimg.com/2402050202/css/item/4d361a4d9fd93af9d62afcc3.css"><!--[if (lt IE 8.0)]><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/space.css?v=674c899c.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/space_datauri.css?v=b27686c7.css"><!--<![endif]--><div class=userbar><center> <div id=nav><a class=logo href=http://hi.baidu.com/index.htm><img src=http://img.baidu.com/hi/logo/logo_93_30.gif border=0 alt="百度空间"></a> <ul class=topmenu><li><a href="/zhu__feng001/ihome">个人中心</a><li class=vline><li><a href="/zhu__feng001/home" >我的主页</a><li class=vline><li><a href="/zhu__feng001/ihome/frdme">好友</a><li class=vline><li id=topMsgLi><a href="http://hi.baidu.com/msg/index" id=topMsgTab>消息</a> </ul> <dl class=manage> <dd id=tary_space_name class=nolink>zhu__feng001<dt>|<dd id=user_disguise_link><a href="/zhu__feng001/modify/spmodules/0">装扮</a><dt id=user_disguise_l>|<dd><a href="/zhu__feng001/ihome/basicconfig">设置</a><dt>| <dd><a href="https://passport.baidu.com/?logout&bdstoken=159a0de2f990e4cff4c560e7c876c5be&u=">退出</a></dl> </div></center></div><script src="http://hi.bdimg.com/static/base/js/conf/base.js?v=1334907755.js"></script><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/base/css/base.css?v=1334907755.css"><script>			
		(function(){
			function initMessage(){
				Space.msgConfig={
					staticDomain:'http://hi.bdimg.com'
					,portraitDomain:'http://tx.bdimg.com'
					,appsDomain:'http://apps.hi.baidu.com'
					,domain:'http://hi.baidu.com'
					,userPortrait:"a0a27a68755f5f66656e673030314312"
					,userName:"zhu__feng001"
					,spToken:"159a0de2f990e4cff4c560e7c876c5be"
					,spaceUrl:"\/zhu__feng001"
					,pageType:"blog"
				};
				if(Space.msgConfig.spaceUrl.indexOf("/")==0) {
					Space.msgConfig.spaceUrl = Space.msgConfig.spaceUrl.substr(1);
				}

				var job = new Space.Libs.Jobs();
				job.add("message_tip");
				job.start();
			}
			
			if(window.addEventListener){
				window.addEventListener('load', initMessage, false );
			}else if(window.attachEvent){
				window.attachEvent('onload', initMessage);
			}
		})();
	</script><script language=javascript src="http://hi.bdimg.com/static/cblog/js/ui/dialog.js?v=f1d92f7b.js"></script><center><div id=main align=left><!--[if IE]><script>
var objmain = document.getElementById("main");
function updatesize(){ var bodyw = window.document.body.offsetWidth; if(bodyw <= 790) objmain.style.width="772px"; else if(bodyw >= 1016) objmain.style.width="996px"; else objmain.style.width="100%"; }
updatesize(); window.onresize = updatesize;
</script><![endif]--><div id=header><div class=lc><div class=rc></div></div><div class=tit><a href="/cxkipq" class=titlink title="cxkipq的空间 http://hi.baidu.com/cxkipq">CXK的角落</a></div><div class=desc>欢迎一起学习交流</div><div id=tabline>&nbsp;</div><div id=tab><a href="http://hi.baidu.com/cxkipq/home">主页</a><a href="http://hi.baidu.com/cxkipq/blog" class=on>博客</a><a href="http://hi.baidu.com/cxkipq/album">相册</a><span>|</span><a href="http://hi.baidu.com/cxkipq/profile">个人档案</a><span>|</span><a href="http://hi.baidu.com/cxkipq/friends">好友</a><span>|</span><a href="http://tieba.baidu.com/i/sys/jump?un=cxkipq&fr=spacebar" onclick="BdUtil.ns_trackerLink('m_20110330_spacebar','')" target=_blank>i贴吧</a></div></div><div class=stage><div class=stagepad><div style="width:100%"><table width="100%" border=0 cellspacing=0 cellpadding=0 class=modth><tr><td class=modtl width=7>&nbsp;<td class=modtc nowrap><div class=modhead><span class=modtit>查看文章</span></div><td class=modtc nowrap align=right><td class=modtr width=7>&nbsp;</table><div id=m_blog class=modbox style="overflow-x:hidden;"><div class=tit>RHEL LVM详解</div><div class=date>2009-04-17 17:04</div><table style="table-layout:fixed;width:100%"><tr><td><div id=blog_text class=cnt>今天学习了LVM，现在做一下笔记：<br>
<br>
LVM： Logical Volume Manager逻辑卷管理，它是一种磁盘的管理方式，<span class="pg"><span class="contentblk">是Linux环境下对磁盘分区进行管理的一种机制，LVM是建立在硬盘和分区之上的一个逻辑层，来提高磁盘分区管理的灵活性。通过LVM系统管理员可以轻松管理磁盘分区。<font color="#0000ff"><strong><br>
<br>
</strong></font>下面我们来逐步学习LVM的创建，大小调整 ，增容和删除：<br>
<br>
一. LVM的创建:<br>
<br>
&nbsp;&nbsp;&nbsp;    在创建LVM之前我们先查看一下系统中是否安装了LVM工具:<br>
<br>
&nbsp;&nbsp;    <br>
</span></span>
<div forimg="1"><img border="0" src="http://hiphotos.baidu.com/cxkipq/pic/item/389f0fb279529785d8335a0c.jpg" small="0" class="blogimg"></div>
<br>
如果没有安装要先安装此工具,不然后继工作无法进行.<br>
<br>
<font color="#ff00ff"><strong>创建物理分区并格式化:</strong></font><br>
和创建普通分区的步骤差不多,只是多了一步要设定分区的ID,LVM的系统ID是 <font color="#0000ff">8e</font>.<br>
<div forimg="1"> </div>
[root@localhost /]# <font color="#ff0000">fdisk -l</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ---------------------------------&gt;查看分区信息<br>
<br>
Disk /dev/sda: 146.8 GB, 146814976000 bytes<br>
255 heads, 63 sectors/track, 17849 cylinders<br>
Units = cylinders of 16065 * 512 = 8225280 bytes<br>
<br>
&nbsp;&nbsp;    Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Blocks&nbsp;&nbsp;    Id  System<br>
/dev/sda1&nbsp;&nbsp;    *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    3824&nbsp;&nbsp;&nbsp;    30716248+  83  Linux<br>
/dev/sda2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    3825&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    7648&nbsp;&nbsp;&nbsp;    30716280&nbsp;&nbsp;    83  Linux<br>
/dev/sda3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    7649&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    8170&nbsp;&nbsp;&nbsp;&nbsp;    4192965&nbsp;&nbsp;    82  Linux swap / Solaris<br>
/dev/sda4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    8171&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    17849&nbsp;&nbsp;&nbsp;    77746567+&nbsp;&nbsp;    5  Extended<br>
/dev/sda5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    8171&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    10603&nbsp;&nbsp;&nbsp;    19543041&nbsp;&nbsp;    83  Linux<br>
[root@localhost /]# <font color="#ff0000">fdisk /dev/sda</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ---------------------&gt;对/dev/sda进行分区<br>
<br>
The number of cylinders for this disk is set to 17849.<br>
There is nothing wrong with that, but this is larger than 1024,<br>
and could in certain setups cause problems with:<br>
1) software that runs at boot time (e.g., old versions of LILO)<br>
2) booting and partitioning software from other OSs<br>
&nbsp;&nbsp;    (e.g., DOS FDISK, OS/2 FDISK)<br>
<br>
Command (m for help): <font color="#ff0000">n</font>&nbsp;&nbsp;&nbsp;&nbsp;                  &nbsp;&nbsp;    --------------------&gt;新建一个分区<br>
First cylinder (10604-17849, default 10604): <br>
Using default value 10604<br>
Last cylinder or +size or +sizeM or +sizeK (10604-17849, default 17849): <font color="#ff0000">+500M</font>&nbsp;&nbsp;&nbsp;&nbsp;    ------&gt;创建一个500M的分区<br>
<br>
Command (m for help): <font color="#ff0000">help</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -----------------------&gt;查看fdisk帮助<br>
h: unknown command<br>
Command action<br>
&nbsp;&nbsp;    a&nbsp;&nbsp;    toggle a bootable flag<br>
&nbsp;&nbsp;    b&nbsp;&nbsp;    edit bsd disklabel<br>
&nbsp;&nbsp;    c&nbsp;&nbsp;    toggle the dos compatibility flag<br>
&nbsp;&nbsp;    d&nbsp;&nbsp;    delete a partition<br>
&nbsp;&nbsp;    l&nbsp;&nbsp;    list known partition types<br>
&nbsp;&nbsp;    m&nbsp;&nbsp;    print this menu<br>
&nbsp;&nbsp;    n&nbsp;&nbsp;    add a new partition<br>
&nbsp;&nbsp;    o&nbsp;&nbsp;    create a new empty DOS partition table<br>
&nbsp;&nbsp;    p&nbsp;&nbsp;    print the partition table<br>
&nbsp;&nbsp;    q&nbsp;&nbsp;    quit without saving changes<br>
&nbsp;&nbsp;    s&nbsp;&nbsp;    create a new empty Sun disklabel<br>
&nbsp;&nbsp;<font color="#ff00ff"> t&nbsp;&nbsp;    change a partition's system id</font><br>
&nbsp;&nbsp;    u&nbsp;&nbsp;    change display/entry units<br>
&nbsp;&nbsp;    v&nbsp;&nbsp;    verify the partition table<br>
&nbsp;&nbsp;    w&nbsp;&nbsp;    write table to disk and exit<br>
&nbsp;&nbsp;    x&nbsp;&nbsp;    extra functionality (experts only)<br>
<br>
Command (m for help): <font color="#ff0000">t</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ---------------------------&gt;改变一个分区的ID<br>
Partition number (1-6):<font color="#ff0000"> 6</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ---------------------------&gt;选择第六个分区<br>
Hex code (type L to list codes): <font color="#ff0000">l</font>&nbsp;&nbsp;&nbsp;&nbsp;    ---------------------------&gt;查看分区代码<br>
<br>
0  Empty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    1e  Hidden W95 FAT1 80  Old Minix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    bf  Solaris&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
1  FAT12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    24  NEC DOS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    81  Minix / old Lin c1  DRDOS/sec (FAT-<br>
2  XENIX root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    39  Plan 9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    82  Linux swap / So c4  DRDOS/sec (FAT-<br>
3  XENIX usr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    3c  PartitionMagic  83  Linux&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    c6  DRDOS/sec (FAT-<br>
4  FAT16 &lt;32M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    40  Venix 80286&nbsp;&nbsp;&nbsp;&nbsp;    84  OS/2 hidden C:  c7  Syrinx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
5  Extended&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    41  PPC PReP Boot&nbsp;&nbsp;    85  Linux extended  da  Non-FS data&nbsp;&nbsp;&nbsp;    <br>
6  FAT16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    42  SFS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    86  NTFS volume set db  CP/M / CTOS / .<br>
7  HPFS/NTFS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    4d  QNX4.x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    87  NTFS volume set de  Dell Utility&nbsp;&nbsp;    <br>
8  AIX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    4e  QNX4.x 2nd part 88  Linux plaintext df  BootIt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
9  AIX bootable&nbsp;&nbsp;&nbsp;    4f  QNX4.x 3rd part <font color="#ff00ff">8e  Linux LVM </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    e1  DOS access&nbsp;&nbsp;&nbsp;&nbsp;    <br>
a  OS/2 Boot Manag 50  OnTrack DM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    93  Amoeba&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    e3  DOS R/O&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
b  W95 FAT32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    51  OnTrack DM6 Aux 94  Amoeba BBT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    e4  SpeedStor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
c  W95 FAT32 (LBA) 52  CP/M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    9f  BSD/OS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    eb  BeOS fs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
e  W95 FAT16 (LBA) 53  OnTrack DM6 Aux a0  IBM Thinkpad hi ee  EFI GPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
f  W95 Ext'd (LBA) 54  OnTrackDM6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    a5  FreeBSD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ef  EFI (FAT-12/16/<br>
10  OPUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    55  EZ-Drive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    a6  OpenBSD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    f0  Linux/PA-RISC b<br>
11  Hidden FAT12&nbsp;&nbsp;&nbsp;    56  Golden Bow&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    a7  NeXTSTEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    f1  SpeedStor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
12  Compaq diagnost 5c  Priam Edisk&nbsp;&nbsp;&nbsp;&nbsp;    a8  Darwin UFS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    f4  SpeedStor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
14  Hidden FAT16 &lt;3 61  SpeedStor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    a9  NetBSD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    f2  DOS secondary  <br>
16  Hidden FAT16&nbsp;&nbsp;&nbsp;    63  GNU HURD or Sys ab  Darwin boot&nbsp;&nbsp;&nbsp;&nbsp;    fb  VMware VMFS&nbsp;&nbsp;&nbsp;    <br>
17  Hidden HPFS/NTF 64  Novell Netware  b7  BSDI fs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    fc  VMware VMKCORE <br>
18  AST SmartSleep  65  Novell Netware  b8  BSDI swap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    fd  Linux raid auto<br>
1b  Hidden W95 FAT3 70  DiskSecure Mult bb  Boot Wizard hid fe  LANstep&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
1c  Hidden W95 FAT3 75  PC/IX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    be  Solaris boot&nbsp;&nbsp;&nbsp;    ff  BBT <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
Hex code (type L to list codes): <font color="#ff0000">8e</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ---------------------------&gt;选择linux LVM<br>
Changed system type of partition 6 to 8e (Linux LVM)<br>
<br>
Command (m for help): <font color="#ff0000">w</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ---------------------------&gt;保存退出<br>
The partition table has been altered!<br>
<br>
Calling ioctl() to re-read partition table.<br>
<br>
WARNING: Re-reading the partition table failed with error 16: Device or resource busy.<br>
The kernel still uses the old table.<br>
The new table will be used at the next reboot.<br>
Syncing disks.<br>
[root@localhost /]# <font color="#ff0000">partprobe</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ---------------------------&gt;让分区立退生效<br>
[root@localhost /]#<font color="#ff0000"> fdisk -l</font><br>
<br>
Disk /dev/sda: 146.8 GB, 146814976000 bytes<br>
255 heads, 63 sectors/track, 17849 cylinders<br>
Units = cylinders of 16065 * 512 = 8225280 bytes<br>
<br>
&nbsp;&nbsp;    Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Blocks&nbsp;&nbsp;    Id  System<br>
/dev/sda1&nbsp;&nbsp;    *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    3824&nbsp;&nbsp;&nbsp;    30716248+  83  Linux<br>
/dev/sda2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    3825&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    7648&nbsp;&nbsp;&nbsp;    30716280&nbsp;&nbsp;    83  Linux<br>
/dev/sda3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    7649&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    8170&nbsp;&nbsp;&nbsp;&nbsp;    4192965&nbsp;&nbsp;    82  Linux swap / Solaris<br>
/dev/sda4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    8171&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    17849&nbsp;&nbsp;&nbsp;    77746567+&nbsp;&nbsp;    5  Extended<br>
/dev/sda5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    8171&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    10603&nbsp;&nbsp;&nbsp;    19543041&nbsp;&nbsp;    83  Linux<br>
<font color="#ff00ff">/dev/sda6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    10604&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    10665&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    497983+  8e  Linux LVM</font>&nbsp;&nbsp;&nbsp;&nbsp;    ----------&gt;刚才新建的LVM分区<br>
[root@localhost /]# <font color="#ff0000">mke2fs -j /dev/sda6</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -----------&gt;格式化此分区<br>
mke2fs 1.39 (29-May-2006)<br>
Filesystem label=<br>
OS type: Linux<br>
Block size=1024 (log=0)<br>
Fragment size=1024 (log=0)<br>
124928 inodes, 497980 blocks<br>
24899 blocks (5.00%) reserved for the super user<br>
First data block=1<br>
Maximum filesystem blocks=67633152<br>
61 block groups<br>
8192 blocks per group, 8192 fragments per group<br>
2048 inodes per group<br>
Superblock backups stored on blocks: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    8193, 24577, 40961, 57345, 73729, 204801, 221185, 401409<br>
<br>
Writing inode tables: done&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
Creating journal (8192 blocks): done<br>
Writing superblocks and filesystem accounting information: done<br>
<br>
This filesystem will be automatically checked every 31 mounts or<br>
180 days, whichever comes first.  Use tune2fs -c or -i to override.<br>
<br>
<font color="#ff00ff"><strong>创建物理卷:<br>
<br>
</strong></font>#<font color="#ff0000">pvcreate /dev/sda6  </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -----------------&gt;将sda6创建物理卷<br>
#<font color="#ff0000">pvdisplay&nbsp;&nbsp;</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -----------------&gt;查看创建的物理卷<br>
<font color="#0000ff"><strong>
<div forimg="1"><img border="0" src="http://hiphotos.baidu.com/cxkipq/pic/item/3304d1c9efb11f357e3e6f4d.jpg" small="0" class="blogimg"></div>
</strong></font><br>
<font color="#ff00ff"><strong>创建卷组:</strong></font><br>
#vgcreate cxk /dev/sda6 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -----------------&gt;cxk为卷组名<br>
#vgdisplay&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -----------------&gt;查看创建的卷组<br>
<div forimg="1"><img border="0" src="http://hiphotos.baidu.com/cxkipq/pic/item/31e5d40645bd30ef7a89475d.jpg" small="0" class="blogimg"></div>
<br>
<font color="#ff00ff"><strong>创建逻辑卷:</strong></font><br>
#lvcreate -L 200M cxk -n cxktest &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -----------------&gt;创建一个200M的逻辑卷,cxk为刚才建立的卷组,cxktest为逻辑卷名称<br>
#lvdisplay&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -----------------&gt;查看创建的逻辑卷<br>
<div forimg="1"><img border="0" src="http://hiphotos.baidu.com/cxkipq/pic/item/090d79308204653beac4af20.jpg" small="0" class="blogimg"></div>
<font color="#ff00ff"><strong>格式化和挂载逻辑卷:</strong></font><br>
[root@localhost /]# <font color="#ff0000">mkfs.ext3 /dev/cxk/cxktest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </font>--------------------&gt;格式化逻辑卷<br>
mke2fs 1.39 (29-May-2006)<br>
Filesystem label=<br>
OS type: Linux<br>
Block size=1024 (log=0)<br>
Fragment size=1024 (log=0)<br>
51200 inodes, 204800 blocks<br>
10240 blocks (5.00%) reserved for the super user<br>
First data block=1<br>
Maximum filesystem blocks=67371008<br>
25 block groups<br>
8192 blocks per group, 8192 fragments per group<br>
2048 inodes per group<br>
Superblock backups stored on blocks: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    8193, 24577, 40961, 57345, 73729<br>
<br>
Writing inode tables: done&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>
Creating journal (4096 blocks): done<br>
Writing superblocks and filesystem accounting information: done<br>
<br>
This filesystem will be automatically checked every 24 mounts or<br>
180 days, whichever comes first.  Use tune2fs -c or -i to override.<br>
[root@localhost /]# <font color="#ff0000">mkdir /mnt/cxktest</font><br>
[root@localhost /]# <font color="#ff0000">mount /dev/cxk/cxktest /mnt/cxktest/</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    --------------&gt;挂载/dev/cxk/cxktest到/mnt/cxktest<br>
<br>
<font color="#ff00ff"><strong>二,逻辑卷的大小调整:</strong></font><br>
<br>
<font color="#0000ff"><strong>调大:</strong></font><br>
[root@localhost /]#<font color="#ff0000"> lvresize -L 300M /dev/cxk/cxktest </font><br>
  Extending logical volume cxktest to 300.00 MB<br>
  Logical volume cxktest successfully resized<br>
[root@localhost /]# <font color="#ff0000">lvdisplay </font><br>
  --- Logical volume ---<br>
  LV Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  /dev/cxk/cxktest<br>
  VG Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  cxk<br>
  LV UUID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  zJoxAt-VQ7c-HHm3-lOTM-1Bqd-WQy2-MzOkwB<br>
  LV Write Access&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  read/write<br>
  LV Status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  available<br>
  # open&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1<br>
  LV Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  300.00 MB<br>
  Current LE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  75<br>
  Segments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1<br>
  Allocation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  inherit<br>
  Read ahead sectors&nbsp;&nbsp;&nbsp;&nbsp;  auto<br>
  - currently set to&nbsp;&nbsp;&nbsp;&nbsp;  256<br>
  Block device&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  253:0<br>
<br>
<font color="#0000ff"><strong>调小:</strong></font><br>
调小的时间要先缩小文件系统,不然可能会造成资料丢失:<br>
[root@localhost /]# <font color="#ff0000">resize2fs /dev/cxk/cxktest 250M</font>&nbsp;&nbsp;&nbsp;&nbsp;  ----------&gt;调整文件系统的大小<br>
resize2fs 1.39 (29-May-2006)<br>
Filesystem at /dev/cxk/cxktest is mounted on /mnt/cxktest; on-line resizing required<br>
Performing an on-line resize of /dev/cxk/cxktest to 256000 (1k) blocks.<br>
The filesystem on /dev/cxk/cxktest is now 256000 blocks long.<br>
<br>
[root@localhost /]# <font color="#ff0000">lvresize -L 250M /dev/cxk/cxktest&nbsp;&nbsp;  </font>----------&gt;调整逻辑卷的大小<br>
  Rounding up size to full physical extent 252.00 MB<br>
  WARNING: Reducing active and open logical volume to 252.00 MB<br>
  THIS MAY DESTROY YOUR DATA (filesystem etc.)<br>
Do you really want to reduce cxktest? [y/n]: y<br>
  Reducing logical volume cxktest to 252.00 MB<br>
  Logical volume cxktest successfully resized<br>
[root@localhost /]# resize2fs /dev/cxk/cxktest 250M<br>
resize2fs 1.39 (29-May-2006)<br>
Filesystem at /dev/cxk/cxktest is mounted on /mnt/cxktest; on-line resizing required<br>
Performing an on-line resize of /dev/cxk/cxktest to 256000 (1k) blocks.<br>
The filesystem on /dev/cxk/cxktest is now 256000 blocks long.<br>
<br>
[root@localhost /]# <font color="#ff0000">lvresize -L 250M /dev/cxk/cxktest </font><br>
  Rounding up size to full physical extent 252.00 MB<br>
  WARNING: Reducing active and open logical volume to 252.00 MB<br>
  THIS MAY DESTROY YOUR DATA (filesystem etc.)<br>
Do you really want to reduce cxktest? [y/n]: y<br>
  Reducing logical volume cxktest to 252.00 MB<br>
  Logical volume cxktest successfully resized<br>
<br>
<font color="#ff00ff"><strong>逻辑卷的扩容:</strong></font><br>
我们先再新建一个物理卷,和上面同样的方法:<br>
[root@localhost /]# <font color="#ff0000">fdisk /dev/sda</font><br>
<br>
The number of cylinders for this disk is set to 17849.<br>
There is nothing wrong with that, but this is larger than 1024,<br>
and could in certain setups cause problems with:<br>
1) software that runs at boot time (e.g., old versions of LILO)<br>
2) booting and partitioning software from other OSs<br>
&nbsp;&nbsp;  (e.g., DOS FDISK, OS/2 FDISK)<br>
<br>
Command (m for help): <font color="#ff0000">n</font><br>
First cylinder (10666-17849, default 10666): <br>
Using default value 10666<br>
Last cylinder or +size or +sizeM or +sizeK (10666-17849, default 17849): +<font color="#ff0000">300M</font><br>
<br>
Command (m for help): <font color="#ff0000">t</font><br>
Partition number (1-7): <font color="#ff0000">7</font><br>
Hex code (type L to list codes): <font color="#ff0000">8e</font><br>
Changed system type of partition 7 to 8e (Linux LVM)<br>
<br>
Command (m for help):<font color="#ff0000"> w</font><br>
The partition table has been altered!<br>
<br>
Calling ioctl() to re-read partition table.<br>
<br>
WARNING: Re-reading the partition table failed with error 16: Device or resource busy.<br>
The kernel still uses the old table.<br>
The new table will be used at the next reboot.<br>
Syncing disks.<br>
[root@localhost /]# <font color="#ff0000">partprobe</font><br>
<br>
[root@localhost /]# pvcreate /dev/sda7<br>
  Physical volume &quot;/dev/sda7&quot; successfully created<br>
<br>
[root@localhost /]# <font color="#ff0000">vgextend cxk /dev/sda7</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  ----------&gt;将/dev/sda7增加到逻辑卷cxk中<br>
  Volume group &quot;cxk&quot; successfully extended<br>
[root@localhost /]# <font color="#ff0000">vgdisplay </font><br>
  --- Volume group ---<br>
  VG Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  cxk<br>
  System ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <br>
  Format&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  lvm2<br>
  Metadata Areas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  2<br>
  Metadata Sequence No  5<br>
  VG Access&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  read/write<br>
  VG Status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  resizable<br>
  MAX LV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  0<br>
  Cur LV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1<br>
  Open LV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1<br>
  Max PV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  0<br>
  Cur PV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  2<br>
  Act PV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  2<br>
  VG Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  772.00 MB<br>
  PE Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  4.00 MB<br>
  Total PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  193<br>
  Alloc PE / Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  63 / 252.00 MB<br>
  Free  PE / Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  130 / 520.00 MB<br>
  VG UUID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  2981Sv-yyqh-AFjB-mBeK-UKPd-SROT-Ivm5RE<br>
&nbsp;&nbsp;  <br>
<font color="#ff00ff"><strong>逻辑卷的删除:</strong></font><br>
<br>
[root@localhost /]#<font color="#ff0000"> umount /mnt/cxktest/</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  --------------------&gt;先umount分区<br>
[root@localhost /]# <font color="#ff0000">lvremove /dev/cxk/cxktest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </font>--------------------&gt;移除逻辑卷<br>
Do you really want to remove active logical volume &quot;cxktest&quot;? [y/n]: y<br>
  Logical volume &quot;cxktest&quot; successfully removed<br>
[root@localhost /]# <font color="#ff0000">vgremove cxk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  --------------------&gt;</font>移除卷组<br>
  Volume group &quot;cxk&quot; successfully removed<br>
[root@localhost /]# <font color="#ff0000">pvremove /dev/sda6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  ---------------------&gt;移除物理卷</font><br>
  Labels on physical volume &quot;/dev/sda6&quot; successfully wiped<br>
[root@localhost /]# <font color="#ff0000">pvremove /dev/sda7</font><br>
  Labels on physical volume &quot;/dev/sda7&quot; successfully wiped<br>
[root@localhost /]# <font color="#ff0000">fdisk /dev/sda</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  ---------------------&gt;删除物理分区<br>
<br>
The number of cylinders for this disk is set to 17849.<br>
There is nothing wrong with that, but this is larger than 1024,<br>
and could in certain setups cause problems with:<br>
1) software that runs at boot time (e.g., old versions of LILO)<br>
2) booting and partitioning software from other OSs<br>
&nbsp;&nbsp;  (e.g., DOS FDISK, OS/2 FDISK)<br>
<br>
Command (m for help): <font color="#ff0000">d</font><br>
Partition number (1-7):<font color="#ff0000"> 7</font><br>
<br>
Command (m for help): <font color="#ff0000">d</font><br>
Partition number (1-6): <font color="#ff0000">6</font><br>
<br>
Command (m for help): <font color="#ff0000">p</font><br>
<br>
Disk /dev/sda: 146.8 GB, 146814976000 bytes<br>
255 heads, 63 sectors/track, 17849 cylinders<br>
Units = cylinders of 16065 * 512 = 8225280 bytes<br>
<br>
&nbsp;&nbsp;  Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Blocks&nbsp;&nbsp;  Id  System<br>
/dev/sda1&nbsp;&nbsp;  *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  3824&nbsp;&nbsp;&nbsp;  30716248+  83  Linux<br>
/dev/sda2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  3825&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  7648&nbsp;&nbsp;&nbsp;  30716280&nbsp;&nbsp;  83  Linux<br>
/dev/sda3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  7649&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  8170&nbsp;&nbsp;&nbsp;&nbsp;  4192965&nbsp;&nbsp;  82  Linux swap / Solaris<br>
/dev/sda4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  8171&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  17849&nbsp;&nbsp;&nbsp;  77746567+&nbsp;&nbsp;  5  Extended<br>
/dev/sda5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  8171&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  10603&nbsp;&nbsp;&nbsp;  19543041&nbsp;&nbsp;  83  Linux<br>
<br>
Command (m for help): <font color="#ff0000">w</font><br>
The partition table has been altered!<br>
<br>
Calling ioctl() to re-read partition table.<br>
<br>
WARNING: Re-reading the partition table failed with error 16: Device or resource busy.<br>
The kernel still uses the old table.<br>
The new table will be used at the next reboot.<br>
Syncing disks.<br>
[root@localhost /]#</div></table><br><div class=opt id=blogOpt><a href="http://hi.baidu.com/cxkipq/blog/category/linux%B7%FE%CE%F1" title="查看该分类中所有文章">类别：linux服务</a><span class=x-blog-opt-sp>|</span><a href="#" onclick="addToShare(); return false;" target=_blank><img src=http://img.baidu.com/hi/apps/share/share_btn.gif border=0 align=absbottom></a><span class=x-blog-opt-sp>|</span><a title="将此文章添加到百度搜藏" href=http://cang.baidu.com/do/add onClick="return addToFavor();" target=_blank>添加到搜藏</a> <span class=x-blog-opt-sp>|</span><a title="将此文章分享到i贴吧" href="#" onclick="addToiTieba(); return false;" target=_blank>分享到i贴吧</a><span class=x-blog-opt-sp>|</span>浏览(<span id=result>785</span>)<span class=x-blog-opt-sp>|</span><a href="#send">评论</a>&nbsp;(<span id=blogCmtCount>0</span>)<script language=javascript>
										/*<![CDATA[*/
										var pre = [true,'RHEL下的文件系统自动挂载', 'RHEL下的文件系统自动挂载','\/cxkipq/blog/item/e1deb91374f1b2c6c3fd7881.html'];
										var post = [true,'winxp-win2k3 boot.ini参数详解---转载','winxp-win2k3 boot.ini参数详解-...', '\/cxkipq/blog/item/9ba355fab1bfd41e6c22eb78.html'];
										if(pre[0] || post[0]){
											document.write('<div style="height:5px;line-height:5px;">&nbsp;</div><div id="in_nav">');
											if(pre[0]){
												document.write('上一篇：<a href="' + pre[3] + '" title="' + pre[1] + '">' +  pre[2] + '</a>&nbsp;&nbsp;&nbsp;&nbsp;');
											}
											if(post[0]){
												document.write('下一篇：<a href="' + post[3] + '" title="' + post[1] + '">' +  post[2] + '</a>');
											}
											document.write('</div>');
										}
										/*]]>*/
									</script></div><div class=line>&nbsp;</div><style type="text/css">#in_related_doc a{text-decoration:none}</style><div id=in_related_tmp></div><div id=in_reader> <div class=tit>最近读者：</div></div><div class=line>&nbsp;</div><div id=in_comment> <a name=comment></a> <div class=tit>网友评论：</div> <span id=userCommentList></span> <div id=page></div></div><form action='/cxkipq/commit' id=blogCmtSubmitForm name=blogCmtSubmitForm method=post> <input type=hidden name=bdstoken value='159a0de2f990e4cff4c560e7c876c5be'> <input type=hidden name=ct value=8> <input type=hidden name=cm value=2> <input type=hidden name=spBlogID value='8b3be0ff13a4cf395d60083d'> <input type=hidden name=spBlogCmtID value=''> <input type=hidden name=spRefURL value=''></form><div id=in_send><a name=send></a><form name=form1 id=popFormSubmit action="/cxkipq/commit" method=post onSubmit="return checkcmtform()"><input type=hidden name=bdstoken value="159a0de2f990e4cff4c560e7c876c5be"><input type=hidden name=ct value=8><input type=hidden name=cm value=1><input type=hidden name=spBlogID value="8b3be0ff13a4cf395d60083d"><input type=hidden name=spRefURL id=spRefURL><script>
										    document.getElementById("spRefURL").value = window.location.href;
										</script><div class=tit>发表评论：</div><table width=620 border=0 cellspacing=5 cellpadding=0><tr><td class=f14>姓　名：<td>zhu__feng001<input name=spBlogCmtor id=spBlogCmtor style="display:none;" maxlength=50 value="zhu__feng001"><div style=display:none id=nmerror>*姓名最长为50字节</div><input type=hidden name=spBlogCmtURL id=spBlogCmtURL style=width:360px maxlength=128 onChange='checkeandu("spBlogCmtURL")' value='http://hi.baidu.com/zhu__feng001'><tr id=2_err style=display:none><td>&nbsp;<td><div class=error id=2_err_con></div><tr><td valign=top class=f14 id=reTitle>内　容：<td> <textarea name="spBlogCmtText" id="spBlogCmtText" style="width:520px;height:155px" tabindex="3" onFocus="hidErr(3);" ></textarea><tr id=3_err style=display:none><td>&nbsp;<td><div class=error id=3_err_con></div><tr id=share_blog> <td> <td valign=top><input type=checkbox id=shareBlog autocomplete=off style="vertical-align:text-bottom; margin-bottom:2px; margin-bottom:-2px\9;"><label for=shareBlog>同时将此文章分享给好友</label><input type=hidden id=shareBlogEchoback name=echoback><tr id=vercode><td valign=top class=f14>验证码：<td valign=top><input type=hidden name=spVcode value=""><input onFocus="f_focus()" id=spVerifyKey name=spVerifyKey size=6 maxlength=4 autocomplete=off tabindex=4> 请点击后输入四位验证码，字母不区分大小写<br><div id=yanzheng style=display:none><img id=verifypic width=120 height=40><wbr><a onFocus="this.blur();" href="#" onClick="return newverifypic();" title="看不清左边的字符">看不清?</a></div><tr><td valign=top class=f14>&nbsp;<td valign=top class=f14><input id=btn_ok name=btn_ok type=submit autocomplete=off value="发表评论" tabindex=5>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#" id=cancleReLink onClick="canclereply(); return false;" style="display:none; font-size:12px;color:#666;">取消回复</a></table></form></div><br></div><table width="100%" border=0 cellspacing=0 cellpadding=0 height=8><tr><td class=modbl width=7>&nbsp;<td class=modbc>&nbsp;<td class=modbr width=7>&nbsp;</table></div></div></div></div><div class=clearfix></div><div style="text-align:center;margin:30px auto 15px;font-family:Arial,simsun;font-size:12px;"><div style="margin:0 auto 6px;"><a href=http://help.baidu.com/question?prod_en=space target=_blank style="color:#00C;">帮助中心</a><span>&nbsp;|&nbsp;</span><a href="http://tieba.baidu.com/f?kw=%B0%D9%B6%C8%BF%D5%BC%E4&fr=wwwt" target=_blank style="color:#00C;">空间客服</a><span>&nbsp;|&nbsp;</span><a href=http://tousu.baidu.com/hi/ target=_blank style="color:#00C;">投诉中心</a><span>&nbsp;|&nbsp;</span><a href=http://www.baidu.com/search/hi_contract.html target=_blank style="color:#00C;">空间协议</a></div><div style="color:#7A77C8;">&copy;2012&nbsp;Baidu</div></div></center><ul id=blogCmtContentList style="display:none;"></ul><script>	var g_blogTitle = 'RHEL LVM详解';
		var g_blogId = '8b3be0ff13a4cf395d60083d';
		var g_isAllowCmt =  true ;
		var g_isByShared =  false ;
		var g_isAddRelate =  true ;
		var g_latestReader = [
									["http:\/\/hi.baidu.com\/kuangtu9988","656c6b75616e67747539393838ba06","kuangtu9988"],
									["http:\/\/hi.baidu.com\/hzykuku","3caa687a796b756b750e0d","hzykuku"],
									["http:\/\/hi.baidu.com\/zk_zhb","8b0f7a6b5f7a68622f02","zk_zhb"],
									["http:\/\/hi.baidu.com\/cuishizhu_1","1be66375697368697a68755f319203","cuishizhu_1"],
									["http:\/\/hi.baidu.com\/babylong123456","174e626162796c6f6e673132333435363f0c","babylong123456"],
									["http:\/\/hi.baidu.com\/xiandaoge","e7d77869616e64616f6765db0f","xiandaoge"],
									["http:\/\/hi.baidu.com\/zhende21ke","c8e27a68656e646532316b65460f","zhende21ke"],
									["http:\/\/hi.baidu.com\/丨陌灬路丶","b803d8adc4b0ece1c2b7d8bc0a25","丨陌灬路丶"],
								{}
			];
	</script><iframe id=submitiframe name=submitiframe src="http://hi.bdimg.com/static/cblog/html/blank.html?v=20111213" style="display:none;"></iframe><script src="http://hi.bdimg.com/static/base/js/conf/comment.js?v=1334907755.js"></script><script src="http://hi.bdimg.com/static/cblog/js/job/detailpage.js?v=ee7931cf.js"></script><script>
/*<![CDATA[*/
/*{cmt
    这个相当一个代理器  
  在这里想实现一种这种加载效果：加载时注册（用一个 初始化数据.数组 记录要绑定的ID），文档ready后，按需加载js+css资源，js加载完，就初始化据执行

  有个问题，有些结构是 动态 执行这个绑定的，可能会发生资源还没有加载的情况。可以考虑给初始化数据，加一个标志位，说明加载完未，如果未，则把数据push到 初始化数据中(因为是用 dom.onxxx 的方式，所以不怕多次对同一个ID执行的问题)


  }*/
var SP = SP || {};
if(!SP.mycard){
    SP.mycard = new (function(){
        var me = this;
        var _cancleAction = Session.isDrag;  /*{cmt 标记在特殊情况下，所有的注册都被abort 如拖动页面}*/
        var _list = [];
        var _sourceLoaded = false;    /*{cmt 这里用了一种资源加载结束后，回调的机制，这个标志资源是否加载结束}*/
        me.bind = function (_id){
            if(_cancleAction){  //abort
                return;
            }
            if(!_sourceLoaded){
                _list.push(_id);
            } else {
                baidu.space.mycard.bind(_id);
            }
        }
        me.init = function (_config){
            _cancleAction = !!_config.cancle;
        }
        me.onSourceLoaded = function (){
            _sourceLoaded = true;
            baidu.space.mycard.init({portrait: Session.visitorPortrait});
            for(var i=0,len=_list.length; i<len; i++){
                baidu.space.mycard.bind(_list[i]);
            }
        }
    })();
    baidu.dom.ready(function(){
        BdAjax.loadCSS('http://hi.bdimg.com/static/cblog/css/ui/ucard/ucard.css?v=50de96ca.css');
        BdAjax.loadJS('http://hi.bdimg.com/static/cblog/js/ui/ucard/ucard.js?v=fcbffbf8.js');
    });
}
SP.mycard.bind('m_blog');  /*{cmt 只有文档加载完才真正绑定，这里只是append记录 }*/
/*]]>*/
</script>