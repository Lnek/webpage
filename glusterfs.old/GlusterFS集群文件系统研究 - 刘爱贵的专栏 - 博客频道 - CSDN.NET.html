<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>GlusterFS集群文件系统研究 - 刘爱贵的专栏 - 博客频道 - CSDN.NET</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="GlusterFS是Scale-Out存储解决方案Gluster的核心，它是一个开源的分布式文件系统，具有强大的横向扩展能力，通过扩展能够支持数PB存储容量和处理数千客户端。GlusterFS借助TCP/IP或InfiniBand RDMA网络将物理分布的存储资源聚集在一起，使用单一全局命名空间来管理数据。GlusterFS基于可堆叠的用户空间设计，可为各种不同的数据负载提供优异的性能。GlusterFS是一个具有高扩展性、高性能、高可用性、可横向扩展的弹性分布式文件系统，在架构设计上非常有特点，比如无元数" />
<script src="http://static.blog.csdn.net/scripts/jquery.js" type="text/javascript"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/ad.js?v=1.1"></script>
<link rel="Stylesheet" type="text/css" href="http://static.blog.csdn.net/skin/light_blue/css/style.css?v=1.1" />
<link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="/liuben/rss/list" />
<link rel="shortcut icon" href="/favicon.ico" />
<link type="text/css" rel="stylesheet" href="http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/nobg.css" />
</head>
<body>
<script src="http://csdnimg.cn/pubnav/js/pub_topnav_2011.js"type="text/javascript"></script>

<div id="container">
<div id="header">
    <div class="header">
        <div id="blog_title">
            <h1><a href="http://blog.csdn.net/liuaigui">刘爱贵的专栏</a></h1>
            <h2>专注于存储技术的研究与开发，Glusterfs等分布式文件系统资深理论研究与实践者(QQ讨论群:152569412)</h2>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg"></div>
    <div class="navigator">
        <ul>
            <li id="btnContents"><a href="http://blog.csdn.net/liuaigui?viewmode=contents"><span><img src="http://static.blog.csdn.net/images/ico_list.gif">目录视图</span></a></li>
            <li id="btnView"><a href="http://blog.csdn.net/liuaigui?viewmode=list"><span><img src="http://static.blog.csdn.net/images/ico_summary.gif">摘要视图</span></a></li>
            <li id="btnRss"><a href="http://blog.csdn.net/liuaigui/rss/list"><span><img src="http://static.blog.csdn.net/images/ico_rss.gif">订阅</span></a></li>
</ul>
    </div>
</div>
<script type="text/javascript">
    var username = "liuben";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/liuaigui";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";
</script>

<div id="body">
<div id="main">
<div class="main">
<div class="notice"> 

<a href="http://blog.csdn.net/blogdevteam/article/details/9819385" target="_blank">
<font color=red>《这些年，我们读过的技术经典图书》主题有奖征文</font></a>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://www.csdn.net/article/2013-08-06/2816471" target="_blank"><font color=blue>专访李铁军：从医生到金山首席安全专家的转变 
</font></a>

&nbsp;&nbsp;&nbsp;&nbsp;



<a href="http://blog.csdn.net/adali/article/details/9813651"target="_blank">
<font color=blue>独一无二的职位：开源社区经理 
 </font></a>




</div>
<div id="article_details" class="details">
    <div class="article_title">
    <span class="ico ico_type_Original"></span>
    <h3>
        <span class="link_title"><a href="/liuaigui/article/details/6284551">
        GlusterFS集群文件系统研究
        </a></span>
    </h3>
</div>

        
    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="/liuben/article/category/616625">计算机理论</a> 
            <a href="/liuben/article/category/373751">数据存储</a> 
        </span>
    <span class="link_postdate">2011-03-28 21:01</span>
    <span class="link_view" title="阅读次数">33887人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments">评论</a>(153)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:collectArticle('GlusterFS集群文件系统研究','6284551');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report"  onclick="javascript:report(6284551,2);return false;" title="举报">举报</a></span>
    
</div>
<div class="tag2box"><a href='http://blog.csdn.net/tag/details.html?tag=%e9%9b%86%e7%be%a4' target=_blank>集群</a><a href='http://blog.csdn.net/tag/details.html?tag=%e5%ad%98%e5%82%a8' target=_blank>存储</a><a href='http://blog.csdn.net/tag/details.html?tag=%e6%9c%8d%e5%8a%a1%e5%99%a8' target=_blank>服务器</a><a href='http://blog.csdn.net/tag/details.html?tag=%e6%89%a9%e5%b1%95' target=_blank>扩展</a><a href='http://blog.csdn.net/tag/details.html?tag=%e5%ad%98%e5%82%a8%e7%b3%bb%e7%bb%9f' target=_blank>存储系统</a><a href='http://blog.csdn.net/tag/details.html?tag=%e7%ae%97%e6%b3%95' target=_blank>算法</a></div>


    
<div id="article_content" class="article_content">
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;"><a name="_Toc288580237"></a><a name="_Toc288579890"></a><a name="_Toc288579815"></a><a name="_Toc288579708"></a><a name="_Toc288579600"><span style="mso-bookmark: _Toc288579708;"><span style="mso-bookmark: _Toc288579815;"><span style="mso-bookmark: _Toc288579890;"><span style="mso-bookmark: _Toc288580237;"><span lang="EN-US"><span style="font-family: Calibri; font-size: small;">&nbsp;</span></span></span></span></span></span></a><span style="mso-bookmark: _Toc288579600;"><span style="mso-bookmark: _Toc288579708;"><span style="mso-bookmark: _Toc288579815;"><span style="mso-bookmark: _Toc288579890;"><span style="mso-bookmark: _Toc288580237;"><a name="_Toc289095873"><span style="line-height: 240%; font-family: 宋体; font-size: 26pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">GlusterFS</span></a></span></span></span></span></span><span style="mso-bookmark: _Toc288579600;"><span style="mso-bookmark: _Toc288579708;"><span style="mso-bookmark: _Toc288579815;"><span style="mso-bookmark: _Toc288579890;"><span style="mso-bookmark: _Toc288580237;"><span style="mso-bookmark: _Toc289095873;"><span style="line-height: 240%; font-family: 宋体; font-size: 26pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">集群文件系统研究</span></span></span></span></span></span></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><span style="font-size: 22pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><span style="font-size: 22pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><span style="font-size: 22pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><span style="font-size: 22pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><span style="font-family: 宋体; font-size: 22pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">刘爱贵</span><span lang="EN-US"><span style="font-family: Calibri; font-size: small;">&nbsp;</span></span>
<h2 style="page-break-before: always; line-height: 172%; text-indent: -21pt; margin: 13pt 0cm 13pt 21pt; mso-list: l2 level1 lfo1;"><a name="_Toc289095874"></a><a name="_Toc288580239"></a><a name="_Toc288579891"></a><a name="_Toc288579816"></a><a name="_Toc288579601"><span style="mso-bookmark: _Toc288579816;"><span style="mso-bookmark: _Toc288579891;"><span style="mso-bookmark: _Toc288580239;"><span style="mso-bookmark: _Toc289095874;"><span style="mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">1.</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span lang="EN-US"><span style="font-family: Cambria; font-size: large;">GlusterFS</span></span></span></span></span></span></a><span style="mso-bookmark: _Toc288579601;"><span style="mso-bookmark: _Toc288579816;"><span style="mso-bookmark: _Toc288579891;"><span style="mso-bookmark: _Toc288580239;"><span style="mso-bookmark: _Toc289095874;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;"><span style="font-size: large;">概述</span></span></span></span></span></span></span></h2>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span lang="EN-US"><a href="http://www.gluster.com/products/glusterfs/"><span style="font-size: 12pt;"><span style="font-family: Calibri; color: #0000ff;">GlusterFS</span></span></a></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">是</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Scale-Out</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储解决方案</span><span style="font-size: 12pt;" lang="EN-US"><a href="http://www.gluster.com/"><span style="font-family: Calibri; color: #0000ff;">Gluster</span></a></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的核心，它是一个开源的分布式文件系统，具有强大的横向扩展能力，通过扩展能够支持数</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">PB</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储容量和处理数千客户端。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">借助</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">TCP/IP</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">或</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">InfiniBand RDMA</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">网络将物理分布的存储资源聚集在一起，使用单一全局命名空间来管理数据。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">基于可堆叠的用户空间设计，可为各种不同的数据负载提供优异的性能。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><span style="font-size: 12pt; mso-no-proof: yes;" lang="EN-US"></span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;"><img src="http://hi.csdn.net/attachment/201103/25/44164_13010488121P5t.png" alt="" width="300" height="242" /></span></strong></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;">图<span lang="EN-US">1 GlusterFS</span>统一的挂载点<span lang="EN-US"></span></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">支持运行在任何标准</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">IP</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">网络上标准应用程序的标准客户端，如图</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">2</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">所示，用户可以在全局统一的命名空间中使用</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">NFS/CIFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">等标准协议来访问应用数据。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">使得用户可摆脱原有的独立、高成本的封闭存储系统，能够利用普通廉价的存储设备来部署可集中管理、横向扩展、虚拟化的存储池，存储容量可扩展至</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">TB/PB</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">级。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">主要特征如下：</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">扩展性和高性能</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">利用双重特性来提供几</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">TB</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">至数</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">PB</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的高扩展存储解决方案。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Scale-Out</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">架构允许通过简单地增加资源来提高存储容量和性能，磁盘、计算和</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">I/O</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">资源都可以独立增加，支持</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">10GbE</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">和</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">InfiniBand</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">等高速网络互联。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Gluster</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">弹性哈希（</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Elastic Hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）解除了</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">对元数据服务器的需求，消除了单点故障和性能瓶颈，真正实现了并行化数据访问。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">高可用性</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">可以对文件进行自动复制，如镜像或多次复制，从而确保数据总是可以访问，甚至是在硬件故障的情况下也能正常访问。自我修复功能能够把数据恢复到正确的状态，而且修复是以增量的方式在后台执行，几乎不会产生性能负载。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">没有设计自己的私有数据文件格式，而是采用操作系统中主流标准的磁盘文件系统（如</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">EXT3</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">ZFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）来存储文件，因此数据可以使用各种标准工具进行复制和访问。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">全局统一命名空间</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">全局统一命名空间将磁盘和内存资源聚集成一个单一的虚拟存储池，对上层用户和应用屏蔽了底层的物理硬件。存储资源可以根据需要在虚拟存储池中进行弹性扩展，比如扩容或收缩。当存储虚拟机映像时，存储的虚拟映像文件没有数量限制，成千虚拟机均通过单一挂载点进行数据共享。虚拟机</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">I/O</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">可在命名空间内的所有服务器上自动进行负载均衡，消除了</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">SAN</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">环境中经常发生的访问热点和性能瓶颈问题。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">弹性哈希算法</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">采用弹性哈希算法在存储池中定位数据，而不是采用集中式或分布式元数据服务器索引。在其他的</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Scale-Out</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储系统中，元数据服务器通常会导致</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">I/O</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">性能瓶颈和单点故障问题。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">中，所有在</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Scale-Out</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储配置中的存储系统都可以智能地定位任意数据分片，不需要查看索引或者向其他服务器查询。这种设计机制完全并行化了数据访问，实现了真正的线性性能扩展。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">弹性卷管理</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">数据储存在逻辑卷中，逻辑卷可以从虚拟化的物理存储池进行独立逻辑划分而得到。存储服务器可以在线进行增加和移除，不会导致应用中断。逻辑卷可以在所有配置服务器中增长和缩减，可以在不同服务器迁移进行容量均衡，或者增加和移除系统，这些操作都可在线进行。文件系统配置更改也可以实时在线进行并应用，从而可以适应工作负载条件变化或在线性能调优。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">基于标准协议</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Gluster</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储服务支持</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">NFS, CIFS, HTTP, FTP</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">以及</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Gluster</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">原生协议，完全与</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">POSIX</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">标准兼容。现有应用程序不需要作任何修改或使用专用</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">API</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，就可以对</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Gluster</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">中的数据进行访问。这在公有云环境中部署</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Gluster</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">时非常有用，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Gluster</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">对云服务提供商专用</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">API</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">进行抽象，然后提供标准</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">POSIX</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">接口。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<h2 style="text-indent: -21pt; margin: 13pt 0cm 13pt 21pt; mso-list: l2 level1 lfo1;"><a name="_Toc289095875"></a><a name="_Toc288580240"></a><a name="_Toc288579892"></a><a name="_Toc288579817"></a><a name="_Toc288579602"><span style="mso-bookmark: _Toc288579817;"><span style="mso-bookmark: _Toc288579892;"><span style="mso-bookmark: _Toc288580240;"><span style="mso-bookmark: _Toc289095875;"><span style="mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">2.</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;"><span style="font-size: large;">设计目标</span></span></span></span></span></span></a></h2>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的设计思想显著区别有现有并行</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">/</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">集群</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">/</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">分布式文件系统。如果</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">在设计上没有本质性的突破，难以在与</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Lustre</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">PVFS2</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Ceph</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">等的竞争中占据优势，更别提与</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GPFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">StorNext</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">ISILON</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">IBRIX</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">等具有多年技术沉淀和市场积累的商用文件系统竞争。其核心设计目标包括如下三个：</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">弹性存储系统（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Elasticity</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储系统具有弹性能力，意味着企业可以根据业务需要灵活地增加或缩减数据存储以及增删存储池中的资源，而不需要中断系统运行。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">设计目标之一就是弹性，允许动态增删数据卷、扩展或缩减数据卷、增删存储服务器等，不影响系统正常运行和业务服务。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">早期版本中弹性不足，部分管理工作需要中断服务，目前最新的</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">3.1.X</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">版本已经弹性十足，能够满足对存储系统弹性要求高的应用需求，尤其是对云存储服务系统而言意义更大。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">主要通过存储虚拟化技术和逻辑卷管理来实现这一设计目标。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">线性横向扩展（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Linear Scale-Out</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">线性扩展对于存储系统而言是非常难以实现的，通常系统规模扩展与性能提升之间是</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">LOG</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">对数曲线关系，因为同时会产生相应负载而消耗了部分性能的提升。现在的很多<a name="OLE_LINK2"></a><a name="OLE_LINK1"><span style="mso-bookmark: OLE_LINK2;">并行</span></a></span><span style="mso-bookmark: OLE_LINK1;"><span style="mso-bookmark: OLE_LINK2;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">/</span></span></span></span><span style="mso-bookmark: OLE_LINK1;"><span style="mso-bookmark: OLE_LINK2;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">集群</span></span></span><span style="mso-bookmark: OLE_LINK1;"><span style="mso-bookmark: OLE_LINK2;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">/</span></span></span></span><span style="mso-bookmark: OLE_LINK1;"><span style="mso-bookmark: OLE_LINK2;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">分布式文件系统</span></span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">都具很高的扩展能力，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Luster</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储节点可以达到</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">1000</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">个以上，客户端数量能够达到</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">25000</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">以上，这个扩展能力是非常强大的，但是</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Lustre</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">也不是线性扩展的。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">纵向扩展（</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Scale-Up</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）旨在提高单个节点的存储容量或性能，往往存在理论上或物理上的各种限制，而无法满足存储需求。横向扩展（</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Scale-Out</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）通过增加存储节点来提升整个系统的容量或性能，这一扩展机制是目前的存储技术热点，能有效应对容量、性能等存储需求。目前的并行</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">/</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">集群</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">/</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">分布式文件系统大多都具备横向扩展能力。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">是线性横向扩展架构，它通过横向扩展存储节点即可以获得线性的存储容量和性能的提升。因此，结合纵向扩展</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">可以获得多维扩展能力，增加每个节点的磁盘可增加存储容量，增加存储节点可以提高性能，从而将更多磁盘、内存、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">I/O</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">资源聚集成更大容量、更高性能的虚拟存储池。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">利用三种基本技术来获得线性横向扩展能力：</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l4 level1 lfo4;"><span style="font-size: 12pt; mso-fareast-font-family: Calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: Calibri; mso-bidi-theme-font: minor-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Calibri;">1)</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">消除元数据服务</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l4 level1 lfo4;"><span style="font-size: 12pt; mso-fareast-font-family: Calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: Calibri; mso-bidi-theme-font: minor-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Calibri;">2)</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">高效数据分布，获得扩展性和可靠性</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l4 level1 lfo4;"><span style="font-size: 12pt; mso-fareast-font-family: Calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: Calibri; mso-bidi-theme-font: minor-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Calibri;">3)</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">通过完全分布式架构的并行化获得性能的最大化</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo2;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">高可靠性（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Reliability</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">与</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">（</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Google File System</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）类似，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">可以构建在普通的服务器和存储设备之上，因此可靠性显得尤为关键。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">从设计之初就将可靠性纳入核心设计，采用了多种技术来实现这一设计目标。首先，它假设故障是正常事件，包括硬件、磁盘、网络故障以及管理员误操作造成的数据损坏等。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">设计支持自动复制和自动修复功能来保证数据可靠性，不需要管理员的干预。其次，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">利用了底层</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">EXT3/ZFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">等磁盘文件系统的日志功能来提供一定的数据可靠性，而没有自己重新发明轮子。再次，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">是无元数据服务器设计，不需要元数据的同步或者一致性维护，很大程度上降低了系统复杂性，不仅提高了性能，还大大提高了系统可靠性。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<h2 style="text-indent: -21pt; margin: 13pt 0cm 13pt 21pt; mso-list: l2 level1 lfo1;"><a name="_Toc289095876"></a><a name="_Toc288580241"></a><a name="_Toc288579893"></a><a name="_Toc288579818"></a><a name="_Toc288579603"><span style="mso-bookmark: _Toc288579818;"><span style="mso-bookmark: _Toc288579893;"><span style="mso-bookmark: _Toc288580241;"><span style="mso-bookmark: _Toc289095876;"><span style="mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">3.</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;"><span style="font-size: large;">技术特</span></span></span></span></span></span></a><span style="mso-bookmark: _Toc289095876;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;"><span style="font-size: large;">点</span></span></span></h2>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">在技术实现上与传统存储系统或现有其他分布式文件系统有显著不同之处，主要体现在如下几个方面。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">完全软件实现（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Software Only</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">认为存储是软件问题，不能够把用户局限于使用特定的供应商或硬件配置来解决。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">采用开放式设计，广泛支持工业标准的存储、网络和计算机设备，而非与定制化的专用硬件设备捆绑。对于商业客户，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">可以以虚拟装置的形式交付，也可以与虚拟机容器打包，或者是公有云中部署的映像。开源社区中，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">被大量部署在基于廉价闲置硬件的各种操作系统上，构成集中统一的虚拟存储资源池。简而言之，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">是开放的全软件实现，完全独立于硬件和操作系统。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">完整的存储操作系统栈（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Complete Storage Operating System Stack</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">不仅提供了一个分布式文件系统，而且还提供了许多其他重要的分布式功能，比如分布式内存管理、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">I/O</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">调度、软</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">和自我修复等。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">汲取了微内核架构的经验教训，借鉴了</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GNU/Hurd</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">操作系统的设计思想，在用户空间实现了完整的存储操作系统栈。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">用户空间实现（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">User Space</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">与传统的文件系统不同，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">在用户空间实现，这使得其安装和升级特别简便。另外，这也极大降低了普通用户基于源码修改</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的门槛，仅仅需要通用的</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">C</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">程序设计技能，而不需要特别的内核编程经验。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">模块化堆栈式架构（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Modular Stackable Architecture</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">采用模块化、堆栈式的架构，可通过灵活的配置支持高度定制化的应用环境，比如大文件存储、海量小文件存储、云存储、多传输协议应用等。每个功能以模块形式实现，然后以积木方式进行简单的组合，即可实现复杂的功能。比如，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Replicate</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">模块可实现</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID1</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Stripe</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">模块可实现</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID0</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，通过两者的组合可实现</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID10</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">和</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID01</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，同时获得高性能和高可靠性。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">原始数据格式存储（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Data Stored in Native Formats</span></span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">以原始数据格式（如</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">EXT3</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">EXT4</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">XFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">ZFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）储存数据，并实现多种数据自动修复机制。因此，系统极具弹性，即使离线情形下文件也可以通过其他标准工具进行访问。如果用户需要从</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">中迁移数据，不需要作任何修改仍然可以完全使用这些数据。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">无元数据服务设计（</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">No Metadata with the Elastic Hash Algorithm</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">对</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Scale-Out</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储系统而言，最大的挑战之一就是记录数据逻辑与物理位置的映像关系，即数据元数据，可能还包括诸如属性和访问权限等信息。传统分布式存储系统使用集中式或分布式元数据服务来维护元数据，集中式元数据服务会导致单点故障和性能瓶颈问题，而分布式元数据服务存在性能负载和元数据同步一致性问题。特别是对于海量小文件的应用，元数据问题是个非常大的挑战。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">独特地采用无元数据服务的设计，取而代之使用算法来定位文件，元数据和数据没有分离而是一起存储。集群中的所有存储系统服务器都可以智能地对文件数据分片进行定位，仅仅根据文件名和路径并运用算法即可，而不需要查询索引或者其他服务器。这使得数据访问完全并行化，从而实现真正的线性性能扩展。无元数据服务器极大提高了</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的性能、可靠性和稳定性。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<h2 style="text-indent: -21pt; margin: 13pt 0cm 13pt 21pt; mso-list: l2 level1 lfo1;"><a name="_Toc289095877"></a><a name="_Toc288580242"></a><a name="_Toc288579894"></a><a name="_Toc288579819"></a><a name="_Toc288579604"><span style="mso-bookmark: _Toc288579819;"><span style="mso-bookmark: _Toc288579894;"><span style="mso-bookmark: _Toc288580242;"><span style="mso-bookmark: _Toc289095877;"><span style="mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">4.</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;"><span style="font-size: large;">总体架构与设计</span></span></span></span></span></span></a></h2>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center">&nbsp;</p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;"><img src="http://hi.csdn.net/attachment/201103/25/44164_1301048808y1RY.png" alt="" width="806" height="556" /></span></strong></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;">图<span lang="EN-US">2 GlusterFS</span>架构和组成<span lang="EN-US"></span></span></strong></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">总体架构与组成部分如图</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">2</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">所示，它主要由存储服务器（</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Brick Server</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）、客户端以及</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">NFS/Samba</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储网关组成。不难发现，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">架构中没有元数据服务器组件，这是其最大的设计这点，对于提升整个系统的性能、可靠性和稳定性都有着决定性的意义。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">支持</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">TCP/IP</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">和</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">InfiniBand RDMA</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">高速网络互联，客户端可通过原生</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Glusterfs</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">协议访问数据，其他没有运行</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">客户端的终端可通过</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">NFS/CIFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">标准协议通过存储网关访问数据。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储服务器主要提供基本的数据存储功能，最终的文件数据通过统一的调度策略分布在不同的存储服务器上。它们上面运行着</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Glusterfsd</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">进行，负责处理来自其他组件的数据服务请求。如前所述，数据以原始格式直接存储在服务器的本地文件系统上，如</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">EXT3</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">EXT4</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">XFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">ZFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">等，运行服务时指定数据存储路径。多个存储服务器可以通过客户端或存储网关上的卷管理器组成集群，如</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Stripe</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">（</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID0</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Replicate</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">（</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID1</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）和</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">DHT</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">（分布式</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）存储集群，也可利用嵌套组合构成更加复杂的集群，如</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID10</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">由于没有了元数据服务器，客户端承担了更多的功能，包括数据卷管理、</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">I/O</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">调度、文件定位、数据缓存等功能。客户端上运行</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Glusterfs</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">进程，它实际是</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Glusterfsd</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的符号链接，利用</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">FUSE</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">（</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">File system in User Space</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">）模块将</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">挂载到本地文件系统之上，实现</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">POSIX</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">兼容的方式来访问系统数据。在最新的</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">3.1.X</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">版本中，客户端不再需要独立维护卷配置信息，改成自动从运行在网关上的</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">glusterd</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">弹性卷管理服务进行获取和更新，极大简化了卷管理。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">客户端负载相对传统分布式文件系统要高，包括</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">CPU</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">占用率和内存占用。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储网关提供弹性卷管理和</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">NFS/CIFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">访问代理功能，其上运行</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Glusterd</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">和</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Glusterfs</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">进程，两者都是</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Glusterfsd</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">符号链接。卷管理器负责逻辑卷的创建、删除、容量扩展与缩减、容量平滑等功能，并负责向客户端提供逻辑卷信息及主动更新通知功能等。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS 3.1.X</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">实现了逻辑卷的弹性和自动化管理，不需要中断数据服务或上层应用业务。对于</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Windows</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">客户端或没有安装</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的客户端，需要通过</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">NFS/CIFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">代理网关来访问，这时网关被配置成</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">NFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">或</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Samba</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">服务器。相对原生客户端，网关在性能上要受到</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">NFS/Samba</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的制约。</span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center">&nbsp;</p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;"><img src="http://hi.csdn.net/attachment/201103/25/44164_1301048817l76J.png" alt="" width="844" height="563" /></span></strong></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;">图<span lang="EN-US">3 GlusterFS</span>模块化堆栈式设计<span lang="EN-US"></span></span></strong></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span></span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">GlusterFS</span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">是模块化堆栈式的架构设计，如图<span lang="EN-US">3</span>所示。模块称为<span lang="EN-US">Translator</span>，是<span lang="EN-US">GlusterFS</span>提供的一种强大机制，借助这种良好定义的接口可以高效简便地扩展文件系统的功能。服务端与客户端模块接口是兼容的，同一个<span lang="EN-US">translator</span>可同时在两边加载。每个<span lang="EN-US">translator</span>都是<span lang="EN-US">SO</span>动态库，运行时根据配置动态加载。每个模块实现特定基本功能，<span lang="EN-US">GlusterFS</span>中所有的功能都是通过<span lang="EN-US">translator</span>实现，比如<span lang="EN-US">Cluster, Storage, Performance, Protocol, Features</span>等，基本简单的模块可以通过堆栈式的组合来实现复杂的功能。这一设计思想借鉴了<span lang="EN-US">GNU/Hurd</span>微内核的虚拟文件系统设计，可以把对外部系统的访问转换成目标系统的适当调用。大部分模块都运行在客户端，比如合成器、<span lang="EN-US">I/O</span>调度器和性能优化等，服务端相对简单许多。客户端和存储服务器均有自己的存储栈，构成了一棵<span lang="EN-US">Translator</span>功能树，应用了若干模块。模块化和堆栈式的架构设计，极大降低了系统设计复杂性，简化了系统的实现、升级以及系统维护。<span lang="EN-US"></span></span></p>
<h2 style="text-indent: -21pt; margin: 13pt 0cm 13pt 21pt; mso-list: l2 level1 lfo1;"><a name="_Toc289095878"></a><a name="_Toc288580244"></a><a name="_Toc288579896"></a><a name="_Toc288579821"></a><a name="_Toc288579606"><span style="mso-bookmark: _Toc288579821;"><span style="mso-bookmark: _Toc288579896;"><span style="mso-bookmark: _Toc288580244;"><span style="mso-bookmark: _Toc289095878;"><span style="mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">5.</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;"><span style="font-size: large;">弹性哈希算法</span></span></span></span></span></span></a></h2>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">对于分布式系统而言，元数据处理是决定系统扩展性、性能以及稳定性的关键。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">另辟蹊径，彻底摒弃了元数据服务，使用弹性哈希算法代替传统分布式文件系统中的集中或分布式元数据服务。这根本性解决了元数据这一难题，从而获得了接近线性的高扩展性，同时也提高了系统性能和可靠性。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">使用算法进行数据定位，集群中的任何服务器和客户端只需根据路径和文件名就可以对数据进行定位和读写访问。换句话说，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">不需要将元数据与数据进行分离，因为文件定位可独立并行化进行。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">中数据访问流程如下：</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">1</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、计算</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">值，输入参数为文件路径和文件名；</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">2</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、根据</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">值在集群中选择子卷（存储服务器），进行文件定位；</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">3</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">、对所选择的子卷进行数据访问。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">目前使用</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Davies-Meyer</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">算法计算文件名</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">值，获得一个</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">32</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">位整数。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Davies-Meyer</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">算法具有非常好的</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">分布性，计算效率很高。假设逻辑卷中的存储服务器有</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">N</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">个，则</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">32</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">位整数空间被平均划分为</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">N</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">个连续子空间，每个空间分别映射到一个存储服务器。这样，计算得到的</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">32</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">位</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">值就会被投射到一个存储服务器，即我们要选择的子卷。难道真是如此简单？现在让我们来考虑一下存储节点加入和删除、文件改名等情况，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">如何解决这些问题而具备弹性的呢？</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">逻辑卷中加入一个新存储节点，如果不作其他任何处理，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">值映射空间将会发生变化，现有的文件目录可能会被重新定位到其他的存储服务器上，从而导致定位失败。解决问题的方法是对文件目录进行重新分布，把文件移动到正确的存储服务器上去，但这大大加重了系统负载，尤其是对于已经存储大量的数据的海量存储系统来说显然是不可行的。另一种方法是使用一致性哈希算法，修改新增节点及相邻节点的</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">映射空间，仅需要移动相邻节点上的部分数据至新增节点，影响相对小了很多。然而，这又带来另外一个问题，即系统整体负载不均衡。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">没有采用上述两种方法，而是设计了更为弹性的算法。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的哈希分布是以目录为基本单位的，文件的父目录利用扩展属性记录了子卷映射信息，其下面子文件目录在父目录所属存储服务器中进行分布。由于文件目录事先保存了分布信息，因此新增节点不会影响现有文件存储分布，它将从此后的新创建目录开始参与存储分布调度。这种设计，新增节点不需要移动任何文件，但是负载均衡没有平滑处理，老节点负载较重。</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">在设计中考虑了这一问题，在新建文件时会优先考虑容量负载最轻的节点，在目标存储节点上创建文件链接直向真正存储文件的节点。另外，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">弹性卷管理工具可以在后台以人工方式来执行负载平滑，将进行文件移动和重新分布，此后所有存储服务器都会均会被调度。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">目前对存储节点删除支持有限，还无法做到完全无人干预的程度。如果直接删除节点，那么所在存储服务器上的文件将无法浏览和访问，创建文件目录也会失败。当前人工解决方法有两个，一是将节点上的数据重新复制到</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">中，二是使用新的节点来替换删除节点并保持原有数据。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">如果一个文件被改名，显然</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">hash</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">算法将产生不同的值，非常可能会发生文件被定位到不同的存储服务器上，从而导致文件访问失败。采用数据移动的方法，对于大文件是很难在实时完成的。为了不影响性能和服务中断，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">采用了文件链接来解决文件重命名问题，在目标存储服务器上创建一个链接指向实际的存储服务器，访问时由系统解析并进行重定向。另外，后台同时进行文件迁移，成功后文件链接将被自动删除。对于文件移动也作类似处理，好处是前台操作可实时处理，物理数据迁移置于后台选择适当时机执行。</span><span style="font-size: 12pt;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center">&nbsp;</p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;"><img src="http://hi.csdn.net/attachment/201103/25/44164_1301048819u0Js.png" alt="" width="900" height="648" /></span></strong></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;">图<span lang="EN-US">4 GlusterFS</span>弹性卷管理<span lang="EN-US"></span></span></strong></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span></span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">弹性哈希算法为文件分配逻辑卷，那么<span lang="EN-US">GlusterFS</span>如何为逻辑卷分配物理卷呢？<span lang="EN-US">GlusterFS3.1.X</span>实现了真正的弹性卷管理，如图<span lang="EN-US">4</span>所示。存储卷是对底层硬件的抽象，可以根据需要进行扩容和缩减，以及在不同物理系统之间进行迁移。存储服务器可以在线增加和移除，并能在集群之间自动进行数据负载平衡，数据总是在线可用，没有应用中断。文件系统配置更新也可以在线执行，所作配置变动能够快速动态地在集群中传播，从而自动适应负载波动和性能调优。<span lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">弹性哈希算法本身并没有提供数据容错功能，<span lang="EN-US">GlusterFS</span>使用镜像或复制来保证数据可用性，推荐使用镜像或<span lang="EN-US">3</span>路复制。复制模式下，存储服务器使用同步写复制到其他的存储服务器，单个服务器故障完全对客户端透明。此外，<span lang="EN-US">GlusterFS</span>没有对复制数量进行限制，读被分散到所有的镜像存储节点，可以提高读性能。弹性哈希算法分配文件到唯一的逻辑卷，而复制可以保证数据至少保存在两个不同存储节点，两者结合使得<span lang="EN-US">GlusterFS</span>具备更高的弹性。<span lang="EN-US"></span></span></p>
<h2 style="text-indent: -21pt; margin: 13pt 0cm 13pt 21pt; mso-list: l2 level1 lfo1;"><a name="_Toc289095879"></a><a name="_Toc288580245"></a><a name="_Toc288579897"></a><a name="_Toc288579822"></a><a name="_Toc288579607"><span style="mso-bookmark: _Toc288579822;"><span style="mso-bookmark: _Toc288579897;"><span style="mso-bookmark: _Toc288580245;"><span style="mso-bookmark: _Toc289095879;"><span style="mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">6.</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span lang="EN-US"><span style="font-family: Cambria; font-size: large;">Translators</span></span></span></span></span></span></a></h2>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">如前所述，</span><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Translators</span></span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">是</span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">GlusterFS</span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">提供的一种强大文件系统功能扩展机制，这一设计思想借鉴于<span lang="EN-US">GNU/Hurd</span>微内核操作系统。<span lang="EN-US">GlusterFS</span>中所有的功能都通过<span lang="EN-US">Translator</span>机制实现，运行时以动态库方式进行加载，服务端和客户端相互兼容。<span lang="EN-US">GlusterFS 3.1.X</span>中，主要包括以下几类<span lang="EN-US">Translator</span>：<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（1）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Cluster</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：存储集群分布，目前有<span lang="EN-US">AFR, DHT, Stripe</span>三种方式<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（2）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Debug</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：跟踪<span lang="EN-US">GlusterFS</span>内部函数和系统调用<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（3）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Encryption</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：简单的数据加密实现<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（4）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Features</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：访问控制、锁、<span lang="EN-US">Mac</span>兼容、静默、配额、只读、回收站等<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（5）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Mgmt</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：弹性卷管理<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（6）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Mount</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：<span lang="EN-US">FUSE</span>接口实现<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（7）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Nfs</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：内部<span lang="EN-US">NFS</span>服务器<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（8）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Performance</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：<span lang="EN-US">io-cache, io-threads, quick-read, read-ahead, stat-prefetch, sysmlink-cache, write-behind</span>等性能优化<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（9）<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Protocol</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：服务器和客户端协议实现<span lang="EN-US"></span></span></p>
<p class="MsoListParagraph" style="text-indent: -36pt; margin: 0cm 0cm 0pt 57pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo5;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-family: 宋体; mso-bidi-theme-font: minor-fareast;" lang="EN-US"><span style="mso-list: Ignore;">（10）</span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Storage</span></strong><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">：底层文件系统<span lang="EN-US">POSIX</span>接口实现<span lang="EN-US"></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">这里我们重点介绍一下<span lang="EN-US">Cluster Translators</span>，它是实现<span lang="EN-US">GlusterFS</span>集群存储的核心，它包括<span lang="EN-US">AFR</span>（<span lang="EN-US">Automatic File Replication</span>）、<span lang="EN-US">DHT</span>（<span lang="EN-US">Distributed Hash Table</span>）和<span lang="EN-US">Stripe</span>三种类型。<span lang="EN-US"></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">AFR</span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">相当于<span lang="EN-US">RAID1</span>，同一文件在多个存储节点上保留多份，主要用于实现高可用性以及数据自动修复。<span lang="EN-US">AFR</span>所有子卷上具有相同的名字空间，查找文件时从第一个节点开始，直到搜索成功或最后节点搜索完毕。读数据时，<span lang="EN-US">AFR</span>会把所有请求调度到所有存储节点，进行负载均衡以提高系统性能。写数据时，首先需要在所有锁服务器上对文件加锁，默认第一个节点为锁服务器，可以指定多个。然后，<span lang="EN-US">AFR</span>以日志事件方式对所有服务器进行写数据操作，成功后删除日志并解锁。<span lang="EN-US">AFR</span>会自动检测并修复同一文件的数据不一致性，它使用更改日志来确定好的数据副本。自动修复在文件目录首次访问时触发，如果是目录将在所有子卷上复制正确数据，如果文件不存则创建，文件信息不匹配则修复，日志指示更新则进行更新。<span lang="EN-US"></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">DHT</span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">即上面所介绍的弹性哈希算法，它采用<span lang="EN-US">hash</span>方式进行数据分布，名字空间分布在所有节点上。查找文件时，通过弹性哈希算法进行，不依赖名字空间。但遍历文件目录时，则实现较为复杂和低效，需要搜索所有的存储节点。单一文件只会调度到唯一的存储节点，一旦文件被定位后，读写模式相对简单。<span lang="EN-US">DHT</span>不具备容错能力，需要借助<span lang="EN-US">AFR</span>实现高可用性<span lang="EN-US">, </span>如图<span lang="EN-US">5</span>所示应用案例。<span lang="EN-US"></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">Stripe</span><span style="font-family: 宋体; font-size: 12pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">相当于<span lang="EN-US">RAID0</span>，即分片存储，文件被划分成固定长度的数据分片以<span lang="EN-US">Round-Robin</span>轮转方式存储在所有存储节点。<span lang="EN-US">Stripe</span>所有存储节点组成完整的名字空间，查找文件时需要询问所有节点，这点非常低效。读写数据时，<span lang="EN-US">Stripe</span>涉及全部分片存储节点，操作可以在多个节点之间并发执行，性能非常高。<span lang="EN-US">Stripe</span>通常与<span lang="EN-US">AFR</span>组合使用，构成<span lang="EN-US">RAID10/RAID01</span>，同时获得高性能和高可用性，当然存储利用率会低于<span lang="EN-US">50%</span>。<span lang="EN-US"></span></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><a name="_Toc288580250"></a><a name="_Toc288579902"></a><a name="_Toc288579827"></a><a name="_Toc288579612"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"></span></span></span></a><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;"><img src="http://hi.csdn.net/attachment/201103/25/44164_13010488219ILf.png" alt="" /></span></strong></span></span></span></span></p>
<p class="MsoNormal" style="text-align: center; margin: 0cm 0cm 0pt;" align="center"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 华文仿宋; font-size: 12pt;">图<span lang="EN-US">5</span>　<span lang="EN-US">GlusterFS</span>应用案例：<span lang="EN-US">AFR+DHT</span></span></strong></span></span></span></span></p>
<h2 style="text-indent: -21pt; margin: 13pt 0cm 13pt 21pt; mso-list: l2 level1 lfo1;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><a name="_Toc289095880"><span style="mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">7.</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;"><span style="font-size: large;">设计讨论</span></span></a></span></span></span></span></h2>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">是一个具有高扩展性、高性能、高可用性、可横向扩展的弹性分布式文件系统，在架构设计上非常有特点，比如无元数据服务器设计、堆栈式架构等。然而，存储应用问题是很复杂的，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">也不可能满足所有的存储需求，设计实现上也一定有考虑不足之处，下面我们作简要分析。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">无元数据服务器</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;"> vs </span></span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">元数据服务器</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></span></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">无元数据服务器设计的好处是没有单点故障和性能瓶颈问题，可提高系统扩展性、性能、可靠性和稳定性。对于海量小文件应用，这种设计能够有效解决元数据的难点问题。它的负面影响是，数据一致问题更加复杂，文件目录遍历操作效率低下，缺乏全局监控管理功能。同时也导致客户端承担了更多的职能，比如文件定位、名字空间缓存、逻辑卷视图维护等等，这些都增加了客户端的负载，占用相当的</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">CPU</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">和内存。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">用户空间</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;"> vs </span></span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">内核空间</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></span></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">用户空间实现起来相对要简单许多，对开发者技能要求较低，运行相对安全。用户空间效率低，数据需要多次与内核空间交换，另外</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">借助</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">FUSE</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">来实现标准文件系统接口，性能上又有所损耗。内核空间实现可以获得很高的数据吞吐量，缺点是实现和调试非常困难，程序出错经常会导致系统崩溃，安全性低。纵向扩展上，内核空间要优于用户空间，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">有横向扩展能力来弥补。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">堆栈式</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;"> vs </span></span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">非堆栈式</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></span></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">这有点像操作系统的微内核设计与单一内核设计之争。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">堆栈式设计思想源自</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GNU/Hurd</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">微内核操作系统，具有很强的系统扩展能力，系统设计实现复杂性降低很多，基本功能模块的堆栈式组合就可以实现强大的功能。查看</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">卷配置文件我们可以发现，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">translator</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">功能树通常深达</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">10</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">层以上，一层一层进行调用，效率可见一斑。非堆栈式设计可看成类似</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Linux</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的单一内核设计，系统调用通过中断实现，非常高效。后者的问题是系统核心臃肿，实现和扩展复杂，出现问题调试困难。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">原始存储格式</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;"> vs </span></span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">私有存储格式</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></span></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">使用原始格式存储文件或数据分片，可以直接使用各种标准的工具进行访问，数据互操作性好，迁移和数据管理非常方便。然而，数据安全成了问题，因为数据是以平凡的方式保存的，接触数据的人可以直接复制和查看。这对很多应用显然是不能接受的，比如云存储系统，用户特别关心数据安全，这也是影响公有云存储发展的一个重要原因。私有存储格式可以保证数据的安全性，即使泄露也是不可知的。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">要实现自己的私有格式，在设计实现和数据管理上相对复杂一些，也会对性能产生一定影响。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">大文件</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;"> vs </span></span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">小文件</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></span></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">适合大文件还是小文件存储？弹性哈希算法和</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">Stripe</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">数据分布策略，移除了元数据依赖，优化了数据分布，提高数据访问并行性，能够大幅提高大文件存储的性能。对于小文件，无元数据服务设计解决了元数据的问题。但</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">并没有在</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">I/O</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">方面作优化，在存储服务器底层文件系统上仍然是大量小文件，本地文件系统元数据访问是一个瓶颈，数据分布和并行性也无法充分发挥作用。因此，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">适合存储大文件，小文件性能较差，还存在很大优化空间。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<p class="MsoListParagraph" style="text-indent: -21pt; margin: 0cm 0cm 0pt 42pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo3;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: Wingdings; font-size: 12pt; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN-US"><span style="mso-list: Ignore;">l<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">可用性</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;"> vs </span></span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">存储利用率</span></strong></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt;" lang="EN-US"></span></strong></span></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">使用复制技术来提供数据高可用性，复制数量没有限制，自动修复功能基于复制来实现。可用性与存储利用率是一个矛盾体，可用性高存储利用率就低，反之亦然。采用复制技术，存储利用率为</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">1/</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">复制数，镜像是</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">50%</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，三路复制则只有</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">33%</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">。其实，可以有方法来同时提高可用性和存储利用率，比如</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID5</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的利用率是</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">(n-1)/n</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">RAID6</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">是</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">(n-2)/n</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，而纠删码技术可以提供更高的存储利用率。但是，鱼和熊掌不可得兼，它们都会对性能产生较大影响。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">另外，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">目前的代码实现不够好，系统不够稳定，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">BUGS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">数量相对还比较多。从其官方网站的部署情况来看，测试用户非常多，但是真正在生产环境中的应用较少，存储部署容量几</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">TB</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">－几十</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">TB</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的占很大比率，数百</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">TB</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">－</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">PB</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">级案例非常少。这也可以从另一个方面说明，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">目前还不够稳定，需要更长的时间来检验。然而不可否认，</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"><span style="font-family: Calibri;">GlusterFS</span></span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-family: 宋体; font-size: 12pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">是一个有着光明前景的集群文件系统，线性横向扩展能力使它具有天生的优势，尤其是对于云存储系统。</span></span></span></span></span><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><span style="font-size: 12pt;" lang="EN-US"></span></span></span></span></span></p>
<h2 style="text-indent: -21pt; margin: 13pt 0cm 13pt 21pt; mso-list: l2 level1 lfo1;"><span style="mso-bookmark: _Toc288579612;"><span style="mso-bookmark: _Toc288579827;"><span style="mso-bookmark: _Toc288579902;"><span style="mso-bookmark: _Toc288580250;"><a name="_Toc289095881"><span style="mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">8.</span><span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;"><span style="font-size: large;">参考文献</span></span></a></span></span></span></span></h2>
<p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan;" align="left"><span lang="EN-US"><span style="font-family: Calibri; font-size: small;">[1] Gluster: </span><a href="http://www.gluster.com/products/gluster-file-system-architecture-white-paper/"><span style="font-family: Calibri; color: #0000ff; font-size: small;">http://www.gluster.com/products/gluster-file-system-architecture-white-paper/</span></a></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: Calibri; font-size: small;">[2] Gluster: </span><a href="http://www.gluster.com/products/performance-in-a-gluster-system-white-paper/"><span style="font-family: Calibri; color: #0000ff; font-size: small;">http://www.gluster.com/products/performance-in-a-gluster-system-white-paper/</span></a></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: Calibri; font-size: small;">[3] Gluster: </span><a href="http://gluster.com/community/documentation/index.php/Main_Page"><span style="font-family: Calibri; color: #0000ff; font-size: small;">http://gluster.com/community/documentation/index.php/Main_Page</span></a></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: Calibri; font-size: small;">[4] GlusterFS-Design: </span><a href="http://edwyseguru.wordpress.com/2010/06/11/glusterfs-design/"><span style="font-family: Calibri; color: #0000ff; font-size: small;">http://edwyseguru.wordpress.com/2010/06/11/glusterfs-design/</span></a></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: Calibri; font-size: small;">[5] GlusterFS users: </span><a href="http://www.gluster.org/gluster-users/"><span style="font-family: Calibri; color: #0000ff; font-size: small;">http://www.gluster.org/gluster-users/</span></a></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: Calibri; font-size: small;">[6] GlusterFS sources: </span><a href="http://download.gluster.com/pub/gluster/glusterfs/3.1/"><span style="font-family: Calibri; color: #0000ff; font-size: small;">http://download.gluster.com/pub/gluster/glusterfs/3.1/</span></a></span></p>
<p>&nbsp;</p>
</p>
</div>

<div class="share_buttons" id="sharePanel"></div>
<!--192.168.100.33-->
<div class="article_next_prev">
    <li class="prev_article"><span>上一篇：</span><a href="/liuaigui/article/details/6278774">横向扩展（Scale-Out）存储</a></li>
    <li class="next_article"><span>下一篇：</span><a href="/liuaigui/article/details/6324133">深入理解数据压缩与重复数据删除</a></li>
</div>


    
</div>
<div id="ad_cen">
<script type="text/javascript" >BAIDU_CLB_SLOT_ID = "117306";</script>
<script type="text/javascript" src="http://cbjs.baidu.com/js/o.js"></script>
</div>
<script type="text/javascript">
    //new Ad(4, 'ad_cen');
</script>
<div id="comment_title" class="panel_head">查看评论<a name="comments"></a></div>
<div id="comment_list"></div>
<div id="comment_bar"></div>
<div id="comment_form"></div>
<div class="announce">* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
<script type="text/javascript">
    var fileName = '6284551';
    var commentscount = 153;
    var islock = false
</script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/comment.js"></script>
<div id="ad_bot"></div>
<script type="text/javascript">
    new Ad(5, 'ad_bot');
</script>
<div id="report_dialog"></div>

<div id="d-top" style="display:none;">
<a id="d-top-a" href="#" title="回到顶部">
<img src="http://static.blog.csdn.net/images/top.png" alt="TOP" /></a>
</div>
<script type="text/javascript">
    $(function(){
        var d_top=$('#d-top');
        document.onscroll=function(){
            var scrTop=(document.body.scrollTop||document.documentElement.scrollTop);
            if(scrTop>500){
                d_top.show();
            }else{
                d_top.hide();
            }
        }
        $('#d-top-a').click(function(){
            scrollTo(0,0);
            this.blur();
            return false;
        });
    });
</script>

<div class="clear"></div>
</div>
</div>

<div id="side">
<div class="side">
<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/liuben" target="_blank">
    <img src="http://avatar.csdn.net/A/A/A/1_liuben.jpg" title="访问我的空间" style="max-width:90%"/>
    </a>
    <br />
    <span><a href="http://my.csdn.net/liuben" class="user_name" target="_blank">liuben</a></span>
</div>
<div class="interact">
<a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>
<a href="javascript:void(0);" class="letter" onclick="loginto(1)" title="[发私信]"></a>
</div>
<div id="blog_medal">
</div>
<ul id="blog_rank">
    <li>访问：<span>643232次</span></li>
    <li>积分：<span>7286分</span></li>
    <li>排名：<span>第500名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>132篇</span></li>
    <li>转载：<span>16篇</span></li>
    <li>译文：<span>0篇</span></li>
    <li>评论：<span>1825条</span></li>
</ul>
</ul>
</div>

<div class="panel">
<ul class="panel_body" style="padding:0;">
<script type="text/javascript" src="http://cbjs.baidu.com/js/m.js"></script> 
<script type="text/javascript"> 
BAIDU_CLB_preloadSlots("724643","117306"); 
</script>
<script type="text/javascript">BAIDU_CLB_fillSlot("724643");</script> 
</ul>
</div>
<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字" /></span>
        <input id="btnSubmit" type="submit" value="搜索" title="search in blog" />
        <input type="hidden" name="q" id="inputQ" />
        <input type="hidden" name="t" value="blog" />
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div><div id="panel_Category" class="panel">
<ul class="panel_head"><span>文章分类</span></ul>
<ul class="panel_body">
<li>
<a href="http://blog.csdn.net/liuaigui/article/category/378183">C/C++</a><span>(26)</span>
</li>
<li>
<a href="http://blog.csdn.net/liuaigui/article/category/373050">GNU/LINUX</a><span>(39)</span>
</li>
<li>
<a href="http://blog.csdn.net/liuaigui/article/category/524941">Windows相关</a><span>(3)</span>
</li>
<li>
<a href="http://blog.csdn.net/liuaigui/article/category/373751">数据存储</a><span>(67)</span>
</li>
<li>
<a href="http://blog.csdn.net/liuaigui/article/category/373752">数据挖掘</a><span>(4)</span>
</li>
<li>
<a href="http://blog.csdn.net/liuaigui/article/category/373757">数据结构与算法</a><span>(28)</span>
</li>
<li>
<a href="http://blog.csdn.net/liuaigui/article/category/373035">程序人生</a><span>(37)</span>
</li>
<li>
<a href="http://blog.csdn.net/liuaigui/article/category/616625">计算机理论</a><span>(22)</span>
</li>
</ul>
</div><div id="panel_Archive" class="panel">
<ul class="panel_head"><span>文章存档</span></ul>
<ul class="panel_body">
<div id="archive_list">
<!--归档统计-->
<li><a href="http://blog.csdn.net/liuaigui/article/month/2013/08">2013年08月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2013/05">2013年05月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2012/11">2012年11月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2012/07">2012年07月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2012/05">2012年05月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2012/03">2012年03月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2012/02">2012年02月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/12">2011年12月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/11">2011年11月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/10">2011年10月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/09">2011年09月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/08">2011年08月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/07">2011年07月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/06">2011年06月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/05">2011年05月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/04">2011年04月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/03">2011年03月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/02">2011年02月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2011/01">2011年01月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/12">2010年12月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/11">2010年11月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/10">2010年10月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/09">2010年09月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/08">2010年08月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/07">2010年07月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/06">2010年06月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/05">2010年05月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/04">2010年04月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/03">2010年03月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/02">2010年02月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2010/01">2010年01月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/12">2009年12月</a><span>(8)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/11">2009年11月</a><span>(8)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/10">2009年10月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/09">2009年09月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/08">2009年08月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/07">2009年07月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/06">2009年06月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/05">2009年05月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/04">2009年04月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/03">2009年03月</a><span>(7)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/02">2009年02月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2009/01">2009年01月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2008/12">2008年12月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2008/11">2008年11月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2008/06">2008年06月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2008/05">2008年05月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2008/04">2008年04月</a><span>(11)</span></li><li><a href="http://blog.csdn.net/liuaigui/article/month/2008/03">2008年03月</a><span>(24)</span></li>
</div>
</ul>
</div>
<div id="hotarticls" class="panel">
<ul class="panel_head"><span>阅读排行</span></ul>
<ul class="panel_body itemlist">
<li>
<a href="/liuaigui/article/details/4409505" title="KMP算法深度解析">KMP算法深度解析</a><span>(51576)</span>
</li>
<li>
<a href="/liuaigui/article/details/7340995" title="一位老码农的编程简史">一位老码农的编程简史</a><span>(37207)</span>
</li>
<li>
<a href="/liuaigui/article/details/6284551" title="GlusterFS集群文件系统研究">GlusterFS集群文件系统研究</a><span>(33886)</span>
</li>
<li>
<a href="/liuaigui/article/details/5946583" title="Taobao分布式文件系统TFS简析">Taobao分布式文件系统TFS简析</a><span>(27473)</span>
</li>
<li>
<a href="/liuaigui/article/details/6196290" title="分布式存储系统设计的若干原则">分布式存储系统设计的若干原则</a><span>(21852)</span>
</li>
<li>
<a href="/liuaigui/article/details/5793706" title="数据同步算法研究">数据同步算法研究</a><span>(21158)</span>
</li>
<li>
<a href="/liuaigui/article/details/5829083" title="重复数据删除(De-duplication)技术研究">重复数据删除(De-duplication)技术研究</a><span>(18009)</span>
</li>
<li>
<a href="/liuaigui/article/details/6168186" title="磁盘IOPS计算与测量">磁盘IOPS计算与测量</a><span>(15120)</span>
</li>
<li>
<a href="/liuaigui/article/details/6422700" title="集群NAS技术架构">集群NAS技术架构</a><span>(14990)</span>
</li>
<li>
<a href="/liuaigui/article/details/6455736" title="Lustre I/O性能特点与最佳实践">Lustre I/O性能特点与最佳实践</a><span>(14195)</span>
</li>
</ul>
</div>
<div id="hotarticls2" class="panel">
<ul class="panel_head"><span>评论排行</span></ul>
<ul class="panel_body itemlist">
<li>
<a href="/liuaigui/article/details/5864583" title="为什么咱中国有影响力的开源软件那么少？">为什么咱中国有影响力的开源软件那么少？</a><span>(262)</span>
</li>
<li>
<a href="/liuaigui/article/details/7340995" title="一位老码农的编程简史">一位老码农的编程简史</a><span>(216)</span>
</li>
<li>
<a href="/liuaigui/article/details/6284551" title="GlusterFS集群文件系统研究">GlusterFS集群文件系统研究</a><span>(153)</span>
</li>
<li>
<a href="/liuaigui/article/details/5793706" title="数据同步算法研究">数据同步算法研究</a><span>(107)</span>
</li>
<li>
<a href="/liuaigui/article/details/5829083" title="重复数据删除(De-duplication)技术研究">重复数据删除(De-duplication)技术研究</a><span>(90)</span>
</li>
<li>
<a href="/liuaigui/article/details/5946583" title="Taobao分布式文件系统TFS简析">Taobao分布式文件系统TFS简析</a><span>(71)</span>
</li>
<li>
<a href="/liuaigui/article/details/7163482" title="基于开源软件构建高性能集群NAS系统">基于开源软件构建高性能集群NAS系统</a><span>(60)</span>
</li>
<li>
<a href="/liuaigui/article/details/7295438" title="一位存储研发者的图书清单">一位存储研发者的图书清单</a><span>(57)</span>
</li>
<li>
<a href="/liuaigui/article/details/4409505" title="KMP算法深度解析">KMP算法深度解析</a><span>(46)</span>
</li>
<li>
<a href="/liuaigui/article/details/6064045" title="高效存储技术研究">高效存储技术研究</a><span>(38)</span>
</li>
</ul>
</div>
<div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
    <a href="/liuben/article/details/6284551#comments">GlusterFS集群文件系统研究</a>
    <p style="margin:0px;"><a href="/smilingllww" class="user_name">smilingllww</a>:
@liuben:测试了下，使用glusterfs客户端挂载时，确定如此。
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/7617842#comments">分布式文件系统</a>
    <p style="margin:0px;"><a href="/liuben" class="user_name">liuben</a>:
@freshplus:延时方面的确ISILON不如NetAPP ONTAP，但HPC、媒资、数据分析...
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/7617842#comments">分布式文件系统</a>
    <p style="margin:0px;"><a href="/freshplus" class="user_name">freshplus</a>:
请教下为何Isilon这种产品的分布式文件架构相对于netapp的集群更适合HPC、媒资、分析挖掘等...
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/9981135#comments">海量小文件问题综述</a>
    <p style="margin:0px;"><a href="/u011719841" class="user_name">u011719841</a>:
给力
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/9981135#comments">海量小文件问题综述</a>
    <p style="margin:0px;"><a href="/load2006" class="user_name">load2006</a>:
TFS还使用了ext4一个新的系统调用fallocate，通过提前给文件分配足够大的空间，减少将来写...
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/9981135#comments">海量小文件问题综述</a>
    <p style="margin:0px;"><a href="/load2006" class="user_name">load2006</a>:
linux 3.8内核ext4的最新优化就是data in inode
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/9981135#comments">海量小文件问题综述</a>
    <p style="margin:0px;"><a href="/load2006" class="user_name">load2006</a>:
贵哥，有个地方纠正下，dentry只是vfs构造的内存数据结构，为了加速pathname的loop_...
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/9981135#comments">海量小文件问题综述</a>
    <p style="margin:0px;"><a href="/liuben" class="user_name">liuben</a>:
@suannai0314: 谢谢推荐
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/9981135#comments">海量小文件问题综述</a>
    <p style="margin:0px;"><a href="/suannai0314" class="user_name">suannai0314</a>:
您的文章已被推荐到CSDN首页，感谢您的分享。
    </p>
    </li>
    <li>
    <a href="/liuben/article/details/5829083#comments">重复数据删除(De-duplication)技术研究</a>
    <p style="margin:0px;"><a href="/liuben" class="user_name">liuben</a>:
@dotNetSafe:博客个人信息中有我的联系方式，邮件：aigui.liu@gmail.com
    </p>
    </li>
</ul>
</div>
<div id="custom_column_959485" class="panel">
<ul class="panel_head"><span>博文自荐</span></ul>
<ul class="panel_body">
<ul><li><a href="http://blog.csdn.net/liuben/archive/2009/12/21/5050697.aspx" target=_blank>字符串Hash函数评估</a></li><li><a href="http://blog.csdn.net/liuben/archive/2009/08/04/4409505.aspx" target=_blank>KMP算法深度解析</a></li><li><a href="http://blog.csdn.net/liuben/archive/2009/09/22/4581970.aspx" target=_blank>RAID技术发展综述</a></li><li><a href="http://blog.csdn.net/liuben/archive/2009/08/28/4494555.aspx" target=_blank>快照（Snapshot）技术发展综述</a></li><li><a href="http://blog.csdn.net/liuben/archive/2010/02/28/5333752.aspx" target=_blank>从研发角度谈存储技术的学习</a></li><li><a href="http://blog.csdn.net/liuben/archive/2010/03/11/5368300.aspx" target=_blank>存储学习之路</a></li><li><a href="http://blog.csdn.net/liuben/archive/2010/01/09/5166538.aspx" target=_blank>基于Dedup的数据打包技术</a></li><li><a href="http://blog.csdn.net/liuben/archive/2010/03/19/5395831.aspx" target=_blank>WSIO－基于WEB服务的远程文件I/O</a></li><li><a href="http://sourceforge.net/projects/deduputil/" target=_blank>dedup util</a></li><li><a href="http://blog.csdn.net/liuben/archive/2010/08/06/5793706.aspx" target=_blank>数据同步算法研究</a></li><li><a href="http://blog.csdn.net/liuben/archive/2010/08/21/5829083.aspx" target=_blank>重复数据删除(De-duplication)技术研究</a></li><li><a href="http://blog.csdn.net/liuben/archive/2010/12/08/6064045.aspx" target=_blank>高效存储技术研究</a></li><li><a href="http://blog.csdn.net/liuben/archive/2011/03/28/6284551.aspx" target=_blank>GlusterFS集群文件系统研究</a></li><li><a href="http://blog.csdn.net/liuben/archive/2011/04/14/6324133.aspx" target=_blank>深入理解数据压缩与重复数据删除</a></li><li><a href="http://blog.csdn.net/liuben/archive/2011/04/29/6372823.aspx" target=_blank> StorNext海量小文件性能测试与调优</a></li><li><a href="http://blog.csdn.net/liuben/archive/2011/05/15/6422700.aspx" target=_blank>集群NAS技术架构</a></li><li><a href="http://blog.csdn.net/liuben/archive/2011/05/30/6455736.aspx" target=_blank>Lustre I/O性能特点与最佳实践</a></li></ul>
</ul>
</div><div id="custom_column_959486" class="panel">
<ul class="panel_head"><span>我的软件</span></ul>
<ul class="panel_body">
<ul><li><a href="http://blog.csdn.net/liuben/archive/2010/06/02/5641891.aspx" target=_blank>dedup util</a></li><li><a href="http://download.enet.com.cn/html/060482005081601.html" target=_blank>BootU</a></li><li><a href="http://download.enet.com.cn/html/080582005081602.html" target=_blank>IHEP五子棋</a></li><li><a href="http://blog.csdn.net/liuben/archive/2010/03/19/5395831.aspx" target=_blank>WSIO</a></li><li><a href="http://download.enet.com.cn/html/272442006051201.html" target=_blank>SPA相册</a></li><li><a href="http://download.enet.com.cn/html/030792005081702.html" target=_blank>Tiny编译器</a></li><li><a href="http://code.google.com/p/libsync" target=_blank>libsync</a></li></ul>
</ul>
</div><div id="custom_column_959487" class="panel">
<ul class="panel_head"><span>资源链接</span></ul>
<ul class="panel_body">
<ul><li><a href="http://bbs.doit.com.cn/" target=_blank>DOIT论坛</a></li><li><a href="http://bbs.chinaunix.net/" target=_blank>ChinaUnix论坛</a></li><li><a href="http://www.dostor.com/" target=_blank>存储在线</a></li><li><a href="http://www.watchstor.com/" target=_blank>WatchStor</a></li><li><a href="http://www.infostor.com/index.html" target=_blank>InfoStor</a></li><li><a href="http://www.gartner.com/technology/home.jsp" target=_blank>Gartner</a></li><li><a href="http://www.usenix.org/events/fast/" target=_blank>FAST</a></li><li><a href="http://www.snia.org" target=_blank>SNIA</a></li><li><a href="https://sourceforge.net/projects/deduputil/" target=_blank>dedup util</a></li><li><a href="http://www.tektalk.org/" target=_blank>弯曲评论</a></li></ul>
</ul>
</div></div>
<div class="clear"></div>
</div>

<div class="clear"></div>
</div>

<script type="text/javascript" src="http://static.blog.csdn.net/scripts/newblog.min.js?v=1.1"></script>
<script type="text/javascript" src="http://medal.blog.csdn.net/showblogmedal.ashx?blogid=79517"></script>

<script type="text/javascript">
document.write('<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer.js?' + Math.floor(new Date()/120000).toString(36) + '="></'+'script>');
</script>

<script type="text/javascript" src="http://passport.csdn.net/content/loginbox/login.js"></script>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script>
<script type="text/javascript" src="http://www.csdn.net/ui/scripts/Csdn/counter.js?v=1"></script>


<script type="text/javascript" src="http://ad.csdn.net/scripts/ad-blog.js"></script>

<script type="text/javascript" src="http://zz.csdn.net/js/count.js"></script>

</div>
</body>
</html>