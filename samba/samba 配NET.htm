<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>samba 配置 - lyjtynet的专栏 - 博客频道 - CSDN.NET</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="作者：北南南北，正在增加中... ... 需要您的参与；来自：LinuxSir.Org简介：本文只是讲一讲我们最常用的Linux与Windows共享文件，主要是为新手指一指路。如何建立最简单的Samba服务器，并讲述遇到问题应该从何处寻找解决方案；正在更新之中，希望您的参加 ... ... 谢谢；目录&#160; 0.1 查看文件内容和编辑文件的工具；0.2 关于文件和目录相关；03" />
<script src="http://static.blog.csdn.net/scripts/jquery.js" type="text/javascript"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/ad.js?v=1.1"></script>
<link rel="Stylesheet" type="text/css" href="http://static.blog.csdn.net/skin/default/css/style.css?v=1.1" />
<link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="/lyjtynet/rss/list" />
<link rel="shortcut icon" href="/favicon.ico" />
<link type="text/css" rel="stylesheet" href="http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/default.css" />
</head>
<body>
<script src="http://csdnimg.cn/pubnav/js/pub_topnav_2011.js"type="text/javascript"></script>

<div id="container">
<div id="header">
    <div class="header">
        <div id="blog_title">
            <h1><a href="/lyjtynet">lyjtynet的专栏</a></h1>
            <h2></h2>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg"></div>
    <div class="navigator">
        <ul>
            <li id="btnContents"><a href="/lyjtynet?viewmode=contents"><span><img src="http://static.blog.csdn.net/images/ico_list.gif">目录视图</span></a></li>
            <li id="btnView"><a href="/lyjtynet?viewmode=list"><span><img src="http://static.blog.csdn.net/images/ico_summary.gif">摘要视图</span></a></li>
            <li id="btnRss"><a href="/lyjtynet/rss/list"><span><img src="http://static.blog.csdn.net/images/ico_rss.gif">订阅</span></a></li>
</ul>
    </div>
</div>
<script type="text/javascript">
    var username = "lyjtynet";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/lyjtynet";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";
</script>

<div id="body">
<div id="main">
<div class="main">
<div class="notice"> 

<a href="https://code.csdn.net/blog/12" target="_blank">
<font color=red>公告：博客新增直接引用代码功能</font></a>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://www.csdn.net/article/2013-07-09/2816160" target="_blank"><font color=blue>专访赵霏：应把握机会 HTML5游戏开发已臻成熟 
</font></a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/csdnproduct/article/details/9226265
"target="_blank">
<font color=red>CSDN博客频道自定义摘要、图片水印、热门标签等功能上线啦 


 </font></a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/9136613"target="_blank">
<font color=red>CSDN博客第二期云计算最佳博主评选

 </font></a>


&nbsp;&nbsp;&nbsp;&nbsp;

<a href=""target="_blank">
<font color=blue>
 </font></a>




</div>
<div id="article_details" class="details">
    <div class="article_title">
    <span class="ico ico_type_Repost"></span>
    <h3>
        <span class="link_title"><a href="/lyjtynet/article/details/5297564">
        samba 配置
        </a></span>
    </h3>
</div>

        
    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="/lyjtynet/article/category/503655">linux</a> 
        </span>
    <span class="link_postdate">2010-02-08 08:10</span>
    <span class="link_view" title="阅读次数">620人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments">评论</a>(0)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:collectArticle('samba 配置','5297564');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report"  onclick="javascript:report(5297564,2);return false;" title="举报">举报</a></span>
    
</div>
<div class="tag2box"><a href='http://blog.csdn.net/tag/details.html?tag=%e6%9c%8d%e5%8a%a1%e5%99%a8' target=_blank>服务器</a><a href='http://blog.csdn.net/tag/details.html?tag=linux' target=_blank>linux</a><a href='http://blog.csdn.net/tag/details.html?tag=windows' target=_blank>windows</a><a href='http://blog.csdn.net/tag/details.html?tag=%e7%bd%91%e7%bb%9c' target=_blank>网络</a><a href='http://blog.csdn.net/tag/details.html?tag=file' target=_blank>file</a><a href='http://blog.csdn.net/tag/details.html?tag=path' target=_blank>path</a></div>


    
<div id="article_content" class="article_content">
<div class="content">
<p><strong>作者：</strong>北南南北，正在增加中... ... 需要您的参与；<br /><strong>来自：</strong>LinuxSir.Org<br /><strong>简介：</strong>本文只是讲一讲我们最常用的Linux与Windows共享文件，主要是为新手指一指路。如何建立最简单的Samba服务器，并讲述遇到问题应该从何处寻找解决方案；正在更新之中，希望您的参加 ... ... 谢谢；</p>
<p><span style="font-size: medium;"><strong>目录</strong></span></p>
<ul>
<li>&nbsp; 
<ul>
<a href="?q=node/158#0.1">0.1 查看文件内容和编辑文件的工具；</a><br /><a href="?q=node/158#0.2">0.2 关于文件和目录相关；</a><br /><a href="?q=node/158#0.3">03 用户和用户组相关；</a><br /><a href="?q=node/158#0.4">04 进程管理；</a> 
</ul>
</li>
<a href="?q=node/158#0"><strong>0、架设Samba 服务器的前提；</strong></a>
<p>&nbsp;</p>
</ul>
<ul>
<li>&nbsp; 
<ul>
<li>&nbsp; 
<ul>
<a href="?q=node/158#3.5.1">3.5.1 在Linux系统中查看网络中Windows共享文件及Linux中的Samba共享文件；</a><br /><a href="?q=node/158#3.5.2">3.5.2 在Windows中访问Linux Samba服务器共享文件的办法；</a><br /><a href="?q=node/158#3.5.3">3.5.3 smbfs文件系统的挂载；</a> 
</ul>
</li>
<a href="?q=node/158#3.1">3.1 Samba 有两个服务器，一个是smbd，另一个是nmbd；</a><br /><a href="?q=node/158#3.2">3.2 查看Samba 服务器的端口及防火墙；</a><br /><a href="?q=node/158#3.3">3.3 查看Samba 服务器的配置文件；</a><br /><a href="?q=node/158#3.4">3.4 Samba 在Linux 中的一些工具（服务器端和客户端）；</a><br /><a href="?q=node/158#3.5">3.5 在Linux 中的常用工具，Windows查看Linux共享的方法 ；</a>
<p>&nbsp;</p>
</ul>
<ul>
<a href="?q=node/158#4.1">第一步： 更改smb.conf</a><br /><a href="?q=node/158#4.2">第二步：建立相应目录并授权；</a><br /><a href="?q=node/158#4.3">第三步：启动smbd和nmbd服务器；</a><br /><a href="?q=node/158#4.4">第四步：查看smbd进程，确认Samba 服务器是否运行起来了；</a><br /><a href="?q=node/158#4.5">第五步：访问Samba 服务器的共享；</a> 
</ul>
<ul>
<li>&nbsp; 
<ul>
<a href="?q=node/158#5.3.1">5.3.1 添加用户组；</a><br /><a href="?q=node/158#5.3.2">5.3.2 添加用户；</a><br /><a href="?q=node/158#5.3.3">5.3.3 添加samba用户，并设置密码；</a><br /><a href="?q=node/158#5.3.4">5.3.4 配置相关目录的权限和归属；</a> 
</ul>
</li>
<a href="?q=node/158#5.1">5.1 共享权限设计实现的功能；</a><br /><a href="?q=node/158#5.2">5.2 在服务器上创建相应的目录；</a><br /><a href="?q=node/158#5.3">5.3 添加用户用户组，设置相应目录家目录的权限；</a>
<p>&nbsp;</p>
<p><a href="?q=node/158#5.4">5.4 修改Samba配置文件；</a><br /><a href="?q=node/158#5.5">5.5 关于客户端访问；</a><br /><a href="?q=node/158#5.5.1">5.5.1 Windows客户端访问；</a> </p>
</ul>
</li>
<a href="?q=node/158#1"><strong>1 Samba 简介</strong></a><br /><a href="?q=node/158#2"><strong>2 Samba 功能和应用范围</strong></a><br /><a href="?q=node/158#3"><strong>3 Samba 两个服务器相关启动程序、客户端及服务器配置文件等；</strong></a>
<p>&nbsp;</p>
<p><a href="?q=node/158#4"><strong>4 由最简单的一个例子说起，匿名用户可读可写的实现；</strong></a></p>
<p><a href="?q=node/158#5"><strong>5、复杂一点的用户共享模型（适合10人左右的小型企业）；</strong></a></p>
</ul>
<p><br /><br /><span style="color: #0000ff;"><strong><br />++++++++++++++++++++++++++++++++++++++++++++++++<br />正文<br />++++++++++++++++++++++++++++++++++++++++++++++++<br /></strong></span></p>
<p><span style="font-size: medium;"><strong>0、架设Samba 服务器的前提；</strong></span></p>
<p>Linux是一个多用户的操作系统，对任何服务器的架设与都用户、用户组及权限相关，这是操作的基础。Samba服务器也不例外，对这些知识的掌握也是极为重要的。在Windows系统上虽然也能架共享文件服务器，但它的权限控制实在令人不敢恭维。如果我们用Windows系统来架网络共享文件系统，就是点鼠标也能把我们点迷糊了。但在Linux中，我们可以轻松的改一改配置文件，不到几分钟就能建好自己的Samba服务器。哪个更容易，只有你知道；</p>
<p>对于Samba服务器的架设，有的弟兄简单的认为，只要把改一下配置文件，创建好相应的目录就行了。其实并不是这样的，还要深入的工作，比如目录的权限和归属，也就是说能让哪个用户和用户组有读写权。只有把配置文件和共享目录的权限结合起来，才能架好Samba服务器；</p>
<p><strong>下面是常用的基础知识，我们在本文中所涉及的内容都可以在下面的列表中找到相应的解释；</strong></p>
<p><span style="font-size: small;"><strong><br />0.1 查看文件内容和编辑文件的工具；<br /></strong></span></p>
<p><a href="http://www.linuxsir.org/main/?q=node/198">《Linux 文件内容查看工具介绍》</a><br /><a href="http://www.linuxsir.org/main/?q=node/206">《文件编辑器 vi》</a></p>
<p><span style="font-size: small;"><strong><br />0.2 关于文件和目录相关；<br /></strong></span><br /><a href="http://www.linuxsir.org/main/?q=node/191">《Linux 文件类型 及文件的扩展名》</a><br /><a href="http://www.linuxsir.org/main/?q=node/192">《Linux 文件和目录管理之列出、删除、复制、移动及改名》</a><br /><a href="http://www.linuxsir.org/main/?q=node/196">《Linux 文件和目录的属性》</a><br /><a href="http://www.linuxsir.org/main/?q=node/208">《简述Linux文件搜索》</a></p>
<p><span style="font-size: small;"><strong><br />03 用户和用户组相关；<br /></strong></span></p>
<p><a href="http://www.linuxsir.org/main/?q=node/91">《Linux 用户（user）和用户组（group）管理概述》</a><br /><a href="http://www.linuxsir.org/main/?q=node/98">《用户（User）和用户组（Group）配置文件详解》</a><br /><a href="http://www.linuxsir.org/main/?q=node/106">《Linux 用户管理工具介绍》</a><br /><a href="http://www.linuxsir.org/main/?q=node/105">《Linux 用户（User）查询篇》</a></p>
<p><span style="font-size: small;"><strong><br />04 进程管理；<br /></strong></span></p>
<p><a href="http://www.linuxsir.org/main/?q=node/210">《Linux 进程管理》</a></p>
<p><span style="font-size: medium;"><strong>1 Samba 简介</strong></span></p>
<p>Samba（SMB是其缩写） 是一个网络服务器，用于Linux和Windows共享文件之用；Samba 即可以用于Windows和Linux之间的共享文件，也一样用于Linux和Linux之间的共享文件；不过对于Linux和Linux之间共享文件有更好的网络文件系统NFS，NFS也是需要架设服务器的；</p>
<p>大家知道在Windows 网络中的每台机器即可以是文件共享的服务器，也可以同是客户机；Samba 也一样能行，比如一台Linux的机器，如果架了Samba Server 后，它能充当共享服务器，同时也能做为客户机来访问其它网络中的Windows共享文件系统，或其它Linux的Sabmba 服务器；</p>
<p>我们在Windows网络中，看到共享文件功能知道，我们直接就可以把共享文件夹当做本地硬盘来使用。在Linux的中，就是通过Samba的向网络中的机器提供共享文件系统，也可以把网络中其它机器的共享挂载在本地机上使用；这在一定意义上说和FTP是不一样的。</p>
<p>Samba 用的netbios协议，如果您用Samba 不成功，</p>
<p>Linux与Windows 、Linux 和 Linux </p>
<p><span style="font-size: medium;"><strong>2 Samba 功能和应用范围</strong></span></p>
<p>Samba 应该范围主要是Windows和Linux 系统共存的网络中使用；如果一个网络环境都是Linux或Unix类的系统，没有必要用Samba，应该用NFS更好一点；</p>
<p>那Samba 能为我们提供点什么服务呢？主要是共享文件和共享打印机；</p>
<p><span style="font-size: medium;"><strong>3 Samba 两个服务器相关启动程序、客户端及服务器配置文件等；</strong></span></p>
<p><span style="font-size: small;"><strong>3.1 Samba 有两个服务器，一个是smb，另一个是nmb；</strong></span></p>
<p>smb 是Samba 的主要启动服务器，让其它机器能知道此机器共享了什么；如果不打开nmb服务器的话，只能通过IP来访问，比如在Windows的IE浏览器上打入下面的一条来访问；</p>
<div class="codeblock"><code>//192.168.1.5/共享目录<br />//192.168.1.5/opt</code></div>
<br /><br /><br />而nmb是解析用的，解析了什么呢？就是把这台Linux机器所共享的<strong>工作组</strong>及在此工作组下的<strong>netbios name</strong>解析出来；
<p>&nbsp;</p>
<p>一般的情况下，在RPM包的系统，如果是用RPM包安装的Samba ，一般可以通过如下的方式来启动Samba服务器；</p>
<div class="codeblock"><code>[root@localhost ~]# /etc/init.d/smb start<br />启动 SMB 服务：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; 确定&nbsp; ]<br />启动 NMB 服务：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; 确定&nbsp; ]</code></div>
<br /><br /><br />如果停止呢？就在smb后面加stop ；重启就是restart<br /><br /><br />
<div class="codeblock"><code>[root@localhost ~]# /etc/init.d/smb stop<br />[root@localhost ~]# /etc/init.d/smb restart</code></div>
<br /><br />
<p>&nbsp;</p>
<p>对于所有系统来说，通用的办法就是直接运行smb 和nmb；当然您要知道smb和nmb所在的目录才行；如果是自己编译的Samba ，您应该知道您把Samba放在哪里了；</p>
<div class="codeblock"><code>[root@localhost ~]# /usr/sbin/smbd<br />[root@localhost ~]# /usr/sbin/nmbd</code></div>
<br /><br /><br />查看服务器是否运行起来了，则用下面的命令；
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# pgrep smbd<br />[root@localhost ~]# pgrep nmbd</code></div>
<br /><br />
<p>&nbsp;</p>
<p>关掉Samba服务器，也可以用下面的办法，大多是通用的；要root权限来执行；</p>
<div class="codeblock"><code>[root@localhost ~]# pkill smbd<br />[root@localhost ~]# pkill nmbd</code></div>
<br /><br />
<p>&nbsp;</p>
<p><span style="font-size: small;"><strong>3.2 查看Samba 服务器的端口及防火墙；</strong></span></p>
<p>查看这个有何用呢？有时你的防火墙可能会把smbd服务器的端口封掉，所以我们应该smbd服务器所占用的端口；下面查看中，我们知道smbd所占用的端口是139和445 ；</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# netstat -tlnp |grep smb<br />tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 0.0.0.0:139&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0:*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10639/smbd<br />tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 0.0.0.0:445&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0:*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10639/smbd</code></div>
<p>&nbsp;</p>
<p>如果您有防火墙，一定要把这两个端口打开。如果不知道怎么打开。可能你和我一样是新手，还是把防火墙规则清掉也行；</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# iptables -F <br />或<br />[root@localhost ~]# /sbin/iptables -F</code></div>
<p>&nbsp;</p>
<p><span style="font-size: small;"><strong>3.3、查看Samba 服务器的配置文件；</strong></span></p>
<p>如果我们是用Linux发行版自带的Samba软件包，一般情况下Samba服务器的配置文件都位于/etc/samba目录中，服务器的主配置文件是smb.conf；也有有户配置文件 smbpasswd、smbusers和lmhosts等（最好您查看一下这些文件的内容）；还有一个文件是secrets.tdb，这个文件是Samba 服务器启动手自动生成的；我们慢慢根据教程的进度来适当地增加这些文件的说明吧；一下子都说出来，感觉内容太多；所以只能一点一点的来了；</p>
<p><span style="font-size: small;"><strong>3.4、Samba 在Linux 中的一些工具（服务器端和客户端）；</strong></span></p>
<p>&nbsp;</p>
<div class="codeblock"><code>smbcacls&nbsp;&nbsp;&nbsp; smbcontrol&nbsp; smbencrypt&nbsp; smbmount&nbsp;&nbsp;&nbsp; smbprint&nbsp;&nbsp;&nbsp; smbstatus&nbsp;&nbsp; smbtree<br />smbclient&nbsp;&nbsp; smbcquotas&nbsp; smbmnt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; smbpasswd&nbsp;&nbsp; smbspool&nbsp;&nbsp;&nbsp; smbtar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; smbumount<br />smbd nmbd&nbsp;&nbsp;&nbsp; mount </code></div>
<br /><br /><br />其中服务器端的是smbd、nmbd、smbpasswd ；其它的大多是客户端；这些并不是都需要一定要精通的，但至少得会用几个；比如smbmount（也就是mount 加参数的用法），还用smbclient等；<br /><br />
<p>&nbsp;</p>
<p><span style="font-size: small;"><strong>3.5 在Linux 中的常用工具mount（smbmount）和smbclient；Windows查看Linux共享的方法 ；</strong></span></p>
<p><span style="font-size: x-small;"><strong>3.5.1 在Linux系统中查看网络中Windows共享文件及Linux中的Samba共享文件；</strong></span></p>
<p>一般的情况下，我们要用到smbclient；常用的用法也无非是下面的；</p>
<div class="codeblock"><code>[root@localhost ~]# smbclient&nbsp; -L&nbsp; //ip地址或计算机名</code></div>
<p>&nbsp;</p>
<p>smbclient 是Samba 的Linux 客户端，在Linux机器上用来查看服务器上的共享资源，也可以象FTP一样，用户可以登录Samba服务器，也可以上传put和下载get文件，遗憾的是对中文支持并不友好；</p>
<p><strong>查看服务器上的资源；</strong></p>
<p>&nbsp;</p>
<div class="codeblock"><code>smbclient -L //IP&nbsp; [-U 用户名]</code></div>
<p>&nbsp;</p>
<p>如果您的Samba服务器配置为user模式，就要加 &ldquo;-U 用户名&ldquo;，如果是share模式，省略也可；</p>
<p>比如：</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# smbclient -L&nbsp;&nbsp; //192.168.1.3&nbsp; -U sir01<br />Password: 请输入用户sir01的密码</code></div>
<p>&nbsp;</p>
<p>如果您是用share模式，就可以不必理会用户和密码，直接用；</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# smbclient -L&nbsp; //192.168.1.3 <br />Password: 直接按回车</code></div>
<p>&nbsp;</p>
<p><strong>登录用户身份Samba服务器共享</strong></p>
<p>以用户身份登录共享后，能象FTP用户一样，下传和下载文件；用put表示上传，用get表示下载；</p>
<p>&nbsp;</p>
<div class="codeblock"><code>smbclient&nbsp; //IP地址/共享文件夹&nbsp;&nbsp;&nbsp; -U 用户 </code></div>
<p>&nbsp;</p>
<p>说明：IP地址大家都知道，你不知道自己的IP地址，可以用/sbin/ifconfig 来查看； 共享文件夹是我们在smb.conf中定义的[共享文件夹]，比如[sir01]。-U 用户名表示Samba 的用户；</p>
<p>比如：</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# smbclient //192.168.1.3/sir01 -U sir01<br />Password:<br />Domain=[LINUXSIR] OS=[Unix] Server=[Samba 3.0.21b-2]<br />smb: /&gt; ls</code></div>
<p>&nbsp;</p>
<p><strong>说明：</strong>登录到Samba服务器上，就可以用smbclient的一些指令，可以象用FTP指令一样上传和下载文件；</p>
<p><strong>smbclient 命令说明</strong></p>
<pre>命令									说明

?或help [command]			提供关于帮助或某个命令的帮助
![shell command]			执行所用的SHELL命令，或让用户进入 SHELL提示符
cd [目录]						切换到服务器端的指定目录，如未指定，则 smbclient 返回当前本地目录
lcd [目录]					切换到客户端指定的目录；
dir 或ls  					列出当前目录下的文件；
exit 或quit 					退出smbclient	
get file1  file2  		从服务器上下载file1，并以文件名file2存在本地机上；如果不想改名，可以把file2省略
mget file1 file2 file3  filen 	从服务器上下载多个文件；
md或mkdir 目录				在服务器上创建目录
rd或rmdir	目录				删除服务器上的目录
put file1 [file2]			向服务器上传一个文件file1,传到服务器上改名为file2；
mput file1 file2 filen  向服务器上传多个文件
</pre>
<p><span style="font-size: small;"><strong>3.5.2 在Windows中访问Linux Samba服务器共享文件的办法；</strong></span></p>
<p>这个简单吧，在网上领居，查看工作组就能看得到，或者在浏览器上输入如下的</p>
<div class="codeblock"><code>//ip地址或计算机名</code></div>
<p>&nbsp;</p>
<p>这样就能看到这个机器上有什么共享的了，点鼠标操作完成；如果访问不了，不要忘记把Linux的防火墙规划清掉，或让相应的端口通过；</p>
<p><span style="font-size: x-small;"><strong>3.5.3 在Linux中smbfs文件系统的挂载；</strong></span></p>
<p>mount 的用法，加载网络中的共享文件夹到本地机；mount就是用于挂载文件系统的，SMB做为网络文件系统的一种，也能用mount挂载；smbmount说到底也是用mount的一个变种；</p>
<p><strong>mount 挂载smbfs的用法；</strong></p>
<div class="codeblock"><code>mount -t smbfs -o codepage=cp936,username=用户名,password=密码 , -l&nbsp;&nbsp; //ip地址/共享文件夹名&nbsp;&nbsp; 挂载点<br />或<br />mount -t smbfs -o codepage=cp936,username=用户名,password=密码 , -l&nbsp;&nbsp; //计算机名/共享文件夹名&nbsp;&nbsp; 挂载点<br />或<br />mount -t smbfs&nbsp; -o codepage=cp936&nbsp; //ip地址或计算机名/共享文件夹名&nbsp;&nbsp; 挂载点</code></div>
<br /><br /><br /><strong>smbmount的用法：</strong><br />
<div class="codeblock"><code>smbmount -o username=用户名,password=密码 , -l&nbsp;&nbsp; //ip地址或计算机名/共享文件夹名&nbsp;&nbsp; 挂载点<br />smbmount&nbsp; //ip地址或计算机名/共享文件夹名&nbsp;&nbsp;&nbsp; 挂载点</code></div>
<br /><br /><br /><strong>说明：</strong>
<p>&nbsp;</p>
<p>如果您的服务器是以share共享的，则无需用户名和密码就能挂载，如果出现要密码的提示，直接回车就行；您也可以用smbmount 来挂载，这样就无需用mount -t smbfs来指定文件系统的类型了；</p>
<p>对于挂载点，我们要自己建立一个文件夹，比如我们可以建在/opt/smbhd，这由您说的算吧；</p>
<p>在mount的命令中，我们发现有这样的一个参数codepage=cp936，这是服务器端文件系统的编码的指定，cp936 就是简体中文，当然您可以用utf8等，尝试一下吧。</p>
<p>如果您挂载了远程的smbfs文件系统出现的是简体中文乱码，就要考虑挂载时要指定编码了；</p>
<p><span style="font-size: medium;"><strong>4、由最简单的一个例子说起，匿名用户可读可写的实现；</strong></span> </p>
<p><span><strong>第一步： 更改smb.conf</strong></span></p>
<p>我们来实现一个最简单的功能，让所有用户可以读写一个Samba 服务器共享的一个文件夹；我们要改动一下smb.conf ；首先您要备份一下smb.conf文件；</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# cd /etc/samba<br />[root@localhost samba]# mv smb.conf smb.confBAK</code></div>
<p>&nbsp;</p>
<p>然后我们来重新创建一个smb.conf文件；</p>
<div class="codeblock"><code>[root@localhost samba]#touch smb.conf </code></div>
<br /><br />
<p>&nbsp;</p>
<p>然后我们把下面这段写入smb.conf中；</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[global]<br />workgroup = LinuxSir<br />netbios name = LinuxSir05<br />server string = Linux Samba Server TestServer<br />security = share<br /><br />[linuxsir]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; guest ok = yes</code></div>
<br /><br /><br /><strong>注解：</strong>
<p>&nbsp;</p>
<p>[global]这段是全局配置，是必段写的。其中有如下的几行；</p>
<p>workgroup 就是Windows中显示的工作组；在这里我设置的是LINUXSIR （用大写）；<br />netbios name 就是在Windows中显示出来的计算机名；<br />server string 就是Samba服务器说明，可以自己来定义；这个不是什么重要的；<br />security 这是验证和登录方式，这里我们用了share ；验证方式有好多种，这是其中一种；另外一种常用的是user的验证方式；如果用share呢，就是不用设置用户和密码了；</p>
<p>[linuxsir] 这个在Windows中显示出来是共享的目录；<br />path = 可以设置要共享的目录放在哪里；<br />writeable 是否可写，这里我设置为可写；<br />browseable 是否可以浏览，可以；可以浏览意味着，我们在工作组下能看到共享文件夹。如果您不想显示出来，那就设置为 browseable=no </p>
<p>guest ok 匿名用户以guest身份是登录；</p>
<p><span>第二步：建立相应目录并授权；</span></p>
<div class="codeblock"><code>[root@localhost ~]# mkdir -p /opt/linuxsir<br />[root@localhost ~]# id nobody<br />uid=99(nobody) gid=99(nobody) groups=99(nobody)<br /><br />[root@localhost ~]# chown -R nobody:nobody /opt/linuxsir</code></div>
<br /><br /><br /><strong>注释：</strong>关于授权nobody，我们先用id命令查看了nobody用户的信息，发现他的用户组也是nobody，我们要以这个为准。有些系统nobody用户组并非是nobody ；
<p>&nbsp;</p>
<p><span><strong>第三步：启动smbd和nmbd服务器；</strong></span></p>
<div class="codeblock"><code>[root@localhost ~]# smbd<br />[root@localhost ~]# nmbd</code></div>
<p>&nbsp;</p>
<p><span><strong>第四步：查看smbd进程，确认Samba 服务器是否运行起来了；</strong></span></p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# pgrep smbd<br />13564<br />13568</code></div>
<br /><br /><br /><span><strong>第五步：访问Samba 服务器的共享；</strong></span><br /><br /><br /><strong>在Linux 中您可以用下面的命令来访问；</strong><br />
<div class="codeblock"><code>[root@localhost ~]# smbclient -L //LinuxSir05<br />Password: 注：直接按回车</code></div>
<br /><br /><br /><strong>在Windows中，您可以用下面的办法来访问；</strong><br /><br /><br />
<div class="codeblock"><code>//LinuxSir05/</code></div>
<p>&nbsp;</p>
<p><span style="font-size: medium;"><strong><br />5、复杂一点的用户共享模型（适合10人左右的小型企业）；<br /></strong></span></p>
<p>比如一个公司有五个部门，分别是linuxsir，sir01，sir02,sir03，sir04。我们想为这家公司设计一个比较安全的共享文件模型。每个用户都有自己的网络磁盘，sir01到sir04还有共用的网络硬盘；所有用户（包括匿名用户）有一个共享资料库，此库为了安全是只读的；所有的用户（包括匿名用户）要有一个临时文件终转的文件夹... .... </p>
<p><span style="font-size: small;"><strong><br />5.1 共享权限设计实现的功能；<br /></strong></span></p>
<p>1)linuxsir部门具有管理所有SMB空间的权限；<br />2)sir01到sir04拥有自己的空间，并且除了自身及linuxsir有权限以外，对其它用户具有绝对隐私性；<br />3)linuxsir01到linuxsir04拥有一个共同的读写权限的空间；<br />4) 所有用户（包括匿名用户）有一个有读权限的空间，用于资料库，所以不要求写入数据。<br />5)sir01到sir04还有一个共同的空间，对sir01到sir04的用户来说是隐私的，不能让其它用户来访问。<br />6) 还要有一个空间，让所有用户可以写入，能删除等功能，在权限上无限制 ，用于公司所有用户的临时文档终转等；</p>
<p><span style="font-size: small;"><strong><br />5.2 在服务器上创建相应的目录；<br /></strong></span></p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# mkdir -p /opt/linuxsir<br />[root@localhost ~]# cd /opt/linuxsir<br />[root@localhost linuxsir]# mkdir sir01 sir02 sir03 sir04 sirshare sir0104rw sirallrw<br />[root@localhost linuxsir]# ls<br /><br />sir01&nbsp; sir0104rw&nbsp; sir02&nbsp; sir03&nbsp; sir04&nbsp; sirallrw&nbsp; sirshare</code></div>
<p>&nbsp;</p>
<p>注：功用如下：</p>
<p>&nbsp;</p>
<div class="codeblock"><code>/opt/linuxsir&nbsp; 这是管理员目录，负责管理其下所有目录；<br />/opt/linuxsir/sir01&nbsp; 是sir01的家目录，用于私用，除了用户本身和linuxsir以外其它用户都是不可读不可写；<br />/opt/linuxsir/sir02&nbsp; 是sir02的家目录，用于私用，除了用户本身和linuxsir以外其它用户都是不可读不可写；<br />/opt/linuxsir/sir03&nbsp; 是sir03的家目录，用于私用，除了用户本身和linuxsir以外其它用户都是不可读不可写；<br />/opt/linuxsir/sir04&nbsp; 是sir04的家目录，用于私用，除了用户本身和linuxsir以外其它用户都是不可读不可写；<br />/opt/linuxsir/sirshare 所用用户（除了linuxsir有权限写入外）只读目录<br />/opt/linuxsir/sir0104rw 是用于sir01到sir04用户可读可写共用目录，但匿名用户不能读写；<br />/opt/linuxsir/sirallrw 用于所有用户（包括匿名用户）的可读可写；</code></div>
<p>&nbsp;</p>
<p><span style="font-size: small;"><strong><br />5.3 添加用户用户组，设置相应目录家目录的权限；<br /></strong></span></p>
<p><span style="font-size: x-small;"><strong><br />5.3.1 添加用户组；<br /></strong></span></p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# /usr/sbin/groupadd linuxsir<br />[root@localhost ~]# /usr/sbin/groupadd sir01<br />[root@localhost ~]# /usr/sbin/groupadd sir02<br />[root@localhost ~]# /usr/sbin/groupadd sir03<br />[root@localhost ~]# /usr/sbin/groupadd sir04<br />[root@localhost ~]# /usr/sbin/groupadd sir0104</code></div>
<p>&nbsp;</p>
<p><span style="font-size: x-small;"><strong><br />5.3.2 添加用户；<br /></strong></span></p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@cuc03 ~]# adduser -g sir01 -G sir0104&nbsp; -d /opt/linuxsir/sir01 -s&nbsp; /sbin/nologin sir01<br />[root@cuc03 ~]# adduser -g sir02 -G sir0104&nbsp; -d /opt/linuxsir/sir02 -s&nbsp; /sbin/nologin sir02<br />[root@cuc03 ~]# adduser -g sir03 -G sir0104&nbsp; -d /opt/linuxsir/sir03 -s&nbsp; /sbin/nologin sir03<br />[root@cuc03 ~]# adduser -g sir04 -G sir0104&nbsp; -d /opt/linuxsir/sir04 -s&nbsp; /sbin/nologin sir04<br />[root@cuc03 ~]# adduser -g linuxsir -d /opt/linuxsir -G linuxsir,sir01,sir02,sir03,sir04,sir0104 -d /opt/linuxsir -s&nbsp; /sbin/nologin linuxsir</code></div>
<p>&nbsp;</p>
<p>为什么这样添加用户？请参考：</p>
<p><a href="http://www.linuxsir.org/main/?q=node/196"><strong>《Linux 文件和目录的属性》</strong></a><br /><a href="http://www.linuxsir.org/main/?q=node/106">《Linux 用户管理工具介绍》</a></p>
<p>当然我们还得学会查看用户信息的工具用法，比如 用finger和id来查看用户信息，主要是看用户是否添加正确；比如；<strong>请参考</strong><a href="http://www.linuxsir.org/main/?q=node/105"><strong>《Linux 用户（User）查询篇》</strong></a></p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost ~]# id linuxsir<br />[root@localhost ~]# finger linuxsir</code></div>
<p>&nbsp;</p>
<p><span style="font-size: x-small;"><strong><br />5.3.3 添加samba用户，并设置密码；<br /></strong></span></p>
<p>我们用的方法是先添加用户，但添加的这些用户都是虚拟用户，因为这些用户是不能通过SHELL登录系统的；另外值得注意的是系统用户密码和Samba用户的密码是不同的。如果您设置了系统用户能登入SHELL，可以设置用户的Samba密码和系统用户通过SHELL登录的密码不同。</p>
<p>我们通过smbpasswd 来添加Samba用户，并设置密码。原理是通过读取/etc/passwd文件中存在的用户名。</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@localhost sir01]# smbpasswd -a linuxsir<br />New SMB password: 注：在这里添加Samba用户linuxsir的密码；<br />Retype new SMB password: 注：再输入一次；</code></div>
<p>&nbsp;</p>
<p>用同样的方法来添加 sir01、sir02、sir03、sir04的密码；</p>
<p><span style="font-size: x-small;"><strong><br />5.3.4 配置相关目录的权限和归属；<br /></strong></span></p>
<p>&nbsp;</p>
<div class="codeblock"><code>[root@cuc03 ~]# chmod 755 /opt/linux<br />[root@cuc03 ~]# chown&nbsp; linuxsir:linuxsir /opt/linuxsir<br /><br />[root@cuc03 ~]# cd /opt/linuxsir<br />[root@cuc03 ~]# chmod 2770 sir0＊<br /><br />[root@cuc03 ~]# chown sir01.linuxsir sir01<br /><br />[root@cuc03 ~]# chown sir02.linuxsir sir02<br /><br />[root@cuc03 ~]# chown sir03.linuxsir sir03<br /><br />[root@cuc03 ~]# chown sir04.linuxsir sir04<br /><br />[root@cuc03 ~]# chown linuxsir.sir0104 sir0104rw<br /><br />[root@cuc03 ~]# chown linuxsir.linuxsir sirshare<br />[root@cuc03 ~]# chmod 755 sirshare<br /><br />[root@cuc03 ~]# chown linuxsir:linuxsir sirallrw<br />[root@cuc03 ~]# chmod 3777 sirallrw</code></div>
<p>&nbsp;</p>
<p><span style="font-size: small;"><strong><br />5.4 修改Samba配置文件 smb.conf；<br /></strong></span></p>
<p>配置文件如下，修改/etc/samba/smb.conf后，不要忘记重启smbd和nmbd服务器；</p>
<p>&nbsp;</p>
<div class="codeblock"><code>[global]<br />workgroup = LINUXSIR<br />netbios name = LinuxSir<br />server string = Linux Samba&nbsp;&nbsp; Test Server<br />security = share<br /><br /><br />[linuxsir]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment = linuxsiradmin<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create mask =&nbsp; 0664<br />#create mask是用户创建文件时的权限掩码；对用户来可读可写，对用户组可读可写，对其它用户可读；<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory mask = 0775<br />#directory mask 是用来设置用户创建目录时的权限掩码，意思是对于用户和用户组可读可写，对其它用户可读可执行;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; valid users = linuxsir<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes<br /><br />[sirshare]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir/sirshare<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; guest ok = yes<br /><br />[sirallrw]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir/sirallrw<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; guest ok = yes<br /><br />[sir0104rw]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment = sir0104rw<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir/sir0104rw<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create mask =&nbsp; 0664<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory mask = 0775<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; valid users = linuxsir,@sir0104 <br />#@sir0104是用户组；<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes<br /><br />[sir01]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment = sir01<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir/sir01<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create mask =&nbsp; 0664<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory mask = 0775<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; valid users = sir01,@linuxsir<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes<br /><br /><br />[sir02]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment = sir02<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir/sir02<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create mask =&nbsp; 0664<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory mask = 0775<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; valid users = sir02,@linuxsir<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes<br /><br />[sir03]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment = sir03<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir/sir03<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create mask =&nbsp; 0664<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory mask = 0775<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; valid users = sir03,@linuxsir<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes<br /><br />[sir04]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comment = sir04<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path = /opt/linuxsir/sir04<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create mask =&nbsp; 0664<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory mask = 0775<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writeable = yes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; valid users = sir04,@linuxsir<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; browseable = yes</code></div>
<p>&nbsp;</p>
<p><span style="font-size: small;"><strong><br />5.5 关于客户端访问；<br /></strong></span></p>
<p><span style="font-size: x-small;"><strong><br />5.5.1 Windows 访问；<br /></strong></span></p>
<p>我们打开Windows的IE浏览器，用IP地址的访问方式就能访问了，格式为 //192.168.1.3 类似的。当然也可以把共享文件夹挂在本地使用。比如我们把sir01文件夹挂在本地中，应该以sir01用户来挂载，挂载流程图如下；</p>
<p><a href="http://www.linuxsir.org/main/files/linuxsir001smb001.jpg" target="_blank"><img src="http://www.linuxsir.org/main/files/linuxsir001smb001.jpg" alt="" height="100" /></a> <a href="http://www.linuxsir.org/main/files/linuxsir002smb002.jpg" target="_blank"><img src="http://www.linuxsir.org/main/files/linuxsir002smb002.jpg" alt="" height="100" /></a> <a href="http://www.linuxsir.org/main/files/linuxsir003smb003.jpg" target="_blank"><img src="http://www.linuxsir.org/main/files/linuxsir003smb003.jpg" alt="" height="100" /></a> <a href="http://www.linuxsir.org/main/files/linuxsir004smb004.jpg" target="_blank"><img src="http://www.linuxsir.org/main/files/linuxsir004smb004.jpg" alt="" height="100" /></a> <a href="http://www.linuxsir.org/main/files/linuxsir005smb005.jpg" target="_blank"><img src="http://www.linuxsir.org/main/files/linuxsir005smb005.jpg" alt="" height="100" /></a> </p>
<p>&nbsp;</p>
<p><span style="font-size: x-large;"><strong>6、更新日志；</strong></span></p>
<p>2006/01/23 v0.1b<br />2006/01/24 v0.2b</p>
<p><span style="font-size: medium;"><strong>7、参考文档；</strong></span></p>
<p><a href="http://us4.samba.org/samba/docs/man/Samba-HOWTO-Collection" target="_blank">《Samba-HOWTO》</a></p>
<p><span style="font-size: medium;"><strong>7、相关文档；</strong></span></p>
<p><a href="?q=node/278" target="_blank">《Samba 文件服务器用户复杂权限模型设计和实现 》</a></p>
<p>&nbsp;</p>
<p>来自：<a href="http://www.linuxsir.org/main/?q=node/158">http://www.linuxsir.org/main/?q=node/158</a></p>
</div>
</div>

<div class="share_buttons" id="sharePanel"></div>
<!--192.168.100.34-->
<div class="article_next_prev">
    <li class="prev_article"><span>上一篇：</span><a href="/lyjtynet/article/details/5290085">一步一学Linux与Windows 共享文件Samba （v0.2b）</a></li>
    <li class="next_article"><span>下一篇：</span><a href="/lyjtynet/article/details/5297565">centos5.3添加国内快速yum源</a></li>
</div>


    
</div>
<div id="ad_cen">
<script type="text/javascript" >BAIDU_CLB_SLOT_ID = "117306";</script>
<script type="text/javascript" src="http://cbjs.baidu.com/js/o.js"></script>
</div>
<script type="text/javascript">
    //new Ad(4, 'ad_cen');
</script>
<div id="comment_title" class="panel_head">查看评论<a name="comments"></a></div>
<div id="comment_list"></div>
<div id="comment_bar"></div>
<div id="comment_form"></div>
<div class="announce">* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
<script type="text/javascript">
    var fileName = '5297564';
    var commentscount = 0;
    var islock = false
</script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/comment.js"></script>
<div id="ad_bot"></div>
<script type="text/javascript">
    new Ad(5, 'ad_bot');
</script>
<div id="report_dialog"></div>

<div id="d-top" style="display:none;">
<a id="d-top-a" href="#" title="回到顶部">
<img src="http://static.blog.csdn.net/images/top.png" alt="TOP" /></a>
</div>
<script type="text/javascript">
    $(function(){
        var d_top=$('#d-top');
        document.onscroll=function(){
            var scrTop=(document.body.scrollTop||document.documentElement.scrollTop);
            if(scrTop>500){
                d_top.show();
            }else{
                d_top.hide();
            }
        }
        $('#d-top-a').click(function(){
            scrollTo(0,0);
            this.blur();
            return false;
        });
    });
</script>

<div class="clear"></div>
</div>
</div>

<div id="side">
<div class="side">
<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/lyjtynet" target="_blank">
    <img src="http://avatar.csdn.net/F/E/2/1_lyjtynet.jpg" title="访问我的空间" style="max-width:90%"/>
    </a>
    <br />
    <span><a href="http://my.csdn.net/lyjtynet" class="user_name" target="_blank">lyjtynet</a></span>
</div>
<div class="interact">
<a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>
<a href="javascript:void(0);" class="letter" onclick="loginto(1)" title="[发私信]"></a>
</div>
<div id="blog_medal">
</div>
<ul id="blog_rank">
    <li>访问：<span>79501次</span></li>
    <li>积分：<span>1744分</span></li>
    <li>排名：<span>第5090名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>87篇</span></li>
    <li>转载：<span>55篇</span></li>
    <li>译文：<span>0篇</span></li>
    <li>评论：<span>12条</span></li>
</ul>
</ul>
</div>

<div class="panel">
<ul class="panel_body" style="padding:0;">
<script type="text/javascript" src="http://cbjs.baidu.com/js/m.js"></script> 
<script type="text/javascript"> 
BAIDU_CLB_preloadSlots("724643","117306"); 
</script>
<script type="text/javascript">BAIDU_CLB_fillSlot("724643");</script> 
</ul>
</div>
<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字" /></span>
        <input id="btnSubmit" type="submit" value="搜索" title="search in blog" />
        <input type="hidden" name="q" id="inputQ" />
        <input type="hidden" name="t" value="blog" />
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div><div id="panel_Category" class="panel">
<ul class="panel_head"><span>文章分类</span></ul>
<ul class="panel_body">
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/547898">apache</a><span>(3)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/547119">BSD</a><span>(2)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/529936">c/c++</a><span>(7)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/625217">flash</a><span>(10)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/570960">Flex</a><span>(1)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/761840">java</a><span>(2)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/541927">javascript</a><span>(3)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/503655">linux</a><span>(37)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/538812">mysql</a><span>(10)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/544406">php</a><span>(17)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/759012">red5</a><span>(1)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/537720">zendframework</a><span>(1)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/537526">其它</a><span>(3)</span>
</li>
<li>
<a href="http://blog.csdn.net/lyjtynet/article/category/544334">牛人blog连接</a><span>(1)</span>
</li>
</ul>
</div><div id="panel_Archive" class="panel">
<ul class="panel_head"><span>文章存档</span></ul>
<ul class="panel_body">
<div id="archive_list">
<!--归档统计-->
<li><a href="http://blog.csdn.net/lyjtynet/article/month/2013/05">2013年05月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2013/01">2013年01月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2012/12">2012年12月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2012/07">2012年07月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2012/06">2012年06月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2012/01">2012年01月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2011/06">2011年06月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2011/05">2011年05月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2011/04">2011年04月</a><span>(5)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2011/03">2011年03月</a><span>(8)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2011/02">2011年02月</a><span>(5)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2011/01">2011年01月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/12">2010年12月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/11">2010年11月</a><span>(5)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/10">2010年10月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/09">2010年09月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/06">2010年06月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/05">2010年05月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/04">2010年04月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/03">2010年03月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/02">2010年02月</a><span>(8)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2010/01">2010年01月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2009/11">2009年11月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2009/07">2009年07月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2009/06">2009年06月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2009/05">2009年05月</a><span>(21)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2009/04">2009年04月</a><span>(11)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2009/03">2009年03月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2009/02">2009年02月</a><span>(5)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2008/12">2008年12月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2008/11">2008年11月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2008/10">2008年10月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2008/09">2008年09月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2008/08">2008年08月</a><span>(8)</span></li><li><a href="http://blog.csdn.net/lyjtynet/article/month/2008/07">2008年07月</a><span>(3)</span></li>
</div>
</ul>
</div>
<div id="hotarticls" class="panel">
<ul class="panel_head"><span>阅读排行</span></ul>
<ul class="panel_body itemlist">
<li>
<a href="/lyjtynet/article/details/4213173" title="Apache启动不了,httpd: apr_sockaddr_info_get() failed for apache 启动问题">Apache启动不了,httpd: apr_sockaddr_info_get() failed for apache 启动问题</a><span>(7503)</span>
</li>
<li>
<a href="/lyjtynet/article/details/4057723" title="linux c/c++ GDB教程详解">linux c/c++ GDB教程详解</a><span>(7331)</span>
</li>
<li>
<a href="/lyjtynet/article/details/3211741" title="php soap实例(一)无wsdl模式">php soap实例(一)无wsdl模式</a><span>(4098)</span>
</li>
<li>
<a href="/lyjtynet/article/details/3864727" title="Subversion使用钩子脚本实现自动更新">Subversion使用钩子脚本实现自动更新</a><span>(3404)</span>
</li>
<li>
<a href="/lyjtynet/article/details/6008977" title="解决apache无法启动:undefined symbol: apr_ldap_ssl_init">解决apache无法启动:undefined symbol: apr_ldap_ssl_init</a><span>(3116)</span>
</li>
<li>
<a href="/lyjtynet/article/details/4152321" title="Linux下基于C/C++的Socket编程实例">Linux下基于C/C++的Socket编程实例</a><span>(2089)</span>
</li>
<li>
<a href="/lyjtynet/article/details/6261066" title="MySQL如何修改表格的字符集，如何修改某个字段的字符集">MySQL如何修改表格的字符集，如何修改某个字段的字符集</a><span>(2088)</span>
</li>
<li>
<a href="/lyjtynet/article/details/4108029" title="学习 Zend Framework 框架连载(一)">学习 Zend Framework 框架连载(一)</a><span>(1696)</span>
</li>
<li>
<a href="/lyjtynet/article/details/4155573" title="守护进程（daemon）介绍">守护进程（daemon）介绍</a><span>(1660)</span>
</li>
<li>
<a href="/lyjtynet/article/details/6179281" title="诡异的 curl返回值">诡异的 curl返回值</a><span>(1424)</span>
</li>
</ul>
</div>
<div id="hotarticls2" class="panel">
<ul class="panel_head"><span>评论排行</span></ul>
<ul class="panel_body itemlist">
<li>
<a href="/lyjtynet/article/details/4057723" title="linux c/c++ GDB教程详解">linux c/c++ GDB教程详解</a><span>(3)</span>
</li>
<li>
<a href="/lyjtynet/article/details/4213173" title="Apache启动不了,httpd: apr_sockaddr_info_get() failed for apache 启动问题">Apache启动不了,httpd: apr_sockaddr_info_get() failed for apache 启动问题</a><span>(2)</span>
</li>
<li>
<a href="/lyjtynet/article/details/5297569" title="Unix/Linux环境常用库简介">Unix/Linux环境常用库简介</a><span>(1)</span>
</li>
<li>
<a href="/lyjtynet/article/details/6261169" title="PHP magic_quotes_gpc的正确处理方式">PHP magic_quotes_gpc的正确处理方式</a><span>(1)</span>
</li>
<li>
<a href="/lyjtynet/article/details/6055106" title="普通java项目生成jar包的基本写法(利用ANT打包)">普通java项目生成jar包的基本写法(利用ANT打包)</a><span>(1)</span>
</li>
<li>
<a href="/lyjtynet/article/details/3864727" title="Subversion使用钩子脚本实现自动更新">Subversion使用钩子脚本实现自动更新</a><span>(1)</span>
</li>
<li>
<a href="/lyjtynet/article/details/5307170" title="关于硬链接和软连接（符号链接）的区别">关于硬链接和软连接（符号链接）的区别</a><span>(1)</span>
</li>
<li>
<a href="/lyjtynet/article/details/4055045" title="Linux apache2 cgi教程">Linux apache2 cgi教程</a><span>(1)</span>
</li>
<li>
<a href="/lyjtynet/article/details/3211741" title="php soap实例(一)无wsdl模式">php soap实例(一)无wsdl模式</a><span>(1)</span>
</li>
<li>
<a href="/lyjtynet/article/details/5485229" title="FTP命令详解">FTP命令详解</a><span>(0)</span>
</li>
</ul>
</div>
<div id="homepageArticles" class="panel">
<ul class="panel_head"><span>推荐文章</span></ul>
<ul class="panel_body" id="ad_commend"></ul>
</div>
<script type="text/javascript">
 new Ad(12, 'ad_commend');
</script><div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
    <a href="/lyjtynet/article/details/4057723#comments">linux c/c++ GDB教程详解</a>
    <p style="margin:0px;"><a href="/bruce421116" class="user_name">bruce421116</a>:
牛逼，好文章啊！
    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/4213173#comments">Apache启动不了,httpd: apr_sockaddr_info_get() failed for apache 启动问题</a>
    <p style="margin:0px;"><a href="/threeg" class="user_name">threeg</a>:
根据你给到方法，解决了Apache启动提示到错误，我到系统是CentOS 6.4先查看主机# hos...
    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/4057723#comments">linux c/c++ GDB教程详解</a>
    <p style="margin:0px;"><a href="/chenzq168" class="user_name">chenzq168</a>:
谢谢了。。。
    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/4057723#comments">linux c/c++ GDB教程详解</a>
    <p style="margin:0px;"><a href="/QINYEHAISANSHAOYE" class="user_name">QINYEHAISANSHAOYE</a>:
非常好，谢谢分享
    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/3211741#comments">php soap实例(一)无wsdl模式</a>
    <p style="margin:0px;"><a href="/terrygem" class="user_name">terrygem</a>:
学习了
    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/6261169#comments">PHP magic_quotes_gpc的正确处理方式</a>
    <p style="margin:0px;"><a href="/biyu02" class="user_name">biyu02</a>:
学习了，谢谢！
    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/4213173#comments">Apache启动不了,httpd: apr_sockaddr_info_get() failed for apache 启动问题</a>
    <p style="margin:0px;"><a href="/zhm268134" class="user_name">zhm268134</a>:

    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/5297569#comments">Unix/Linux环境常用库简介</a>
    <p style="margin:0px;"><a href="/shaoguangleo" class="user_name">shaoguangleo</a>:

    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/6055106#comments">普通java项目生成jar包的基本写法(利用ANT打包)</a>
    <p style="margin:0px;"><a href="/XJAVASunjava" class="user_name">XJAVASunjava</a>:
回去试一试看看行不..
    </p>
    </li>
    <li>
    <a href="/lyjtynet/article/details/3864727#comments">Subversion使用钩子脚本实现自动更新</a>
    <p style="margin:0px;"><a href="/xbm376" class="user_name">xbm376</a>:
谢谢，问题解决了，一直不能自动更新，原来是权限的设置啊，呵呵
    </p>
    </li>
</ul>
</div>
</div>
<div class="clear"></div>
</div>

<div class="clear"></div>
</div>

<script type="text/javascript" src="http://static.blog.csdn.net/scripts/newblog.min.js?v=1.1"></script>
<script type="text/javascript" src="http://medal.blog.csdn.net/showblogmedal.ashx?blogid=310773"></script>

<script type="text/javascript">
document.write('<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer.js?' + Math.floor(new Date()/120000).toString(36) + '="></'+'script>');
</script>

<script type="text/javascript" src="http://passport.csdn.net/content/loginbox/login.js"></script>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script>
<script type="text/javascript" src="http://www.csdn.net/ui/scripts/Csdn/counter.js?v=1"></script>


<script type="text/javascript" src="http://ad.csdn.net/scripts/ad-blog.js"></script>

<script type="text/javascript" src="http://zz.csdn.net/js/count.js"></script>

</div>
</body>
</html>