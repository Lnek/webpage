<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>openstack简介 - jincm13的专栏 - 博客频道 - CSDN.NET</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="最近2个星期在尝试用OpenStack搭建私有云，提供方便的虚拟机部署和管理。写一篇博客记录一下相关资料。&#160;1. OpenStack简介&#160;OpenStack是一个开源软件，它提供了一个部署云的平台。为虚拟计算或存储服务的公有/私有云，提供可扩展的、灵活的云计算。&#160;OpenStack包含了一组由社区维护的开源项目，主要项目有Compute（Nova）， Object Storage（" />
<script src="http://static.blog.csdn.net/scripts/jquery.js" type="text/javascript"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/ad.js?v=1.1"></script>
<link rel="Stylesheet" type="text/css" href="http://static.blog.csdn.net/skin/default/css/style.css?v=1.1" />
<link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="/jincm13/rss/list" />
<link rel="shortcut icon" href="/favicon.ico" />
<link type="text/css" rel="stylesheet" href="http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/default.css" />
</head>
<body>
<script src="http://csdnimg.cn/pubnav/js/pub_topnav_2011.js"type="text/javascript"></script>
<div id="container">
<div id="header">
    <div class="header">
        <div id="blog_title">
            <h1><a href="/jincm13">jincm13的专栏</a></h1>
            <h2></h2>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg"></div>
    <div class="navigator">
        <ul>
            <li id="btnContents"><a href="/jincm13?viewmode=contents"><span><img src="http://static.blog.csdn.net/images/ico_list.gif">目录视图</span></a></li>
            <li id="btnView"><a href="/jincm13?viewmode=list"><span><img src="http://static.blog.csdn.net/images/ico_summary.gif">摘要视图</span></a></li>
            <li id="btnRss"><a href="/jincm13/rss/list"><span><img src="http://static.blog.csdn.net/images/ico_rss.gif">订阅</span></a></li>
</ul>
    </div>
</div>
<script type="text/javascript">
    var username = "jincm13";
    var blog_address = "http://blog.csdn.net/jincm13";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";
</script>
        
<div id="body">
<div id="main">
<div class="main">
<div class="notice"> 

<a href="http://surveies.csdn.net/survey/comein/532" target="_blank">
<font color=blue>博客专家信息更新登记表   </font></a>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://www.csdn.net/article/2013-03-12/2814461" target="_blank"><font color=red>专访卜茂霞：嵌入式汽车开发潜力巨大
</font></a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/8664620" target="_blank"><font color=blue>CSDN博客移动开发排行榜 


</font></a>

<br />





<a href="http://www.csdn.net/article/2013-03-05/2814348"target="_blank">
<font color=red>专访陈勇： 敏捷开发现状及发展之路

 </font></a>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://huiyi.csdn.net/tech/view/223
"target="_blank">
<font color=red>“传统商家移动化之路”会议
 </font></a>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://bbs.csdn.net/topics/390393217"target="_blank">
<font color=red>下载频道3月领任务~赚下载分！ 
  </font></a>


</div><div id="article_details" class="details">
    <div class="article_title">
    <span class="ico ico_type_Repost"></span>
    <h3>
        <span class="link_title"><a href="/jincm13/article/details/8076722">
        openstack简介
        </a></span>
    </h3>
</div>

        
    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="/jincm13/article/category/1258219">openstack</a> 
        </span>
    <span class="link_postdate">2012-10-19 16:44</span>
    <span class="link_view" title="阅读次数">460人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments">评论</a>(0)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:collectArticle('openstack简介','8076722');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report"  onclick="javascript:report(8076722,2);return false;" title="举报">举报</a></span>
    
</div>


    
<div id="article_content" class="article_content">

<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">最近2个星期在尝试用OpenStack搭建私有云，提供方便的虚拟机部署和管理。写一篇博客记录一下相关资料。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">1. OpenStack简介</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<a href="http://openstack.org/" target="_blank" style="color:rgb(16,138,198); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">OpenStack</a><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">是一个开源软件，它提供了一个部署云的平台。为虚拟计算或存储服务的公有/私有云，提供可扩展的、灵活的云计算。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">OpenStack包含了一组由社区维护的开源项目，主要项目有Compute（Nova）， Object Storage（Swift），Image Service（Glance）。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">Nova提供虚拟计算服务，Swift提供存储服务，Glance提供虚拟机镜像的注册、分发服务。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">他们之间的关系可以用这个简图来表示：&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<img src="http://dl.iteye.com/upload/attachment/589851/4a9a6f3d-8361-3102-b6d3-aa05936447ed.jpg" alt="" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">2. OpenStack能够做什么</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">OpenStack能帮我们建立自己的IaaS，提供类&#20284;Amazon Web Service的服务给用户：&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">普通用户可以通过它注册云服务，查看运行和计费情况&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">开发和运维人员可以创建和存储他们应用的自定义镜像，并通过这些镜像启动、监控和终止实例&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">平台的管理人员能够配置和操作网络，存储等基础架构&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<img src="http://dl.iteye.com/upload/attachment/589859/2a59d1a6-451d-359e-a1e5-60f03e8736a4.png" title="点击查看原始大小图片" class="magplus" width="700" height="516" alt="" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"></span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">3. OpenStack Compute(Nova)的软件架构</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">下图是Nova的软件架构，每个nova-xxx组件是由python代码编写的守护进程，每个进程之间通过队列（Queue）和数据库（nova database）来交换信息，执行各种请求。而用户通过nova-api暴露的web service来同其他组件进行进行交互。Glance是相对独立的基础架构，nova通过glance-api来和它交互。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<img src="http://dl.iteye.com/upload/attachment/589868/fc133453-cd10-3adb-b869-5fa3d0bb64da.png" title="点击查看原始大小图片" class="magplus" width="700" height="505" alt="" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"></span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">4. Nova各个组件的作用</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">nova-api是Nova的中心。它为所有外部调用提供服务，除了提供OpenStack本身的API规范外，他还提供了兼容EC2的部分API，所以也可以用EC2的管理工具对nova进行日常管理。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">nova-compute负责对虚拟机实例进行创建、终止、迁移、Resize的操作。工作原理可以简单描述为：从队列中接收请求，通过相关的系统命令执行他们，再更新数据库的状态。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">nova-volume管理映射到虚拟机实例的卷的创建、附加和取消。 &nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">nova-network从队列中接收网络任务，然后执行任务控制虚拟机的网络，比如创建桥接网络或改变iptables的规则。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">nova-scheduler 提供调度，来决定在哪台资源空闲的机器上启动新的虚拟机实例&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">Queue为守护进程传递消息。只要支持AMQP协议的任何Message Queue Sever都可以，当前官方推荐用RabbitMQ。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">SQL database存储云基础架构中的各种数据。包括了虚拟机实例数据，网络数据等。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">user dashboard是一个可选的项目。它提供了一个web界面来给普通用户或者管理者来管理、配置他们的计算资源。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">5. Nova的硬件架构</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">Nova采用无共享、基于消息的架构，我们能安装每个nova-xxx组件在单独的服务器上，这样可以根据不同目的进行不同的配置安装&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">单结点：一台服务器运行所有的nova-xxx组件，同时也驱动虚拟实例。这种配置只为尝试Nova，或者为了开发目的进行安装。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<img src="http://dl.iteye.com/upload/attachment/589876/299736b6-8b67-3386-9106-6f350ade40b3.png" alt="" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">1控制节点&#43;N个计算节点：一个控制结点运行除nova-compute外的所有nova-services，然后其他compute结点运行nova-compute。所有的计算节点需要和控制节点进行镜像交互，网络交互，控制节点是整个架构的瓶颈，这种配置主要用于概念证明或实验环境。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<img src="http://dl.iteye.com/upload/attachment/589884/2d336040-6ee4-3a08-a1df-5b6599d4186b.png" alt="" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">多节点：增加节点单独运行nova-volume，同时在计算节点上运行nova-network，并且根据不同的网络硬件架构选择DHCP或者VLan模式，让控制网络和公共网络的流量分离。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<img src="http://dl.iteye.com/upload/attachment/589892/ebe9994a-3ffb-398c-a39d-55a3761c5b14.png" title="点击查看原始大小图片" class="magplus" width="700" height="525" alt="" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"></span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">6. OpenStack的安装</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">OpenStack的安装是比较麻烦，可以参考官方文档进行： http://docs.openstack.org/diablo/openstack-compute/admin/content/ , 文档有一些地方没有更新到最新版本，会遇到一些小问题，推荐一个第3方脚本进行安装: &nbsp; http://devstack.org/
 它适合用来搭建实验环境。可以通过阅读这个脚本，同时配合官方文档来理解整个软件架构。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">同时通过Ubuntu源安装的nova在实际使用过程中遇到一些小问题，都需要打补丁来解决，建议了解整个配置以后，可以改成从git上获取stable分支的代码进行安装，这样日后维护升级也比较方便。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">如果你需要从无到有搭建整个数据中心，推荐Crowbar实现自动化远程安装： https://github.com/dellcloudedge/crowbar 从裸机到可用系统只用在web界面点击几下即可完成，还自带各种SA常用功能（比如nagios监控等），不过这个东西也比较复杂，推荐有兴趣的SA们试用。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">7. 遇到的问题</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">官方文档和devstack脚本基本上都是为了搭建实验环境写的，没有为生产环境做最佳实践的指导，在安装过程中遇到很多问题，比如：&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">A. 多节点部署的时候要用multi host参数&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">B. 使用VLAN&#43;硬件网关的时候做网络配置时候，需要指定dnsmasq_config_file来强制覆盖dnsmasq的网关配置&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">C. 用KVM制作windows镜像的时候需要安装virtio驱动&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">D. 通过Ubuntu源安装的Nova，在Ami&#26684;式的镜像启动的instance无法做snapshot，需要打</span><a href="https://github.com/openstack/nova/commit/b931d51ce47203ee6a4433dc7577e0779ab94710" target="_blank" style="color:rgb(16,138,198); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">补丁</a><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">E. 通过Ubuntu源安装的Nova，在启用keystone进行身份认证的情况下，无法提供EC2的兼容API，也需要打补丁&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">8. Openstack 的各种资料</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">A. 官网和wiki http://docs.openstack.org/&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">B. Devstack的脚本说明，对于了解如何配置各个组件非常有帮助 http://devstack.org/stack.sh.html&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">C. Rackspace的参考架构，有很多很有用的信息，包括硬件，网络，软件配置等等，强烈推荐： http://www.referencearchitecture.org&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">D. 看你准备基于什么技术进行虚拟化，KVM或者Xen的文档也是很有用的。&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:25px; text-align:left; font-size:14px">9. 展示</span><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">用dashboard管理虚拟机&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<img src="http://dl.iteye.com/upload/attachment/589899/86c0d050-6991-3888-908b-005d6a7f3bfb.png" alt="" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">通过noVNC在web上连接到虚拟机&nbsp;</span><br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">
<p><img src="http://dl.iteye.com/upload/attachment/589901/3fdeddb9-fa0e-32c2-94f5-fc598fb93769.png" alt="" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left">&nbsp;</span></p>
<p><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><br>
</span></p>
<p><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"></span></p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
NOVA安装指南</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
何为openstack</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
OpenStack是一个美国国家航空航天局和Rackspace合作研发的云端运算?软件，以Apache许可证授权，并且是一个自由软件和开放源代码项目。以Python编程语言编写并整合Tornado网页服务器、Nebula运算平台，使用Twisted软件框架，遵循Open Virtualization Format、AMQP、SQLAlchemy等标准。虚拟机器软件支援包括：KVM、Xen、VirtualBox。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
openstack由三个项目组成，他们分别是OpenStack Compute（Nova），OpenStack Object Storage（Swift），以及OpenStack Image Service（Glance）。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
OpenStack Compute，为云组织的控制器，它提供一个工具来部署云，包括运行实例、管理网络以及控制用户和其他项目对云的访问（the cloud through users and projects）。它底层的开源项目名称是Nova，其提供的软件能控制IaaS云计算平台，类&#20284;于Amazon EC2和Rackspace Cloud Servers。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
OpenStack Object Storage，是一个可扩展的对象存储系统。对象存储支持多种应用，比如复制和存档数据，图像或视频服务，存储次级静态数据，开发数据存储整合的新应用，存储容量难以估计的数据，为Web应用创建基于云的弹性存储。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
OpenStack Image Service，是一个虚拟机镜像的存储、查询和检索系统，服务包括的RESTful API允许用户通过HTTP请求查询VM镜像元数据，以及检索实际的镜像。VM镜像有四种配置方式：简单的文件系统，类&#20284;OpenStack Object Storage的对象存储系统，直接用Amazon's Simple Storage Solution (S3) 存储，用带有Object Store的S3间接访问S3。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
三个项目的基本关系如下图1-1所示：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
<a target="\&quot;_blank\&quot;" href="http://img1.51cto.com/attachment/201112/7/1068039_1323220963i3sr.jpg" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; color:rgb(75,0,2); text-decoration:none"><img title="clip_image002" border="0" alt="clip_image002" height="512" src="http://img1.51cto.com/attachment/201112/7/1068039_1323220964WL1E.jpg" width="650" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; vertical-align:top; border-style:initial; border-color:initial; border-top-style:initial; border-right-style:initial; border-bottom-style:initial; border-left-style:initial; border-width:initial; border-width:initial; border-bottom-width:0px; border-bottom-color:initial; border-left-width:0px; border-left-color:initial; border-top-width:0px; border-top-color:initial; border-right-width:0px; border-right-color:initial"></a></p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
1-1 OpenStack三个组件的关系</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
OpenStack Compute逻辑架构中，组件中的绝大多数可分为两种自定义编写的Python守护进程（custom written python daemons）。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
接收和协调API调用的WSGI应用（nova-api, glance-api, etc）</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
执行部署任务的Worker守护进程（nova-compute, nova-network, nova-schedule, etc.）</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
然而，逻辑架构中有两个重要的部分，既不是自定义编写，也不是基于Python，它们是消息队列和数据库。二者简化了复杂任务（通过消息传递和信息共享的任务）的异步部署。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
逻辑架构图3-1如下所示：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
<a target="\&quot;_blank\&quot;" href="http://img1.51cto.com/attachment/201112/7/1068039_1323220965Ky3U.jpg" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; color:rgb(75,0,2); text-decoration:none"><img title="clip_image004" border="0" alt="clip_image004" height="514" src="http://img1.51cto.com/attachment/201112/7/1068039_1323220967xBKy.jpg" width="650" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; vertical-align:top; border-style:initial; border-color:initial; border-top-style:initial; border-right-style:initial; border-bottom-style:initial; border-left-style:initial; border-width:initial; border-width:initial; border-bottom-width:0px; border-bottom-color:initial; border-left-width:0px; border-left-color:initial; border-top-width:0px; border-top-color:initial; border-right-width:0px; border-right-color:initial"></a></p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
3-1 OpenStack Compute逻辑架构</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
从图中，我们可以总结出三点：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
终端用户（DevOps, Developers 和其他的 OpenStack 组件）通过和nova-api对话来与OpenStack Compute交互。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
OpenStack Compute守护进程之间通过队列（行为）和数据库（信息）来交换信息，以执行API请求。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
OpenStack Glance基本上是独立的基础架构，OpenStack Compute通过Glance API来和它交互。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
其各个组件的情况如下：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
nova-api守护进程是OpenStack Compute的中心。它为所有API查询（OpenStack API 或 EC2 API）提供端点，初始化绝大多数部署活动（比如运行实例），以及实施一些策略（绝大多数的配额检查）。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
nova-compute进程主要是一个创建和终止虚拟机实例的Worker守护进程。其过程相当复杂，但是基本原理很简单：从队列中接收行为，然后在更新数据库的状态时，执行一系列的系统命令执行他们。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
nova-volume管理映射到计算机实例的卷的创建、附加和取消。这些卷可以来自很多提供商，比如，ISCSI和AoE。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Nova-network worker守护进程类&#20284;于nova-compute和nova-volume。它从队列中接收网络任务，然后执行任务以操控网络，比如创建bridging interfaces或改变iptables rules。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Queue提供中心hub，为守护进程传递消息。当前用RabbitMQ实现。但是理论上能是python ampqlib支持的任何AMPQ消息队列。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
SQL database存储云基础架构中的绝大多数编译时和运行时状态。这包括了可用的实例类型，在用的实例，可用的网络和项目。理论上，OpenStack Compute能支持SQL-Alchemy支持的任何数据库，但是当前广泛使用的数据库是sqlite3（仅适合测试和开发工作），MySQL和PostgreSQL。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
OpenStack Glance，是一个单独的项目，它是一个compute架构中可选的部分，分为三个部分：glance-api, glance-registry and the image store. 其中，glance-api接受API调用，glance-registry负责存储和检索镜像的元数据，实际的Image Blob存储在Image Store中。Image Store可以是多种不同的Object Store，包括OpenStack Object Storage (Swift)</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
最后，user dashboard是另一个可选的项目。OpenStack Dashboard提供了一个OpenStack Compute界面来给应用开发者和devops staff类&#20284;API的功能。当前它是作为Django web Application来实现的。当然，也有其他可用的Web前端。接下来我们体验一下openstack：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
一、环境</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
硬件：一台X86小麻雀台式机 AMD处理器 单网卡（官方要求多台服务器双网卡）</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
系统：ubuntu11.10 desktop版</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
nova版本：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
2011.3 (2011.3-nova-milestone-tarball:tarmac-20110922115702-k9nkvxqzhj130av2)</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
网络：可以上互联网，由于需要的安装包太多并且依赖关系复杂，所以我使用在线安装方式。本地网卡ip：10.11.69.79，实例ip：172.16.0.0/28</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
二、安装</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
$passwd root //使用root安装，避免安装过程中产生不必要的权限问题</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
1． nova安装</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
由于openstack是由python语言编写，所以要先安装python包</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# apt-get install python-software-properties</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# add-apt-repository ppa:nova-core/release</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# apt-get update</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
安装消息队列服务器rabbitmq：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# apt-get install -y rabbitmq-server</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
安装python依赖包：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# apt-get install -y python-greenlet python-mysqldb</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
安装nova-packages及一些依赖包：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# apt-get install -y nova-common nova-doc python-nova nova-api nova-network nova-objectstore nova-scheduler nova-compute glance</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
安装 euca2ools 工具包，后面注册镜像时候用到，否则会注册失败：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# apt-get install -y euca2ools unzip</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
2． 安装数据库</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
openstack提供了多种数据库可用，再次我使用mysql（其他数据库不了解）：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# apt-get install -y mysql-server</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
设定数据库密码：123456</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
编辑/etc/mysql/my.cnf,修改‘bind-address' 从127.0.0.1到0.0.0.0，并重启mysql</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# sed -i 's/127.0.0.1/0.0.0.0/g' /etc/mysql/my.cnf</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# /etc/init.d/mysql restart</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
创建”nova”库:</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#mysql&amp;gt;create database nova;</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#mysql&amp;gt; grant all privileges on *.* to root@'%' identified by '123456';</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#mysql&amp;gt; grant all privileges on *.* to nova@'%' identified by '123456';</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#mysql&amp;gt; flush privileges;</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
重启所有服务：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#restart libvirt-bin;restart nova-network;restart nova-compute;restart nova-api;restart nova-objectstore;restart nova-scheduler; restart glance-registry;restart glance-api</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
3． 配置网络参数</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# more /etc/network/interfaces</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
auto br100</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
iface br100 inet static</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
bridge_ports eth0</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
bridge_stp off</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
bridge_maxwait 0</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
bridge_fd 0</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
address 10.11.69.79</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
netmask 255.255.255.0</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
broadcast 10.11.69.255</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
gateway 10.11.69.1</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
dns-nameservers 192.168.8.57</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
//我只有一个网卡eth0，使用10.11.69.79上网，网关和dns地址都是公司共同使用的。</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#/etc/init.d/networking restart //重启网卡</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
配置nova：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#more /etc/nova/nova.conf //我使用openstack的dhcp网络模式</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--dhcpbridge_flagfile=/etc/nova/nova.conf //dhcp 桥接配置文件位置</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--dhcpbridge=/usr/bin/nova-dhcpbridge //桥接命令位置</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--logdir=/var/log/nova //nova日志存放路径</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--state_path=/var/lib/nova //nova 状态文件位置</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--lock_path=/var/lock/nova //lock 文件位置</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--force_dhcp_release=True //dhcp 释放</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--use_deprecated_auth //是否启用外部认证</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--iscsi_helper=tgtadm</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--verbose //是否启用详细日志消息</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--flagfile=/etc/nova/nova-compute.conf //compute配置文件地址</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--network_manager=nova.network.manager.FlatDHCPManager //默认网络模式</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--flat_network_dhcp_start=172.16.0.2 //dhcp分配给的实例的ip的起始地址</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--flat_injected=False</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--public_interface=eth0</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--s3_host=10.11.69.79 //objectstore 服务地址</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--rabbit_host=10.11.69.79 //rabbitmq 队列服务器地址</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--osapi_host=10.11.69.79</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--ec2_api=10.11.69.79</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--ec2_url=http://10.11.69.79:8773/services/Cloud //nova-api 接口地址</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--sql_connection=mysql://root:123456@10.11.69.79/nova //数据库连接参数</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--image_service=nova.image.glance.GlanceImageService //默认存储镜像使用的服务</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--glance_host=10.11.69.79 //glance 服务地址</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--fixed_range=172.16.0.0/8 //运行实例分配 ip段</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--iscsi_ip_prefix=10.11.69</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--bridge_interface=br100</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--flat_interface=eth0</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--network_size=256 //网络主机数</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
--libvirt_type=kvm //通过 libvirt 连接的虚拟化类型</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
4． 修改sql_connection参数来指定数据库连接地址</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#vi /etc/glance/glance-registry.conf</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
sql_connection = mysql://root:123456@localhost/glance</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
在mysql建立glance数据库</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
mysql&amp;gt;create database glance;</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#chown -R root:nova /etc/nova</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
改变一下/etc/nova的属主</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#chmod 640 /etc/nova/nova.conf</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
重启所有的服务：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#restart libvirt-bin;restart nova-network;restart nova-compute;restart nova-api;restart nova-objectstore;restart nova-scheduler; restart glance-registry;restart glance-api</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
5． nova运行环境配置</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#/usr/bin/nova-manage db sync //在数据库nova中建立数据表</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
创建管理员用户：baiying</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#/usr/bin/nova-manage user admin baiying</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
export EC2_ACCESS_KEY=6aa51bfd-6bfb-4a94-bf55-3c4bacc4d59a export</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
EC2_SECRET_KEY=aba78372-8a22-460c-af7e-d6da1ebf2eef //产生的密钥</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
创建管理员用户baiying的工程 baiying-proj</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#/usr/bin/nova-manage project create baiying-proj baiying</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
为实例创建网络：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#nova-manage network create novanet 172.16.0.0/28 1 100 --bridge=br100</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
//创建了172.16.0.0的网段，含有一个网络，100个ip</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
查看建立的实例的ip段：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#nova-manage network list</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
id IPv4 IPv6 start address DNS1</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
1 172.16.0.0/28 None 172.16.0.2 8.8.4.4</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
通过命令查看建立的工程：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# nova-manage project list</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
baiying-proj</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
6． 创建证书</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#mkdir creds</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#nova-manage project zipfile baiying-proj baiying creds/novacreds.zip</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#unzip creds/novacreds.zip -d creds/</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#source creds/novarc</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# cat /root/creds/novarc &amp;gt;&amp;gt; .bashrc</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# source .bashrc</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
查看服务是否正常使用</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-describe-availability-zones verbose</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
AVAILABILITYZONE nova available</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
AVAILABILITYZONE |- zhaohh-G41MT-S2</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
AVAILABILITYZONE | |- nova-scheduler enabled :-) 2011-11-11 08:34:27</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
AVAILABILITYZONE | |- nova-compute enabled :-) 2011-11-11 08:34:27</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
AVAILABILITYZONE | |- nova-network enabled :-) 2011-11-11 08:34:27</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# nova-manage service list</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Binary Host Zone Status State Updated_At</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
nova-scheduler zhaohh-G41MT-S2 nova enabled :-) 2011-11-11 08:41:02</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
nova-compute zhaohh-G41MT-S2 nova enabled :-) 2011-11-11 08:41:04</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
nova-network zhaohh-G41MT-S2 nova enabled :-) 2011-11-11 08:41:02</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
使能够ping 和ssh compute节点上的虚拟机：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-authorize -P icmp -t -1:-1 default</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-authorize -P tcp -p 22 default</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
7． 镜像制作</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
从<a target="\&quot;_blank\&quot;" href="http://smoser.brickies.net/ubuntu/ttylinux-uec/" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; color:rgb(75,0,2); text-decoration:none">http://smoser.brickies.net/ubuntu/ttylinux-uec/</a>下载镜像并上传到服务器这是我下载的镜像ttylinux-uec-i386-11.2_2.6.35-16_1.tar.tar</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
注册镜像</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# uec-publish-tarball ttylinux-uec-i386-11.2_2.6.35-16_1.tar.tar ubuntu1102</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
查看注册的镜像：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-describe-images</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
<a target="\&quot;_blank\&quot;" href="http://img1.51cto.com/attachment/201112/7/1068039_1323220967lWw3.jpg" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; color:rgb(75,0,2); text-decoration:none"><img title="clip_image006" border="0" alt="clip_image006" height="152" src="http://img1.51cto.com/attachment/201112/7/1068039_1323220968u64d.jpg" width="650" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; vertical-align:top; border-style:initial; border-color:initial; border-top-style:initial; border-right-style:initial; border-bottom-style:initial; border-left-style:initial; border-width:initial; border-width:initial; border-bottom-width:0px; border-bottom-color:initial; border-left-width:0px; border-left-color:initial; border-top-width:0px; border-top-color:initial; border-right-width:0px; border-right-color:initial"></a></p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
8． 创建ssh keypair密钥</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-add-keypair mykey &amp;gt; mykey.priv</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# chmod 600 mykey.priv //权限不可过大，否则登录实例会提示失败</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
创建一个虚拟机：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-run-instances ami-00000006 -k mykey -t m1.tiny</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
//可以创建多个</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
查看创建好的实例：</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-describe-instances</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-describe-instances</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
RESERVATION r-b9rwrtsb baiying-proj default</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
INSTANCE i-00000005 ami-00000006 172.16.0.2 172.16.0.2 running mykey</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
9． 为实例添加外网地址，并分配</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#nova-manage floating create 10.11.69.200</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# euca-allocate-address</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
ADDRESS 10.11.69.200</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#euca-associate-address -i i-00000006 10.11.69.200</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
10． 登录实例</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
root@zhaohh-G41MT-S2:~# ssh -i mykey.priv root@10.11.69.200</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Chop wood, carry water.</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# hostname</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
server-1</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
#passwd root</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Changing password for root</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
New password:</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Bad password: too weak</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Retype password:</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Password for root changed by root</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
# exit</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
logout</p>
<p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(44,44,44); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
Connection to 10.11.69.200 closed.</p>
<br>
<p><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><br>
</span></p>
<p><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"><br>
</span></p>
<p><span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25px; text-align:left"></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">【</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">51CTO</span></span></span><span style="color:#333333"><span style="font-family:宋体">独家特稿】</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">OpenStack</span></span></span><span style="color:#333333"><span style="font-family:宋体">是一套用来管理虚拟机的平台软件。它不是一个单一的软件，而是集成了很多个组件用来协同合作。简单的来说，譬如有十台服务器，在</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">VMware</span></span></span><span style="color:#333333"><span style="font-family:宋体">的情况下，我们在每台服务器上安装</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">esx</span></span></span><span style="color:#333333"><span style="font-family:宋体">或者</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">esxi</span></span></span><span style="color:#333333"><span style="font-family:宋体">，然后装一台</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">vcenter</span></span></span><span style="color:#333333"><span style="font-family:宋体">，在</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">vcenter</span></span></span><span style="color:#333333"><span style="font-family:宋体">的管理界面里把十台服务器的</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">esx</span></span></span><span style="color:#333333"><span style="font-family:宋体">通过域名或者</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">ip</span></span></span><span style="color:#333333"><span style="font-family:宋体">加入，就能在</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">vcenter</span></span></span><span style="color:#333333"><span style="font-family:宋体">里面统一管理。类&#20284;的，红帽也有</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">virsh</span></span></span><span style="color:#333333"><span style="font-family:宋体">这种管理虚拟机的程序。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:黑体">相关阅读：</span></span><a href="http://os.51cto.com/art/201105/263937.htm"><span style="color:#004276"><u><span style="font-family:黑体">在</span><span style="font-family:Times New Roman,serif"><span style="font-family:黑体,serif">Ubuntu</span></span></u></span></a><a href="http://os.51cto.com/art/201105/263937.htm"><span style="color:#004276"><u><span style="font-family:黑体">上安装和配置</span><span style="font-family:Times New Roman,serif"><span style="font-family:黑体,serif">OpenStackNova</span></span></u></span></a></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">在这里我不介绍其他的云平台的管理软件，只是介绍如何从技术角度来使用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">OpenStack</span></span></span><span style="color:#333333"><span style="font-family:宋体">。如果要作为生产环境的话，你还需要考虑更多，譬如架构，网络拓扑，存储的方式，节点的分布等等。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">在本篇文章里，我将介绍采用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">ec2</span></span></span><span style="color:#333333"><span style="font-family:宋体">兼容认证的方式。所有组件安装在一台</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">controller</span></span></span><span style="color:#333333"><span style="font-family:宋体">上。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体"><strong>关键字定义</strong></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">控制端：类&#20284;</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">vcenter</span></span></span><span style="color:#333333"><span style="font-family:宋体">的管理系统。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">节点：类&#20284;安装了</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">esx</span></span></span><span style="color:#333333"><span style="font-family:宋体">的服务器。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:宋体,serif">nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">组件：安装在节点上，让节点能按照控制端的命令来操作节点上的虚拟机或者存储。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:宋体,serif">glance</span></span></span><span style="color:#333333"><span style="font-family:宋体">组件：用来管理镜像。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体"><strong>环境准备</strong></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:宋体,serif">ubuntu11.10</span></span></span><span style="color:#333333"><span style="font-family:宋体">，服务器双网卡</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体"><strong>步骤</strong></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">安装完基本的操作系统后&nbsp;</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get update</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get upgrade</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install bridge-utils &nbsp;#</span></span></span><span style="color:#333333"><span style="font-family:宋体">安装网桥软件&nbsp;</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">配置网络接口</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">在这里我的架构是</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">eth0</span></span></span><span style="color:#333333"><span style="font-family:宋体">连接了外网，即我們可以访问的网口。</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">eth1</span></span></span><span style="color:#333333"><span style="font-family:宋体">做了网桥，和节点之间通过一个交换机连接。这样的好处是，内部节点和控制器的流量都走</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">br100</span></span></span><span style="color:#333333"><span style="font-family:宋体">的交换机，而不会影响虚拟机上的应用使用的网络。</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo vi /etc/network/interfaces</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<br>
<br>
</p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">autoeth0<br>
iface eth0 inet static<br>
address 192.168.200.21<br>
netmask255.255.255.0<br>
network 192.168.200.0<br>
broadcast192.168.200.255<br>
gateway 192.168.200.10<br>
auto br100<br>
ifacebr100 inet static<br>
bridge_ports eth1<br>
bridge_stpoff<br>
bridge_maxwait 0<br>
bridge_fd 0<br>
address10.200.200.2<br>
netmask 255.255.255.0<br>
$ sudo/etc/init.d/networking restart </span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">初期准备工作做好，接下来就是要安装关于</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">glance</span></span></span><span style="color:#333333"><span style="font-family:宋体">等组件</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install -y rabbitmq-server #</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">安装</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">MQ</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">消息組件</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install -y python-greenlet python-mysqldb #</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">安装</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">Pythondependencies</span></span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">接下来安装各个</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">组件及依赖</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install nova-volume nova-vncproxy nova-apinova-ajax-console-proxy</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install nova-doc nova-scheduler nova-objectstore</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install nova-network nova-compute</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install glance</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">安装</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">euca2ools</span></span></span><span style="color:#333333"><span style="font-family:宋体">和</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">unzip</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install -y euca2ools unzip</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">接下来我们安装数据库，这裡我选择了</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">MySQL</span></span></span><span style="color:#333333"><span style="font-family:宋体">，其实个人觉得</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">PostgreSQL</span></span></span><span style="color:#333333"><span style="font-family:宋体">更好。</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo su -</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">#MYSQL_PASS=nova</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">设定</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">mysql</span></span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">的密码和</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">nova</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">数据库的密码</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">#cat &lt;&lt;MYSQL_PRESEED | debconf-set-selections</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">&gt;mysql-server-5.1mysql-server/root_password password $MYSQL_PASS</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">&gt;mysql-server-5.1mysql-server/root_password_again password $MYSQL_PASS</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">&gt;mysql-server-5.1mysql-server/start_on_boot boolean true</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">&gt;MYSQL_PRESEED</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">#apt-get install -y mysql-server</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">#exit</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">退出</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">root</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">环境</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo sed -i 's/127.0.0.1/0.0.0.0/g' /etc/mysql/my.cnf</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">修改</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">my.cnf</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">配置文件</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo service mysql restart</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$MYSQL_PASS=nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">在普通用户环境下把密码再次设置一下变量</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$NOVA_PASS=notnova</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">这是</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">nova</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">数据库的密码</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo mysql -uroot -p$MYSQL_PASS -e 'CREATE DATABASE nova;'</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">创建一个名字为</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">nova</span></span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">的数据库，这裡建议新手使用</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">nova</span></span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">的名字，如果这裡换别的名字，那麽在</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">nova</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">的配置文件裡面也需要更改</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo mysql -uroot -p$MYSQL_PASS -e &quot;GRANT ALL PRIVILEGES ON *.*TO 'nova'@'%' WITH GRANT OPTION;&quot;</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo mysql -uroot -p$MYSQL_PASS -e &quot;SET PASSWORD FOR 'nova'@'%'= PASSWORD('$NOVA_PASS');&quot;</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">至此，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">glance</span></span></span><span style="color:#333333"><span style="font-family:宋体">的安装部分完成，接下来是配置。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:宋体,serif"><strong>nova</strong></span></span></span><span style="color:#333333"><span style="font-family:宋体"><strong>配置</strong></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo vi /etc/nova/nova.conf</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--dhcpbridge_flagfile=/etc/nova/nova.conf</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--dhcpbridge=/usr/bin/nova-dhcpbridge</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--logdir=/var/log/nova</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--state_path=/data/openstack/nova</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">这裡的</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">/data/openstack/nova</span></span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">是我新建的一个卷和目录，确保你有这个，并且要属于</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">nova</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">用户，或者你也可以使用他的默认设置</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--instances_path=/data/openstack/nova/instances</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">修改了默认存放</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">instances</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">的地方</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--lock_path=/var/lock/nova</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--force_dhcp_release=True</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--use_deprecated_auth</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--iscsi_helper=tgtadm</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--verbose</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--scheduler_driver=nova.scheduler.simple.SimpleScheduler</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--network_manager=nova.network.manager.FlatDHCPManager</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--my_ip=10.200.200.2</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">这是我的内网</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">ip</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">地址</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--public_inter&gt;</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--sql_connection=mysql://nova:notnova@localhost/nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">刚才建立的数据库</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--libvirt_type=kvm</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--api_paste_config=/etc/nova/api-paste.ini</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--image_service=nova.image.glance.GlanceImageService</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--ec2_dmz_host=192.168.200.21</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--ec2_url=http://192.168.200.21:8773/services/Cloud</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--rabbit_host=localhost</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--glance_api_servers=10.200.200.2:9292</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--flat_network_bridge=br100</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--flat_inter&gt;</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--flat_network_dhcp_start=10.200.200.51</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">指定从</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">instances</span></span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">分配从</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">51</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">开始，但貌&#20284;这个选项不起作用</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--fixed_range=10.200.200.0/24</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">这个选项指定</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">instances</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">的网段</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--flat_injected=False</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--multi_host=1</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">使用</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">multi_host</span></span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">，即以后可以在节点上也使用</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">nova-network</span></span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">--libvirt_use_virtio_for_bridges</span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">使用</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">virtio</span></span></span></span><span style="color:#333333"><span style="font-family:宋体"><span style="font-size:12px; font-size:9pt">做</span></span><span style="font-family:Times New Roman,serif"><span style="font-family:Courier New,serif"><span style="font-size:12px; font-size:9pt">instances</span></span></span></span><span style="color:#333333"><span style="font-family:宋体">的网卡模式</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">然后是</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">glance</span></span></span><span style="color:#333333"><span style="font-family:宋体">的：</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo vi /etc/glance/glance-api.conf</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">修改</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">filesystem_store_datadir</span></span></span><span style="color:#333333"><span style="font-family:宋体">参数，来指定你需要存放</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">images</span></span></span><span style="color:#333333"><span style="font-family:宋体">的目录，当然属主也要改成</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">glance</span></span></span><span style="color:#333333"><span style="font-family:宋体">用户。</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo vi /etc/glance/glance-registry.conf</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">这个文件可以选修改</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">sql_connection</span></span></span><span style="color:#333333"><span style="font-family:宋体">参数来指定你的数据库。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">如果你要修改，使用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">mysql</span></span></span><span style="color:#333333"><span style="font-family:宋体">里面的数据库，请确保在</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">mysql</span></span></span><span style="color:#333333"><span style="font-family:宋体">裡面建立了一个相对应的数据库</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">sql_connection= mysql://nova:notnova@localhost/glance</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">这是我的配置，我在</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">mysql</span></span></span><span style="color:#333333"><span style="font-family:宋体">建立了一个</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">glance</span></span></span><span style="color:#333333"><span style="font-family:宋体">的数据库</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo chown -R root:nova /etc/nova</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">改变一下</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">/etc/nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">的属主</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo chmod 640 /etc/nova/nova.conf</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">重启各个服务</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo restart libvirt-bin</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo restart nova-network</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo restart nova-compute</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo restart nova-api</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo restart nova-objectstore</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo restart nova-scheduler</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo restart glance-registry</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo restart glance-api</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">注意：我们这裡没有起</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova-volume</span></span></span><span style="color:#333333"><span style="font-family:宋体">，是因为虽然我们安装了</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">volume</span></span></span><span style="color:#333333"><span style="font-family:宋体">，但是</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">volume</span></span></span><span style="color:#333333"><span style="font-family:宋体">需要单独的一个</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">vg</span></span></span><span style="color:#333333"><span style="font-family:宋体">来使用，我们现在还没配置</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">volume</span></span></span><span style="color:#333333"><span style="font-family:宋体">，所以起不来。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">这裡可能</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">network</span></span></span><span style="color:#333333"><span style="font-family:宋体">服务和</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">compute</span></span></span><span style="color:#333333"><span style="font-family:宋体">没法起来，先暂时不要去管。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">接下去，我们做配置</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">的运行环境了</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo nova-manage db sync</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">nova-manageuser admin &lt;user_name&gt;</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">在这裡我们可以创建一个用户，如</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo nova-manage user admin test</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">创建成功屏幕上会返回下面这样的输出：</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">exportEC2_ACCESS_KEY=d6aa7747-4324-4abc-9604-4f7d6a2f8f3f</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">exportEC2_SECRET_KEY=2b204b75-da2d-47b8-ba7a-611d71f0ecbf</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">nova-manageproject create &lt;project_name&gt; &lt;user_name&gt;</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">创建一个项目，属于刚才我们建的那个用户如：</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo nova-manage project create test-proj test</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">nova-managenetwork create --help</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">创建一个实例的网络，如：</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo nova-manage network create --label=test-net--fixed_range_v4=10.200.200.0/24 --num_network=1 --network_size=256</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">再次启动刚才失败的服务</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo start nova-network</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo start nova-compute</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo start nova-scheduler</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">怎么样，成功了吧。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">另外，在起每个服务的时候，最好看一下日志，譬如</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">sudotail -f /var/log/nova/nova-network</span></span></span><span style="color:#333333"><span style="font-family:宋体">来确定有没有报错，也可以用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">psaux
 | grep [n]ova-network</span></span></span><span style="color:#333333"><span style="font-family:宋体">来确认服务有没有开启。如果起服务失败，你确认好原因，修改好以后，需要用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">sudostart</span></span></span><span style="color:#333333"><span style="font-family:宋体">而不是</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">sudorestart</span></span></span><span style="color:#333333"><span style="font-family:宋体">来起</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">好了。这样计算的环境就部署好了。我们可以用命令来看一下状态：</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo nova-manage service list</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo nova-manage network list</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">如此这般。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">接下来创建证书，以方便我们使用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">euca</span></span></span><span style="color:#333333"><span style="font-family:宋体">工具</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$cd</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$mkdir creds</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo nova-manage project zipfile test-proj test creds/novacreds.zip</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$unzip creds/novacreds.zip -d creds/</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$source creds/novarc</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">注意每次你重新登录</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">shell</span></span></span><span style="color:#333333"><span style="font-family:宋体">的时候，需要</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">source</span></span></span><span style="color:#333333"><span style="font-family:宋体">一下这个认证文件才能使用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">euca</span></span></span><span style="color:#333333"><span style="font-family:宋体">；当然你也可以把</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">novarc</span></span></span><span style="color:#333333"><span style="font-family:宋体">的内容</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">&gt;&gt;</span></span></span><span style="color:#333333"><span style="font-family:宋体">到你的用户</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">profile</span></span></span><span style="color:#333333"><span style="font-family:宋体">文件或者</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">bashrc</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:宋体,serif">OK</span></span></span><span style="color:#333333"><span style="font-family:宋体">，完成，我们可以用工具来看一下</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$euca-describe-availability-zones verbose</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">VAILABILITYZONEnova available</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">AVAILABILITYZONE|- nova-test</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">AVAILABILITYZONE| |- nova-network enabled :-) 2011-10-17 04:45:44</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">AVAILABILITYZONE| |- nova-compute enabled :-) 2011-10-17 04:45:45</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">AVAILABILITYZONE| |- nova-scheduler enabled :-) 2011-10-17 04:45:45</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">至此，成功启用了服务。当你发现服务不能正常使用时，用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">psaux | grepnova</span></span></span><span style="color:#333333"><span style="font-family:宋体">检查一下服务有没有开启，并需要详细观察</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">/var/log/nova/</span></span></span><span style="color:#333333"><span style="font-family:宋体">目录下的各个服务的日志文件，这样才能获得更进一步的信息。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">接下来我们可以用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">kvm</span></span></span><span style="color:#333333"><span style="font-family:宋体">来创建一个</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">image</span></span></span><span style="color:#333333"><span style="font-family:宋体">镜像</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo apt-get install kvm-pxe</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">安装一下这个，否则运行</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">kvm</span></span></span><span style="color:#333333"><span style="font-family:宋体">的时候会有个警告</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$kvm-img create -f raw server.img 5G</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$sudo kvm -m 1024 -cdrom rhel5.iso -drive&nbsp;&nbsp;file=server.img,if=virtio,index=0 -boot d -net nic -net user-nographic&nbsp;-vnc :0</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">这里我们使用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">RHEL5</span></span></span><span style="color:#333333"><span style="font-family:宋体">的</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">iso</span></span></span><span style="color:#333333"><span style="font-family:宋体">，运行完这个命令，可以用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">vnc</span></span></span><span style="color:#333333"><span style="font-family:宋体">连接。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">在你的本机连接服务器：</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">ssvncviewer192.168.200.21 :0</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">打开</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">vnc</span></span></span><span style="color:#333333"><span style="font-family:宋体">你就可以看到安装界面。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">安装完以后，把下面一段写入</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">rhel</span></span></span><span style="color:#333333"><span style="font-family:宋体">镜像的</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">/etc/rc.local</span></span></span><span style="color:#333333"><span style="font-family:宋体">的开头：</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">depmod-a</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">modprobeacpiphp</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<br>
<br>
</p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">#simple attempt to get the user ssh key using the meta-data service</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">mkdir-p /root/.ssh</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">echo&gt;&gt; /root/.ssh/authorized_keys</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">curl-m 10 -shttp://169.254.169.254/latest/meta-data/public-keys/0/openssh-key |grep 'ssh-rsa' &gt;&gt; /root/.ssh/authorized_keys</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">echo&quot;AUTHORIZED_KEYS:&quot;</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">echo&quot;************************&quot;</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">cat/root/.ssh/authorized_keys</span></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">echo&quot;************************&quot;<br>
</span></span></span><br>
<br>
</p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">保存退出，这样</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">image</span></span></span><span style="color:#333333"><span style="font-family:宋体">就做好了。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体"><strong>使用</strong></span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif"><strong>glance</strong></span></span></span><span style="color:#333333"><span style="font-family:宋体"><strong>上传镜像</strong></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$glance --verbose add name=&quot;rhel5&quot; disk_format=rawis_public=true &lt; server.img</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">同时你应该观察</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">/var/log/glance/registry</span></span></span><span style="color:#333333"><span style="font-family:宋体">和</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">api</span></span></span><span style="color:#333333"><span style="font-family:宋体">的</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">log</span></span></span><span style="color:#333333"><span style="font-family:宋体">。成功之后，用</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$glance index</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">看看镜像列表。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体"><strong>启动你的实例</strong></span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$euca-describe-images</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">查看你现在可用的</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">image</span></span></span><span style="color:#333333"><span style="font-family:宋体">，输出类&#20284;下面这样：</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">IMAGEami-00000003 server.img</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">记住这里</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">ami-000000003</span></span></span><span style="color:#333333"><span style="font-family:宋体">这个</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">image</span></span></span><span style="color:#333333"><span style="font-family:宋体">号。</span></span></p>
<p align="LEFT" style="margin-bottom:0.42cm; background-color:rgb(230,230,230); line-height:0.74cm">
<span style="font-family:Times New Roman,serif"><span style="color:#333333"><span style="font-family:Courier New,serif">$euca-run-instances -t m1.tiny ami-00000003</span></span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">启动</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">ami-00000003</span></span></span><span style="color:#333333"><span style="font-family:宋体">镜像的实例。</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">-t</span></span></span><span style="color:#333333"><span style="font-family:宋体">指明了实例的类型，类型规定了</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">cpu</span></span></span><span style="color:#333333"><span style="font-family:宋体">，内存，磁盘大小等信息。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">观察</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">/var/log/nova/nova-api.lognova-scheduler.log</span></span></span><span style="color:#333333"><span style="font-family:宋体">，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova-compute</span></span></span><span style="color:#333333"><span style="font-family:宋体">，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova-network.log</span></span></span><span style="color:#333333"><span style="font-family:宋体">的输出信息，同时你也可以使用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">vnc</span></span></span><span style="color:#333333"><span style="font-family:宋体">连接</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">serverip:0</span></span></span><span style="color:#333333"><span style="font-family:宋体">来看实例的</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">console</span></span></span><span style="color:#333333"><span style="font-family:宋体">。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">用命令</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">$euca-describe-instances</span></span></span><span style="color:#333333"><span style="font-family:宋体">来查看你目前的实例情况。第一次启动实例会比较慢，因为需要把</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">image</span></span></span><span style="color:#333333"><span style="font-family:宋体">从</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">glance</span></span></span><span style="color:#333333"><span style="font-family:宋体">拷贝到</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">下的实例目录。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">由于</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">目前发展的很快，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">diablo</span></span></span><span style="color:#333333"><span style="font-family:宋体">的</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">release</span></span></span><span style="color:#333333"><span style="font-family:宋体">版本功能可以完成日常的一些需求。但是开发版本的</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">nova</span></span></span><span style="color:#333333"><span style="font-family:宋体">可以更好的结合</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">keystone</span></span></span><span style="color:#333333"><span style="font-family:宋体">，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">novaclient</span></span></span><span style="color:#333333"><span style="font-family:宋体">，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">dashboard</span></span></span><span style="color:#333333"><span style="font-family:宋体">等一些其他的项目，使得</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">OpenStack</span></span></span><span style="color:#333333"><span style="font-family:宋体">更加健全。有兴趣的朋友，可以在生产环境使用</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">repo</span></span></span><span style="color:#333333"><span style="font-family:宋体">的安装方式，在测试环境测试开发版本。我本人由于在生产环境中使用了</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">git</span></span></span><span style="color:#333333"><span style="font-family:宋体">方式安装的开发版本，因此后续更加完善的整合，我都将以开发版本的形式出现。当然使用开发版本的话，会有更多的烦恼，但也同样有更多的乐趣和动手的实践，能更进一步了解其工作的原理机制。</span></span></p>
<p align="LEFT" style="text-indent:0.74cm; margin-top:0.26cm; margin-bottom:0.26cm; line-height:0.74cm">
<span style="color:#333333"><span style="font-family:宋体">作者简介：</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">livemoon</span></span></span><span style="color:#333333"><span style="font-family:宋体">（</span></span><a href="http://livemoon.dyndns.org/"><span style="color:#004276"><u><span style="font-family:宋体">博客</span></u></span></a><span style="color:#333333"><span style="font-family:宋体">），小小</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">SA</span></span></span><span style="color:#333333"><span style="font-family:宋体">，关注</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">mac</span></span></span><span style="color:#333333"><span style="font-family:宋体">，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">BSD</span></span></span><span style="color:#333333"><span style="font-family:宋体">，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">openstack</span></span></span><span style="color:#333333"><span style="font-family:宋体">，开源技术，</span><span style="font-family:Times New Roman,serif"><span style="font-family:宋体,serif">webos</span></span></span><span style="color:#333333"><span style="font-family:宋体">。座右铭：非淡泊無以明志，非寧靜無以致遠。</span></span></p>
<p style="margin-bottom:0cm"><a name="_GoBack"></a><br>
</p>
<p style="margin-bottom:0cm"><br>
</p>
<p><br>
</p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">&nbsp;OpenStack、</span><a target="_blank" href="http://gigaom.com/cloud/theres-a-new-open-source-cloud-in-town-meet-apache-cloudstack/" style="color:rgb(0,102,204); text-decoration:none; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">CloudStack</a><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">（Citrix创建，曾OpenStack的一大拥护者）、</span><a target="_blank" href="http://gigaom.com/cloud/eucalyptus-rakes-in-30nnfor-its-cloud-effort/" style="color:rgb(0,102,204); text-decoration:none; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">Eucalyptus</a><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">、</span><a target="_blank" href="http://gigaom.com/cloud/opennebula-quietly-keeps-building-its-open-source-cloud/" style="color:rgb(0,102,204); text-decoration:none; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">OpenNebula</a><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">及一些其他的云开源基础设施.</span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"></span></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">
毋庸置疑，OpenStack并不是唯一开放源码的项目，更不是开源云计算平台的唯一选择。它面对的不仅仅有成熟商业版的Eucalyptus的阻击，更有亚马逊的公有云计算的强力竞争，即使是前盟友Citrix也转而支持了<a href="http://gigaom.com/cloud/theres-a-new-open-source-cloud-in-town-meet-apache-cloudstack/" target="_blank" style="color:rgb(0,102,204); text-decoration:none">Apache
 CloudStack</a>项目。来自Zenoss得最近的<a href="http://www.wired.com/wiredenterprise/2012/10/open-source-cloud-survey/" target="_blank" style="color:rgb(0,102,204); text-decoration:none">一项调查报告</a>表明，在早期大家还是比较看好OpenStack的。在600名受访者之中，虽然有82.9％的人表示并没有使用的开源云，但是在其中有超过一半的人（56.9％）表示，他们正在计划在未来两年进行部署开源云。而且62.8％的受访者表示，他们会考虑使用OpenStack进行部署，对比而言有46.8％的人会考虑使用CloudStack平台，仅仅有23.8％的人会计划使用<a href="http://www.csdn.net/article/2012-10-12/gigaom.com/cloud/eucalyptus-updates-platform/" target="_blank" style="color:rgb(0,102,204); text-decoration:none">Eucalyptus</a>部署。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">
在CSDN最近一次的采访中，ezCloud的联合创始人、高级技术总监以及首席架构师蒋清野表示：“OpenStack功能不够完善，但是社区发展最快。Eucalyptus的功能最为完善，但社区较不活跃。今年4月初，CloudStack项目被捐赠给Apache基金会，其社区活跃度在短短的三个月内提升了三倍。6月底，Eucalyptus又宣布将原先企业版的功能全部开源，这个举措同样会对开源IaaS生态系统产生重大的影响。”虽然OpenStack在社区活跃度领先，并得到众多大佬的支持。但蒋清野表示，从目前开源IaaS生态系统的发展状况来看，断定OpenStack将成为IaaS的工业标准，还为时过早。</p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><br>
</span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"></span></span></p>
<div class="summary" style="margin-top:0px; margin-right:0px; margin-bottom:1.5em; margin-left:0px; padding-top:5px; padding-right:10px; padding-bottom:5px; padding-left:10px; list-style-type:none; list-style-position:initial; background-color:rgb(247,247,247); color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">
<strong>摘要：</strong>OpenStack的第6版，版本代号为Folsom的最新版于今年九月底正式发布，Folsom将支持下一代软件定义网络(SDN)作为其核心组成部分。Folsom改进了现有代码的可用性和稳定性，包括185个新功能，最主要是虚拟网络方面的功能，而且这也是新成立的OpenStack基金会推出的第一个软件版本。</div>
<div class="con news_content" style="margin-top:0px; margin-right:0px; margin-bottom:30px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
两年前OpenStack基于NASA的Nova项目和Rackspace的Swift项目合并得以建立，而今OpenStack已经成为云计算领域的一颗新星，继2012年四月发布Essex版本之后，在今年九月底OpenStack第6版Folsom正式发布，本文简要分析了OpenStack Folsom的架构。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>OpenStack最新的组件</strong></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
OpenStack目前有7个核心组件：Compute(计算)， Object Storage(对象存储)，Identity(身份认证)，Dashboard(仪表盘)， Block Storage(块存储)， Network(网络) 和 Image Service(镜像服务) 。下面将依次进行解释：</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Object Storage</strong>(代号为“Swift”) 允许进行存储或者检索文件。目前已经有几好家公司开始提供基于Swift商业存储服务，这些公司包括KT，<a href="http://www.rackspace.com/" target="_blank" style="color:rgb(0,102,204); text-decoration:none">Rackspace</a>公司（Swift项目的发源地）和Internap，而且很多大公司内部也使用Swift来存储数据。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Image Service</strong>(代号为“Glance”) 是一个虚拟机镜像的存储、查询和检索系统，它提供了一个虚拟磁盘映像的目录和存储库，这些磁盘映像常常广泛应用于OpenStack Compute之中，而且这种服务在技术上是属于可选的，任何规模的云都适用于它。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Compute</strong>(代号为“Nova”) 根据需求提供虚拟服务。<a href="http://www.rackspace.com/" target="_blank" style="color:rgb(0,102,204); text-decoration:none">Rackspace</a>公司和<a href="https://www.hpcloud.com/" target="_blank" style="color:rgb(0,102,204); text-decoration:none">HP</a>提供商业计算服务正是建立在Nova之上，Mercado
 Libre和NASA（Nova项目的起源地）内部也是使用的Nova。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Dashboard</strong>(代号为“Horizon”) 为所有OpenStack的服务提供了一个模块化的web-based用户界面。使用这个Web GUI，可以在云上完成大多数的操作，如启动实例，分配IP地址，设置访问控制等。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Identity</strong>(代号为“Keystone”) 为所有的OpenStack服务提供身份验证和授权。它还提供了一个在特定OpenStack云服务上的服务目录。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Network</strong>(代号为“Quantum”) 在接口设备之间提供“网络连接作为一种服务”，而这些接口设备主要靠其他的OpenStack服务进行管理(最有可能是Nova)。该服务允许用户创建自己的网络，然后连接接口。Quantum提供一个可插拔的体系架构，它能支持很多流行的网络供应商和技术，Quantum是Folsom版本中的新项目。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Block Storage</strong>(代号为“Cinder”) 提供稳定的数据块存储服务。这个项目的很多代码最初是来自于Nova之中（就是the nova-volume service）。但是请注意，这是块存储（或者volumes），而不是类&#20284;于NFS或者CIFS文件系统，Cinder在Folsom中也是一个全新的项目。除了这些核心项目之外，也有一些“孵化”项目，未来可能会考虑列入到OpenStack的核心项目之中。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>对比AWS的服务</strong></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
虽然所有的OpenStack服务都具有自己的特色，但是很多人还是希望能看到它与AWS相&#20284;的部分，而且Amazon一直也是OpenStack的重要对手。</p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Nova在概念上类&#20284;于AWS中的EC2服务，不过事实上，它拥有很多种方法可以实现对EC2 API的兼容性。</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Swift在概念上类&#20284;于S3服务，不过swift具有很强的扩展性、冗余和持久性。</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Glance提供了很多与Amazon AMI catalog相&#20284;的功能。</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Cinder提供类&#20284;于EBS块存储服务。&nbsp;</li></ul>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>概念架构</strong></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
OpenStack项目成立的目的是“提供一个大规模的可扩展的云操作系统”。要做到这一点，每一个组成服务的设计都要精心考虑，这样才能打造一个完整的IaaS平台。从概念上，我们可以描绘出各种服务之间的关系：</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; text-align:center">
<img width="600" height="378" border="0" src="http://articles.csdn.net/uploads/allimg/121015/145_121015152317_1.png" alt="" style="vertical-align:middle; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Dashboard(&quot;Horizon&quot;) 提供了一个Web前端到OpenStack其他的服务的界面</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Compute(&quot;Nova&quot;) 存储和检索虚拟磁盘(images)和Image上相关的元数据(Glance)</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Network(&quot;Quantum&quot;) 提供虚拟网络</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Block Storage(&quot;Cinder&quot;) 提供存储。</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Image(&quot;Glance&quot;) 在对象存储(Swift)上能够完成虚拟磁盘文件的存储</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
所有的服务进行身份验证(Keystone)</li></ul>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
这是一个程式化的简化版的体系结构视图，而且假定构建者使用所有的OpenStack服务进行最常见的配置操作，不过它也仅仅是显示“操作员”看到的云——并没有显示出云用户具体的使用过程，比如说用户如何进行直接的对象存储。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>逻辑架构</strong></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
正如你能想象到的那样，逻辑结构要比概念架构复杂得多的多(如图所示)。正如任何面向服务的架构图一样，如果想说明所有可能的服务通信组合，图就会迅速“乱成一团”。下面的图，仅仅显示了一个最常见的基于OpenStack的云架构。当然，随着OpenStack支持技术种类的多样化，它并不能代表唯一的架构图。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; text-align:center">
<img width="600" height="382" border="0" src="http://articles.csdn.net/uploads/allimg/121015/145_121015152334_1.png" alt="" style="vertical-align:middle; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
该图与上述的概念架构图是一致的：</p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
最终用户可以通过一个公共的Web界面(Horizon)进行交互或者通过其API直接访问每一项服务</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
所有的服务进行身份验证都是通过一个共同的来源(通过Keystone)</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
个人服务通过他们公共的API进行交互(除了那些拥有特别权限的地方才需要管理员的命令)</li></ul>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
下面的章节中，将会深入到每个服务的架构之中进行说明。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Dashboard</strong></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
Horizon是一个模块化的<a href="https://www.djangoproject.com/" target="_blank" style="color:rgb(0,102,204); text-decoration:none">Django Web</a>应用程序，它为终端用户和系统管理员提供界面来管理OpenStack服务。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; text-align:center">
<img width="600" height="382" border="0" src="http://articles.csdn.net/uploads/allimg/121015/145_121015152450_1.png" alt="" style="vertical-align:middle; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
和大多数Web应用程序一样，该体系架构是也是非常简单：</p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Horizon通常使用Apache上的mod_wsgi进行部署。代码本身被分离成可复用的python模块，通过逻辑（使用不同的OpenStack API进行交互）和presentation（对不同的站点很容易实现定制）实现。</li></ul>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
一个数据库，不过因为它主要依赖于其他的数据服务，所以本身存储的数据非常少。</li></ul>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
从网络架构的角度来看，这项服务需要客户的访问而且要能够跟每项服务公共的API进行交互。如果您希望使用的管理员功能（即其他的服务），也需要连接到他们的Admin API端点（这不是客户能随意访问的）。</p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Compute</strong></p>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
Nova是OpenStack中最复杂的分布式组件，它通过大量的进程合作，将最终用户的API请求发送到正在运行的虚拟机之上。以下是这些进程的列表及其功能的描述：</p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
nova-api：接受和响应最终用户Compute API的请求。它支持OpenStack Compute API，Amazon EC2 API和一个特殊的Admin API。它还引发多数业务流程的活动(如运行一个实例)，并实施一些政策(主要是配额检查)。</li></ul>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
nova-compute：主要是一个人工守护进程，它可以通过虚拟机管理程序的API（XenAPI for XenServer/XCP, libvirt for KVM or QEMU, VMwareAPI for VMware等）来创建和终止虚拟机实例。虽然通过该进程做的事情是相当的复杂，但是它的基础原理却是非常的简单：接收队列中的动作，然后执行一系列的系统命令(如启动KVM实例)，同时更新数据库中的状态。</li></ul>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
nova-volume：给虚拟机分配额外持久化的存储，管理持久卷到计算实例的创建，连接和分离。一个新的OpenStack项目，Cinder，将最终替代nova-volume功能。在发布的Folsom版本中，nova-volume和Block Storage service(块存储服务)有类&#20284;的功能。</li></ul>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
nova-network：该人工守护进程与nova-compute和nova-volume非常相&#20284;。它接受队列中的网络任务，然后执行任务操纵网络（如设立桥接接口或更改iptables规则）。不过该项功能被移植到Quantum之中，已经成为一个独立的OpenStack服务。</li></ul>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
nova-schedule：从概念上说是OpenStack Nova中最简单的一段代码：从队列上得到一个虚拟机实例请求并且决定它应该在哪里运行(特别是它应该运行在哪台计算服务器主机之上)</li></ul>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
queue：提供了一个守护进程之间传递消息的中央枢纽。当前由<a target="_blank" href="http://www.rabbitmq.com/" style="color:rgb(0,102,204); text-decoration:none">RabbitMQ</a>实现，理论上可以是Python的ampqlib支持的任何AMPQ消息队列。新的Folsom版本支持<a target="_blank" href="http://www.zeromq.org/" style="color:rgb(0,102,204); text-decoration:none">Zero
 MQ</a>。</li></ul>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
SQL database：存储云基础设施的编译时和运行时的状态。这包括可用的实例类型，在使用中的实例，可用的网络和项目。从理论上讲，OpenStack Nova可以支持任何SQL-Alchemy支持的数据库，但是目前被广泛使用的数据库仅仅有sqlite3（只适用于测试和开发工作），MySQL和PostgreSQL。</li></ul>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:1em; margin-left:20px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:none; list-style-position:initial">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-type:disc; list-style-position:initial">
Nova还提供控制台的服务，让最终用户通过代理服务器访问他们的虚拟实例的控制台。这涉及到多个守护进程(nova-console，nova-vncproxy和nova-consoleauth)。（编译/<a href="http://weibo.com/1615203572/profile?topnav=1&amp;wvr=3.6" target="_blank" style="color:rgb(0,102,204); text-decoration:none">@CSDN王鹏</a>，审校/包研）<strong></strong>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong></strong></p>
</li></ul>
<p style="margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial">
<strong>Object Store、Image Store、Identity、Network、Block Storage</strong>、<strong>Future Projects<strong>(敬请期待Part 2部分)</strong></strong></p>
</div>
<br>
<p></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"></span></span></p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
<span style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px">如何构造这么一个系统</span>。</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px; text-align:center">
<a target="_blank" href="http://www.linuxeden.com/upimg/allimg/111129/1613024101-3.png" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; color:rgb(51,102,204); text-decoration:none"><img class="fit-image" width="498" border="0" alt="OpenStack拓扑图" src="http://www.linuxeden.com/upimg/allimg/111129/1613024101-3.png" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; max-width:100%; overflow-x:hidden; overflow-y:hidden"></a></p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
这张图是个简单的拓扑图。每台host都有两块网卡，连接switch1的是外部访问接口，就是用户可以直接连接到的ip网络，这个网络用来提供给虚拟机以便用户使用。switch2使用一个内部的网络，即对用户不可见，我们可以设定一个私有网络，这个网络用来node节点和controller之间的网络通讯，image的传输，nova-volume和node之间的iscsi的数据传输。</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
环境准备</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
所有的服务器都安装Ubuntu 11.10。</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
网络配置</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
参照上一篇文章中配置网络接口那一部分，请把br100的设置controller为10.200.200.1，node1为2，以此类推。</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
时间同步</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
时间同步很重要，保证你各个节点之间，通常在controller上配置ntp服务器。其余节点的配置文件以controller的ip为ntp服务器。</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
安装控制器</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
在这里我以controller的外网ip为10.11.3.62，内网为10.200.200.1，安装过程参照了<a href="http://devstack.org/" style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; color:rgb(51,102,204); text-decoration:none">devstack</a>的脚本
 ，我注释掉了脚本里的swift以及一些目前还用不到的部分。设置了一些自己的环境参数。</p>
<pre style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-size:14px; line-height:25px; background-color:rgb(255,255,255)">git clone git://github.com/livemoon/mydevstack
cd mydevstack</pre>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
修改localrc的内容：</p>
<pre style="padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-size:14px; line-height:25px; background-color:rgb(255,255,255)">DEST这个你可以设置为你自己想要安装的目录，我这里用/data/stack
FIXED_RANGE这个很重要，简单的说就是switch2的网段
FLOATING_RANGE外网的地址网段
FLAT_INTERFACE这个就是你绑定网桥的那个网口。和你/etc/network/interfaces里一致
MYSQL_USER脚本里默认使用root，我使用了一个别的用户。这个随便你
然后执行脚本./stack.sh</pre>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
一开始会问你几个密码，分别是mysql，rabbitmq，service_token，horizon and keystone admin。你可以按照自己的输入，只是要注意别搞混了。接着它就会运行下载安装，由于可能网络的原因会导致安装中途断掉，遇到这种情况，重新运行脚本即可。脚本执行完之后，屏幕上会出现“stack.sh completed in $SECONDS seconds.”</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
这时候，打开你的web浏览器。输入 “http://$HOST_IP/”，$HOST_IP/就是我的10.11.3.62，输入你自己的，如果出现登陆界面，输入admin和刚才的 horizon and keystone admin这个密码。如果登陆成功，那就说明你完成了controller的安装。</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
默认情况下，controller上面会起所有nova的服务，你应该可以看到你有几个cpu和内存可以使用，现在已经可以使用基本的功能了。这个时候，你的controller其实即是控制节点，也是计算节点（因为起了nova-compute和nova-network服务）。</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
以上就是一个最简单的搭建教程。如果你只是想看一下界面，知道它是怎么样的一个东西，那么现在已经足够了。</p>
<p style="padding-top:4px; padding-right:4px; padding-bottom:4px; padding-left:4px; margin-top:0px; margin-bottom:0px; color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; font-size:14px; line-height:25px">
在下一篇中，我将介绍如何平行的添加节点，制作镜像，进行快照，设定实例的配置选项。如果你想继续深入，把OpenStack作为一个可以研究的对象的话，请先读懂devstack的脚本，然后我们再深入。</p>
<br>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><br>
</span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><a href="http://blog.csdn.net/hilyoo/article/details/7704280" style="color:rgb(0,0,0); text-decoration:none; font-family:'Microsoft YaHei'; font-size:20px; line-height:30px; text-align:left">构建OpenStack的高可用性（HA，High
 Availability）</a><br>
</span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"></span></span></p>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<span style="color:rgb(51,51,51)">1、CAP理论</span></h3>
<span style="line-height:26px; text-align:left; color:rgb(51,51,51); font-family:'Segoe UI',Calibri,'Myriad Pro',Myriad,'Trebuchet MS',Helvetica,Arial,sans-serif; font-size:13px"></span><span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"></span>
<p></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0.25em; margin-bottom:0.75em; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; text-align:left; line-height:19px">
<strong>1） CAP 理论给出了3个基本要素：</strong></p>
<ul style="font-family:Arial; font-size:14px; text-align:left; margin-top:0px; margin-right:0px; margin-bottom:10px; margin-left:15px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; list-style-position:outside; line-height:19px">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
一致性 (&nbsp;<strong>C</strong>onsistency) ：任何一个读操作总是能读取到之前完成的写操作结果；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
可用性 (&nbsp;<strong>A</strong>vailability) ：每一个操作总是能够在确定的时间内返回；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
分区可容忍性 (Tolerance of network&nbsp;<strong>P</strong>artition) ：在出现网络分区的情况下，仍然能够满足一致性和可用性；</li></ul>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
&nbsp; &nbsp; CAP 理论指出，三者不能同时满足。对这个理论有不少异议，但是它的参考价&#20540;依然巨大。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="line-height:19px">&nbsp; &nbsp; 这个理论并不能为不满足这3个基本要求的设计提供借口，只是说明理论上3者不可绝对的满足，而且</span><span style="line-height:19px">工程上从来不要求绝对的一致性或者可用性，但是必须寻求一种平衡和最优。</span></p>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
&nbsp; &nbsp; 对于分布式数据系统，分区容忍性是基本要求。因此设计分布式数据系统，很多时候是在一致性和可用性（可靠性）之间寻求一个平衡。更多的系统性能和架构的讨论也是围绕一致性和可用性展开。</div>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="line-height:19px"><br>
</span></p>
<p style="margin-top:0.25em; margin-bottom:0.75em; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; text-align:left; line-height:19px">
<strong>2） OpenStack、Swift与CAP的工程实践</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
&nbsp; &nbsp; 对照CAP理论，OpenStack的分布式对象存储系统Swift满足了可用性和分区容忍性，没有保证一致性（可选的），只是实现了最终一致性。Swift如果GET操作没有在请求头中包含’X-Newest’头，那么这次读取有可能读到的不是最新的object，在一致性窗口时间内object没有被更新，那么后续GET操作读取的object将是最新的，保证了最终一致性；反之包含了’X-Newest’头，GET操作始终能读取到最新的obejct，就是一致的。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
&nbsp; &nbsp; &nbsp;在OpenStack架构中，对于高可用性需要进行很多工作来保证。因此，下面将对OpenStack结构中的可用性进行讨论：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<a href="http://blog.csdn.net/hilyoo/article/details/7704280" target="_blank" style="color:rgb(202,0,0); text-decoration:none">构建OpenStack的高可用性（HA，High Availability）</a>&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial,Tahoma,Verdana; color:rgb(85,85,85)"><span style="line-height:20px"><br>
</span></span></p>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<a name="t1" style="color:rgb(202,0,0)"></a><span style="color:rgb(51,51,51)">2、OpenStack的高可用性</span>（<span style="background-color:rgb(248,248,248)">OpenStack HA</span>）</h3>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
&nbsp;&nbsp;<span style="font-size:12px">&nbsp;&nbsp;</span><span style="font-size:16px">要弄清楚怎么实现高可用性，就需要知道哪些服务容易出现不可靠。首先了解一些OpenStack的大致结构。</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px">&nbsp; &nbsp; OpenStack由5大组件组成（计算nova，身份管理keystone，镜像管理glance，前端管理dashboard和对象存储swift）。</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px">&nbsp; &nbsp; nova是计算、控制的核心组件，它又包括nova-compute、nova-scheduler、nova-volume、nova-network和nova-api等服务。借用http://ken.people.info的以下这幅图了解OpenStack的5大组件和功能：</span></div>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; text-indent:0.78cm">
</p>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img src="http://xip-1077754327103.http.internapcdn.net/xip-1077754327103/blog/nova-concept-int-essex.jpg" alt="OpenStack Essex Conceptual Integration" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; text-indent:0.78cm"></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:12px"><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:12px"><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:12px"><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:12px"><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px">下面这幅图描述了各个组件的功能和服务结构：</span><img src="http://xip-1077754327103.http.internapcdn.net/xip-1077754327103/blog/nova-logical-arch-essex.jpg" alt="OpenStack Essex Logical Architecture" width="934" height="792" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:12px"><br>
</span></div>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<a name="t2" style="color:rgb(202,0,0)"></a><span style="color:rgb(51,51,51); font-family:宋体; line-height:28px; background-color:rgb(248,248,248)"></span></h3>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left; font-size:14px; font-weight:normal">
<a name="t3" style="color:rgb(202,0,0)"></a><span style="font-size:12px"><br>
</span></h3>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<a name="t4" style="color:rgb(202,0,0)"></a><span style="font-weight:normal"><span style="font-size:12px">&nbsp;</span><span style="font-size:12px">&nbsp; &nbsp;</span><span style="font-size:16px">同其它大部分分布式系统一样，</span></span><span style="font-size:16px"><span style="font-weight:normal">OpenStack也分为控制节点和计算节点两种不同功能的节点。</span><span style="font-weight:normal">控制节点提供除nova-compute以外的服务。这些组件和服务都是可以独立安装的，可以选择组合。</span></span></h3>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><br>
</span></div>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<a name="t5" style="color:rgb(202,0,0)"></a><span style="font-weight:normal"><span style="font-size:16px">&nbsp; &nbsp; nova-compute在每个计算节点运行，暂且假设它是可信任的；或者使用备份机来实现故障转移（不过每个计算节点配置备份的代价相比收益&#20284;乎太大）。</span></span></h3>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<a name="t6" style="color:rgb(202,0,0)"></a><span style="font-size:16px"><span style="font-weight:normal">控制节点的高可靠性是主要问题，而且</span><span style="font-weight:normal; color:rgb(51,51,51); font-family:宋体; line-height:28px">对于不同的组件都有自己的高可靠性需求和方案。</span></span></h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; text-indent:0.78cm">
<span style="font-size:16px"><span style="line-height:0.64cm">（1）由于</span><span style="line-height:0.64cm; font-family:'DejaVu Serif',serif">CotrolNode</span><span style="line-height:0.64cm">只有１个，且负责整个</span><span style="line-height:0.64cm">系统的管理和控制，因此<span style="color:rgb(255,0,0)">当</span></span><span style="color:rgb(255,0,0)"><span style="line-height:0.64cm; font-family:'DejaVu Serif',serif">Cotrol
 Node</span><span style="line-height:0.64cm">不能提供正常服务时，怎么办？</span></span><span style="line-height:0.64cm">这就是常见的单节点故障（SPoF，<span style="font-family:Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height:18px">single point of failure</span>）问题。</span></span></p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; text-indent:0.78cm">
<span style="line-height:0.64cm"><span style="font-family:宋体; line-height:28px; text-indent:28px"><span style="font-size:16px">高可用性基本上是没办法通过一台来达到目标的，更多的时候是设计方案确保在出问题的时候尽快接管故障机器，当然这要付出更大的成本。</span></span></span></p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; text-indent:0.78cm">
<span style="line-height:0.64cm"><span style="font-family:宋体; line-height:28px; text-indent:28px"><span style="font-size:16px">对于单点问题，解决的方案一般是采用冗余设备或者热备，因为硬件的错误或者人为的原因，总是有可能造成单个或多个节点的失效，有时做节点的维护或者升级，也需要暂时停止某些节点，所以一个可靠的系统必须能承受单个或多个节点的停止。<br>
</span></span></span></p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; text-indent:0.78cm">
<span style="line-height:0.64cm"><span style="font-size:16px">常见的部署模式有：Active-passive主备模式，Active-active双主动模式，集群模式。</span></span></p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; text-align:left; text-indent:0.78cm; line-height:0.64cm">
<span style="font-size:16px">（2）<span style="color:rgb(255,0,0)">那么如何构建冗余的控制节点？或者什么其它方法实现高可靠的控制？</span></span></p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; text-align:left; text-indent:0.78cm; line-height:0.64cm">
<span style="font-size:16px">很多人可能想到实现active-passive模式，使用心跳机制或者类&#20284;的方法进行备份，通过故障转移来实现高可靠性。Openstack是没有多个控制节点的，Pacemaker需要多种服务各自实现这种备份、监听和切换。</span></p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; text-align:left; text-indent:0.78cm; line-height:0.64cm">
<span style="font-size:16px">仔细分析控制节点提供的服务，主要就是nova-api、nova-network、nova-schedule、nova-volume，以及glance、keysonte和数据库mysql等，这些<span style="line-height:0.64cm; text-indent:0.78cm">服务是分开提供的。nova-api、nova-network、glance等可以分别在每个计算节点上工作，RabbitMQ可以</span><a href="http://www.rabbitmq.com/ha.html" target="_blank" style="color:rgb(202,0,0); text-decoration:none; line-height:0.64cm; text-indent:0.78cm">工作在主备模式</a><span style="line-height:0.64cm; text-indent:0.78cm">，mysql可以使用冗余的高可用集群。</span></span></p>
<p style="margin-top:0.22cm; margin-bottom:0.22cm; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; text-align:left; text-indent:0.78cm; line-height:0.64cm">
<span style="font-size:16px">下面分别介绍：</span></p>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<a name="t7" style="color:rgb(202,0,0)"></a><span style="color:rgb(51,51,51)"></span></h3>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<a name="t8" style="color:rgb(202,0,0)"></a><span style="font-size:16px">1）nova-api和nova-<span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px">scheduler</span>的高可靠性</span><span style="font-weight:normal"><span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; font-size:12px"><span style="line-height:24px"><br>
</span></span></span></h3>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px">每个<span style="color:rgb(51,51,51); line-height:24px; text-indent:29px">计算节点可以运行自己的nova-api和<span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif">nova-scheduler</span>，提供负载均衡来保证这样正确工作。</span></span></div>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:Arial; line-height:26px; text-align:left">
<a name="t9" style="color:rgb(202,0,0)"></a><span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif"><span style="font-weight:normal; line-height:24px"><span style="font-size:16px">这样当控制节点出现故障，计算节点的nova-api等服务都照常进行。</span></span></span></h3>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; font-size:13px; line-height:24px"><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px"></span>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51)">
<a name="t10" style="color:rgb(202,0,0)"></a>2）nova-<span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px">volume</span>的高可靠性</h3>
</div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif"><span style="line-height:24px"><span style="font-size:16px">对于nova-volume目前没有完善的HA（high availability）方法，还需要做很多工作。</span></span></span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif"><span style="line-height:24px"><span style="font-size:16px">不过，nova-volume由iSCSI驱动，这个协议与DRBD结合，或者基于iSCSI的高可靠的硬件解决方案，可以实现高可靠。</span></span></span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif"><span style="line-height:24px"><span style="font-size:16px"><br>
</span></span></span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(51,51,51)"><span style="font-size:16px"><span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif"></span></span></span>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="font-size:16px"><span style="color:rgb(51,51,51)"></span></span></p>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:24px">
<a name="t11" style="color:rgb(202,0,0)"></a><span style="color:rgb(51,51,51)"><span style="line-height:26px">3） 网络服务nova-network的高可靠性</span></span></h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="color:rgb(51,51,51)"><span style="font-size:16px">OpenStack的网络已经存在多种高可靠的方案，常用的你只需要使用<span style="font-family:Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height:18px">&nbsp;</span><code style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:1px; padding-right:5px; padding-bottom:1px; padding-left:5px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; vertical-align:baseline; background-color:rgb(238,238,238); font-family:Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; line-height:18px">--multi_host</code><span style="font-family:Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height:18px">&nbsp;选项就可以让网络服务处于高可用模式（high
 availability mode），具体介绍见<a href="http://docs.openstack.org/trunk/openstack-compute/admin/content/existing-ha-networking-options.html" rel="nofollow" style="color:rgb(69,101,131); text-decoration:none; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; vertical-align:baseline">Existing
 High Availability Options for Networking</a>。</span></span></span></p>
<h3 class="title" style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:normal; line-height:24px; color:rgb(51,51,51); font-family:Verdana,Geneva,sans-serif">
<a name="t12" style="color:rgb(202,0,0)"></a>方案1:&nbsp;Multi-host</h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="color:rgb(51,51,51)"><span style="font-size:16px">多主机。每个计算节点上配置nova-network。这样，每个<span style="font-family:Verdana,Geneva,sans-serif">计算节点</span>都会实现<span style="font-family:Verdana,Geneva,sans-serif">NAT, DHCP和网关的功能，必然需要一定的开销，可以与hardware gateway方式结合，避免每个计算节点的网关功能。这样，每个计算节点都需要安装nova-compute外还要nova-network和nova-api，并且需要能连接外网。具体介绍见<a href="http://docs.openstack.org/diablo/openstack-compute/admin/content/multi-host.html" target="_blank" style="color:rgb(202,0,0); text-decoration:none">Nova
 Multi-host Mode against SPoF</a>。</span></span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="color:rgb(51,51,51)"><span style="font-size:16px"><span style="font-family:Verdana,Geneva,sans-serif"></span></span></span></p>
<h3 class="title" style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:normal; line-height:24px; color:rgb(51,51,51); font-family:Verdana,Geneva,sans-serif">
<a name="t13" style="color:rgb(202,0,0)"></a><span style="font-family:Arial">方案2:&nbsp;Failover</span></h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="color:rgb(51,51,51)"><span style="font-size:16px">故障转移。能够4秒转移到热备份上，详细介绍见<a class="link" href="https://lists.launchpad.net/openstack/msg02099.html" target="_top" style="color:rgb(202,0,0); text-decoration:none; font-family:Verdana,Geneva,sans-serif">https://lists.launchpad.net/openstack/msg02099.html</a>。不足之处是，需要备份机，而且有4秒延迟。<br>
</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="font-size:16px"><span style="color:rgb(51,51,51)"></span></span></p>
<h3 class="title" style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:normal; line-height:24px; color:rgb(51,51,51); font-family:Verdana,Geneva,sans-serif">
<a name="t14" style="color:rgb(202,0,0)"></a><span style="font-family:Arial">方案3:&nbsp;Multi-nic</span></h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="color:rgb(51,51,51)"><span style="font-size:16px">多网卡技术。把VM桥接到多个网络，VM就拥有2种传出路由，实现故障时切换。但是这需要监听多个网络，也需要设计切换策略。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="font-size:16px"><span style="color:rgb(51,51,51)"></span></span></p>
<h3 class="title" style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:normal; line-height:24px; color:rgb(51,51,51); font-family:Verdana,Geneva,sans-serif">
<a name="t15" style="color:rgb(202,0,0)"></a><span style="font-family:Arial">方案4:&nbsp;Hardware gateway</span></h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="color:rgb(51,51,51)"><span style="font-size:16px">硬件网关。需要配置外部网关。由于VLAN模式需要对每个网络有一个网关，而<span style="font-family:Verdana,Geneva,sans-serif">hardware gateway方式只能对所有实例使用一个网关，因此不能在VLAN模式下使用。</span></span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="font-family:Verdana,Geneva,sans-serif; color:rgb(51,51,51)"><strong><span style="font-size:16px">方案5：&nbsp;Quantum（OpenStack下一个版本Folsom中）</span></strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="font-family:Verdana,Geneva,sans-serif; color:rgb(51,51,51)"><span style="font-size:16px">Quantum的目标是逐步实现功能完备的虚拟网络服务。它暂时会继续兼容旧的nova-network的功能如Flat、Flatdhcp等。但是实现了类&#20284;multi_host的功能，<strong>支持OpenStack工作在主备模式（active-backup这种高可用性模式）</strong>。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="font-family:Verdana,Geneva,sans-serif; color:rgb(51,51,51)"><span style="font-size:16px">Quantum只需要一个nova-network的实例运行，因此不能与multi_host模式共同工作。<br>
</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="font-family:Verdana,Geneva,sans-serif; color:rgb(51,51,51)"><span style="font-size:16px">Quantum允许单个租户拥有多个私人专用L2网络，通过加强QoS，以后应该能使hadoop集群很好的在nova节点上工作。<br>
</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px">
<span style="font-size:16px"><span style="font-family:Verdana,Geneva,sans-serif; color:rgb(51,51,51)">对于</span><span style="color:rgb(51,51,51); font-family:Verdana,Geneva,sans-serif">Quantum的安装使用，这篇文章<a href="http://docs.openstack.org/essex/openstack-network/admin/content/Installation-d1e436.html" target="_blank" style="color:rgb(202,0,0); text-decoration:none">Quantum
 Setup</a>&nbsp;有介绍。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:24px; font-size:12px">
<span style="color:rgb(51,51,51); font-family:Verdana,Geneva,sans-serif"><br>
</span></p>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-size:12px; color:rgb(51,51,51); font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px">
<a name="t16" style="color:rgb(202,0,0)"></a><span style="font-size:16px; font-family:Arial; line-height:26px">4） glance、keystone的高可靠性</span></h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px; font-size:12px">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px"><span style="color:rgb(51,51,51)"><span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif"><span style="font-family:Arial"><span style="line-height:24px">OpenStack的镜像可以使用swift存储，glance可以运行在多个主机。</span></span></span></span><span style="color:rgb(51,51,51)"><span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif"></span></span><a href="http://www.google.com.hk/url?sa=t&amp;rct=j&amp;q=Pacemaker&#43;openstack&#43;&amp;source=web&amp;cd=7&amp;ved=0CFkQFjAG&amp;url=http%3A%2F%2Fwww.hastexo.com%2Fresources%2Fdocs%2Finstalling-openstack-essex-20121-ubuntu-1204-precise-pangolin%2Fappendix-c-setting-op-4&amp;ei=6p_uT8aSJOqQiQeV1Lz_DA&amp;usg=AFQjCNHRiNGz1GxOrnCRHagmG2T9Fd3aeg" target="_blank" class="l" style="color:rgb(202,0,0); text-decoration:none">Integrating&nbsp;OpenStack&nbsp;ImageService
 (Glance) with Swift&nbsp;</a>&nbsp;介绍了glance使用swift存储。</span></p>
</div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<div>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">集群管理工具&nbsp;<a href="http://clusterlabs.org/wiki/Main_Page" style="color:rgb(202,0,0); text-decoration:none">Pacemaker</a>&nbsp;是强大的高可用性解决方案，能够管理多节点集群，实现服务切换和转移，可与<a href="http://www.hastexo.com/knowledge/high-availability/corosync" style="color:rgb(202,0,0); text-decoration:none; border-bottom-style:solid; border-bottom-width:1px; border-bottom-color:rgb(0,174,239)">Corosync</a>&nbsp;和&nbsp;<a href="http://www.linux-ha.org/" style="color:rgb(202,0,0); text-decoration:none">Heartbeat</a>等配套使用。Pacemaker
 能够较为灵活的实现主备、N&#43;1 、N-N 等多种模式。</span></p>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); font-weight:normal">
<a name="t17" style="color:rgb(202,0,0)"></a><a href="http://www.hastexo.com/blogs/martin/2012/04/02/bringing-high-availability-openstack-keystone-and-glance" rel="nofollow" target="_blank" style="color:rgb(85,26,139); text-decoration:none; font-family:Verdana,Arial,Helvetica">bringing-high-availability-openstack-keystone-and-glance</a><span style="font-family:Verdana,Arial,Helvetica">介绍了如何通过Pacemaker实现keystone和glance的高可靠。在每个节点安装OCF代理后，它能够告诉一个节点另一个节点是否正常运行glance和keysone服务，从而帮助Pacemaker开启、停止和监测这些服务。</span></h3>
</div>
<div><span style="font-family:Verdana,Arial,Helvetica; font-size:12px"><br>
</span></div>
<div><span style="font-family:Verdana,Arial,Helvetica; font-size:12px"><br>
</span></div>
<div><span style="font-family:Verdana,Arial,Helvetica; font-size:12px"></span>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px; font-size:12px">
<a name="t18" style="color:rgb(202,0,0)"></a><span style="font-size:16px; font-family:Arial; line-height:26px">5） Swift对象存储的高可靠性</span></h3>
</div>
</div>
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left; color:rgb(51,51,51)"></span><span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"></span>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><span style="font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif"><span style="line-height:24px">一般情况下，Open</span></span><span style="line-height:24px; font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif">Stack的分布式对象存储系统Swift的HA是不需要自己添加的。因为，Swift设计时就是分布式（没有主控节点）、容错、冗余机制、数据恢复机制、可扩展和高可靠的。以下是Swift的部分优点，这也说明了这点。</span></span></div>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><span style="color:rgb(51,51,51)"></span></span></p>
<table border="1" cellspacing="0" cellpadding="0" width="100%" style="color:rgb(0,0,0); line-height:26px; text-align:left; font-family:Verdana,Geneva,sans-serif; font-size:12px">
<tbody>
<tr>
<td>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">Built-in Replication(N copies of accounts, container, objects)</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">3x&#43; data redundancy compared to 2x on RAID</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">内建冗余机制</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">RAID技术只做两个备份，而Swift最少有3个备份</span></p>
</td>
<td>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">High Availability</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">高可靠性</span></p>
</td>
</tr>
<tr>
<td>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">Easily add capacity unlike RAID resize</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">可以方便地进行存储扩容</span></p>
</td>
<td>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">Elastic data scaling with ease</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">方便的扩容能力</span></p>
</td>
</tr>
<tr>
<td>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">No central database</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">没有中心节点</span></p>
</td>
<td>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">Higher performance, No bottlenecks</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
<span style="font-size:16px">高性能，无瓶颈限制</span></p>
</td>
</tr>
</tbody>
</table>
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"></span>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; text-align:left; color:rgb(51,51,51); font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px; font-size:12px">
<a name="t19" style="color:rgb(202,0,0)"></a><span style="font-size:16px; font-family:Arial; line-height:26px"><br>
</span></h3>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; text-align:left; color:rgb(51,51,51); font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px; font-size:12px">
<a name="t20" style="color:rgb(202,0,0)"></a><span style="font-size:16px; font-family:Arial; line-height:26px">6） 消息队列服务RabbitMQ的高可靠性</span></h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(51,51,51)">RabbitMQ失效就会导致丢失消息，可以有多种HA机制</span><span style="font-family:Verdana,sans-serif; font-size:12px; color:rgb(85,85,85)"><span style="line-height:18px">：</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<ul style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<li><a href="http://www.rabbitmq.com/extensions.html#confirms" style="color:rgb(68,68,68); text-decoration:none; font-weight:bold; font-family:Verdana,sans-serif; font-size:13px; line-height:18px">publisher confirms</a><span style="color:rgb(85,85,85); font-family:Verdana,sans-serif; font-size:13px; line-height:18px">&nbsp;方法可以在故障时通知什么写入了磁盘。</span></li><li><span style="color:rgb(51,51,51)">多机集群机制，但是节点失效容易导致队列失效。</span></li><li><span style="color:rgb(51,51,51)">主备模式（active-passive），能够实现故障时转移，但是启动备份机可能需要延迟甚至失效。</span></li></ul>
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left; color:rgb(51,51,51)"><span style="color:rgb(85,85,85); font-family:Verdana,sans-serif; font-size:13px; line-height:18px"></span></span><span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"></span>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(51,51,51)"></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:14px; text-align:left; color:rgb(51,51,51); font-family:Lucida,'Lucida Grande',Tahoma,sans-serif; line-height:19px">
<span style="font-size:16px">在容灾与可用性方面，RabbitMQ提供了可持久化的队列。能够在队列服务崩溃的时候，将未处理的消息持久化到磁盘上。为了避免因为发送消息到写入消息之间的延迟导致信息丢失，RabbitMQ引入了Publisher Confirm机制以确保消息被真正地写入到磁盘中。它对Cluster的支持提供了Active/Passive与Active/Active两种模式。例如，在Active/Passive模式下，一旦一个节点失败，Passive节点就会马上被激活，并迅速替代失败的Active节点，承担起消息传递的职责。如图所示：</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-align:left; color:rgb(51,51,51); font-family:Lucida,'Lucida Grande',Tahoma,sans-serif; font-size:13px; line-height:19px">
<img width="500px" alt="" src="http://www.infoq.com/resource/articles/message-based-distributed-architecture/zh/resources/image8.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-align:left; color:rgb(51,51,51); font-family:Lucida,'Lucida Grande',Tahoma,sans-serif; font-size:13px; line-height:19px">
<strong>图 Active/Passive Cluster（图片来自RabbitMQ官方网站）</strong></p>
<br style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><span style="color:rgb(51,51,51)"><span style="font-family:Lucida,'Lucida Grande',Tahoma,sans-serif; line-height:19px">active-passive模式存在所说的问题，</span>因此，</span><span style="color:rgb(255,0,0)">基于</span><span style="color:rgb(255,0,0)">RabbitMQ集群引入了一种双主动集群机制（active-active）解决了这些问题</span><span style="color:rgb(51,51,51)">。<a href="http://www.rabbitmq.com/ha.html" style="color:rgb(202,0,0); text-decoration:none">http://www.rabbitmq.com/ha.html</a>这篇文章详细介绍了RabbitMQ的高可靠部署和原理。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(51,51,51)"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(51,51,51)"></span></p>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; text-align:left; color:rgb(51,51,51); font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px; font-size:12px">
<a name="t21" style="color:rgb(202,0,0)"></a><span style="font-size:16px; font-family:Arial; line-height:26px">7） 数据库mysql的高可靠性</span></h3>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px">集群并不就是高可靠，<span style="text-indent:28px">常用的构建高可靠的mysql的方法有<span style="color:rgb(51,51,51); line-height:24px; text-indent:29px">Active-passive主备模式</span>：使用DRBD</span>实现主备机的灾容，Heartbeat或者<span style="text-indent:28px">Corosync</span><span style="text-indent:28px">做心跳监测、服务切换甚至failover，Pacemaker实现服务（资源）的切换及控制等；或者类&#20284;的机制。<span style="color:rgb(255,0,0)">其中主要使用Pacemaker实现了mysql的active-passive高可用集群</span>。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="text-indent:28px"><span style="font-size:16px"><br>
</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="text-indent:28px"><span style="font-size:16px">一个重要的技术是DRBD：(distributed replication block device)即分布式复制块设备，经常被用来代替共享磁盘。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><span style="text-indent:28px">它的工作原理是：在A主机上有对指定磁盘设备写请求时，数据发送给A主机的kernel，然后通过kernel中的一个模块，把相同的数据传送给B主机的kernel中一份，然后B主机再写入自己指定的磁盘设备，从而实现两主机数据的同步,也就实现了写操作高可用。DRBD一般是一主一从，并且所有的读写操作，挂载只能在主节点服务器上进行，，但是主从DRBD服务器之间是可以进行调换的。</span>这里<span style="text-indent:28px; background-color:rgb(248,248,248)">有</span><span style="text-indent:28px; background-color:rgb(248,248,248)"><a href="http://lwn.net/Articles/329543/" style="color:rgb(202,0,0); text-decoration:none">对
 DRBD 的介绍</a>。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="text-indent:28px; background-color:rgb(248,248,248)"><span style="font-size:16px"><br>
</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a href="http://www.google.com.hk/url?sa=t&amp;rct=j&amp;q=Pacemaker&#43;openstack&#43;&amp;source=web&amp;cd=4&amp;ved=0CFUQFjAD&amp;url=http%3A%2F%2Fwiki.openstack.org%2FHAforNovaDB&amp;ei=6p_uT8aSJOqQiQeV1Lz_DA&amp;usg=AFQjCNFiNxsUxQNIO3ftTK9a5g71gBikPg" target="_blank" class="l" style="color:rgb(202,0,0); text-decoration:none; text-indent:28px">HAforNovaDB
 -&nbsp;OpenStack</a><span style="text-indent:28px">介绍了只使用共享磁盘而没有使用DRBD，通过Pacemaker实现OpenStack的高可靠。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a class="backlink" href="http://wiki.openstack.org/NovaZooKeeperHeartbeat?action=fullsearch&amp;context=180&amp;value=linkto%3A%22NovaZooKeeperHeartbeat%22" rel="nofollow" title="Click to do a full-text search for this title" style="color:rgb(202,0,0); text-decoration:none; text-indent:28px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">NovaZooKeeperHeartbeat</a><span style="text-indent:28px">介绍了使用ZooKeeper作心跳检测。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a href="http://www.hastexo.com/resources/presentations/zen-pacemaker" style="color:rgb(202,0,0); text-decoration:none">MySQL HA with Pacemaker</a>&nbsp;介绍了使用Pacemaker提供高可靠服务，这也是很常见的解决方案。</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a href="http://codership.com/products/mysql_galera" target="_blank" style="color:rgb(202,0,0); text-decoration:none">Galera</a>&nbsp;是针对Mysql/InnoDB的同步的多master集群的开源项目，提供了很多的优点（如同步复制、读写到任意节点、自动成员控制、自动节点加入、较小延迟等），可以参考。</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"></span>
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<a name="t22" style="color:rgb(202,0,0)"></a>Pacemaker与DRBD、Mysql的工作模式可以参考下图：</h3>
</div>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:13px"><span style="font-size:15px; text-indent:29px"></span></span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; text-align:left; color:rgb(51,51,51); line-height:24px; font-weight:bold">
<span style="font-weight:normal"><img class="fit-image" height="375" alt="Pacemaker.jpg" src="http://images.51cto.com/files/uploadimg/20091112/0948191.jpg" width="498" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; text-align:center; border-style:initial"></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:4px; padding-bottom:6px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
其它的方案，根据 MySQLPerformance Blog 的<a href="http://www.mysqlperformanceblog.com/2009/10/16/finding-your-mysql-high-availability-solution-%E2%80%93-the-questions/" style="color:rgb(202,0,0); text-decoration:none; outline-style:none; outline-width:initial; outline-color:initial">说法</a>，MySQL几种高可用解决方案能达到的可用性如下：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:4px; padding-bottom:6px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img src="http://my.csdn.net/uploads/201206/30/1341056226_8609.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:4px; padding-bottom:6px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<a name="t23" style="color:rgb(202,0,0)"></a><span style="color:rgb(51,51,51)">3、构建高可用性的OpenStack</span>（High-availability&nbsp;<span style="background-color:rgb(248,248,248)">OpenStack</span>）</h3>
</div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</div>
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px">一般来说，高可用性也就是建立冗余备份，常用策略有：</span></p>
<ul style="font-family:Arial; font-size:14px; line-height:26px; text-align:left; margin-left:45px">
<li style="list-style:inherit"><span style="font-size:16px"><strong>集群工作模式</strong>。多机互备，这样模式是把每个实例备份多份，没有中心节点，比如<span style="color:rgb(51,51,51); font-family:Arial,Helvetica,'Nimbus Sans L',sans-serif; line-height:24px">分布式对象存储系统Swift、nova-network多主机模式</span>。</span></li></ul>
<ul style="font-family:Arial; font-size:14px; line-height:26px; text-align:left; margin-left:45px">
<li style="list-style:inherit"><span style="font-size:16px"><strong>自主模式</strong>。有时候，解决单点故障（SPoF）可以简单的使用每个节点自主工作，通过去主从关系来减少主控节点失效带来的问题，比如nova-api只负责自己所在节点。</span></li></ul>
<ul style="font-family:Arial; font-size:14px; line-height:26px; text-align:left; margin-left:45px">
<li style="list-style:inherit"><span style="font-size:16px"><strong>主备模式</strong>。常见的模式active-passive，被动节点处于监听和备份模式，故障时及时切换，比如mysql高可用集群、glance、keystone使用Pacemaker和Heartbeat等来实现。</span></li></ul>
<ul style="font-family:Arial; font-size:14px; line-height:26px; text-align:left; margin-left:45px">
<li style="list-style:inherit"><span style="font-size:16px"><strong>双主模式</strong>。这种模式互备互援，RabbitMQ就是active-active集群高可用性，集群中的节点可进行队列的复制。从架构上来说，这样就不用担心passive节点不能启动或者延迟太大了？</span></li></ul>
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px">总之，对于OpenStack的优化和改进不断，对于OpenStack的部署和应用也在不断尝试和发展。需要<strong>实践调优</strong>。实践非常重要，好的设计和想法需要实践来验证。</span></p>
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><br>
</span></p>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px">上面分别对OpenStack的各个<span style="text-indent:29px">服务进行了说明</span><span style="color:rgb(51,51,51); line-height:24px; text-indent:29px">，</span>我纯属抛砖引玉。希望多实践（可参考前篇<a href="http://blog.csdn.net/hilyoo/article/details/7696169" target="_blank" style="color:rgb(202,0,0); text-decoration:none">一键部署OpenStack</a>），更希望有时间的朋友能够把一些高可靠性方案的部署添加到<a href="http://onestack.googlecode.com/" target="_blank" style="color:rgb(202,0,0); text-decoration:none">OneStack</a>/HAStack。关于<span style="color:rgb(51,51,51); line-height:24px">OpenStack高可用性</span>的讨论和说明，大家可以多看看以下这些地方：</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a href="http://wiki.openstack.org/" style="color:rgb(202,0,0); text-decoration:none"></a><a href="http://docs.openstack.org/" style="color:rgb(202,0,0); text-decoration:none">http://docs.openstack.org/</a><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a href="http://wiki.openstack.org/" style="color:rgb(202,0,0); text-decoration:none">http://wiki.openstack.org</a><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a href="http://www.hastexo.com/blogs/florian/2012/03/21/high-availability-openstack" style="color:rgb(202,0,0); text-decoration:none">http://www.hastexo.com/blogs/florian/2012/03/21/high-availability-openstack</a><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a href="http://docs.openstack.org/trunk/openstack-compute/admin/content/existing-ha-networking-options.html" rel="nofollow" style="color:rgb(202,0,0); text-decoration:none; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; vertical-align:baseline">Existing
 High Availability Options for Networking</a><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<h3 style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<a name="t24" style="color:rgb(202,0,0)"></a><a href="http://www.hastexo.com/blogs/martin/2012/04/02/bringing-high-availability-openstack-keystone-and-glance" rel="nofollow" target="_blank" style="color:rgb(202,0,0); text-decoration:none"><span style="font-weight:normal">bringing-high-availability-openstack-keystone-and-glance</span></a></h3>
<span style="font-size:16px"><a href="http://docs.openstack.org/essex/openstack-network/admin/content/Installation-d1e436.html" target="_blank" style="color:rgb(202,0,0); text-decoration:none">Quantum Setup</a><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:16px"><a href="http://www.hastexo.com/resources/presentations/zen-pacemaker" style="color:rgb(202,0,0); text-decoration:none">MySQL HA with Pacemaker</a><br>
</span></div>
<div style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<a href="http://www.rabbitmq.com/ha.html" style="color:rgb(202,0,0); text-decoration:none"><span style="font-size:16px">http://www.rabbitmq.com/ha.html</span></a></div>
<br>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><br>
</span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><br>
</span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)">OpenStack基金会已经有5600个会员了;<span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)">HP和<span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">Rackspace提供使用openstack的共有云；</span><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">VMware和英特尔、NEC一道，正式获得OpenStack基金会金牌会员的资&#26684;</span></span></span><br>
</span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">火力全开的OpenStack并不是唯一的IaaS技术框架提供者，包括CloudStack、Eucalyptus（中文译名为桉树）、OpenNebula以及oVirt在内的开源项目同样可以帮助企业构建内部或外部类&#20284;亚马逊公有云的服务</span><br>
</span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">CloudStack还与Nicira进行了集成。Nicira是VMware耗资12.6亿美元收购的SDN（软件定义网络）领域的先锋企业，VMware正是凭借Nicira在OpenStack项目中的重要贡献，获得了OpenStack基金会金牌会员的资&#26684;。</span><br>
</span></span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><br>
</span></span></span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left; background-color:rgb(247,247,247)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)"><span style="color:rgb(71,71,71); font-family:Verdana,Geneva,sans-serif,'microsoft yahei'; font-size:14px; line-height:25px; background-color:rgb(244,244,244)"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"></span></span></span></span></span></span></span></p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
网络的设计规划是CloudStack的一个亮点，也是CloudStack被广泛商业应用的一个主要原因．本篇深入讨论一下CloudStack中网络的设计方式．<br>
CloudStack中根据不同的数据流量类型设计了管理，公共，客户及存储网络，可以简称为PMGS ( Public, Management, Guest, Storage) 网络．<br>
Public：当虚拟机需要访问Internet或外部网络时，需要通过公共网络；这就说明客户虚拟机必须被分配某种形式的外网IP．用户可以在CloudStack的UI上获得一个IP来做NAT映射，也可以在Guest与Public之间做负载均衡．所有的Hypervisor都需要共享Public VLan以保证虚拟机对外的访问．<br>
Management：CloudStack内部资源相互通信会产生Management流量，这些流量包括管理服务器节点与Hypervisor集群之间的通信，与系统虚拟机之间的通信或与其它组件之间的通信等；集群规模较小时管理流量只占用很少的带宽．<br>
Guest：最终用户运行CloudStack创建的虚拟机实例时产生Guest流量，虚拟机实例之间的相互通信通过客户网络．<br>
Storage：主存储与Hypervisor之间互连互通的流量；主存储与二级存储之间也会产生Stroage流量，比如虚拟机模板和快照的搬移．</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
CloudStack中网络模式可以分成基本网络和高级网络两种．其中MGS(Management，Guest，Storage)三种网络对于基本网络及高级网络通用．而P(Public)则只是针对高级网络才存在．可以对比下图：</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
<a href="http://tianhailong.com/wp-content/uploads/2012/07/duibi.jpg" style=""><img class="aligncenter size-full wp-image-405" title="duibi" src="http://tianhailong.com/wp-content/uploads/2012/07/duibi.jpg" alt="" width="378" height="299" style=""></a></p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px; text-align:center">
基本网络 vs 高级网络</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
这里强烈建议不同的流量类型单独设置网卡，而对于存储网络最好用网卡绑定(NIC bonding)，这样在系统的稳定性和性能方面都会有极大的提高．</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
基本网络模式下IP地址规划<br>
如果打算使用基本网络模式建立CloudStack云计算环境，那就意味着客户虚拟机实例将会和CloudStack，Hypervisor整体架构拥有相同的CIDR段．这样在规划IP地址时每个资源域都要预留足够的IP地址．假设你规划有8个资源域，每个资源域容纳2000台虚拟机，那IP地址CIDR可规划成192.168.0.0/20，这样能保证最多16个资源域，每个资源域IP数量有2^12-1=4095个，除去机架，系统虚拟机，主机占用的IP，提供2000个VM的IP绰绰有余．<br>
注：具体环境中采用哪个段的IP地址可能要与IT环境相一致．</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
高级网络模式下的IP地址规划<br>
高级网络模式相对来说较为复杂,在这种模式下,每个账号都要分配：<br>
1. 公网IP，这为了保证对外网的访问，通常这个IP设置在虚拟路由器上<br>
2. Guest网络IP范围，比如默认的：10.1.1.0/24<br>
3. Guest网络隔离的VLan ID<br>
以上默认的Guest网络IP范围对于所有账户都是一样的，只有管理员可以进行更改使不同账号使用不同的的Guest网络IP范围．<br>
一个账户下的客户虚拟机实例通过它专属的VLan进行相互之间的访问或与这个账户的虚拟路由器互通．客户虚拟机可以运行在资源域内任意一台主机上；通过二层交换的VLan端口汇聚(Trunk)功能，可以保证同一个VLan下所有的虚拟机互连互通．</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
预留系统IP地址<br>
当配置一个机架时，需要为系统虚拟机保留一些IP地址，这部分是管理网络也称为私有IP地址.通常情况下10个IP地址对一个机架是足够用了．这些IP地址会被SSVM(二级存储系统虚机)和CPVM(控制台系统虚机)．如果系统很庞大，CPVM会被自动部署多台来分担负载.</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
在整个云计算环境中，所有的主机和系统虚拟机都必须有一个唯一的IP地址，因此在添加新的资源域时，也需要考虑当前环境中资源域的网络规划．</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
本地链路IP(Link-Local)<br>
在使用XenServer或KVM作为主机时，系统虚拟机(SSVM，CPVM，V-Router)会被分配一个本地链路的IP地址．这个地址的CIDR是169.254.0.0/16;这样看来本地链路的IP地址会有2^16-1=65535个，目前来看不太可能超过这个范围．如果一个机架只包含XenServer或KVM的集群，那可以分配给这个机架下的主机一个Ｃ类段的地址形如：x.x.x.x/24．如果是VMWare的集群，给机架分配的IP地址范围会被系统虚拟机占用一些那么就要考虑比Ｃ类段大一些的范围作为机架的IP地址段，形如：x.x.x.x/21,这样会有2^11-2=2046个IP供给主机，存储以及系统虚拟机使用．</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
虚拟机隔离<br>
在同一个资源域内，虚拟机有两种方式进行隔离：安全组和VLAN．<br>
安全组隔离<br>
当使用安全组时，每一个创建的账户都会有一个默认的安全组生成，以保证通过这个账户创建的虚拟机实例默认要以互连互通．当用户创建虚拟机实例后，可以对这些虚拟机实例设定一个或多个安全组．<br>
用户可以在任意时间创建额外的安全组，但正在运行中的此用户的实例不能应用新建的安全组规则，需要关机后更改设置．<br>
同一个安全组下的用户虚拟机实例可以相互通信．安全组通过Ingress和Egress来进行流量控制．</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
VLAN<br>
高级网络模式中默认是通过VLAN进行虚拟机实例之间的相互隔离．当一个账户的第一个虚拟机被创建并运行时，一个隔离的网络也同时创建完成．在一个资源域下，一个账户的虚拟机网络默认的CIDR配置：10.1.1.0/24；在整个云环境中,只有系统管理员有权限创建一个隔离的客户虚拟机网络，并指定一个IP范围和一个VLAN．</p>
<p style="margin-top:0px; margin-bottom:14px; padding-top:0px; padding-bottom:0px; font-family:微软雅黑,宋体,arial; font-size:14px; line-height:28px">
CloudStack中网络是较为复杂的一部分，功能也十分强大，特别是高级网络模式，这里建议大家参考CloudStack3.0的相关文档来更清楚的了解网络部分．</p>
<p><br>
</p>
<p><br>
</p>
<p></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">OneStack 的项目结构</span></p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:35px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; font-family:宋体; font-size:14px; line-height:28px; background-color:rgb(248,248,248)">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
oneStack.sh（一键部署 all-in-one 的 OneStack，最主要文件）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
addComputeNode.sh（增加计算节点）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
delStack.sh（只卸载nova、glance、keystone等）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
delAll.sh（卸载所有安装的组件和工具）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
resetStack.sh（清空数据库，镜像、网络和实例等）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
addClient.sh（添加客户端，nova管理等）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
setup_base.sh（安装基本系统）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
setup_test.sh（添加镜像和实例）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
HAStack 目录（OneStack 的高可用性，希望更多人可以提出自己的解决方案）。</li></ul>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">OneStack 的安装部署</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
可以一键自动部署 all-in-one 的 OneStack 实验环境，也可以分步骤部署（下次再讨论分步骤部署）。<br style="clear:both; width:0px; height:0px">
&nbsp;&nbsp;&nbsp; 一键自动部署最简单，只需要文件 oneStack.sh 把所有服务安装到一个机器。</p>
<pre style="margin-top:0px; margin-bottom:1em; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); font-family:'Courier New',monospace; width:591px; overflow-x:auto; overflow-y:auto; background-color:rgb(230,230,230); line-height:28px"># wget http://onestack.googlecode.com/files/oneStack.sh &amp;&amp; \
chmod &#43;x oneStack.sh &amp;&amp; ./oneStack.sh
</pre>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
如果需要更多功能，需要 chechout 整个 svn；当然，安装同样只需要 oneStack.sh<br style="clear:both; width:0px; height:0px">
1、安装 Ubuntu Precise (12.04)；<br style="clear:both; width:0px; height:0px">
2、下载 OneStack 脚本：</p>
<pre style="margin-top:0px; margin-bottom:1em; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); font-family:'Courier New',monospace; width:591px; overflow-x:auto; overflow-y:auto; background-color:rgb(230,230,230); line-height:28px"># svn checkout http://onestack.googlecode.com/svn/trunk/ onestack-read-only
</pre>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
3、运行 OneStack：</p>
<pre style="margin-top:0px; margin-bottom:1em; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); font-family:'Courier New',monospace; width:591px; overflow-x:auto; overflow-y:auto; background-color:rgb(230,230,230); line-height:28px"># cd onestack-read-only/ &amp;&amp; ./oneStack.sh
</pre>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">注意：</span>其实上面的安装还是需要更改网络配置的（其余可以不改，这个是需要改成你自己的）因为，为了简单，在上面的工具里，所有前期工作都加到了文件 oneStack.sh，比如：</p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:35px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; font-family:宋体; font-size:14px; line-height:28px; background-color:rgb(248,248,248)">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
root 用户密码设置（刚安装的 Ubuntu 默认不启用这个 root 用户）；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
apt 源的配置，可以设置为国内的 163、ustc 的源等；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
网络配置，控制节点是需要外网 ip 的，你需要更改oneStack.sh里面的一些配置：/etc/network/interfaces 里面双网卡的 ip、网关等，在脚本靠前的位置，请查找 interfaces. 参数设置：外网 ip 地址等，这些也都在脚本开头一个块里面。自行检查下面 network/interfaces 的两个网卡设置：
<pre style="margin-top:0px; margin-bottom:1em; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-family:'Courier New',monospace; font-size:12px; width:546px; overflow-x:auto; overflow-y:auto; background-color:rgb(230,230,230)">## 2、自行检查下面 network/interfaces的两个网卡设置
&#43; OUT_IP=192.168.139.50 
&#43; OUT_IP_PRE=192.168.139
...
</pre>
</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
选择虚拟机技术，裸机使用 kvm，虚拟机使用 qemu 即可<br style="clear:both; width:0px; height:0px">
## 选择虚拟技术，裸机使用 kvm，虚拟机里面使用 qemu<br style="clear:both; width:0px; height:0px">
VIRT_TYPE=”qemu”</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
数据库的安装和配置，为了自动化部署，参数设置里面设置好帐号和密码，后面就不需要交互；## 配置 /etc/nova/nova.conf，这里与控制节点的配置相同！比如ip是控制节点的ip<br style="clear:both; width:0px; height:0px">
MYSQL_PASSWD=${MYSQL_PASSWD:-”cloud1234″}<br style="clear:both; width:0px; height:0px">
NOVA_DB_USERNAME=${NOVA_DB_USERNAME:-”novadbadmin”}<br style="clear:both; width:0px; height:0px">
NOVA_DB_PASSWD=${NOVA_DB_PASSWD:-”cloud1234″}</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
系统会安装 Ubuntu 12.04 的镜像，并启动一个实例。这个过程中镜像自动从 Ubuntu 官网下载，可以查找 cloud-images 更换地址或者镜像 precise-server-cloudimg-amd64-disk1.img，也可以注释掉这个步骤，直接使用 dashboard 在 web 添加镜像启动实例。这个镜像有700多 MB，对于网速不好的用户，可能需要较长时间，因此可以先下载好镜像，然后把这里的地址改成本地即可。</li></ul>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">总结一下需要设置的参数：</span></p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:35px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; font-family:宋体; font-size:14px; line-height:28px; background-color:rgb(248,248,248)">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
设置 root 密码这一步可以删掉，使用 root 执行即可；</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
可选，如果不需要跳过本步骤<br style="clear:both; width:0px; height:0px">
系统语言设置，可以参考oneStack.sh locale部分，不在此介绍<br style="clear:both; width:0px; height:0px">
设置apt源 /etc/apt/sources.list</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
设置网络<br style="clear:both; width:0px; height:0px">
/etc/network/interfaces<br style="clear:both; width:0px; height:0px">
可以参考oneStack.sh locale部分</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
配置参数，除了网络ip，其它可以不变<br style="clear:both; width:0px; height:0px">
## 数据库<br style="clear:both; width:0px; height:0px">
MYSQL_PASSWD=${MYSQL_PASSWD:-”cloud1234″}<br style="clear:both; width:0px; height:0px">
## 自行检查下面network/interfaces的两个网卡设置与此处一致<br style="clear:both; width:0px; height:0px">
OUT_IP=”192.168.139.50″<br style="clear:both; width:0px; height:0px">
## 选择虚拟技术，裸机使用kvm，虚拟机里面使用qemu<br style="clear:both; width:0px; height:0px">
VIRT_TYPE=”qemu”<br style="clear:both; width:0px; height:0px">
## token, 登录dashboard密码<br style="clear:both; width:0px; height:0px">
ADMIN_TOKEN=”admin”</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
然后执行./oneStack.sh安装即可。</li></ul>
<br>
<p><br>
</p>
<p><br>
</p>
<p></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">OpenStack的高可用性（OpenStack HA）</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
&nbsp; 要弄清楚怎么实现高可用性，就需要知道哪些服务容易出现不可靠。首先了解一些OpenStack的大致结构。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
&nbsp; OpenStack由5大组件组成（计算nova，身份管理keystone，镜像管理glance，前端管理dashboard和对象存储swift）。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
&nbsp; nova是计算、控制的核心组件，它又包括nova-compute、nova-scheduler、nova-volume、nova-network和nova-api等服务。借用http://ken.people.info的以下这幅图了解OpenStack的5大组件和功能：</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<img class="fit-image" alt="OpenStack Essex Conceptual Integration" src="http://images.51cto.com/files/uploadimg/20120704/1139270.jpg" width="498" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; text-align:center; border-style:initial"></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
下面这幅图描述了各个组件的功能和服务结构：<img class="fit-image" alt="OpenStack Essex Logical Architecture" src="http://images.51cto.com/files/uploadimg/20120704/1139271.jpg" width="498" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; text-align:center; border-style:initial"><br style="clear:both; width:0px; height:0px">
&nbsp;</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
&nbsp;同其它大部分分布式系统一样，OpenStack也分为控制节点和计算节点两种不同功能的节点。控制节点提供除nova-compute以外的服务。这些组件和服务都是可以独立安装的，可以选择组合。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
&nbsp; nova-compute在每个计算节点运行，暂且假设它是可信任的；或者使用备份机来实现故障转移（不过每个计算节点配置备份的代价相比收益&#20284;乎太大）。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
控制节点的高可靠性是主要问题，而且对于不同的组件都有自己的高可靠性需求和方案。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
（1）由于CotrolNode只有１个，且负责整个系统的管理和控制，因此当Cotrol Node不能提供正常服务时，怎么办？这就是常见的单节点故障（SPoF，single point of failure）问题。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
高可用性基本上是没办法通过一台来达到目标的，更多的时候是设计方案确保在出问题的时候尽快接管故障机器，当然这要付出更大的成本。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
对于单点问题，解决的方案一般是采用冗余设备或者热备，因为硬件的错误或者人为的原因，总是有可能造成单个或多个节点的失效，有时做节点的维护或者升级，也需要暂时停止某些节点，所以一个可靠的系统必须能承受单个或多个节点的停止。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
常见的部署模式有：Active-passive主备模式，Active-active双主动模式，集群模式。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
（2）那么如何构建冗余的控制节点？或者什么其它方法实现高可靠的控制？</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
很多人可能想到实现active-passive模式，使用心跳机制或者类&#20284;的方法进行备份，通过故障转移来实现高可靠性。Openstack是没有多个控制节点的，Pacemaker需要多种服务各自实现这种备份、监听和切换。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
仔细分析控制节点提供的服务，主要就是nova-api、nova-network、nova-schedule、nova-volume，以及glance、keysonte和数据库mysql等，这些服务是分开提供的。nova-api、nova-network、glance等可以分别在每个计算节点上工作，RabbitMQ可以工作在主备模式，mysql可以使用冗余的高可用集群。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
下面分别介绍：</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">1）nova-api和nova-scheduler的高可靠性</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
每个计算节点可以运行自己的nova-api和nova-scheduler，提供负载均衡来保证这样正确工作。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
这样当控制节点出现故障，计算节点的nova-api等服务都照常进行。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">2）nova-volume的高可靠性</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
对于nova-volume目前没有完善的HA（high availability）方法，还需要做很多工作。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
不过，nova-volume由iSCSI驱动，这个协议与DRBD结合，或者基于iSCSI的高可靠的硬件解决方案，可以实现高可靠。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">3） 网络服务nova-network的高可靠性</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
OpenStack的网络已经存在多种高可靠的方案，常用的你只需要使用&nbsp;--multi_host&nbsp;选项就可以让网络服务处于高可用模式（high availability mode），具体介绍见Existing High Availability Options for Networking。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">方案1:&nbsp;Multi-host</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
多主机。每个计算节点上配置nova-network。这样，每个计算节点都会实现NAT, DHCP和网关的功能，必然需要一定的开销，可以与hardware gateway方式结合，避免每个计算节点的网关功能。这样，每个计算节点都需要安装nova-compute外还要nova-network和nova-api，并且需要能连接外网。具体介绍见Nova Multi-host Mode against SPoF。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">方案2:&nbsp;Failover</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
故障转移。能够4秒转移到热备份上，详细介绍见https://lists.launchpad.net/openstack/msg02099.html。不足之处是，需要备份机，而且有4秒延迟。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">方案3:&nbsp;Multi-nic</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
多网卡技术。把VM桥接到多个网络，VM就拥有2种传出路由，实现故障时切换。但是这需要监听多个网络，也需要设计切换策略。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">方案4:&nbsp;Hardware gateway</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
硬件网关。需要配置外部网关。由于VLAN模式需要对每个网络有一个网关，而hardware gateway方式只能对所有实例使用一个网关，因此不能在VLAN模式下使用。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">方案5：&nbsp;Quantum（OpenStack下一个版本Folsom中）</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
Quantum的目标是逐步实现功能完备的虚拟网络服务。它暂时会继续兼容旧的nova-network的功能如Flat、Flatdhcp等。但是实现了类&#20284;multi_host的功能，支持OpenStack工作在主备模式（active-backup这种高可用性模式）。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
Quantum只需要一个nova-network的实例运行，因此不能与multi_host模式共同工作。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
Quantum允许单个租户拥有多个私人专用L2网络，通过加强QoS，以后应该能使hadoop集群很好的在nova节点上工作。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
对于Quantum的安装使用，这篇文章Quantum Setup&nbsp;有介绍。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">4） glance、keystone的高可靠性</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
OpenStack的镜像可以使用swift存储，glance可以运行在多个主机。Integrating&nbsp;OpenStack&nbsp;ImageService (Glance) with Swift&nbsp;&nbsp;介绍了glance使用swift存储。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
集群管理工具&nbsp;Pacemaker&nbsp;是强大的高可用性解决方案，能够管理多节点集群，实现服务切换和转移，可与Corosync&nbsp;和&nbsp;Heartbeat等配套使用。Pacemaker 能够较为灵活的实现主备、N&#43;1 、N-N 等多种模式。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
bringing-high-availability-openstack-keystone-and-glance介绍了如何通过Pacemaker实现keystone和glance的高可靠。在每个节点安装OCF代理后，它能够告诉一个节点另一个节点是否正常运行glance和keysone服务，从而帮助Pacemaker开启、停止和监测这些服务。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">5） Swift对象存储的高可靠性</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
一般情况下，OpenStack的分布式对象存储系统Swift的HA是不需要自己添加的。因为，Swift设计时就是分布式（没有主控节点）、容错、冗余机制、数据恢复机制、可扩展和高可靠的。以下是Swift的部分优点，这也说明了这点。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<table border="1" cellspacing="0" cellpadding="0" style="color:rgb(51,51,51); font-family:宋体; font-size:14px; line-height:28px; background-color:rgb(248,248,248)">
<tbody>
<tr>
<td style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
Built-in Replication(N copies of accounts, container, objects)</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
3x&#43; data redundancy compared to 2x on RAID</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
内建冗余机制</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
RAID技术只做两个备份，而Swift最少有3个备份</p>
</td>
<td style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
High Availability</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
高可靠性</p>
</td>
</tr>
<tr>
<td style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
Easily add capacity unlike RAID resize</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
可以方便地进行存储扩容</p>
</td>
<td style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
Elastic data scaling with ease</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
方便的扩容能力</p>
</td>
</tr>
<tr>
<td style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
No central database</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
没有中心节点</p>
</td>
<td style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px">
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
Higher performance, No bottlenecks</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; background-color:transparent; text-indent:28px">
高性能，无瓶颈限制</p>
</td>
</tr>
</tbody>
</table>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">6） 消息队列服务RabbitMQ的高可靠性</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
RabbitMQ失效就会导致丢失消息，可以有多种HA机制：</p>
<ul style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:35px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(51,51,51); list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; font-family:宋体; font-size:14px; line-height:28px; background-color:rgb(248,248,248)">
<li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
publisher confirms&nbsp;方法可以在故障时通知什么写入了磁盘。</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
多机集群机制，但是节点失效容易导致队列失效。</li><li style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:10px; list-style-type:none; list-style-position:outside; word-wrap:break-word; word-break:normal; background-color:initial">
主备模式（active-passive），能够实现故障时转移，但是启动备份机可能需要延迟甚至失效。</li></ul>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
在容灾与可用性方面，RabbitMQ提供了可持久化的队列。能够在队列服务崩溃的时候，将未处理的消息持久化到磁盘上。为了避免因为发送消息到写入消息之间的延迟导致信息丢失，RabbitMQ引入了Publisher Confirm机制以确保消息被真正地写入到磁盘中。它对Cluster的支持提供了Active/Passive与Active/Active两种模式。例如，在Active/Passive模式下，一旦一个节点失败，Passive节点就会马上被激活，并迅速替代失败的Active节点，承担起消息传递的职责。如图所示：</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<img class="fit-image" alt="" src="http://images.51cto.com/files/uploadimg/20120704/1139272.png" width="498" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; text-align:center; border-style:initial"></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
图 Active/Passive Cluster（图片来自RabbitMQ官方网站）</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
active-passive模式存在所说的问题，因此，基于RabbitMQ集群引入了一种双主动集群机制（active-active）解决了这些问题。http://www.rabbitmq.com/ha.html这篇文章详细介绍了RabbitMQ的高可靠部署和原理。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<span style="text-align:center">7） 数据库mysql的高可靠性</span></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
集群并不就是高可靠，常用的构建高可靠的mysql的方法有Active-passive主备模式：使用DRBD实现主备机的灾容，Heartbeat或者Corosync做心跳监测、服务切换甚至failover，Pacemaker实现服务（资源）的切换及控制等；或者类&#20284;的机制。其中主要使用Pacemaker实现了mysql的active-passive高可用集群。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
一个重要的技术是DRBD：(distributed replication block device)即分布式复制块设备，经常被用来代替共享磁盘。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
它的工作原理是：在A主机上有对指定磁盘设备写请求时，数据发送给A主机的kernel，然后通过kernel中的一个模块，把相同的数据传送给B主机的kernel中一份，然后B主机再写入自己指定的磁盘设备，从而实现两主机数据的同步,也就实现了写操作高可用。DRBD一般是一主一从，并且所有的读写操作，挂载只能在主节点服务器上进行，，但是主从DRBD服务器之间是可以进行调换的。这里有对 DRBD 的介绍。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
HAforNovaDB - OpenStack介绍了只使用共享磁盘而没有使用DRBD，通过Pacemaker实现OpenStack的高可靠。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
NovaZooKeeperHeartbeat介绍了使用ZooKeeper作心跳检测。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
MySQL HA with Pacemaker&nbsp;介绍了使用Pacemaker提供高可靠服务，这也是很常见的解决方案。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
Galera&nbsp;是针对Mysql/InnoDB的同步的多master集群的开源项目，提供了很多的优点（如同步复制、读写到任意节点、自动成员控制、自动节点加入、较小延迟等），可以参考。</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
Pacemaker与DRBD、Mysql的工作模式可以参考下图：</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<img class="fit-image" alt="Pacemaker.jpg" src="http://images.51cto.com/files/uploadimg/20120704/1139273.jpg" width="498" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; text-align:center; border-style:initial"></p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
其它的方案，根据 MySQLPerformance Blog 的说法，MySQL几种高可用解决方案能达到的可用性如下：</p>
<p style="margin-top:10px; margin-bottom:10px; padding-top:0px; padding-bottom:0px; color:rgb(51,51,51); background-color:rgb(248,248,248); text-indent:28px; font-family:宋体; font-size:14px; line-height:28px">
<img class="fit-image" alt="" src="http://images.51cto.com/files/uploadimg/20120704/1139274.png" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; text-align:center; border-style:initial"></p>
<br>
<br>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left">OpenStack兼容VMware ESX、Microsoft Hyper-V、Citrix Xen 和 Linux的KVM，基本上已覆盖了目前业界绝大部分的Hypervisor</span><br>
</p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)">XenServer已经成为大型公共云中部署最广泛的虚拟化平台，XenServer
 6.1所独有的XenServer与CloudPlatform的无缝整合将带来全新的易管理性和安全特性，从而为我们的云客户带来更显著的战略优势。”。</span><br>
</span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left">目前，CloudStack是全球最成功的公共云平台，已经帮助至少85个大规模生产性云平台实现了10亿美元以上的运营收入。该平台为基于Java的开源云计算编配软件，并被设计用于部署或减少那些与管理大型虚拟机网络有关的琐事。</span><br>
</span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left">CloudStack
 3颇具亚马逊风&#26684;，它帮助那些希望效仿全球最成功云平台来构建云设施的企业用户，快速而轻松地将虚拟数据中心资源转入自动化、富于弹性且可自我服务的云平台中。</span><br>
</span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left">CloudStack不仅能够管理基于内核的虚拟机Linux
 KVM，VMware的VSphere和甲骨文的Oracle VM，还能处理裸机配置。另外， CloudStack明年还将对微软Hyper-V提供支持。</span><br>
</span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left">思杰正是通过收购</span><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left; background-color:rgb(255,153,153)">Cloud</span><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left">.com和EMS-
 Cortex获得了CloudPortal，也获得了云堆栈一层的能力。CloudPortal是一套能够让服务提供商安装，包括运行公有云等业务程序的工具，它提供了入职、账户管理、账单和自助服务配置等功能。</span><br>
</span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(160,255,255)">XenServer</span><span style="color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(240,248,255)">是一个虚拟化管理平台，不提供与Amazon
 EC2兼容的云管理接口。管理软件XenCenter是运行在Windows操作系统上的，对于需要随时随地访问管理功能的系统管理员来说有点不便。目前有一些第三方提供的开放源代码的基于浏览器的</span><span style="font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(160,255,255)">XenServer</span><span style="color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(240,248,255)">管理工具，但是都还处于比较早期的阶段。</span><br>
</span></span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(240,248,255)"></span></span></span></span></span></span></span></p>
<p style="margin-top:1em; margin-bottom:1em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; font-size:14px; line-height:25px; text-align:left; background-color:rgb(247,253,255)">
<strong>云管理平台还是虚拟化管理平台？</strong></p>
<p style="margin-top:1em; margin-bottom:1em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; font-size:14px; line-height:25px; text-align:left; background-color:rgb(247,253,255)">
在IaaS这个层面，云管理<span style="color:black; background-color:rgb(153,255,153)">和</span>虚拟化管理的概念非常接近，但是有一些细微的差别。</p>
<p style="margin-top:1em; margin-bottom:1em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; font-size:14px; line-height:25px; text-align:left; background-color:rgb(247,253,255)">
虚拟化是指在同一台物理机器上提供多台虚拟机器（包括CPU、内存、存储、网络等计算资源）的能力。每一台虚拟机器都能够像普通的物理机器一样运行完整的操作系统以及执行正常的应用程序。当需要管理的物理机器数量较小时，虚拟机生命周期管理（资源配置、启动、关闭等等）可以通过手工去操作。当需要管理的物理机器数量较大时，就需要写一些脚本／程序来提高虚拟机生命周期管理的自动化程度。以管理<span style="color:black; background-color:rgb(153,255,153)">和</span>调度大量物理／虚拟计算资源为目的系统，属于虚拟化管理系统。这样一个系统，通常用于管理企业内部计算资源。</p>
<p style="margin-top:1em; margin-bottom:1em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; font-size:14px; line-height:25px; text-align:left; background-color:rgb(247,253,255)">
云计算是指通过网络访问物理／虚拟计算机并利用其计算资源的实践。通常来讲，云计算提供商以虚拟机的方式向用户提供计算资源。用户无须了解虚拟机背后实际的物理资源状况，只需了解自己所能够使用的计算资源配额。因此，虚拟化技术是云计算的基础。任何一个云计算管理平台，都是构建在虚拟化管理平台的基础之上的。如果某个虚拟化管理平台仅对某个集团内部提供服务，那么这个虚拟化管理平台也可以被称为“私有云”；如果某个虚拟化管理平台对公众提供服务，那么这个虚拟化管理平台也可以被称为“公有云”。服务对象的不同，对虚拟化管理平台的构架<span style="color:black; background-color:rgb(153,255,153)">和</span>功能提出了不同的需求。</p>
<p style="margin-top:1em; margin-bottom:1em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; font-size:14px; line-height:25px; text-align:left; background-color:rgb(247,253,255)">
私有云服务于集团内部的不同部门（或者应用），强调虚拟资源调度的灵活性。系统管理员需要为不同的部门（或者应用）定制不同的虚拟机，根据部门（或者应用）对计算资源的需求对分配给某些虚拟机的计算资源进行调整。从这个意义上来讲，OpenQRM、<span style="color:black; background-color:rgb(160,255,255)">XenServer</span>、Oracle VM、CloudStack<span style="color:black; background-color:rgb(153,255,153)">和</span>ConVirt比较适合提供私有云服务。</p>
<p style="margin-top:1em; margin-bottom:1em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; font-size:14px; line-height:25px; text-align:left; background-color:rgb(247,253,255)">
公有云服务于公众，强调虚拟资源的标准性。通过将计算资源切割成标准化的虚拟机配置（多个系列的产品，每个产品配置相同数量的CPU、内存、磁盘空间、网络流量配额），公有云提供商可以通过标准的服务合同（Service Level Agreement, SLA）以标准的价&#26684;出售计算资源。当用户对计算资源的需求出现改变的时候，用户只需要缩减或者是增加自己所使用的产品数量。由于Amazon EC2是目前比较成功的公有云提供商，大部分云管理平台都在某种程度上模仿Amazon EC2的构架。从这个意义上来讲，Eucalyptus、OpenNebula<span style="color:black; background-color:rgb(153,255,153)">和</span>OpenStack提供了与Amazon
 EC2兼容或者是类&#20284;的接口，比较适合提供公有云服务。</p>
<p style="margin-top:1em; margin-bottom:1em; padding-top:0px; padding-bottom:0px; list-style-type:none; list-style-position:initial; color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; font-size:14px; line-height:25px; text-align:left; background-color:rgb(247,253,255)">
公有云<span style="color:black; background-color:rgb(153,255,153)">和</span>私有云之间的界限，就像“内部／外部”<span style="color:black; background-color:rgb(153,255,153)">和</span>“部门／合作伙伴”的概念一样，并不十分明显。根据项目需求的不同，可能会有不同的解释</p>
<br>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(240,248,255)"><span style="font-family:verdana,'ms song',宋体,Arial,微软雅黑,Helvetica,sans-serif; font-size:13px; line-height:19px; text-align:left; background-color:rgb(254,254,242)">一个人活在世上就是为了忍受一切摧残，想通了这点，任何事情都能泰然处之。--王小波</span><br>
</span></span></span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(240,248,255)"><span style="font-family:verdana,'ms song',宋体,Arial,微软雅黑,Helvetica,sans-serif; font-size:13px; line-height:19px; text-align:left; background-color:rgb(254,254,242)"><br>
</span></span></span></span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(240,248,255)"><span style="font-family:verdana,'ms song',宋体,Arial,微软雅黑,Helvetica,sans-serif; font-size:13px; line-height:19px; text-align:left; background-color:rgb(254,254,242)"><br>
</span></span></span></span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(240,248,255)"><span style="font-family:verdana,'ms song',宋体,Arial,微软雅黑,Helvetica,sans-serif; font-size:13px; line-height:19px; text-align:left; background-color:rgb(254,254,242)"><br>
</span></span></span></span></span></span></span></span></p>
<p><span style="color:rgb(51,51,51); font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:24px; text-align:left"><span style="font-family:Verdana; font-size:14px; line-height:26px; text-indent:26px; background-color:rgb(246,251,254)"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="font-family:Simsun; font-size:19px; line-height:27px; text-align:left"><span style="color:rgb(51,51,51); font-family:Verdana,Arial,Helvetica,sans-serif,宋体; line-height:18px; text-align:left; background-color:rgb(240,248,255)"><span style="font-family:verdana,'ms song',宋体,Arial,微软雅黑,Helvetica,sans-serif; font-size:13px; line-height:19px; text-align:left; background-color:rgb(254,254,242)"></span></span></span></span></span></span></span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">网络，是OpenStack的部署中最容易出问题的，也是其结构中难以理清的部分。经常收到关于<a href="http://onestack.googlecode.com/" target="_blank" style="color:rgb(202,0,0); text-decoration:none">OneStack</a>部署网络方面问题和OpenStack网络结构问题的邮件。下面根据自己</span><span style="font-family:'Microsoft YaHei'; font-size:16px">的理解，谈一谈OpenStack的虚拟网络、网络拓扑和网络流。个人理解有限，仅抛砖引玉，有问题请指正，谢谢。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong><span style="font-family:'Microsoft YaHei'; font-size:16px">一、相关概念和要点（可跳过）</span></strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1、OpenStack中nova-network的作用</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">OpenStack平台中有两种类型的物理节点，控制节点和计算节点。控制节点包括网络控制、调度管理、api服务、存储卷管理、数据库管理、身份管理和镜像管理等，计算节点主要提供nova-compute服务。控制节点的服务可以分开在多个节点，我们把提供nova-network服务的节点称为网络控制器。<br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">OpenStack的网络由nova-network（网络控制器）管理，它会创建虚拟网络，使主机之间以及与外部网络互相访问。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">OpenStack的<span style="text-indent:24px">API</span><span style="text-indent:24px">服务器</span><span style="text-indent:24px">通过消息队列分发nova-network提供的命令，这些命令之后会被nova-network处理，主要的操作有：分配ip地址、配置虚拟网络和通信。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><span style="text-indent:24px"><br>
</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><span style="text-indent:24px"><span style="color:rgb(255,0,0)">区分以下两个概念：控制节点和网络控制器</span><br>
</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><span style="text-indent:24px">在最简单的情况下，所有服务都部署在一个主机，这就是all-in-one；</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><span style="text-indent:24px">稍微复杂点，除了nova-compute外所有服务都部署在一个主机，这个主机进行各种控制管理，因此也就是控制节点（本文把2个或以上节点的部署都称为“多节点”）；</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><span style="text-indent:24px">但是，很多情况下（比如为了高可用性），需要把各种管理服务分别部署在不同主机（比如分别提供数据库集群服务、消息队列、镜像管理、网络控制等）。这个时候网络控制器（运行nova-network）只是控制节点群中的一部分。</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><span style="text-indent:24px"><br>
</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="text-indent:24px"><span style="font-family:'Microsoft YaHei'; font-size:16px">2、OpenStack中network的2种ip、3种管理模式</span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">Nova有固定IP和浮动IP的概念。固定IP被分发到创建的实例不再改变，浮动IP是一些可以和实例动态绑定和释放的IP地址。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">Nova支持3种类型的网络，对应3种“网络管理”类型：Flat管理模式、FlatDHCP管理模式、VLAN管理模式。默认使用VLAN摸式。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">这3种类型的网络管理模式，可以在一个ОpenStack部署里面共存，可以在不同节点不一样，可以进行多种配置实现高可用性。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">简要介绍这3种管理模式，后面再详细分析。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
</p>
<ol style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<li><span style="font-family:'Microsoft YaHei'; font-size:16px">Flat（扁平）：&nbsp;所有实例桥接到同一个虚拟网络，需要手动设置网桥。</span></li><li><span style="font-family:'Microsoft YaHei'; font-size:16px">FlatDHCP：&nbsp;与Flat（扁平）管理模式类&#20284;，这种网络所有实例桥接到同一个虚拟网络，扁平拓扑。不同的是，正如名字的区别，实例的ip提供dhcp获取（nova-network节点提供dhcp服务），而且可以自动帮助建立网桥。</span></li><li><span style="font-family:'Microsoft YaHei'; font-size:16px">VLAN：&nbsp;为每个项目提供受保护的网段（虚拟LAN）。</span></li></ol>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>二、3种网络模式的工作机制</strong></span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>•Flat模式</strong></span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）指定一个子网，规定虚拟机能使用的ip范围，也就是一个ip池（</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
</p>
<ul style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<li><span style="font-family:'Microsoft YaHei'; font-size:16px">分配ip不会超过这个范围，也就是配置里面的fixed_range，比如10.0.0.1/27，那么可用ip就有32个；</span></li><li><span style="font-family:'Microsoft YaHei'; font-size:16px">这个网络是可以改变的，比如配置好节点nova.conf和interfaces后，nova-manage network delete 10.0.0.1/27 1 32；nova-manage network create192.168.1.0/24 1 255</span></li></ul>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">）；</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）创建实例时，从有效ip地址池接取一个IP，为虚拟机实例分配，然后在虚拟机启动时候注入虚拟机镜像（文件系统）；</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">3）必须手动配置好网桥（br100），</span><span style="font-family:'Microsoft YaHei'; font-size:16px">所有的系统实例都是和同一个网桥连接；</span><span style="font-family:'Microsoft YaHei'; font-size:16px">网桥与连到网桥的实例组成一个虚拟网络，nova-network所在的节点作为默认网关。比如flat_interface=eth1;eth1的ip为10.0.0.1，其它网络ip在10.0.0.1/27内。flat
 interface--&gt;br100--&gt;flat network</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">4）此后，网络控制器（nova-network节点）对虚拟机实例进行NAT转换，实现与外部的通信。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">注意：目前好像配置注入只能够对Linux类型的操作系统实例正常工作，网络配置保存在/etc/network/interfaces文件。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>•Flat DHCP模式</strong></span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">与Flat模式一样，从ip池取出ip分配给虚拟机实例，所有的实例都在计算节点中和一个网桥相关。不过，在这个模式里，控制节点做了更多一些的配置，尝试和以太网设备(默认为eth0)建立网桥，通过dhcp自动为实例分配flat网络的固定ip，可以回收释放ip。<br>
</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）网络控制器（运行nova-network服务的节点）</span><span style="font-family:'Microsoft YaHei'; font-size:16px">运行dusmasq作为DHCP服务器监听这个网桥；</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）实例做一次dhcp discover操作，发送请求；<br>
</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">3）网络控制器</span><span style="font-family:'Microsoft YaHei'; font-size:16px">把</span><span style="font-family:'Microsoft YaHei'; font-size:16px">从</span><span style="font-family:'Microsoft YaHei'; font-size:16px">一个指定的子网中获得的I</span><span style="font-family:'Microsoft YaHei'; font-size:16px">P地址响应给虚拟机实例；</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">4）实例通过网络控制器与外部实现互相访问。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>•VLAN网络模式</strong></span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">OpenStack的默认网络管理模式，没有设置<span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; white-space:pre-wrap"><span class="pun" style="color:rgb(102,102,0)">--</span><span class="pln">network_manager</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln">nova</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln">network</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln">manager</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">FlatDHCPManager或者FlatManager的时候默认为vlan</span></span>。为了实现多台机器的安装，VLAN网络模式需要一个支持VLAN标签(IEEE
 802.1Q)的交换机（switch）。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">在这个模式里，为每个项目创建了VLAN和网桥。所有属于某个项目的实例都会连接到同一个VLAN，必要的时候会创建Linux网桥和VLAN。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">每个项目获得一些只能从VLAN内部访问的私有IP地址，即私网网段。每个项目拥有它自己的VLAN，Linux网桥还有子网。被网络管理员所指定的子网都会在需要的时候动态地分配给一个项目。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）网络控制器上的DHCP服务器为所有的VLAN所启动，从被分配到项目的子网中获取IP地址并传输到虚拟机实例。<br>
</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）为了实现用户获得项目的实例，访问私网网段，需要创建一个特殊的VPN实例（代码名为cloudpipe，用了创建整数、key和vpn访问实例）。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">3）计算节点为用户生成了证明书和key，使得用户可以访问VPN，同时计算节点自动启动VPN。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">4）vpn访问。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>Flat与vLAN的比较</strong></span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">在两种Flat模式里，网络控制器扮演默认网关的角色，实例都被分配了公共的IP地址（扁平式结构，都在一个桥接网络里）。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
</p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
</p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">vLAN模式功</span><span style="font-family:'Microsoft YaHei'; font-size:16px">能丰富，</span><span style="font-family:'Microsoft YaHei'; font-size:16px">很适合提供给企业内部部署使用。但是，需要支持vLAN的switches来连接，而且相对比较复杂，在小范围实验中常采用FlatDHCP模式。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">三、</span><strong><span style="font-family:'Microsoft YaHei'; font-size:16px">详解</span><span style="font-family:'Microsoft YaHei'; font-size:16px">FlatDHCP</span></strong><span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>模式</strong>（Flat模式类&#20284;，只是少了dhcp的部分而已，就略过了）</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">可以有多种部署方式，比如为了实现高可用性，可以使用多网卡、外部网关、multi_host 等方法。这里主要介绍基本的部署方式（一个控制节点，或者说一个网络控制器）。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1、网卡与节点</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">由于网卡和节点数的不同，可以简单分为：单节点（all-in-one）单网卡、</span><span style="font-family:'Microsoft YaHei'; font-size:16px">多节点单网卡、</span><span style="font-family:'Microsoft YaHei'; font-size:16px">多节点单网卡、</span><span style="font-family:'Microsoft YaHei'; font-size:16px">多节点多网卡</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">单节点的情况下，网络控制器（运行nova-network）与计算（运行nova-compute，或者更确切的说，运行虚拟机实例）部署在一个主机。这样就不需要控制节点与计算节点之间的通信，也就少了很多网络概念，这也是入门者常用的方式。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">多节点时，网络控制器与计算节点分别在不同主机，普通部署方式下（不是multi_host），只有nova-network控制网络，而它仅仅在控制节点运行。因此，所有计算节点的实例都需要通过控制节点来与外网通信。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">单网卡时，网卡需要作为public网络的接口使用，也需要作为flat网络的接口，因此需要处于混杂模式。不过建立的网络与双网卡类&#20284;，都分为flat网络和public网络。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">使用单网卡，需要在nova.conf中使public_interface和flat_interface都为eth0。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2、网络流</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">如上面分析，在普通部署方式下，只有一个控制节点（或网络控制器），dhcp和外网访问都需要经过它。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">dhcp时：</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）网络控制器（运行nova-network服务的节点）一直</span><span style="font-family:'Microsoft YaHei'; font-size:16px">运行dusmasq作为DHCP服务器监听网桥（br100）；</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）实例做一次dhcp discover操作，发送请求；<br>
</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">3）网络控制器</span><span style="font-family:'Microsoft YaHei'; font-size:16px">把</span><span style="font-family:'Microsoft YaHei'; font-size:16px">从</span><span style="font-family:'Microsoft YaHei'; font-size:16px">一个指定的子网中获得的I</span><span style="font-family:'Microsoft YaHei'; font-size:16px">P地址响应给虚拟机实例。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">实例访问外网时：</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）实例经过所在主机的flat_interface（这是一个flat网络），连接到nova-network所在的主机（控制节点）；</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）网络控制器对外出网络流进行转发。</span></p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
外网访问实例时：</p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
1）网络控制器对floating ip进行nat；</p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
2）通过flat网络将流入数据路由给对应的实例。</p>
<p style="margin-top:0px; margin-right:auto; margin-bottom:15px; margin-left:auto; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial">
下图1、图2可以比较单网卡和双网卡的网络流（traffic）情况，图2、图3可以比较单节点和多节点的网络流。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><img src="http://my.csdn.net/uploads/201207/07/1341648628_2648.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="font-family:'Microsoft YaHei'; font-size:16px">图1：双网卡多节点OpenStack网络流</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><img src="http://my.csdn.net/uploads/201207/07/1341648622_7142.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="font-family:'Microsoft YaHei'; font-size:16px">图2：单网卡多节点OpenStack网络流<br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><img src="http://my.csdn.net/uploads/201207/07/1341648616_5248.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="font-family:'Microsoft YaHei'; font-size:16px">图3：单网卡单节点OpenStack网络流<br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">3、多节点时控制节点和计算节点的工作原理</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">控制节点：</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）在主机上创建一个网桥（br100），把网关ip赋给这个桥；如果已经有ip，会自动把这个ip赋给网桥作为网关，并修复网关；</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）建立dhcp server，监听这个网桥；并在数据库记录ip的分配和释放，从而判定虚拟机释放正常关闭dhcp；</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">3）监听到ip请求时，从ip池取出ip，响应这个ip给实例；</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">4）建立iptables规则，限制和开放与外网的通信或与其它服务的访问。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">计算节点：</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）在主机上建立一个对应控制节点的网桥（br100），把其上实例（虚拟机）桥接到一个网络（br100所在的网络）；</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）此后，这个桥、控制节点的桥和实例的虚拟网卡都在同一虚拟网络，通过控制节点对外访问。</span></p>
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">可见，这种方式有以下特点：</span>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）所有实例与外网通信都经过网络控制器，这也就是SPoF（单故障点）；</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）控制节点提供dhcp服务、nat、建立子网，作为虚拟网络的网关；</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">3）计算节点可以没有外网ip，同其上的实例一样，可以把控制节点作为网关对外访问；</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">4）实例与外网通信太多，会造成控制节点网络的堵塞或者高负载。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>四、VLAN模式的特点</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">VLAN模式的目的是为每个项目提供受保护的网段，具有以下特点：</span></p>
<ul style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<li><span style="font-family:'Microsoft YaHei'; font-size:16px">NAT实现public ip</span></li><li><span style="font-family:'Microsoft YaHei'; font-size:16px">除了public NAT外没有其它途径进入每个lan</span></li><li><span style="font-family:'Microsoft YaHei'; font-size:16px">受限的流出网络，project-admin可以控制</span></li><li><span style="font-family:'Microsoft YaHei'; font-size:16px">受限的项目之间的访问，同样project-admin控制</span></li><li><span style="font-family:'Microsoft YaHei'; font-size:16px">所以实例和api的连接通过vpn</span></li></ul>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
vLAN模式了解较少，借用OpenStack文档里的一个图供对比了解：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><img src="http://docs.openstack.org/developer/nova/_images/cloudpipe.png" alt="../_images/cloudpipe.png" width="825" height="455" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="font-family:'Microsoft YaHei'; font-size:16px">图4：VLAN模式OpenStack网络结构</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>五、网络部署</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1、网络配置</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">apt-get install bridge-utils</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">安装bridge-utils就是为了建立虚拟网桥，实现虚拟网络。OpenStack会自动的创建br100这个网桥，所以不用自己创建。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; white-space:pre-wrap"><span class="pun" style="color:rgb(102,102,0)">--</span><span class="pln">network_manager</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln">nova</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln">network</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln">manager</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">FlatDHCPManager</span></span></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">设置网络管理模式，一般使用FlatDHCP，还可以配合multi_host实现高可用。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"># Network Configuration<br>
--dhcpbridge_flagfile=/etc/nova/nova.conf<br>
--dhcpbridge=/usr/bin/nova-dhcpbridge<br>
--flat_network_bridge=br100<br>
--flat_interface=eth1<br>
--flat_injected=False<br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">--public_interface=eth0<br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">dhcpbridge_flagfile指定配置文件，</span><span style="font-family:'Microsoft YaHei'; font-size:16px">flat_injected实现ipv6地址的注入，因此关闭。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">flat_network_bridge指定网桥。<br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">fla</span><span style="font-family:'Microsoft YaHei'; font-size:16px">t_i</span><span style="font-family:'Microsoft YaHei'; font-size:16px">nterface指定网卡，这个主机节点（一般就是控制节点）用来建立桥，桥接实例和虚拟网络以及public网络。单网卡是设为eth0，与public的同一个。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<span style="line-height:26px; text-align:left; font-family:'Microsoft YaHei'; font-size:16px">#Block of IP addresses that are fixed IPs<br>
--fixed_range=10.0.0.1/27<br>
</span><span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"></span>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">指定ip池的范围，文中多次提到的从指定的ip池取出ip分配给实例，就是这个ip池。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><strong>2、OpenStack中网络的高可用性（HA）</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">在基本的网络管理方式中，所有实例的网络流都要经过网络控制器。当网络控制器出现问题时，网络就出现故障，网络控制器是一个SPoF（单故障点）。《<a href="http://blog.csdn.net/hilyoo/article/details/7704280" target="_blank" style="color:rgb(59,89,152); text-decoration:none; list-style-type:none; list-style-position:initial; word-break:break-all; word-wrap:break-word">构建OpenStack的高可用性（HA，High
 Availability）</a>》简单介绍了4种方法和未来的Quantum。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">主要的部署方式是FlagDHCP &#43; multi_host：</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">1）、每个计算节点安装nova-network，设置multi_host为true。这样，每个计算节点上flat_interface作为网桥，提供dhcp、dns，作为其上所有实例的网关（gateway）。实例不再都从控制节点经过，控制节点出现问题不会影响网络。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">2）、每个计算节点的flat_interface提供switch连接，实现实例之间的虚拟网络的传输和通信。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">3）、每个计算节点有个public_interface，与外网连接。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">4）、为每个实例分配floating ip，作为实例的第二个虚拟ip，与外网通信。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">也就是发生了如下的变化：</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px"><img src="http://my.csdn.net/uploads/201207/07/1341648633_5324.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="font-family:'Microsoft YaHei'; font-size:16px">图5：multi_host部署方式时的OpenStack网络流<br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:'Microsoft YaHei'; font-size:16px">未来的Quantum和Melarge提供更好的网络服务，&#20540;得期待。Quantum项目实现二层网络相关的功能，如创建和管理虚拟网络、端口等。Melange负责三层网络相关，它的主要任务是IP地址管理（IPAM）、DHCP、NAT甚至负载均衡。不过由于其实现需要一定的时间，需要多个阶段，现在还是需要了解以上的各种网络模式和部署。</span></p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">该教程基于<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Ubuntu12.04</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">版，它将帮助读者建立起一份</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">最小化安装。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h1 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline; font-family:宋体,Arial; background-color:rgb(255,252,243); text-align:center">
<span style="word-wrap:break-word; line-height:1.5; font-size:22pt; font-family:宋体">第二部分&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">安装与配置</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:22pt; font-family:宋体"></span></h1>
<span style="font-family:宋体,Arial; line-height:10px; background-color:rgb(255,252,243)"></span>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:22pt; font-family:宋体"><br style="word-wrap:break-word">
</span></div>
<h2 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体">一、引言</span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体"></span></h2>
<span style="font-family:宋体,Arial; line-height:10px; background-color:rgb(255,252,243)"></span>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体"><br style="word-wrap:break-word">
</span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243); text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">本章内容讲解如何在<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">3</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">台物理机上搭建最小化云平台，这</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">3</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">台机器分为称为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server2</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Client1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，之后的各章也是如此。</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">承载着</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">及</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Horizon</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">（</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Web&nbsp;UI</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）服务。</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server2</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">只用来运行实例管理的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">运算工作站。由于</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">组件采用分布式结构，其中的任何一部分或几个部分都可以安装在任意服务器上。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243); text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243); text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Client1<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">并不是安装所必须的，在本例中，它仅用来制作打包镜像，并使用它访问</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Horizon</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">在</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Web</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">上管理</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">设施。于是就避免了使用服务器来完成镜像打包等诸如此类的任务了，而且在制作桌面系统镜像时如果包含视窗界面的话，我们也只能相应地使用有</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">GUI</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的电脑来完成，故而最好还是别在服务器上玩火了吧。建议</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Client1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">支持虚拟化技术，以便在制作完镜像打包时可以运行</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">KVM</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243); text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243); text-align:center">
<a href="http://blog.chinaunix.net/attachment/201207/6/22414998_134155782614bA.png" target="_blank" style="word-wrap:break-word; text-decoration:none; color:rgb(99,64,27)"><img height="239" src="http://blog.chinaunix.net/attachment/201207/6/22414998_134155782614bA.png" width="578" border="0" alt="" style="word-wrap:break-word; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; max-width:650px"></a></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243); text-align:center">
<br style="word-wrap:break-word">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;OpenStack<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">安装需要设定主机名、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">IP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">地址等，按你实际的环境进行配置。下表是译者安装的网络参数清单：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; font-family:宋体,Arial; background-color:rgb(255,252,243); text-align:center">
<a href="http://blog.chinaunix.net/attachment/201207/6/22414998_1341558294QI5p.png" target="_blank" style="word-wrap:break-word; text-decoration:none; color:rgb(99,64,27)"><img height="252" src="http://blog.chinaunix.net/attachment/201207/6/22414998_1341558294QI5p.png" width="588" border="0" alt="" style="word-wrap:break-word; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; max-width:650px"></a></p>
<h2 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="font-family:黑体; font-size:14px; word-wrap:break-word"><br style="word-wrap:break-word">
</span></h2>
<span style="font-family:宋体,Arial; line-height:10px; background-color:rgb(255,252,243)"></span>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="font-size:14px; word-wrap:break-word; line-height:normal"><span style="font-family:黑体; word-wrap:break-word; line-height:1.5">&nbsp; &nbsp;&nbsp;</span></span><span style="word-wrap:break-word; line-height:1.5; font-family:宋体">以下是教程中网络设置参数，<span style="color:#f00000; word-wrap:break-word; line-height:1.5"><span style="word-wrap:break-word">本教程均采用这些参数，但在实际安装中请参照上表进行设置</span></span>。</span></div>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5; font-family:宋体,Arial; background-color:rgb(255,252,243); text-align:center">
<a href="http://blog.chinaunix.net/attachment/201207/8/22414998_13417358040Oso.png" target="_blank" style="word-wrap:break-word; text-decoration:none; color:rgb(99,64,27)"><img height="152" src="http://blog.chinaunix.net/attachment/201207/8/22414998_13417358040Oso.png" width="427" border="0" alt="" style="word-wrap:break-word; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; max-width:650px"></a></div>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<span style="font-family:黑体; font-size:14px; word-wrap:break-word; line-height:normal"><br style="word-wrap:break-word">
</span></div>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5; font-family:宋体,Arial; background-color:rgb(255,252,243)">
<h2 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体">二、<span style="font-family:Arial; word-wrap:break-word; line-height:1.5">Server1</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体"></span></h2>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体"><span style="font-family:Arial; word-wrap:break-word; line-height:1.5"><br style="word-wrap:break-word">
</span></span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;正如上表所示，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">包含了所有的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务：</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-compute</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-api</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-volume</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-network</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">以及</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Horizon</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">。这台服务器上需要双网卡。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（一）安装底层<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OS</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5"><br style="word-wrap:break-word">
</span></span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">不必多想，请参照下述说明，记住相关参数，选择<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">64</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">位</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Ubuntu12.04</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">版，进行安装。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; margin-left:21pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:Wingdings">l&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建的第一个用户命名为“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">localadmin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; margin-left:21pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:Wingdings">l&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">为<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">eth0</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">eth1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">设定</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">IP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">及其相关参数</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp; &nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-family:Wingdings; text-align:justify">l&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">在安装服务包中，仅选择“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-size:10.5pt">Openssh-server</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">”作为预装项</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">因为<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">上也将安装</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-volume</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">软件，而</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-volume</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">需要一块专用分区，所以在安装</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Ubuntu&nbsp;Server</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">时请选择手动分区，并另行创建一块合适大小的分区。从本章起，教程都将以</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/dev/sda6</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">作为这块分区。你可以根据自己分区的实际情况进行修改。此外，请使用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">fdisk</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">工具将该分区需要&#26684;式化为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">LVM</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">（</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">8e</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）&#26684;式，这一操作在安装中或刚安装完毕&#26684;式化均可。进一步，如果你还计划在这台服务器上再新建一个分区配给</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的话，那么就新建一块分区并参照本章后文“安装</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”一节相关内容进行安装。</span></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">待</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">12.04的UbuntuOS安装完毕后</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">，使用下列命令更新系统：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp; &nbsp; sudo&nbsp;apt-get&nbsp;update</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp; &nbsp; sudo&nbsp;apt-get&nbsp;upgrade</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装网桥工具<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">bridge-utils</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;bridge-utils</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h2 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; text-indent:21pt; font-family:黑体"><br style="word-wrap:break-word">
</span></h2>
<h2 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; text-indent:21pt; font-family:黑体">（二）配置网络</span></h2>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; text-indent:21pt; font-family:黑体"><br style="word-wrap:break-word">
</span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">编辑<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/network/interfaces</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，如下所示：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">auto&nbsp;lo</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">iface&nbsp;lo&nbsp;inet&nbsp;loopback</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">auto&nbsp;eth0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">iface&nbsp;eth0&nbsp;inet&nbsp;static</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;address&nbsp;10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;netmask&nbsp;255.255.255.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;broadcast&nbsp;10.10.10.255</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;gateway&nbsp;10.10.10.1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;dns-nameservers&nbsp;10.10.8.3</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">auto&nbsp;eth1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">iface&nbsp;eth1&nbsp;inet&nbsp;static</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;address&nbsp;192.168.3.1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;netmask&nbsp;255.255.255.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;network&nbsp;192.168.3.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'">&nbsp;&nbsp;broadcast&nbsp;192.168.3.255</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:'Times New Roman'"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">随后重新启动网络：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;/etc/init.d/networking&nbsp;restart</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></h3>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（三）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务器</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">软件包。这个时间服务器将为所有节点提供支持。</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">所有组件的时间都必须同步，于是我们就在</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">上安装</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务并且让其他服务器或节点与之保持同步。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;sudo&nbsp;apt-get&nbsp;install&nbsp;ntp</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(0,0,255); font-family:宋体">译者注：<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">（</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Network&nbsp;Time&nbsp;Protocol</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">），是用来使计算机时间同步化的一种协议，它可以使计算机对其服务器或时钟源（如石英钟，</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">GPS</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">等等</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">)</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">做同步化，它可以提供高精准度的时间校正（</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">LAN</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">上与标准间差小于</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">毫秒，</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">WAN</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">上几十毫秒），且可介由加密确认的方式来防止恶毒的协议攻击。</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">[</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">来源：百度百科</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">]</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(0,0,255); font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">打开文件<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/ntp.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">增加以下三行内容，目的是让本服务器时间与外部服务器时间同步。如果不能访问外网，</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务器将使用本机硬件时钟作为第二选择。</span></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;server&nbsp;ntp.ubuntu.com</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;server&nbsp;127.127.1.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;fudge&nbsp;127.127.1.0&nbsp;stratum&nbsp;10</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">然后重启</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">使配置生效：</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;service&nbsp;ntp&nbsp;restart</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">请确保服务器<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">IP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">地址可以被</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">DNS</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">解析。如果不能，则在</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/hosts</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件中手工加入。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></h3>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（四）数据库</span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">我们有很多选择：<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">PostgreSQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">或者</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">SQLite</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">等都能很好地对</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">提供数据支持。究竟选哪个，自己定吧。本例中采用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>MySQL</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">mysql-server</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">python-mysqldb</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">包：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;mysql-server&nbsp;python-mysqldb</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">为<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">mysql</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">创建</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">root</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">密码，在此使用“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">mygreatsecret</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”。随后编辑</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">mysql</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置文件</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/mysql/my.cnf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，将绑定地址从</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">127.0.0.1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">改为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">0.0.0.0</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，如下所示：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">bind-address&nbsp;=&nbsp;0.0.0.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">重启<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务器让其开始监听所有端口：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;restart&nbsp;mysql</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>创建数据库</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">我们将要为<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">创建很多东东，各种数据库、表及用户。话音未落，这就开始了：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建名为“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”的数据库：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;'CREATE&nbsp;DATABASE&nbsp;nova;'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">新建一个用户，名为“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">novadbadmin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;'CREATE&nbsp;USER&nbsp;novadbadmin;'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">授予<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">novadbadmin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">用户</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">数据库全部权限：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;&quot;GRANT&nbsp;ALL&nbsp;PRIVILEGES&nbsp;ON&nbsp;nova.*&nbsp;TO&nbsp;'novadbadmin'@'%';&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">为<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">novadbadmin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">同志创建密码（译者注：密码是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">novasecret</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，后文类&#20284;之处不多言，请详见命令）：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;&quot;SET&nbsp;PASSWORD&nbsp;FOR&nbsp;'novadbadmin'@'%'&nbsp;=&nbsp;PASSWORD('novasecret');&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Glance<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">登场，还是重复刚才的道道，首先创建一个名为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的数据库：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;'CREATE&nbsp;DATABASE&nbsp;glance;'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">然后为这个新建的数据库添加一个用户“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glancedbadmin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;'CREATE&nbsp;USER&nbsp;glancedbadmin;'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">接着，光荣授予他本数据库的全部权限：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;&quot;GRANT&nbsp;ALL&nbsp;PRIVILEGES&nbsp;ON&nbsp;glance.*&nbsp;TO&nbsp;'glancedbadmin'@'%';&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">是的，最后一步，为该用户分配密码：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;&quot;SET&nbsp;PASSWORD&nbsp;FOR&nbsp;'glancedbadmin'@'%'&nbsp;=&nbsp;PASSWORD('glancesecret');&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">很烦的，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">出场了。刚才的大循环，至此开始演绎第三遍：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;'CREATE&nbsp;DATABASE&nbsp;keystone;'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;'CREATE&nbsp;USER&nbsp;keystonedbadmin;'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;&quot;GRANT&nbsp;ALL&nbsp;PRIVILEGES&nbsp;ON&nbsp;keystone.*&nbsp;TO&nbsp;'keystonedbadmin'@'%';&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mysql&nbsp;-uroot&nbsp;-pmygreatsecret&nbsp;-e&nbsp;&quot;SET&nbsp;PASSWORD&nbsp;FOR&nbsp;'keystonedbadmin'@'%'&nbsp;=&nbsp;PASSWORD('keystonesecret')&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">现在，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">部分的工作结束。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（五）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Keystone</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5"><br style="word-wrap:break-word">
</span></span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Keystone<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的认证服务。使用以下命令进行安装：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;keystone&nbsp;python-keystone&nbsp;python-keystoneclient</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">打开<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/keystone/keystone.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，将这一行：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_token&nbsp;=&nbsp;ADMIN</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">改为：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_token&nbsp;=&nbsp;admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">（本教程中我们将一直使用<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">作为令牌）</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">本例中，我们使用<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">来存储</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置，则将&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/keystone/keystone.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">中的这句配置：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">connection&nbsp;=&nbsp;sqlite:////var/lib/keystone/keystone.db</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">换成：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">connection&nbsp;=&nbsp;mysql://keystonedbadmin:keystonesecret@10.10.10.2/keystone</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">然后，重启<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;service&nbsp;keystone&nbsp;restart</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">接着，执行以下命令同步数据库：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;keystone-manage&nbsp;db_sync</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">最后，有些环境变量是<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">运行所必须的：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;SERVICE_ENDPOINT=&quot;http://localhost:35357/v2.0&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;SERVICE_TOKEN=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">当然为了避免下次系统重启后，还得将这些变量再次<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">export</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，最稳妥的办法就是将其写入</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">~/.bashrc</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">中。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>创建租间</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用以下命令创建两个租间，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">service</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;tenant-create&nbsp;--name&nbsp;admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;tenant-create&nbsp;--name&nbsp;service</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>创建用户</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">执行以下命令，创建四个用户<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">及</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-create&nbsp;--name&nbsp;admin&nbsp;--pass&nbsp;admin&nbsp;--email&nbsp;admin@foobar.com&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-create&nbsp;--name&nbsp;nova&nbsp;--pass&nbsp;nova&nbsp;&nbsp;&nbsp;--email&nbsp;nova@foobar.com</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-create&nbsp;--name&nbsp;glance&nbsp;--pass&nbsp;glance&nbsp;&nbsp;&nbsp;--email&nbsp;glance@foobar.com</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-create&nbsp;--name&nbsp;swift&nbsp;--pass&nbsp;swift&nbsp;&nbsp;&nbsp;--email&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">swift@foobar.com</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>创建角色</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用命令创建两个角色，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Member</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">（</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(0,0,255); font-family:宋体">译者注：注意是大写<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">M</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">）：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;role-create&nbsp;--name&nbsp;admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;role-create&nbsp;--name&nbsp;Member</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>查看租间、用户和角色</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">刚才建立的租间、用户和角色可以通过如下命令进行查看：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">租间列表：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;tenant-list</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;--------------------&#43;---------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;enabled&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;--------------------&#43;---------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;7f95ae9617cd496888bc412efdceabfd&nbsp;|&nbsp;admin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;True&nbsp;&nbsp;&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;c7970080576646c6959ee35970cf3199&nbsp;|&nbsp;service&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;True&nbsp;&nbsp;&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;--------------------&#43;---------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">用户列表：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-list</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;---------&#43;-------------------&#43;--------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;enabled&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;email&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;name&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;---------&#43;-------------------&#43;--------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;1b986cca67e242f38cd6aa4bdec587ca&nbsp;|&nbsp;True&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;swift@foobar.com&nbsp;&nbsp;|&nbsp;swift&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;518b51ea133c4facadae42c328d6b77b&nbsp;|&nbsp;True&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;glance@foobar.com&nbsp;|&nbsp;glance&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;b3de3aeec2544f0f90b9cbfe8b8b7acd&nbsp;|&nbsp;True&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;admin@foobar.com&nbsp;&nbsp;|&nbsp;admin&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;ce8cd56ca8824f5d845ba6ed015e9494&nbsp;|&nbsp;True&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;nova@foobar.com&nbsp;&nbsp;&nbsp;|&nbsp;nova&nbsp;&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;---------&#43;-------------------&#43;--------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">角色列表：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;role-list</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;----------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;----------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;2bbe305ad531434991d4281aaaebb700&nbsp;|&nbsp;admin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;d983800dd6d54ee3a1b1eb9f2ae3291f&nbsp;|&nbsp;Member&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;----------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">请大家&#26684;外注意<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">id</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">列中的&#20540;，虽然很长，但随后为用户绑定角色，继而把用户配入租间中时可全靠它们了。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>为特定租间中的用户绑定角色</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">现在我们先为刚刚创建的用户绑定角色，通过如下命令&#26684;式可以将特定租间中的特定用户增加角色（译者注：仅是命令&#26684;式，随后才是真正执行的命令）：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,153,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-role-add&nbsp;--user&nbsp;$USER_ID&nbsp;--role&nbsp;$ROLE_ID&nbsp;--tenant_id&nbsp;$TENANT_ID</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">其中<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">id</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">字段可以通过</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone&nbsp;user-list</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone&nbsp;role-list</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone&nbsp;tenant-list</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">命令获得。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">下面开始为“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”租间中的“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”用户绑定“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”角色：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-role-add&nbsp;--user&nbsp;b3de3aeec2544f0f90b9cbfe8b8b7acd&nbsp;--role&nbsp;2bbe305ad531434991d4281aaaebb700&nbsp;--tenant_id&nbsp;7f95ae9617cd496888bc412efdceabfd</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">接着执行如下命令，为“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">service</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”租间中的“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”、“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”、“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”用户绑定“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”角色：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-role-add&nbsp;--user&nbsp;ce8cd56ca8824f5d845ba6ed015e9494&nbsp;--role&nbsp;2bbe305ad531434991d4281aaaebb700&nbsp;--tenant_id&nbsp;c7970080576646c6959ee35970cf3199</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-role-add&nbsp;--user&nbsp;518b51ea133c4facadae42c328d6b77b&nbsp;--role&nbsp;2bbe305ad531434991d4281aaaebb700&nbsp;--tenant_id&nbsp;c7970080576646c6959ee35970cf3199</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-role-add&nbsp;--user&nbsp;1b986cca67e242f38cd6aa4bdec587ca&nbsp;--role&nbsp;2bbe305ad531434991d4281aaaebb700&nbsp;--tenant_id&nbsp;c7970080576646c6959ee35970cf3199</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Horizon<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">只“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Member</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”角色即可，所以相应地执行如下命令：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;user-role-add&nbsp;--user&nbsp;b3de3aeec2544f0f90b9cbfe8b8b7acd&nbsp;--role&nbsp;d983800dd6d54ee3a1b1eb9f2ae3291f&nbsp;--tenant_id&nbsp;7f95ae9617cd496888bc412efdceabfd</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(255,0,0); font-family:宋体"><strong>注意，在执行自己的安装时，请千万按照实际安装中的<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">id</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">进行设置，照抄本文</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">id</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">必将出错</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">!</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(255,0,0); font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>创建服务</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">至此，我们该创建授权用户可以享用的服务了，命令&#26684;式如下：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,153,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;service-create&nbsp;--name&nbsp;service_name&nbsp;--type&nbsp;service_type&nbsp;--description&nbsp;'Description&nbsp;of&nbsp;the&nbsp;service'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装上述&#26684;式，创建<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-compute</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-volume</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">及</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">ec2</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;service-create&nbsp;--name&nbsp;nova&nbsp;--type&nbsp;compute&nbsp;--description&nbsp;'OpenStack&nbsp;Compute&nbsp;Service'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;service-create&nbsp;--name&nbsp;volume&nbsp;--type&nbsp;volume&nbsp;--description&nbsp;'OpenStack&nbsp;Volume&nbsp;Service'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;service-create&nbsp;--name&nbsp;glance&nbsp;--type&nbsp;image&nbsp;--description&nbsp;'OpenStack&nbsp;Image&nbsp;Service'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;service-create&nbsp;--name&nbsp;swift&nbsp;--type&nbsp;object-store&nbsp;--description&nbsp;'OpenStack&nbsp;Storage&nbsp;Service'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;service-create&nbsp;--name&nbsp;keystone&nbsp;--type&nbsp;identity&nbsp;--description&nbsp;'OpenStack&nbsp;Identity&nbsp;Service'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;service-create&nbsp;--name&nbsp;ec2&nbsp;--type&nbsp;ec2&nbsp;--description&nbsp;'EC2&nbsp;Service'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">刚才创建的每个服务都拥有唯一的<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">id</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，要查看服务</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">id</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，使用如下命令即可：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;service-list</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;----------&#43;--------------&#43;----------------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp; &nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;----------&#43;--------------&#43;----------------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;1e93ee6c70f8468c88a5cb1b106753f3&nbsp;|&nbsp;nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;compute&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;OpenStack</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;Compute&nbsp;Service&nbsp;&nbsp;|</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;28fd92ffe3824004996a3e04e059d875&nbsp;|&nbsp;ec2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;ec2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;EC2&nbsp;Service &nbsp; &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;7d4ec192dfa1456996f0f4c47415c7a7&nbsp;|&nbsp;keystone&nbsp;|&nbsp;identity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;OpenStack</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;Identity&nbsp;Service&nbsp;|</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;96f35e1112b143e59d5cd5d0e6a8b22d&nbsp;|&nbsp;swift&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;object-store&nbsp;|&nbsp;OpenStack</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;Storage&nbsp;Service&nbsp;&nbsp;|</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;f38f4564ff7b4e43a52b2f5c1b75e5fa&nbsp;|&nbsp;volume&nbsp;&nbsp;&nbsp;|&nbsp;volume&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;OpenStack</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;Volume&nbsp;Service&nbsp;&nbsp;&nbsp;|</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;fbafab6edcab467bb734380ce6be3561&nbsp;|&nbsp;glance&nbsp;&nbsp;&nbsp;|&nbsp;image&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;OpenStack&nbsp;Image</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;Service&nbsp;&nbsp;&nbsp;&nbsp;|</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;----------------------------------&#43;----------&#43;--------------&#43;----------------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">这些<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">id</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">将被用于定义所属服务的入口（</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">endpoint</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>创建入口</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建服务入口的命令&#26684;式是：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,153,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;endpoint-create&nbsp;--region&nbsp;region_name&nbsp;--service_id&nbsp;service_id&nbsp;--publicurl&nbsp;public_url&nbsp;--adminurl&nbsp;admin_url&nbsp;&nbsp;--internalurl&nbsp;internal_url</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用如下命令创建<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-compute</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">入口：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;endpoint-create&nbsp;--region&nbsp;myregion&nbsp;--service_id&nbsp;1e93ee6c70f8468c88a5cb1b106753f3&nbsp;--publicurl&nbsp;'http://10.10.10.2:8774/v2/$(tenant_id)s'&nbsp;--adminurl&nbsp;'http://10.10.10.2:8774/v2/$(tenant_id)s'&nbsp;--internalurl&nbsp;'http://10.10.10.2:8774/v2/$(tenant_id)s'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用如下命令创建<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-volume</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">入口：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;endpoint-create&nbsp;--region&nbsp;myregion&nbsp;--service_id&nbsp;f38f4564ff7b4e43a52b2f5c1b75e5fa&nbsp;--publicurl&nbsp;'http://10.10.10.2:8776/v1/$(tenant_id)s'&nbsp;--adminurl&nbsp;'http://10.10.10.2:8776/v1/$(tenant_id)s'&nbsp;--internalurl&nbsp;'http://10.10.10.2:8776/v1/$(tenant_id)s'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用如下命令创建<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">入口：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;endpoint-create&nbsp;--region&nbsp;myregion&nbsp;--service_id&nbsp;fbafab6edcab467bb734380ce6be3561&nbsp;--publicurl&nbsp;'http://10.10.10.2:9292/v1'&nbsp;--adminurl&nbsp;'http://10.10.10.2:9292/v1'&nbsp;--internalurl&nbsp;'http://10.10.10.2:9292/v1'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用如下命令创建<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">入口：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;endpoint-create&nbsp;--region&nbsp;myregion&nbsp;--service_id&nbsp;96f35e1112b143e59d5cd5d0e6a8b22d&nbsp;--publicurl&nbsp;'http://10.10.10.2:8080/v1/AUTH_$(tenant_id)s'&nbsp;--adminurl&nbsp;'http://10.10.10.2:8080/v1'&nbsp;--internalurl&nbsp;'http://10.10.10.2:8080/v1/AUTH_$(tenant_id)s'</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用如下命令创建<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">入口：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;endpoint-create&nbsp;--region&nbsp;myregion&nbsp;--service_id&nbsp;7d4ec192dfa1456996f0f4c47415c7a7&nbsp;--publicurl&nbsp;http://10.10.10.2:5000/v2.0&nbsp;--adminurl&nbsp;http://10.10.10.2:35357/v2.0&nbsp;--internalurl&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">http://10.10.10.2:5000/v2.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用如下命令创建<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">ec2</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">入口：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">keystone&nbsp;endpoint-create&nbsp;--region&nbsp;myregion&nbsp;--service_id&nbsp;28fd92ffe3824004996a3e04e059d875&nbsp;--publicurl&nbsp;http://10.10.10.2:8773/services/Cloud&nbsp;--adminurl&nbsp;http://10.10.10.2:8773/services/Admin&nbsp;--internalurl&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">http://10.10.10.2:8773/services/Cloud</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（六）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Glance</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5"><br style="word-wrap:break-word">
</span></span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用以下命令安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;glance&nbsp;glance-api&nbsp;glance-client&nbsp;glance-common&nbsp;glance-</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(166,166,166)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">registry&nbsp;python-glance</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>配置<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Glance<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">默认使用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">SQLite</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">或</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">PostgreSQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">也可以很好地与</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">工作。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">打开&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/glance/glance-api-paste.ini</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件并在末尾编辑如下内容：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_tenant_name&nbsp;=&nbsp;%SERVICE_TENANT_NAME%</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_user&nbsp;=&nbsp;%SERVICE_USER%</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_password&nbsp;=&nbsp;%SERVICE_PASSWORD%</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">这些&#20540;需要用刚才我们安装中的实际&#20540;进行替换，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin_tenant_name</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">应该是“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">service</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”，</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin_user</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">这里是“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin_password</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">是“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">编辑完这三行应该是如下的样子：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_tenant_name&nbsp;=&nbsp;service</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_user&nbsp;=&nbsp;glance</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_password&nbsp;=&nbsp;glance</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">接着再打开&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/glance/glance-registry-paste.ini</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，也如上述操作一样在文件尾部进行同样的编辑。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">然后，修改<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">数据库连接为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，编辑&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/glance/glance-registry.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，找到“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">sql_connection&nbsp;=</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”这句作如下修改：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sql_connection&nbsp;=&nbsp;mysql://glancedbadmin:glancesecret@10.10.10.2/glance</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">紧接着还是这份文件，在底部增加如下设置，目的是让<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">使用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">授权：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[paste_deploy]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">flavor&nbsp;=&nbsp;keystone</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">打开&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/glance/glance-api.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，在文件末尾增加如下配置：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[paste_deploy]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">flavor&nbsp;=&nbsp;keystone</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">在<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">数据库中创建</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance&nbsp;schema</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，进行同步：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;glance-manage&nbsp;version_control&nbsp;0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;glance-manage&nbsp;db_sync</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">上述改动全部完成后，重启<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance-api</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance-registry</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;restart&nbsp;glance-api</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;restart&nbsp;glance-registry</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">设置如下环境变量，你也可以将其写入&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">~/.bashrc</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">中：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;SERVICE_TOKEN=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_TENANT_NAME=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_USERNAME=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_PASSWORD=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_AUTH_URL=&quot;http://localhost:5000/v2.0/&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;SERVICE_ENDPOINT=http://localhost:35357/v2.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">现在我们可以使用这个命令来测试<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">是否正确安装：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">glance&nbsp;index</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">如果这条命令没有返回任何结果，则说明<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">已经正确安装完毕，并与</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">正常通信。若是稍微探究一下的话，上述命令其实有返回&#20540;，正确安装情况下的返回&#20540;是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">0</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，可以使用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">echo&nbsp;$?</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">进行查看。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">在<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">正确配置且使用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">作为授权机制后，我们便可以上传镜像到</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">了，相关内容详见后文中的“镜像管理（</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Image&nbsp;Management</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）”。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（七）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Nova</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5"><br style="word-wrap:break-word">
</span></span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">先使用如下命令安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">及其相关组件：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;nova-api&nbsp;nova-cert&nbsp;nova-compute&nbsp;nova-compute-kvm&nbsp;nova-doc&nbsp;nova-network&nbsp;nova-objectstore&nbsp;nova-scheduler&nbsp;nova-volume&nbsp;rabbitmq-server&nbsp;novnc&nbsp;nova-consoleauth</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>配置<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Nova</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">以如下配置为例，编辑<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">主配文件&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/nova/nova.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--dhcpbridge_flagfile=/etc/nova/nova.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--dhcpbridge=/usr/bin/nova-dhcpbridge</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--logdir=/var/log/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--state_path=/var/lib/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--lock_path=/run/lock/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--allow_admin_api=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--use_deprecated_auth=false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--auth_strategy=keystone</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--scheduler_driver=nova.scheduler.simple.SimpleScheduler</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--s3_host=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--ec2_host=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--rabbit_host=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--cc_host=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--nova_url=http://10.10.10.2:8774/v1.1/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--routing_source_ip=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--glance_api_servers=10.10.10.2:9292</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--image_service=nova.image.glance.GlanceImageService</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--iscsi_ip_prefix=192.168.4</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--sql_connection=mysql://novadbadmin:novasecret@10.10.10.2/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--ec2_url=http://10.10.10.2:8773/services/Cloud</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--keystone_ec2_url=http://10.10.10.2:5000/v2.0/ec2tokens</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--api_paste_config=/etc/nova/api-paste.ini</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--libvirt_type=kvm</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--libvirt_use_virtio_for_bridges=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--start_guests_on_host_boot=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--resume_guests_state_on_host_boot=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;vnc&nbsp;specific&nbsp;configuration</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--novnc_enabled=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--novncproxy_base_url=http://10.10.10.2:60</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--vncserver_proxyclient_address=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--vncserver_listen=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;network&nbsp;specific&nbsp;settings</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--network_manager=nova.network.manager.</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">FlatDHCPManager</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--public_interface=eth0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--flat_interface=eth1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--flat_network_bridge=br100</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--fixed_range=192.168.4.1/27</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--floating_range=10.10.10.2/27</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--network_size=32</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--flat_network_dhcp_start=192.168.4.33</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--flat_injected=False</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--force_dhcp_release</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--iscsi_helper=tgtadm</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--connection_type=libvirt</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--root_helper=sudo&nbsp;nova-rootwrap</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--verbose</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建一个物理卷：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;pvcreate&nbsp;/dev/sda6</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建一个名为“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-volumnes</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”的卷组：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;vgcreate&nbsp;nova-volumes&nbsp;/dev/sda6</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">修改&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件夹的属主及&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/nova/nova.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件的访问权限：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;chown&nbsp;-R&nbsp;nova:nova&nbsp;/etc/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;chmod&nbsp;644&nbsp;/etc/nova/nova.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">进入&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/nova/api-paste.ini</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，找到末尾三行：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_tenant_name&nbsp;=&nbsp;%SERVICE_TENANT_NAME%</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_user&nbsp;=&nbsp;%SERVICE_USER%</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_password&nbsp;=&nbsp;%SERVICE_PASSWORD%</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">用之前创建的名字进行替换（</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(0,0,255); font-family:宋体">译者注：和<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">如出一辙，只是这次是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">），编辑完毕如下所示：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_tenant_name&nbsp;=&nbsp;service</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_user&nbsp;=&nbsp;nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_password&nbsp;=&nbsp;nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">仍然在<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">MySQL</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">数据库进行同步：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;nova-manage&nbsp;db&nbsp;sync</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">为实例提供<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">IP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">池：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;nova-manage&nbsp;network&nbsp;create&nbsp;private&nbsp;--fixed_range_v4=192.168.4.32/27&nbsp;--num_networks=1&nbsp;--bridge=br100&nbsp;--bridge_interface=eth1&nbsp;--network_size=32&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">输出环境变量：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_TENANT_NAME=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_USERNAME=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_PASSWORD=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_AUTH_URL=&quot;http://localhost:5000/v2.0/&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">重启<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;restart&nbsp;libvirt-bin;&nbsp;sudo&nbsp;restart&nbsp;nova-network;&nbsp;sudo&nbsp;restart&nbsp;nova-compute;&nbsp;sudo&nbsp;restart&nbsp;nova-api;&nbsp;sudo&nbsp;restart&nbsp;nova-objectstore;&nbsp;sudo&nbsp;restart&nbsp;nova-scheduler;&nbsp;sudo&nbsp;restart&nbsp;nova-volume;&nbsp;sudo&nbsp;restart&nbsp;nova-consoleauth;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">执行下列命令测试<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">是否正确安装：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;nova-manage&nbsp;service&nbsp;list</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Binary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Zone &nbsp; &nbsp; &nbsp; &nbsp; Status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;
 &nbsp; Updated_At</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-network&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:43</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-scheduler&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:44</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-volume&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:44</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-compute&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:45</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-cert&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:43</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">若所有组件都是微笑，说明<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">已经正确安装完毕。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（八）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">管理面板</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">执行下列命令安装管理面板：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;openstack-dashboard</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">重启<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Apache</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;service&nbsp;apache2&nbsp;restart</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">好消息，现在打开浏览器输入<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">IP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">地址，就可以看到</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的管理面板登陆界面了。默认用户名和密码都是“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”。在管理面板中，可以进行创建密匙对，创建、编辑安全群组，新建实例，添加卷等操作。具体内容详见后文“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack&nbsp;Dashboard</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”章节。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（九）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">最重要的部分是<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的代理、账户、容器及对象服务器：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;swift&nbsp;swift-proxy&nbsp;swift-account&nbsp;swift-container&nbsp;swift-object</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">随后安装一些支持组件，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">xfsprogs</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">（支持</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">XFS</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件系统）、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">python.pastedeploy</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">（访问</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">curl</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">（测试</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; background-color:rgb(166,166,166); font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;xfsprogs&nbsp;curl&nbsp;python-pastedeploy</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>Swift<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">存储端</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">有两种方法来创建或制备存储端，一种是采用现有的分区或卷作为存储设备，另一种是创建环回文件（<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Loopback&nbsp;file</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）并将当做存储设备。安装时，两种方式自选。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>1.&nbsp;<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">分区作为存储设备</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">如果在安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OS</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">时为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">预留了一个分区，你就可以直接使用它。如果该分区没有使用过或仍是空闲空间（比如&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/dev/sdb3</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">），就应该把它&#26684;式化为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">xfs</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件系统，接着编辑&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/fstab</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">中该分区的挂载点（注意：请根据实际情况选择你自定的设备，本教程假定手头未使用也没分区的空闲空间在&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/dev/sdb</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">上）：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;fdisk&nbsp;/dev/sdb</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;n&nbsp;for&nbsp;new&nbsp;partition</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;e&nbsp;for&nbsp;extended&nbsp;partion</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;Choose&nbsp;appropriate&nbsp;partition&nbsp;number&nbsp;(&nbsp;or&nbsp;go&nbsp;with&nbsp;the&nbsp;default&nbsp;)</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;Choose&nbsp;first&nbsp;and&nbsp;last&nbsp;sectors&nbsp;to&nbsp;set&nbsp;the&nbsp;hard&nbsp;disk&nbsp;size&nbsp;(or&nbsp;go&nbsp;with&nbsp;defaults)</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;83&nbsp;is&nbsp;the&nbsp;partition&nbsp;type&nbsp;number&nbsp;for&nbsp;Linux</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;w&nbsp;to&nbsp;write&nbsp;changes&nbsp;to&nbsp;the&nbsp;disk&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">上述命令将创建一个譬如&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/dev/sdb3</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的分区，接着我们便将其&#26684;式化为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">XFS</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">。记得&#26684;式化前要先使用命令“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">sudo&nbsp;fdisk&nbsp;-l</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”查看当前分区表，确定系统列出的分区含有你即将&#26684;式化的目标分区。最后，如果刚才</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">xfsprogs</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">成功安装的话，我们才能够使用以下命令：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mkfs.xfs&nbsp;-i&nbsp;size=1024&nbsp;/dev/sdb3</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;tune2fs&nbsp;-l&nbsp;/dev/sdb3&nbsp;|grep&nbsp;-i&nbsp;inode</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建一个该分区的挂载点，并命名为“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift_backend</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mkdir&nbsp;/mnt/swift_backend</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">紧接着编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/fstab</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件写入如下内容以便系统启动时自动加载这个分区：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">/dev/sdb3&nbsp;/mnt/swift_backend&nbsp;xfs&nbsp;noatime,nodiratime,nobarrier,logbufs=8&nbsp;0&nbsp;0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; background-color:rgb(204,255,255); font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>2.&nbsp;<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">环回文件作为存储设备</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建一个空文件作为<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">存储的环回设备，在这里我们使用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">disk&nbsp;copy</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">命令创建它并命名为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift-disk</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，还将为其分配</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">1G</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的磁盘空间。如果空间不够，可以通过改变</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">seek</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">&#20540;来增加空间。随后&#26684;式化为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">XFS</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;dd&nbsp;if=/dev/zero&nbsp;of=/srv/swift-disk&nbsp;bs=1024&nbsp;count=0&nbsp;seek=1000000</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mkfs.xfs&nbsp;-i&nbsp;size=1024&nbsp;/srv/swift-disk</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">file&nbsp;/srv/swift-disk</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">swift-disk1:&nbsp;SGI&nbsp;XFS&nbsp;filesystem&nbsp;data&nbsp;(blksz&nbsp;4096,&nbsp;inosz&nbsp;1024,&nbsp;v2&nbsp;dirs)</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建挂载点：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mkdir&nbsp;/mnt/swift_backend</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">写入&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/fstab</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255)">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">/srv/swift-disk&nbsp;/mnt/swift_backend&nbsp;xfs&nbsp;loop,noatime,nodiratime,nobarrier,logbufs=8&nbsp;0&nbsp;0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>3.&nbsp;<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">使用存储</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">挂载存储分区前，需要创建一些设备节点并设置其属主和主群为“<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mount&nbsp;/mnt/swift_backend</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pushd&nbsp;/mnt/swift_backend</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mkdir&nbsp;node1&nbsp;node2&nbsp;node3&nbsp;node4</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">popd</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;chown&nbsp;swift.swift&nbsp;/mnt/swift_backend/*</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">for&nbsp;i&nbsp;in&nbsp;{1..4};&nbsp;do&nbsp;sudo&nbsp;ln&nbsp;-s&nbsp;/mnt/swift_backend/node$i&nbsp;/srv/node$i;&nbsp;done;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mkdir&nbsp;-p&nbsp;/etc/swift/account-server&nbsp;/etc/swift/container-server&nbsp;/etc/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">swift/object-server&nbsp;/srv/node1/device&nbsp;/srv/node2/device&nbsp;/srv/node3/device&nbsp;/srv/node4/device</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mkdir&nbsp;/run/swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;chown&nbsp;-L&nbsp;-R&nbsp;swift.swift&nbsp;/etc/swift&nbsp;/srv/node[1-4]/&nbsp;/run/swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">为了在系统启动时启动<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务，需要把如下两行命令写入&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/rc.local里，位置</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">在“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">exit&nbsp;0;</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”之前：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;mkdir&nbsp;/run/swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;chown&nbsp;swift.swift&nbsp;/run/swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>配置远程备份</strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Rsync<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">用来维护对象副本，许多</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务都使用它保持对象一致性及进行更新操作。所有存储节点都将享用此配置：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">首先编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/default/rsync</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Set&nbsp;RSYNC_ENABLE=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">然后编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/rsyncd.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置文件，如下所示：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;General&nbsp;stuff</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">uid&nbsp;=&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">gid&nbsp;=&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">log&nbsp;file&nbsp;=&nbsp;/var/log/rsyncd.log</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pid&nbsp;file&nbsp;=&nbsp;/run/rsyncd.pid</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">address&nbsp;=&nbsp;127.0.0.1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;Account&nbsp;Server&nbsp;replication&nbsp;settings</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account6012]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node1/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/account6012.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account6022]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node2/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/account6022.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account6032]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node3/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/account6032.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account6042]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node4/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/account6042.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;Container&nbsp;server&nbsp;replication&nbsp;settings</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container6011]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node1/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/container6011.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container6021]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node2/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/container6021.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container6031]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node3/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/container6031.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container6041]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node4/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/container6041.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;Object&nbsp;Server&nbsp;replication&nbsp;settings</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object6010]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node1/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/object6010.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object6020]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node2/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/object6020.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object6030]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node3/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/object6030.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object6040]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">max&nbsp;connections&nbsp;=&nbsp;25</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">path&nbsp;=&nbsp;/srv/node4/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">read&nbsp;only&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">lock&nbsp;file&nbsp;=&nbsp;/run/lock/object6040.lock</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">最后重新启动服务<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">完成rsync配置：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;service&nbsp;rsync&nbsp;restart</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>配置<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">组件</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">详细的配置选项参见<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">http://swift.openstack.org/deployment_guide.html</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">。如果安装了</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift-doc</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">包的话，则可以在</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/usr/share/doc/swift-doc/html</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">目录下直接查看。</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Python</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">使用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">paste.deploy</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">管理配置。默认配置选项在</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">[DEFAULT]</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">段中，后面配置其它特殊项会覆盖默认段中的相关内容。&#26684;式如下：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,153,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">THE&nbsp;SYNTAX&nbsp;set&nbsp;option_name&nbsp;=&nbsp;value</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">以下是一份<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">paste.deploy</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的配置样例，仅供参考：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[DEFAULT]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">name1&nbsp;=&nbsp;globalvalue</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">name2&nbsp;=&nbsp;globalvalue</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">name3&nbsp;=&nbsp;globalvalue</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;name4&nbsp;=&nbsp;globalvalue</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[pipeline:main]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pipeline&nbsp;=&nbsp;myapp</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[app:myapp]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:mypkg#myapp</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">name2&nbsp;=&nbsp;localvalue</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;name3&nbsp;=&nbsp;localvalue</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;name5&nbsp;=&nbsp;localvalue</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">name6&nbsp;=&nbsp;localvalue</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建并编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/swift.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，并写入如下配置：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[swift-hash]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;random&nbsp;unique&nbsp;string&nbsp;that&nbsp;can&nbsp;never&nbsp;change&nbsp;(DO&nbsp;NOT&nbsp;LOSE).&nbsp;I'm&nbsp;using&nbsp;03c9f48da2229770.&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;od&nbsp;-t&nbsp;x8&nbsp;-N&nbsp;8&nbsp;-A&nbsp;n&nbsp;&lt;&nbsp;/dev/random</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;The&nbsp;above&nbsp;command&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;generate&nbsp;random&nbsp;a&nbsp;string.</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">swift_hash_path_suffix&nbsp;=&nbsp;03c9f48da2229770</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">特别的，当建立更多的节点时，你需要记住随机串。不要照抄本例，请通过以下命令生成自己的随机字符串：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">od&nbsp;-t&nbsp;x8&nbsp;-N&nbsp;8&nbsp;-A&nbsp;n&nbsp;&lt;&nbsp;/dev/random</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>1.&nbsp;<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">代理服务器</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">代理服务器是<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的门卫，它的职责是检测合法性。它将审查：一、请求是否伪造，二、请求使用资源的用户身份。具体操作由</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">keystone</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">之类的认证服务器来协助完成。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">创建并编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/proxy-server.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">并增加如下内容：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[DEFAULT]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">bind_port&nbsp;=&nbsp;8080</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">user&nbsp;=&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">swift_dir&nbsp;=&nbsp;/etc/swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[pipeline:main]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;Order&nbsp;of&nbsp;execution&nbsp;of&nbsp;modules&nbsp;defined&nbsp;below</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pipeline&nbsp;=&nbsp;catch_errors&nbsp;healthcheck&nbsp;cache&nbsp;authtoken&nbsp;keystone&nbsp;proxy-server</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[app:proxy-server]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#proxy</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">allow_account_management&nbsp;=&nbsp;true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">account_autocreate&nbsp;=&nbsp;true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;log_name&nbsp;=&nbsp;swift-proxy</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;log_facility&nbsp;=&nbsp;LOG_LOCAL0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;log_level&nbsp;=&nbsp;INFO</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;access_log_name&nbsp;=&nbsp;swift-proxy</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;access_log_facility&nbsp;=&nbsp;SYSLOG</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;access_log_level&nbsp;=&nbsp;INFO</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;log_headers&nbsp;=&nbsp;True</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">account_autocreate&nbsp;=&nbsp;True</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[filter:healthcheck]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#healthcheck</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[filter:catch_errors]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#catch_errors</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[filter:cache]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#memcache</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">set&nbsp;log_name&nbsp;=&nbsp;cache</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[filter:authtoken]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">paste.filter_factory&nbsp;=&nbsp;keystone.middleware.auth_token:filter_factory</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auth_protocol&nbsp;=&nbsp;http</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auth_host&nbsp;=&nbsp;127.0.0.1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auth_port&nbsp;=&nbsp;35357</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auth_token&nbsp;=&nbsp;admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">service_protocol&nbsp;=&nbsp;http</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">service_host&nbsp;=&nbsp;127.0.0.1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">service_port&nbsp;=&nbsp;5000</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_token&nbsp;=&nbsp;admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_tenant_name&nbsp;=&nbsp;service</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_user&nbsp;=&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">admin_password&nbsp;=&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">delay_auth_decision&nbsp;=&nbsp;0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[filter:keystone]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">paste.filter_factory&nbsp;=&nbsp;keystone.middleware.swift_auth:filter_factory</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">operator_roles&nbsp;=&nbsp;admin,&nbsp;swiftoperator</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; background-color:rgb(204,255,255); text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">is_admin&nbsp;=&nbsp;true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">注意：可以使用<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">apt-get</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">安装</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift-doc</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">软件包，安装后许多文档都收录在</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/usr/share/doc/swift-doc/html</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">下，本配置样例也是如此。</span></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>2.&nbsp;<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">账户服务器</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">默认<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">容器服务配置文件为&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/account-server.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[DEFAULT]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">bind_ip&nbsp;=&nbsp;0.0.0.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">workers&nbsp;=&nbsp;2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[pipeline:main]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pipeline&nbsp;=&nbsp;account-server</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[app:account-server]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#account</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account-replicator]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account-auditor]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account-reaper]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">所有的<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">account&nbsp;server</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置文件都在&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/account-server</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">目录中。与&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/srv</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">里的设备相对应，我们创建</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">2.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">等等文件，并将它们放到</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/account-server/</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">下。以下是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/account-server/1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置文件的内容：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[DEFAULT]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">devices&nbsp;=&nbsp;/srv/node1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">mount_check&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">bind_port&nbsp;=&nbsp;6012</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">user&nbsp;=&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">log_facility&nbsp;=&nbsp;LOG_LOCAL2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[pipeline:main]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pipeline&nbsp;=&nbsp;account-server</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[app:account-server]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#account</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account-replicator]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">vm_test_mode&nbsp;=&nbsp;no</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account-auditor]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[account-reaper]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt"><span style="font-family:宋体; word-wrap:break-word; line-height:1.5"><br style="word-wrap:break-word">
</span></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt"><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">对其它设备也是如此，比如</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-family:宋体">/srv/node2</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-family:宋体">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-family:宋体">/srv/node3</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-family:宋体">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-family:宋体">/srv/node4</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-family:宋体">等，我们分别创建</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-family:宋体">2.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-family:宋体">3.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-family:宋体">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-family:宋体">4.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-family:宋体">与之对应。现在利用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5; font-family:宋体">1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-family:宋体">进行复制生成其余文件，并一一设置唯一的绑定端口及本地日志&#20540;：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;cp&nbsp;/etc/swift/account-server/1.conf&nbsp;/etc/swift/account-server/2.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;cp&nbsp;/etc/swift/account-server/1.conf&nbsp;/etc/swift/account-server/3.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;cp&nbsp;/etc/swift/account-server/1.conf&nbsp;/etc/swift/account-server/4.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;sed&nbsp;-i&nbsp;'s/6012/6022/g;s/LOCAL2/LOCAL3/g;s/node1/node2/g'&nbsp;/etc/swift/account-server/2.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;sed&nbsp;-i&nbsp;'s/6012/6032/g;s/LOCAL2/LOCAL4/g;s/node1/node3/g'&nbsp;/etc/swift/account-server/3.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;sed&nbsp;-i&nbsp;'s/6012/6042/g;s/LOCAL2/LOCAL5/g;s/node1/node4/g'&nbsp;/etc/swift/account-server/4.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>3.&nbsp;<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">容器服务器</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">默认<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">容器服务配置文件为&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/container-server.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[DEFAULT]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">bind_ip&nbsp;=&nbsp;0.0.0.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">workers&nbsp;=&nbsp;2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[pipeline:main]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pipeline&nbsp;=&nbsp;container-server</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[app:container-server]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#container</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container-replicator]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container-updater]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container-auditor]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container-sync]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">与<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">account-server</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">类&#20284;，我们同样创建&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/container-server/1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">等等文件与&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/srv</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">设备匹配，这是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件内容：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[DEFAULT]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">devices&nbsp;=&nbsp;/srv/node1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">mount_check&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">bind_port&nbsp;=&nbsp;6011</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">user&nbsp;=&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">log_facility&nbsp;=&nbsp;LOG_LOCAL2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[pipeline:main]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pipeline&nbsp;=&nbsp;container-server</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[app:container-server]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#container</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container-replicator]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">vm_test_mode&nbsp;=&nbsp;no</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[container-updater]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">接着利用<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">继续创建</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">2.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">3.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">4.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">。并修改端口（分别是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">6021</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">6031</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">6041</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）及本地日志&#20540;（</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">LOG_LOCAL3</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">LOG_LOCAL4</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">LOG_LOCAL5</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>4.&nbsp;<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">对象服务器</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">默认<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">容器服务配置文件为&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/object-server.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[DEFAULT]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">bind_ip&nbsp;=&nbsp;0.0.0.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">workers&nbsp;=&nbsp;2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[pipeline:main]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pipeline&nbsp;=&nbsp;object-server</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[app:object-server]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#object</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object-replicator]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object-updater]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object-auditor]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">与<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">account-server</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">container-server</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">一样，我们同样创建&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift/object-server/1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">等等文件与&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/srv</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">设备匹配，这是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件内容：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[DEFAULT]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">devices&nbsp;=&nbsp;/srv/node1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">mount_check&nbsp;=&nbsp;false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">bind_port&nbsp;=&nbsp;6010</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">user&nbsp;=&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">log_facility&nbsp;=&nbsp;LOG_LOCAL2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[pipeline:main]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pipeline&nbsp;=&nbsp;object-server</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[app:object-server]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">use&nbsp;=&nbsp;egg:swift#object</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object-replicator]</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">vm_test_mode&nbsp;=&nbsp;no</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object-updater]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">[object-auditor]</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">继而利用<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">1.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">继续创建</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">2.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">3.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">4.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">。并修改端口（分别是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">6020</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">6030</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">6040</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）及本地日志&#20540;（</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">LOG_LOCAL3</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">LOG_LOCAL4</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和&nbsp;</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">LOG_LOCAL5</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<div class="Section0" style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>5.&nbsp;<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">配置</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift&nbsp;Ring</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务器</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Ring<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">是</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的一个极为重要的组件，它维护着对象的真实物理位置信息，对象的副本及多种设备。创建与对象服务、容器服务和账户服务相对应的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">ring-builder</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">pushd&nbsp;/etc/swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;object.builder&nbsp;create&nbsp;18&nbsp;3&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;container.builder&nbsp;create&nbsp;18&nbsp;3&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;account.builder&nbsp;create&nbsp;18&nbsp;3&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">注意：执行以上命令时需要在&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">目录下。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">命令中的参数指定了分区、副本和小时的数量，用来限制分区多次移动。可以参考<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">man</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">页面中的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift-ring-builder</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">获取更多信息。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">现在添加区域以均衡<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">ring</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务。命令&#26684;式如下：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,153,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">swift-ring-builder&nbsp;&lt;builder_file&gt;&nbsp;add&nbsp;&lt;zone&gt;-&lt;ip_address&gt;:&lt;port&gt;/&lt;device&gt;&lt;weight&gt;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">执行下列命令：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;object.builder&nbsp;add&nbsp;z1-127.0.0.1:6010/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;object.builder&nbsp;add&nbsp;z2-127.0.0.1:6020/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;object.builder&nbsp;add&nbsp;z3-127.0.0.1:6030/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;object.builder&nbsp;add&nbsp;z4-127.0.0.1:6040/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;object.builder&nbsp;rebalance</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;container.builder&nbsp;add&nbsp;z1-127.0.0.1:6011/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;container.builder&nbsp;add&nbsp;z2-127.0.0.1:6021/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;container.builder&nbsp;add&nbsp;z3-127.0.0.1:6031/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;container.builder&nbsp;add&nbsp;z4-127.0.0.1:6041/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;container.builder&nbsp;rebalance</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;account.builder&nbsp;add&nbsp;z1-127.0.0.1:6012/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;account.builder&nbsp;add&nbsp;z2-127.0.0.1:6022/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;account.builder&nbsp;add&nbsp;z3-127.0.0.1:6032/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;account.builder&nbsp;add&nbsp;z4-127.0.0.1:6042/device&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-ring-builder&nbsp;account.builder&nbsp;rebalance</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong>启动<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用以下命令启动<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">REST&nbsp;API</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-init&nbsp;main&nbsp;start</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;swift-init&nbsp;rest&nbsp;start</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><span style="word-wrap:break-word">测试<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span></span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">可以通过<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">命令或</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Horizon</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">提供的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Web</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">管理面板测试</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">是否正确运行。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">首先，将&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">目录的属主设为</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift.swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;chown&nbsp;-R&nbsp;swift.swift&nbsp;/etc/swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">执行以下命令查看是否能得到正确的<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">account</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、容器数量和存储的对象信息：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">swift&nbsp;-v&nbsp;-V&nbsp;2.0&nbsp;-A&nbsp;http://127.0.0.1:5000/v2.0/&nbsp;-U&nbsp;service:swift&nbsp;-K&nbsp;swift&nbsp;stat</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">StorageURL:&nbsp;http://127.0.0.1:8080/v1/AUTH_c7970080576646c6959ee35970cf3199</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Auth&nbsp;Token:&nbsp;ba9df200a92d4a5088dcd6b7dcc19c0d</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;Account:&nbsp;AUTH_c7970080576646c6959ee35970cf3199</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Containers:&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;Objects:&nbsp;1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bytes:&nbsp;77</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Accept-Ranges:&nbsp;bytes</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">X-Trans-Id:&nbsp;tx11c64e218f984749bc3ec37ea46280ee</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><span style="color:#f00000; word-wrap:break-word; line-height:1.5"><span style="word-wrap:break-word">至此，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">终于安装完毕！</span></span></span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
</div>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
<span style="font-family:宋体; word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<h2 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体">三、<span style="font-family:Arial; word-wrap:break-word; line-height:1.5">Server2</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体"></span></h2>
<div style="word-wrap:break-word; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; line-height:1.5">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体"><span style="font-family:Arial; word-wrap:break-word; line-height:1.5"><br style="word-wrap:break-word">
</span></span></div>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Server2<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">仅运行</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的运算服务。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（一）安装底层<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OS</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">64</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">位</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Ubuntu12.04</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务器。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（二）配置网络</span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装网桥软件：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;bridge-utils</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/network/interfaces</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，如下所示：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auto&nbsp;lo</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">iface&nbsp;lo&nbsp;inet&nbsp;loopback</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auto&nbsp;eth0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">iface&nbsp;eth0&nbsp;inet&nbsp;static</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;address&nbsp;10.10.10.3</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;netmask&nbsp;255.255.255.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;broadcast&nbsp;10.10.10.255</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;gateway&nbsp;10.10.10.1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;dns-nameservers&nbsp;10.10.8.3</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auto&nbsp;eth1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">iface&nbsp;eth1&nbsp;inet&nbsp;static</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;address&nbsp;192.168.3.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;netmask&nbsp;255.255.255.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;network&nbsp;192.168.3.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;broadcast&nbsp;192.168.3.255</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">重启网络：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;/etc/init.d/networking&nbsp;restart</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></h3>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（三）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">客户端</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">软件包：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;ntp</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/ntp.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，增加如下内容以同步至</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">server&nbsp;10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">重启<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务使配置生效：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;service&nbsp;ntp&nbsp;restart</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（四）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">组件（仅</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-compute</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">及其依赖包：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;nova-compute</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">如下所示，编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/nova/nova.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件。该文件与</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">中的一致：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--dhcpbridge_flagfile=/etc/nova/nova.conf</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--dhcpbridge=/usr/bin/nova-dhcpbridge</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--logdir=/var/log/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--state_path=/var/lib/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--lock_path=/run/lock/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--allow_admin_api=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--use_deprecated_auth=false</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--auth_strategy=keystone</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--scheduler_driver=nova.scheduler.simple.SimpleScheduler</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--s3_host=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--ec2_host=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--rabbit_host=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--cc_host=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--nova_url=http://10.10.10.2:8774/v1.1/</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--routing_source_ip=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--glance_api_servers=10.10.10.2:9292</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--image_service=nova.image.glance.GlanceImageService</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--iscsi_ip_prefix=192.168.4</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--sql_connection=mysql://novadbadmin:novasecret@10.10.10.2/nova</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--ec2_url=http://10.10.10.2:8773/services/Cloud</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--keystone_ec2_url=http://10.10.10.2:5000/v2.0/ec2tokens</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--api_paste_config=/etc/nova/api-paste.ini</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--libvirt_type=kvm</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--libvirt_use_virtio_for_bridges=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--start_guests_on_host_boot=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--resume_guests_state_on_host_boot=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;vnc&nbsp;specific&nbsp;configuration</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--novnc_enabled=true</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--novncproxy_base_url=http://10.10.10.2:6080/vnc_auto.html</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--vncserver_proxyclient_address=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--vncserver_listen=10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">#&nbsp;network&nbsp;specific&nbsp;settings</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--network_manager=nova.network.manager.FlatDHCPManager</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--public_interface=eth0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--flat_interface=eth1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--flat_network_bridge=br100</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--fixed_range=192.168.4.1/27</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--floating_range=10.10.10.2/27</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--network_size=32</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--flat_network_dhcp_start=192.168.4.33</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--flat_injected=False</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--force_dhcp_release</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--iscsi_helper=tgtadm</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--connection_type=libvirt</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--root_helper=sudo&nbsp;nova-rootwrap</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">--verbose</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">重新启动<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server2</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">上的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova-compute</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;service&nbsp;restart&nbsp;nova-compute</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">利用如下命令测试云中第二个运算节点（即<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server2</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">）是否正常运行：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;nova-manage&nbsp;service&nbsp;list</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">Binary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Zone &nbsp; &nbsp; &nbsp; &nbsp; Status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;
 &nbsp;Updated_At</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-network&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:43</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-scheduler&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:44</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-volume&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:44</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-compute&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:45</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-cert&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server1 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-20&nbsp;08:58:43</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova-compute&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server2 &nbsp; &nbsp; &nbsp; nova &nbsp; &nbsp; &nbsp; &nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;:-) &nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; text-indent:21pt; font-family:宋体">&nbsp;2012-04-21&nbsp;10:22:27</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">如果看到类&#20284;结果，则说明安装已经成功可以使用。</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px">
</p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(255,0,0); font-family:宋体"><strong>至此，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server2</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">安装完毕！</span></strong></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(255,0,0); font-family:宋体"><strong></strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(255,0,0); font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(255,0,0); font-family:宋体"><strong><br style="word-wrap:break-word">
</strong></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h2 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体">三、<span style="font-family:Arial; word-wrap:break-word; line-height:1.5">Client1</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:黑体"></span></h2>
&nbsp;
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></h3>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（一）安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OS</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">64</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">位</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Ubuntu12.04</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">桌面版。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（二）配置网络</span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">如下所示，编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/nova/nova.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auto&nbsp;lo</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;iface&nbsp;lo&nbsp;inet&nbsp;loopback</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">auto&nbsp;eth0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;iface&nbsp;eth0&nbsp;inet&nbsp;static</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;address&nbsp;10.10.10.4</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;netmask&nbsp;255.255.255.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;broadcast&nbsp;10.10.10.255</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;gateway&nbsp;10.10.10.1</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(204,255,255); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;dns-nameservers&nbsp;10.10.8.3</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></h3>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（三）<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">客户端</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">软件包：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;-y&nbsp;ntp</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">编辑&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">/etc/ntp.conf</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">文件，增加如下内容以同步至</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">server&nbsp;10.10.10.2</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">重启<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">NTP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">服务使配置生效：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;service&nbsp;ntp&nbsp;restart</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></h3>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（四）客户端工具</span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">如前所述，<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Ubuntu12.04</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">桌面版用来制作镜像，同样它也可以使用</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nvoa</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">、</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">swift</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">命令行工具管理云。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">使用下列命令安装我们需要的命令行工具：</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;python-novaclient&nbsp;glance-client&nbsp;swift</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">接着安装<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">qemu-kvm</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">sudo&nbsp;apt-get&nbsp;install&nbsp;qemu-kvm</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">输入环境变量，并将其添加进&nbsp;<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">~/.bashrc</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">脚本中：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;SERVICE_TOKEN=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_TENANT_NAME=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_USERNAME=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_PASSWORD=admin</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;OS_AUTH_URL=&quot;http://10.10.10.2:5000/v2.0/&quot;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">export&nbsp;SERVICE_ENDPOINT=http://10.10.10.2:35357/v2.0</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">运行<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">nova</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">和</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">glance</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">命令查看是否与</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">正常连接：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">nova&nbsp;list</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;--------------------------------------&#43;------------&#43;--------&#43;----------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;Status&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Networks&nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;--------------------------------------&#43;------------&#43;--------&#43;----------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;25ee9230-6bb5-4eca-8808-e6b4e0348362&nbsp;|&nbsp;myinstance&nbsp;|&nbsp;ACTIVE&nbsp;|&nbsp;private=192.</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">168.4.35&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">|&nbsp;c939cb2c-e662-46e5-bc31-453007442cf9&nbsp;|&nbsp;myinstance1|&nbsp;ACTIVE&nbsp;|&nbsp;private=192.</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">168.4.36&nbsp;|</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&#43;--------------------------------------&#43;------------&#43;--------&#43;----------------------&#43;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">glance&nbsp;index</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container&nbsp;Size</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Format&nbsp;&nbsp;&nbsp;Format</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">------------------------------------&nbsp;------------------------------</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;----------------</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">65b9f8e1-cde8-40e7-93e3-0866becfb9d4&nbsp;windows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qcow2&nbsp;&nbsp;&nbsp;&nbsp;ovf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;7580745728</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">f147e666-990c-47e2-9caa-a5a21470cc4e&nbsp;debian&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qcow2&nbsp;&nbsp;&nbsp;&nbsp;ovf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;932904960</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">f3a8e689-02ed-460f-a587-dc868576228f&nbsp;opensuse&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qcow2&nbsp;&nbsp;&nbsp;&nbsp;ovf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;1072300032</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">aa362fd9-7c28-480b-845c-85a5c38ccd86&nbsp;centoscli&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qcow2&nbsp;&nbsp;&nbsp;&nbsp;ovf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;1611530240</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">49f0ec2b-26dd-4644-adcc-2ce047e281c5&nbsp;ubuntuimage&nbsp;&nbsp;&nbsp;qcow2&nbsp;&nbsp;&nbsp;&nbsp;ovf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; background-color:rgb(166,166,166); text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">&nbsp;1471807488</span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"><br style="word-wrap:break-word">
</span></h3>
<h3 style="word-wrap:break-word; margin-top:0pt; margin-right:0px; margin-bottom:0pt; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; display:inline">
<span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体">（五）管理面板</span><span style="word-wrap:break-word; line-height:1.5; font-size:16pt; font-family:宋体"></span></h3>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">打开浏览器输入<span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">Server1</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">IP</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">地址，如：</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体">http://10.10.10.2<span style="font-family:宋体; word-wrap:break-word; line-height:1.5">，便进入管理面板的登陆页面。使用用户名“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”和密码“</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">admin</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">”进行登陆来管理您刚建好的</span><span style="font-family:Times New Roman; word-wrap:break-word; line-height:1.5">OpenStack</span><span style="font-family:宋体; word-wrap:break-word; line-height:1.5">吧。</span></span><span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"><br style="word-wrap:break-word">
</span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; font-family:宋体"></span></p>
<p class="p0" style="word-wrap:break-word; margin-top:0pt; margin-bottom:0pt; padding-top:5px; padding-bottom:0px; line-height:1.5; font-size:14px; text-indent:21pt; text-align:justify">
<span style="word-wrap:break-word; line-height:1.5; font-size:10.5pt; color:rgb(255,0,0); font-family:宋体"><strong>现在，全部安装结束</strong></span></p>
</div>
<br>

</div>
<div class="share_buttons" id="sharePanel"></div>
<!--192.168.1.236-->
<div class="article_next_prev">
    <li class="prev_article"><span>上一篇：</span><a href="/jincm13/article/details/8090492">CentOS6.2下一步一步源代码安装OpenStack</a></li>
    <li class="next_article"><span>下一篇：</span><a href="/jincm13/article/details/8101335">mysql命令</a></li>
</div>


    
</div>
<div id="ad_cen"></div>
<script type="text/javascript">
    new Ad(4, 'ad_cen');
</script>
<div id="comment_title" class="panel_head">查看评论<a name="comments"></a></div>
<div id="comment_list"></div>
<div id="comment_bar"></div>
<div id="comment_form"></div>
<div class="announce">* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
<script type="text/javascript">
    var fileName = '8076722';
    var commentscount = 0;
    var islock = false
</script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/comment.js?v=1.8"></script>
<div id="ad_bot"></div>
<script type="text/javascript">
    new Ad(5, 'ad_bot');
</script>
<div id="report_dialog"></div>

<div id="d-top" style="display:none;">
<a id="d-top-a" href="#" title="回到顶部">
<img src="http://static.blog.csdn.net/images/top.png" alt="TOP" /></a>
</div>
<script type="text/javascript">
    $(function(){
        var d_top=$('#d-top');
        document.onscroll=function(){
            var scrTop=(document.body.scrollTop||document.documentElement.scrollTop);
            if(scrTop>500){
                d_top.show();
            }else{
                d_top.hide();
            }
        }
        $('#d-top-a').click(function(){
            scrollTo(0,0);
            this.blur();
            return false;
        });
    });
</script>



<div class="clear"></div>
</div>
</div>

<div id="side">
<div class="side">
<div id="panel_Profile" class="panel">
    <ul class="panel_head"><span>个人资料</span></ul>
    <ul class="panel_body profile">
        <div id="blog_userface">
            <a href="http://my.csdn.net/jincm13" target="_blank">
            <img src="http://avatar.csdn.net/A/0/D/1_jincm13.jpg" title="访问我的空间" style="max-width:90%"/>
            </a>
            <br />
            <span><a href="http://my.csdn.net/jincm13" class="user_name" target="_blank">jincm13</a></span>
        </div>
<div class="interact">
<!--<a href="#" class="attented" title="已关注"></a>-->
<a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>
<a href="javascript:void(0);" class="letter" onclick="loginto(1)" title="[发私信]"></a>
</div>
        <div id="blog_medal">
        </div>
        <ul id="blog_rank">
            <li>访问：<span>61617次</span></li>
            <li>积分：<span>769分</span></li>
            <li>排名：<span>第13402名</span></li>
        </ul>
        <ul id="blog_statistics">
            <li>原创：<span>0篇</span></li>
            <li>转载：<span>104篇</span></li>
            <li>译文：<span>0篇</span></li>
            <li>评论：<span>3条</span></li>
        </ul>
    </ul>
</div>
<script type="text/javascript">
    var _blogger = 'jincm13';
</script>



<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字" /></span>
        <input id="btnSubmit" type="submit" value="搜索" title="search in blog" />
        <input type="hidden" name="q" id="inputQ" />
        <input type="hidden" name="t" value="blog" />
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>文章分类</span></ul>
    <ul class="panel_body">
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1196238">虚拟交换机</a><span>(5)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1196013">虚拟化</a><span>(18)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1196014">linux内核</a><span>(13)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1196015">web开发</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1205831">linux应用</a><span>(26)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1206154">openflow</a><span>(0)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1211778">防火墙</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1231883">vpn</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1251763">云安全</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1255642">健康</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1258219">openstack</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1302656">网络</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1302657">网络协议</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1312442">linux开发</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1316430">修身养性</a><span>(3)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1316553">c/c++/python/shell</a><span>(1)</span>
        </li>
    </ul>
</div><div id="panel_Archive" class="panel">
    <ul class="panel_head"><span>文章存档</span></ul>
    <ul class="panel_body">
        <div id="archive_list">
        <!--归档统计-->
        <li><a href="http://blog.csdn.net/jincm13/article/month/2013/03">2013年03月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2013/01">2013年01月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/12">2012年12月</a><span>(26)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/11">2012年11月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/10">2012年10月</a><span>(18)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/09">2012年09月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/08">2012年08月</a><span>(27)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/07">2012年07月</a><span>(20)</span></li>
        </div>
    </ul>
</div>
<div id="hotarticls" class="panel">
    <ul class="panel_head"><span>阅读排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="/jincm13/article/details/7861575" title="netscreen&amp;fortinet">netscreen&amp;fortinet</a><span>(5800)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7825754" title="SDN和Openflow flowvisor NOX">SDN和Openflow flowvisor NOX</a><span>(4806)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7839932" title="OpenFlow-建设一个永远不会崩溃的网络">OpenFlow-建设一个永远不会崩溃的网络</a><span>(3754)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7818093" title="以计算为中心的下一代数据中心交换网络">以计算为中心的下一代数据中心交换网络</a><span>(2014)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7790036" title="云界伦语- 戏说云界趣事，喜看云中漫步">云界伦语- 戏说云界趣事，喜看云中漫步</a><span>(1982)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7837943" title="git使用">git使用</a><span>(1790)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8077501" title="虚拟化">虚拟化</a><span>(1743)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8083903" title="cloudstack">cloudstack</a><span>(1640)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7789393" title="八大主流云管理平台对比导购">八大主流云管理平台对比导购</a><span>(1570)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7818854" title="ASIC：万兆路由的基石">ASIC：万兆路由的基石</a><span>(1357)</span>
        </li>
    </ul>
</div>
<div id="hotarticls2" class="panel">
    <ul class="panel_head"><span>评论排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="/jincm13/article/details/7843800" title="xen架构">xen架构</a><span>(1)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8432057" title="交换机：vlan">交换机：vlan</a><span>(1)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8455083" title="道德经">道德经</a><span>(1)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8035206" title="调试linux内核模块">调试linux内核模块</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8107775" title="Cloud computing with Linux">Cloud computing with Linux</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8135446" title="linux数据结构">linux数据结构</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8153497" title="linux内核内存管理">linux内核内存管理</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8202794" title="中断的上半部和下半部">中断的上半部和下半部</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8207585" title="softirq">softirq</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8224483" title="linux内核增加系统调用">linux内核增加系统调用</a><span>(0)</span>
        </li>
    </ul>
</div>
<div id="homepageArticles" class="panel">
    <ul class="panel_head"><span>推荐文章</span></ul>
    <ul class="panel_body" id="ad_commend">
    </ul>
</div>
<script type="text/javascript">
    new Ad(12, 'ad_commend');
</script><div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
    <a href="/jincm13/article/details/8455083#comments">道德经</a>
    <p style="margin:0px;"><a href="/mttsui" class="user_name">mttsui</a>:
大杂烩。
    </p>
    </li>
    <li>
    <a href="/jincm13/article/details/8432057#comments">交换机：vlan</a>
    <p style="margin:0px;"><a href="/xu9920" class="user_name">xu9920</a>:
回帖是美德，也学习到了知识！
    </p>
    </li>
    <li>
    <a href="/jincm13/article/details/7843800#comments">xen架构</a>
    <p style="margin:0px;"><a href="/lujun54nilaopo" class="user_name">lujun54nilaopo</a>:
厉害啊，是把原文翻译过来的吗
    </p>
    </li>
</ul>
</div>
</div>
<div class="clear"></div>
</div>

<div class="clear"></div>
</div>

<script type="text/javascript" src="http://static.blog.csdn.net/scripts/newblog.min.js?v=1.1"></script>
<script type="text/javascript" src="http://medal.blog.csdn.net/showblogmedal.ashx?blogid=1320942"></script>

<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer.js"></script>

<script type="text/javascript" src="http://passport.csdn.net/content/loginbox/login.js"></script>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script>
<script type="text/javascript" src="http://www.csdn.net/ui/scripts/Csdn/counter.js"></script>


<script type="text/javascript" src="http://ad.csdn.net/scripts/ad-blog.js"></script>
</div>
</body>
</html>