<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>CentOS6.2下一步一步源代码安装OpenStack - jincm13的专栏 - 博客频道 - CSDN.NET</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="5月3日，添加安装计算节点的说明（蓝色字体）OpenStack的essex正式版终于发布了，但是要想在CentOS下通过yum安装估计还得等上一段时间，因此不妨我们来一起通过源代码安装OpenStack，这样也对OpenStack有一个更清晰的认识。前段时间我一直忙nova这个组件的安装配置，一直各种报错，把我郁闷了好久，最要命的是我是在VMware workstation下安装Cen" />
<script src="http://static.blog.csdn.net/scripts/jquery.js" type="text/javascript"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/ad.js?v=1.1"></script>
<link rel="Stylesheet" type="text/css" href="http://static.blog.csdn.net/skin/default/css/style.css?v=1.1" />
<link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="/jincm13/rss/list" />
<link rel="shortcut icon" href="/favicon.ico" />
<link type="text/css" rel="stylesheet" href="http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/default.css" />
</head>
<body>
<script src="http://csdnimg.cn/pubnav/js/pub_topnav_2011.js"type="text/javascript"></script>
<div id="container">
<div id="header">
    <div class="header">
        <div id="blog_title">
            <h1><a href="/jincm13">jincm13的专栏</a></h1>
            <h2></h2>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg"></div>
    <div class="navigator">
        <ul>
            <li id="btnContents"><a href="/jincm13?viewmode=contents"><span><img src="http://static.blog.csdn.net/images/ico_list.gif">目录视图</span></a></li>
            <li id="btnView"><a href="/jincm13?viewmode=list"><span><img src="http://static.blog.csdn.net/images/ico_summary.gif">摘要视图</span></a></li>
            <li id="btnRss"><a href="/jincm13/rss/list"><span><img src="http://static.blog.csdn.net/images/ico_rss.gif">订阅</span></a></li>
</ul>
    </div>
</div>
<script type="text/javascript">
    var username = "jincm13";
    var blog_address = "http://blog.csdn.net/jincm13";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";
</script>
        
<div id="body">
<div id="main">
<div class="main">
<div class="notice"> 

<a href="http://surveies.csdn.net/survey/comein/532" target="_blank">
<font color=blue>博客专家信息更新登记表   </font></a>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://www.csdn.net/article/2013-03-12/2814461" target="_blank"><font color=red>专访卜茂霞：嵌入式汽车开发潜力巨大
</font></a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/8664620" target="_blank"><font color=blue>CSDN博客移动开发排行榜 


</font></a>

<br />





<a href="http://www.csdn.net/article/2013-03-05/2814348"target="_blank">
<font color=red>专访陈勇： 敏捷开发现状及发展之路

 </font></a>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://huiyi.csdn.net/tech/view/223
"target="_blank">
<font color=red>“传统商家移动化之路”会议
 </font></a>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://bbs.csdn.net/topics/390393217"target="_blank">
<font color=red>下载频道3月领任务~赚下载分！ 
  </font></a>


</div><div id="article_details" class="details">
    <div class="article_title">
    <span class="ico ico_type_Repost"></span>
    <h3>
        <span class="link_title"><a href="/jincm13/article/details/8090492">
        CentOS6.2下一步一步源代码安装OpenStack
        </a></span>
    </h3>
</div>

        
    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="/jincm13/article/category/1196013">虚拟化</a> 
            <a href="/jincm13/article/category/1258219">openstack</a> 
        </span>
    <span class="link_postdate">2012-10-19 16:41</span>
    <span class="link_view" title="阅读次数">482人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments">评论</a>(0)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:collectArticle('CentOS6.2下一步一步源代码安装OpenStack','8090492');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report"  onclick="javascript:report(8090492,2);return false;" title="举报">举报</a></span>
    
</div>
<div class="tag2box"><a href='http://blog.csdn.net/tag/details.html?tag=centos' target=_blank>centos</a><a href='http://blog.csdn.net/tag/details.html?tag=service' target=_blank>service</a><a href='http://blog.csdn.net/tag/details.html?tag=mysql' target=_blank>mysql</a><a href='http://blog.csdn.net/tag/details.html?tag=python' target=_blank>python</a><a href='http://blog.csdn.net/tag/details.html?tag=network' target=_blank>network</a><a href='http://blog.csdn.net/tag/details.html?tag=image' target=_blank>image</a></div>


    
<div id="article_content" class="article_content">

<p></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(0,0,153)">5月3日，添加安装计算节点的说明（蓝色字体）</span><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
OpenStack的essex正式版终于发布了，但是要想在CentOS下通过yum安装估计还得等上一段时间，因此不妨我们来一起通过源代码安装OpenStack，这样也对OpenStack有一个更清晰的认识。前段时间我一直忙nova这个组件的安装配置，一直各种报错，把我郁闷了好久，最要命的是我是在VMware workstation下安装CentOS6.2实验OpenStack，但是CentOS6.2在虚拟机环境下无法开启虚拟机化技术，而Ubuntu却可以，不得而把电脑重新装了CentOS重新实验。目前nova这个组件已经安装好了，所以我把这些过程写在这里跟大家分享下。这是第一篇，主要是操作系统的安装及系统相关依赖包的安装，下一篇将介绍各组件源代码的安装方法，再往下就是各组件的配置、运行，测试。好了，废话不多说，Let's
 Go！！！</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.操作系统安装：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
安装系统时最好给服务器取个名，不然后面rabbitmq-server可能无法启动，如下图所示：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201204/18/1334758922_1111.jpg" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
在选择安装类型时，选择Desktop，并且选择下面的现在定制，如下图所示：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201204/18/1334759199_7881.jpg" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
Applications部分只选择InternetBrowser即可，该组的可选包只选择firefox，如下图：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201204/18/1334759418_9330.jpg" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
Base System部分默认即可，Databases部分勾选Mysql的两项，其中client的可选包只选python的即可，如下图：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201204/18/1334759548_8132.jpg" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
<span style="color:rgb(0,0,153)">计算节点只需要安装客户端，不需要安装Mysql服务器</span><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
Virtualization部分勾选上面三项，且去掉第二项的可选包，如下图：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201204/18/1334759690_9460.jpg" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
其它未说明部分默认即可，安装完后进入系统创建你的用户和密码，我这里建的是ugyn。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2.安装光盘中的一些依赖包</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
2.1将当前用户添加到sudoers中</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc ~]$ su<br>
Password:&nbsp;<br>
[root@cc ugyn]# echo 'ugyn ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers<br>
[root@cc ugyn]# su ugyn<br>
[ugyn@cc ~]$&nbsp;<br>
2.2添加CentOS光盘镜像为repo：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc ~]$ sudo cp /etc/yum.repos.d/CentOS-Media.repo /etc/yum.repos.d/iso.repo<br>
[ugyn@cc ~]$ sudo vim /etc/yum.repos.d/iso.repo&nbsp;<br>
最后我的iso.repo内容为：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[iso]<br>
name=iso<br>
baseurl=file:///media/iso/<br>
gpgcheck=1<br>
enabled=0<br>
gpgkey=file:///media/iso/RPM-GPG-KEY-CentOS-6</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
挂载镜像：<br>
[ugyn@cc ~]$ sudo mkdir /media/iso<br>
[ugyn@cc ~]$ sudo mount -o loop -t iso9660 Downloads/CentOS-6.2-x86_64-bin-DVD1.iso /media/iso&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
2.3卸载python-crypto：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
该软件版本过低，如果不卸载会导致以后glance服务无法启动</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc ~]$ sudo yum --enablerepo=iso --disablerepo=base,updates,extras remove python-crypto<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
2.4安装光盘中存在的依赖软件：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc ~]$ sudo yum --enablerepo=iso --disablerepo=base,updates,extras install gcc gcc-c&#43;&#43;&nbsp; python-devel python-setuptools&nbsp; libxml2-devel libxslt-devel mod_wsgi<span style="color:rgb(255,0,0)">numpy</span><br>
<span style="color:rgb(0,0,153)">这里mod_wsgi为安装horizon所必须，numpy为安装noVNC所必须，安装计算节点这两个包都不需要</span><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>3.安装epel中的一些依赖包：</strong><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(255,0,0)">关于qpid的bug已经被修复，详情见这里：</span><br>
<a href="https://review.openstack.org/#/c/6760/" style="color:rgb(202,0,0); text-decoration:none">https://review.openstack.org/#/c/6760/</a><br>
<a href="https://github.com/openstack/glance/commit/5bed23cbc962d3c6503f0ff93e6d1e326efbd49d" style="color:rgb(202,0,0); text-decoration:none">https://github.com/openstack/glance/commit/5bed23cbc962d3c6503f0ff93e6d1e326efbd49d</a><br>
<span style="color:rgb(255,0,0)">我将使用qpid，这样可以不用安装epel源，省去安装rabbitmq及其依赖的60多包，python-sqlite2， python-greenlet-devel及其依赖的python-greenlet 可以先下载然后手动安装就好了，我将会将这些文件打包跟大家下载。如果使用qpid请安装好python-qpid，python-sqlite2， python-greenlet-devel及其依赖的python-greenlet后直接看第4步。<br>
下载页：<a href="http://dl.fedoraproject.org/pub/epel/6/x86_64/repoview/letter_p.group.html" style="color:rgb(202,0,0); text-decoration:none">http://dl.fedoraproject.org/pub/epel/6/x86_64/repoview/letter_p.group.html</a></span><br>
<span style="color:rgb(255,0,0)">安装：<br>
sudo yum --enablerepo=iso --disablerepo=base,updates,extras install python-qpid<br>
sudo rpm -ihv rpms/python-sqlite2-2.3.5-2.el6.x86_64.rpm rpms/python-greenlet-0.3.1-6.el6.x86_64.rpm rpms/python-greenlet-devel-0.3.1-6.el6.x86_64.rpm</span><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
3.1安装epel源：<br>
[ugyn@cc ~]$ sudo rpm -i http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-5.noarch.rpm</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
3.2安装epel源中的rabbitmq-server及另两个依赖包：<br>
[ugyn@cc ~]$ sudo yum install rabbitmq-server python-sqlite2 python-greenlet-devel</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
3.3启动rabbitmq-server：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
首先要停掉qpidd，本来OpenStack可以使用qpidd，我在实验中使用时通过glance上传镜像时报错（<a href="https://bugs.launchpad.net/glance/&#43;bug/980872" style="color:rgb(202,0,0); text-decoration:none">详情见这里</a>&nbsp;），而用rabbitmq没这样的问题</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc ~]$ sudo chkconfig qpidd off &amp;&amp; sudo service qpidd stop</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc ~]$ sudo chkconfig rabbitmq-server on &amp;&amp; sudo service rabbitmq-server start</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
设置密码：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc ~]$ sudo rabbitmqctl change_password guest service123</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
注意：请确定已经设置好了主机名，不然rabbit可能无法启动</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(0,0,153)">安装计算节点时以下步骤都不需要！！！</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>4.启动httpd：</strong><br>
[ugyn@cc ~]$ sudo chkconfig httpd on &amp;&amp; sudo service httpd start<br>
Starting httpd: httpd: apr_sockaddr_info_get() failed for cc.sigsit.org<br>
httpd: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; OK&nbsp; ]<br>
[ugyn@cc ~]$ sudo service httpd status<br>
httpd (pid&nbsp; 28460) is running...</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>5.启动mysql：</strong><br>
[ugyn@cc ~]$ sudo chkconfig mysqld on &amp;&amp; sudo service mysqld start<br>
修改配置：<br>
[ugyn@cc ~]$ sudo vim /etc/my.cnf<br>
在[mysqld]选项下添加以下两行：<br>
character-set-server=utf8<br>
default-storage-engine=InnoDB<br>
在文件最后添加以下两行：<br>
[mysql]<br>
default-character-set=utf8<br>
重启mysql：<br>
sudo service mysqld restart<br>
登录mysql删除匿名用户并设置root密码：<br>
mysql -uroot<br>
mysql&gt; use mysql<br>
mysql&gt; delete from user where User=&quot;&quot;;<br>
mysql&gt; update user set Password=password('service123');<br>
删除test数据库：<br>
mysql&gt; drop database test;<br>
创建keystone所需数据库：<br>
mysql&gt; create database keystone;<br>
mysql&gt; grant all privileges on keystone.* to 'keystone'@'%' identified by 'keystone';<br>
创建nova所需数据库：<br>
mysql&gt; create database nova;<br>
mysql&gt; grant all privileges on nova.* to 'nova'@'%' identified by 'nova';<br>
创建glance所需数据库：<br>
mysql&gt; create database glance;<br>
mysql&gt; grant all privileges on glance.* to 'glance'@'%' identified by 'glance';<br>
创建horizon所需数据库：<br>
mysql&gt; create database horizon;<br>
mysql&gt; grant all privileges on horizon.* to 'horizon'@'%' identified by 'horizon';<br>
刷新权限：<br>
mysql&gt; flush privileges;<br>
mysql&gt; quit</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>6.配置网桥：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
见这里<a href="http://blog.csdn.net/ugyn109/article/details/7610882" style="color:rgb(202,0,0); text-decoration:none">http://blog.csdn.net/ugyn109/article/details/7610882</a><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
好了，操作系统部分到这里就差不多了，下面运行下virsh及virt-manager看看主机能否启动虚拟机技术</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc ~]$ sudo virsh version<br>
Compiled against library: libvir 0.9.4<br>
Using library: libvir 0.9.4<br>
Using API: QEMU 0.9.4<br>
Running hypervisor: QEMU 0.12.1</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
注意virt-manager需要以root用户登录图形界面才能运行</p>
<br>
<p><br>
</p>
<p></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
操作系统准备好后，接下来就应该进行各组件的安装了，在这一篇里我将介绍怎么在一台机器上安装keystone、glance、nova、horizon、swift。大致安装步骤如下，下载源代码，下载并安装各组件的依赖库，安装各组件。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.下载源代码并解压</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
从官方网站下载源代码，地址如下：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<a href="https://launchpad.net/nova/" style="color:rgb(202,0,0); text-decoration:none">https://launchpad.net/nova/</a><br>
<a href="https://launchpad.net/glance/" style="color:rgb(202,0,0); text-decoration:none">https://launchpad.net/glance/</a><br>
<a href="https://launchpad.net/keystone/" style="color:rgb(202,0,0); text-decoration:none">https://launchpad.net/keystone/</a><br>
<a href="https://launchpad.net/horizon/" style="color:rgb(202,0,0); text-decoration:none">https://launchpad.net/horizon/</a><br>
<a href="https://launchpad.net/swift/" style="color:rgb(202,0,0); text-decoration:none">https://launchpad.net/swift/</a><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
我的文件夹结构如下：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc install]$ ls -l<br>
total 5984<br>
-rw-r--r--. 1 ugyn ugyn&nbsp; 298898 Apr&nbsp; 8 14:18 glance-2012.1.tar.gz<br>
-rw-r--r--. 1 ugyn ugyn&nbsp; 606289 Apr 10 19:15 horizon-2012.1.tar.gz<br>
-rw-r--r--. 1 ugyn ugyn&nbsp; 186851 Apr 10 19:15 keystone-2012.1.tar.gz<br>
-rw-r--r--. 1 ugyn ugyn 4359338 Apr&nbsp; 8 14:15 nova-2012.1.tar.gz<br>
-rw-r--r--. 1 ugyn ugyn&nbsp;&nbsp; 95197 Mar 27 18:26 pip-1.1.tar.gz<br>
-rw-r--r--. 1 ugyn ugyn&nbsp;&nbsp; 48335 Apr 10 19:15 python-keystoneclient-2012.1.tar.gz<br>
-rw-r--r--. 1 ugyn ugyn&nbsp;&nbsp; 85322 Apr&nbsp; 8 14:16 python-novaclient-2012.1.tar.gz<br>
-rw-r--r--. 1 ugyn ugyn&nbsp; 421496 Apr&nbsp; 8 14:20 swift-1.4.8.tar.gz<br>
-rw-r--r--. 1 ugyn ugyn&nbsp;&nbsp;&nbsp;&nbsp; 202 Apr 13 16:10 test<br>
<br>
解压：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc install]$ tar zxpf keystone-2012.1.tar.gz<br>
[ugyn@cc install]$ tar zxpf glance-2012.1.tar.gz<br>
[ugyn@cc install]$ tar zxpf nova-2012.1.tar.gz<br>
[ugyn@cc install]$ tar zxpf python-novaclient-2012.1.tar.gz<br>
[ugyn@cc install]$ tar zxpf python-keystoneclient-2012.1.tar.gz<br>
[ugyn@cc install]$ tar zxpf horizon-2012.1.tar.gz<br>
[ugyn@cc install]$ tar zxpf swift-1.4.8.tar.gz<br>
<br>
<strong>2.安装pip：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
pip是一个安装python库的好工具，总的来说源代码安装OpenStack还是比较简单的，每个组件具有类&#20284;的结构，在各个安装包下有个tools/pip-requires文件，列举了该组件所依赖的python库，因此安装该组件前先要用pip安装所依赖的python库。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
下载pip:&nbsp;<a href="http://pypi.python.org/packages/source/p/pip/pip-1.1.tar.gz#md5=62a9f08dd5dc69d76734568a6c040508" style="color:rgb(202,0,0); text-decoration:none">http://pypi.python.org/packages/source/p/pip/pip-1.1.tar.gz#md5=62a9f08dd5dc69d76734568a6c040508</a><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
安装：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc install]$ tar zxpf pip-1.1.tar.gz<br>
[ugyn@cc install]$ cd pip-1.1 &amp;&amp; sudo python setup.py install<br>
<br>
<strong>3.整合pip-requires文件下载相关python库文件：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
我的目标是即使在没有网络的环境下也能安装OpenStack，所以我希望把所有相关库文件下载下来然后通过本地安装。为此我打算把各组件的pip-requires文件整合到一个文件，去除其中的重复部分，然后用pip工具下载所有库文件，我会提供一个所有文件的下载，如果你使用我提供的下载文件的话就可以跳过这步。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc pip-1.1]$ cd ..<br>
[ugyn@cc install]$ cat keystone-2012.1/tools/pip-requires glance-2012.1/tools/pip-requires nova-2012.1/tools/pip-requires horizon-2012.1/tools/pip-requires python-novaclient-2012.1/tools/pip-requires python-keystoneclient-2012.1/tools/pip-requires | grep &quot;^[a-zA-Z]&quot;
 | sort -u &gt; pip-requires</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
编辑pip-requires去除重复的库，原则上重复的库只留下满足要求的版本号最确定的那一个，去除我们要在这里安装的glance，swift等我们要在这里安装的组件。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
下载依赖包以供多次使用：<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc install]$ mkdir pipdowns<br>
[ugyn@cc install]$ pip install -r pip-requires -d pipdowns --no-install<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>4.安装依赖库文件：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
以下几个要先安装，因为有其它库的安装依赖于他们<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc install]$ sudo pip install ./pipdowns/Markdown-2.1.1.tar.gz ./pipdowns/nose-1.1.2.tar.gz ./pipdowns/pycrypto-2.3.tar.gz ./pipdowns/six-1.1.0.tar.gz&nbsp; ./pipdowns/Tempita-0.5.1.tar.gz&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
安装其它库：<br>
[ugyn@cc install]$ sudo pip install ./pipdowns/*</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
测试是否已全部安装好，这是我自己写的简单脚本，没有输入即表示正常，否则会显示未安装的库名，到时候我会将所有软件打包供大家下载，我的目标是在完全没有网络的机器上也能正常安装OpenStack<br>
[ugyn@cc install]$ ./test</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>5.安装各组件：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc install]$ cd keystone-2012.1 &amp;&amp; sudo python setup.py install<br>
[ugyn@cc keystone-2012.1]$ cd ../glance-2012.1 &amp;&amp; sudo python setup.py install<br>
[ugyn@cc glance-2012.1]$ cd ../nova-2012.1 &amp;&amp; sudo python setup.py install<br>
[ugyn@cc nova-2012.1]$ cd ../python-novaclient-2012.1 &amp;&amp; sudo python setup.py install<br>
[ugyn@cc python-novaclient-2012.1]$ cd ../python-keystoneclient-2012.1 &amp;&amp; sudo python setup.py install<br>
[ugyn@cc python-keystoneclient-2012.1]$ cd ../horizon-2012.1 &amp;&amp; sudo python setup.py install<br>
[ugyn@cc horizon-2012.1]$ cd ../swift-1.4.8 &amp;&amp; sudo python setup.py install<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
安装到这里就结束了，接下来我将介绍各组件的配置，运行，测试。。。</p>
<br>
<p></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>这篇文章与我前面写的安装keystone有很大部分是相同，如果你看过前面的那篇文章这里略读主可以了<br>
</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.配置</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
也可参考：<a href="http://docs.openstack.org/trunk/openstack-compute/install/content/keystone-conf-file.html" style="color:rgb(202,0,0); text-decoration:none">http://docs.openstack.org/trunk/openstack-compute/install/content/keystone-conf-file.html</a>进行配置<br>
</p>
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">1.1拷贝默认配置文件：</span><br style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">[ugyn@cc swift-1.4.8]$ cd ../keystone-2012.1 &amp;&amp; sudo cp -R etc /etc/keystone</span><br style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc keystone-2012.1]$ sudo chown -R ugyn:ugyn /etc/keystone</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc keystone-2012.1]$ mv /etc/keystone/logging.conf.sample /etc/keystone/logging.conf</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
1.2修改/etc/keystone/keystone.conf：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
生成随机token：<br>
[ugyn@cc keystone-2012.1]$ openssl rand -hex 10<br>
7d97448231c0a2bac8a3<br>
[ugyn@cc keystone-2012.1]$ vim /etc/keystone/keystone.conf&nbsp;<br>
将生成的token替换admin_token的&#20540;<br>
修改：#log_config = ./etc/logging.conf.sample<br>
为：<br>
log_config = /etc/keystone/logging.conf<br>
<br>
修改：<br>
[sql]<br>
connection = sqlite:///keystone.db<br>
idle_timeout = 200<br>
为：<br>
[sql]<br>
connection = mysql://keystone:keystone@localhost/keystone<br>
idle_timeout = 200<br>
min_pool_size = 5<br>
max_pool_size = 10<br>
pool_timeout = 200<br>
<br>
修改：<br>
[catalog]<br>
driver = keystone.catalog.backends.templated.TemplatedCatalog<br>
template_file = ./etc/default_catalog.templates<br>
为：<br>
[catalog]<br>
driver = keystone.catalog.backends.sql.Catalog<br>
<br>
修改：<br>
[token]<br>
driver = keystone.token.backends.kvs.Tokens<br>
为：<br>
[token]<br>
driver = keystone.token.backends.sql.Token<br>
<br>
修改：<br>
[ec2]<br>
driver = keystone.contrib.ec2.backends.kvs.Ec2<br>
为：<br>
[ec2]<br>
driver = keystone.contrib.ec2.backends.sql.Ec2<br>
<br>
便于运行客户端命令创建以下文件并运行：<br>
export SERVICE_TOKEN=7d97448231c0a2bac8a3<br>
export SERVICE_ENDPOINT=http://127.0.0.1:35357/v2.0<br>
export OS_USERNAME=nova<br>
export OS_PASSWORD=service123<br>
export OS_TENANT_NAME=service<br>
export OS_AUTH_URL=http://127.0.0.1:5000/v2.0<br>
说明：这里的用户数据是在下面2.3中脚本创建的，当设置了SERVICE_TOKEN、SERVICE_ENDPOINT可以运行任何的keystone命令，因此须小心<br>
运行:<br>
[ugyn@cc keystone-2012.1]$ source ~/.openstackrc&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2.运行</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
2.1第一次运行时需创建数据表：<br>
[ugyn@cc keystone-2012.1]$ keystone-manage db_sync</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
2.2运行keystone:<br>
请新开一个终端或在后台运行<br>
[ugyn@cc Desktop]$ keystone-all</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
2.3创建初始tenants、users、roles、services、endpoints：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
修改tools/sample_data.sh，在文件开头添加以下内容：<br>
[ugyn@cc keystone-2012.1]$ vim tools/sample_data.sh&nbsp;<br>
<br>
#设置管理密码：<br>
ADMIN_PASSWORD=admin123<br>
#设置服务密码：<br>
SERVICE_PASSWORD=service123<br>
#要创建endpoint，请添加：<br>
ENABLE_ENDPOINTS=ture<br>
#要创建与swif相关的user,service：<br>
ENABLE_SWIFT=ture<br>
#要创建与quantum相关的user,service，添加：<br>
#ENABLE_QUANTUM=ture</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
运行创建脚本：<br>
[ugyn@cc keystone-2012.1]$ sudo tools/sample_data.sh&nbsp;<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>3.测试</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
3.1查看刚才创建的用户<br>
[ugyn@cc keystone-2012.1]$ keystone user-list<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img src="http://my.csdn.net/uploads/201204/19/1334840279_3371.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
3.2查看刚才创建的tenant<br>
[ugyn@cc keystone-2012.1]$ keystone tenant-list</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img src="http://my.csdn.net/uploads/201204/19/1334840402_6292.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
更多的操作请运行以下命令并自己测试<br>
[ugyn@cc keystone-2012.1]$ keystone help</p>
<br>
<p><br>
</p>
<p><br>
</p>
<p></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
本文与前面所写的一篇关于glance的安装配置文章大部分是重复的，如果已经看过前面的那一篇，此篇略读即可</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.配置</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
1.1拷贝默认配置文件：<br>
[ugyn@cc keystone-2012.1]$ cd ../glance-2012.1 &amp;&amp; sudo cp -R etc /etc/glance<br>
[ugyn@cc glance-2012.1]$ sudo chown -R ugyn:ugyn /etc/glance</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
1.2配置glance使用keystone认证：<br>
更新/etc/glance/glance-api-paste.ini的以下选项为keystone中的设置&#20540;：<br>
[filter:authtoken]<br>
admin_tenant_name = service<br>
admin_user = glance<br>
admin_password = service123<br>
在/etc/glance/glance-api.conf尾添加：<br>
[paste_deploy]<br>
flavor = keystone<br>
更新/etc/glance/glance-registry-paste.ini的以下选项为keystone中的设置&#20540;<br>
[filter:authtoken]<br>
admin_tenant_name = service<br>
admin_user = glance<br>
admin_password = service123<br>
在/etc/glance/glance-registry.conf尾添加：<br>
[paste_deploy]<br>
flavor = keystone</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
1.3设置glance的mysql连接：<br>
修改/etc/glance/glance-registry.conf下的<br>
sql_connection = mysql://glance:glance@localhost/glance</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
1.4配置glance的通信服务器：<br>
修改/etc/glance/glance-api.conf下的：<br>
notifier_strategy = noop<br>
为：<br>
notifier_strategy = rabbit<br>
rabbit_password = guest<br>
为：<br>
rabbit_password = service123<br>
<span style="color:rgb(255,0,0)">现在我采用qpid作为通信服务器，设置notifier_strategy = qpid，其它qpid选项没做修改</span><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
1.5配置glance的存储：<br>
在这里先不做修改了，采用默认的文件存取，以后配置好swift后再改</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
1.6创建目录：<br>
[ugyn@cc glance-2012.1]$ sudo mkdir /var/log/glance<br>
[ugyn@cc glance-2012.1]$ sudo mkdir /var/lib/glance<br>
[ugyn@cc glance-2012.1]$ sudo chown -R ugyn:ugyn /var/log/glance<br>
[ugyn@cc glance-2012.1]$ sudo chown -R ugyn:ugyn /var/lib/glance</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2.运行</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc glance-2012.1]$ sudo glance-control all start<br>
将start换成restart、stop即可重启、关闭glance</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>3.测试</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
3.1境像上传：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
下载境像：<a href="http://smoser.brickies.net/ubuntu/ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1.tar.gz" style="color:rgb(202,0,0); text-decoration:none">http://smoser.brickies.net/ubuntu/ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1.tar.gz</a><br>
</p>
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">解压：</span><br style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">[ugyn@cc glance-2012.1]$ cd ~/image</span><br style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc image]$ tar xzvf ttylinux-uec-amd64-12.1_2.6.35-22_1.tar.gz&nbsp;<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
上传kernel:<br>
[ugyn@cc image]$ glance add name=&quot;tty-linux-kernel&quot; disk_format=aki container_format=aki &lt; ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz<br>
输出：<br>
Uploading image 'tty-linux-kernel'<br>
===============================================================================================[100%] 13.9M/s, ETA&nbsp; 0h&nbsp; 0m&nbsp; 0s<br>
Added new image with ID: d83d5227-64ba-4541-adce-4c5442d9eecc<br>
上传initrd：<br>
[ugyn@cc image]$ glance add name=&quot;tty-linux-ramdisk&quot; disk_format=ari container_format=ari &lt; ttylinux-uec-amd64-12.1_2.6.35-22_1-loader<br>
输出：<br>
Uploading image 'tty-linux-ramdisk'<br>
=========================================================================================[100%] 935.456035K/s, ETA&nbsp; 0h&nbsp; 0m&nbsp; 0s<br>
Added new image with ID: b7b783f9-7007-453b-9236-242765136898<br>
上传image：注意这里的kernel_id各ramdisk_id是前面两步上传生成的id<br>
[ugyn@cc image]$ glance add name=&quot;tty-linux&quot; disk_format=ami container_format=ami kernel_id=d83d5227-64ba-4541-adce-4c5442d9eecc ramdisk_id=b7b783f9-7007-453b-9236-242765136898 &lt; ttylinux-uec-amd64-12.1_2.6.35-22_1.img<br>
输出：<br>
Uploading image 'tty-linux'<br>
===============================================================================================[100%] 79.6M/s, ETA&nbsp; 0h&nbsp; 0m&nbsp; 0s<br>
Added new image with ID: fbd05c73-7bea-4af6-a0d5-9c7581569792</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
3.2查看上传的镜像：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img src="http://my.csdn.net/uploads/201204/20/1334888007_4984.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
glance的其它操作请查看请通过命令glance --help</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
好了，glance就说到这，接下来我将说说nova的配置、运行、测试，在实验过程中遇到了各种错误，好在最后还是把它跑起来了，说完这个后我将把相关文件整理下，上传到csdn供大家下载使用</p>
<br>
<p><br>
</p>
<p></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:24px"><strong>.配置</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.1复制默认配置文件：</strong><br>
[ugyn@cc image]$ cd ~/install/nova-2012.1<br>
[ugyn@cc nova-2012.1]$ sudo cp -R etc/nova /etc/nova<br>
[ugyn@cc nova-2012.1]$ sudo chown -R ugyn:ugyn /etc/nova</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.2创建/etc/nova/nova.conf</strong><br>
将http://docs.openstack.org/trunk/openstack-compute/install/content/nova-conf-file.html配置内容复制进来并修改相关选项<br>
我的nova.conf内容如下：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[DEFAULT]<br>
# LOGS/STATE<br>
verbose=True<br>
<br>
# AUTHENTICATION<br>
auth_strategy=keystone<br>
<br>
# SCHEDULER<br>
compute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler<br>
<br>
# VOLUMES<br>
volume_group=nova-volumes<br>
volume_name_template=volume-%08x<br>
iscsi_helper=tgtadm<br>
<br>
# DATABASE<br>
sql_connection=mysql://nova:nova@10.17.23.95/nova<br>
<br>
# COMPUTE<br>
libvirt_type=kvm<br>
connection_type=libvirt<br>
instances_path=/home/ugyn/instances<br>
instance_name_template=instance-%08x<br>
api_paste_config=/etc/nova/api-paste.ini<br>
allow_resize_to_same_host=True<br>
<br>
# APIS<br>
osapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions<br>
ec2_dmz_host=10.17.23.95<br>
s3_host=10.17.23.95<br>
<br>
# RABBITMQ<br>
rabbit_host=10.17.23.95<br>
rabbit_userid=guest<br>
rabbit_password=service123<br>
<br>
# GLANCE<br>
image_service=nova.image.glance.GlanceImageService<br>
glance_api_servers=10.17.23.95:9292<br>
<br>
# NETWORK<br>
network_manager=nova.network.manager.FlatDHCPManager<br>
force_dhcp_release=True<br>
dhcpbridge_flagfile=/etc/nova/nova.conf<br>
firewall_driver=nova.virt.libvirt.firewall.IptablesFirewallDriver<br>
my_ip=10.17.23.95<br>
public_interface=br100<br>
vlan_interface=eth0<br>
flat_network_bridge=br100<br>
flat_interface=eth0<br>
fixed_range=10.0.0.0/24<br>
<br>
# NOVNC CONSOLE<br>
novncproxy_base_url=http://10.17.23.95:6080/vnc_auto.html<br>
xvpvncproxy_base_url=http://10.17.23.95:6081/console<br>
vncserver_proxyclient_address=127.0.0.1<br>
vncserver_listen=127.0.0.1<br>
<br>
bindir=/usr/bin</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
除了一般的修改外，我还加了两个参数instances_path我把这个设到我的个人文件夹来了，bindir这个很重要，否则启动nova-network时会有问题。<br>
创建该文件夹：[ugyn@cc nova-2012.1]$ mkdir ~/instances<br>
<span style="color:rgb(255,0,0)">nova默认采用rabbitmq作为通信服务器，如果要用qpid，请把RABBITMQ相关选项替换成如下：<br>
#QPID<br>
<tt class="backtick">rpc_backend=nova.rpc.impl_qpid</tt><br>
qpid的其它选项我这里保持默认，如果要设置请参考示例配置文件以下内容：</span><br>
</p>
<pre style="white-space:pre-wrap; word-wrap:break-word; font-size:14px; line-height:26px; text-align:left; background-color:rgb(255,255,255)"><div class="line" id="LC939">###### (IntOpt) Seconds between connection keepalive heartbeats</div><div class="line" id="LC940"># qpid_heartbeat=5</div><div class="line" id="LC941">###### (StrOpt) Qpid broker hostname</div><div class="line" id="LC942"># qpid_hostname=&quot;localhost&quot;</div><div class="line" id="LC943">###### (StrOpt) Password for qpid connection</div><div class="line" id="LC944"># qpid_password=&quot;&quot;</div><div class="line" id="LC945">###### (StrOpt) Qpid broker port</div><div class="line" id="LC946"># qpid_port=&quot;5672&quot;</div><div class="line" id="LC947">###### (StrOpt) Transport to use, either 'tcp' or 'ssl'</div><div class="line" id="LC948"># qpid_protocol=&quot;tcp&quot;</div><div class="line" id="LC949">###### (BoolOpt) Automatically reconnect</div><div class="line" id="LC950"># qpid_reconnect=true</div><div class="line" id="LC951">###### (IntOpt) Equivalent to setting max and min to the same value</div><div class="line" id="LC952"># qpid_reconnect_interval=0</div><div class="line" id="LC953">###### (IntOpt) Maximum seconds between reconnection attempts</div><div class="line" id="LC954"># qpid_reconnect_interval_max=0</div><div class="line" id="LC955">###### (IntOpt) Minimum seconds between reconnection attempts</div><div class="line" id="LC956"># qpid_reconnect_interval_min=0</div><div class="line" id="LC957">###### (IntOpt) Max reconnections before giving up</div><div class="line" id="LC958"># qpid_reconnect_limit=0</div><div class="line" id="LC959">###### (IntOpt) Reconnection timeout in seconds</div><div class="line" id="LC960"># qpid_reconnect_timeout=0</div><div class="line" id="LC961">###### (StrOpt) Space separated list of SASL mechanisms to use for auth</div><div class="line" id="LC962"># qpid_sasl_mechanisms=&quot;&quot;</div><div class="line" id="LC963">###### (BoolOpt) Disable Nagle algorithm</div><div class="line" id="LC964"># qpid_tcp_nodelay=true</div><div class="line" id="LC965">###### (StrOpt) Username for qpid connection</div><div class="line" id="LC966"># qpid_username=&quot;&quot;</div></pre>
<br style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.3配置nova的keystone认证：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc nova-2012.1]$ vim /etc/nova/api-paste.ini&nbsp;<br>
修改：<br>
admin_tenant_name = %SERVICE_TENANT_NAME%<br>
admin_user = %SERVICE_USER%<br>
admin_password = %SERVICE_PASSWORD%<br>
为：<br>
admin_tenant_name = service<br>
admin_user = nova<br>
admin_password = service123</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.4创建存储卷：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc nova-2012.1]$ mkdir /home/ugyn/novaimages<br>
[ugyn@cc nova-2012.1]$ dd if=/dev/zero of=/home/ugyn/novaimages/nova-volumes.img bs=1M seek=100k count=0<br>
[ugyn@cc nova-2012.1]$ sudo vgcreate nova-volumes $(sudo losetup --show -f /home/ugyn/novaimages/nova-volumes.img)<br>
<br>
<strong>1.5初始化数据库：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[ugyn@cc nova-2012.1]$ nova-manage db sync</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(255,0,0)"><strong>1.6解决启动nova-network、nova-volume出现timeout错误：</strong><br>
<a href="https://lists.launchpad.net/openstack/msg02565.html" style="color:rgb(202,0,0); text-decoration:none">https://lists.launchpad.net/openstack/msg02565.html</a></span><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong><span style="font-size:18px">2运行</span></strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
先在每个新开终端运行nova-api、nova-cert、nova-compute、nova-network、nova-objectstore、nova-scheluder、nova-volume查看各程序是否正常运行，确定正常后可以关闭各程序，通过nova-all启动以上各个程序。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong><span style="font-size:18px">3.测试</span></strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>3.1查看各服务状态：</strong><br>
[ugyn@cc nova-2012.1]$ nova-manage service list<br>
2012-04-20 17:11:26 DEBUG nova.utils [req-12fde12c-11e2-4861-8e53-03af10832e4b None None] backend &lt;module 'nova.db.sqlalchemy.api' from<br>
<br>
'/usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/db/sqlalchemy/api.pyc'&gt; from (pid=1095) __get_backend /usr/lib/python2.6/site-<br>
<br>
packages/nova-2012.1-py2.6.egg/nova/utils.py:658<br>
2012-04-20 17:11:26 WARNING nova.utils [req-12fde12c-11e2-4861-8e53-03af10832e4b None None] /usr/lib64/python2.6/site-<br>
<br>
packages/sqlalchemy/pool.py:681: SADeprecationWarning: The 'listeners' argument to Pool (and create_engine()) is deprecated.&nbsp; Use event.listen<br>
<br>
().<br>
&nbsp; Pool.__init__(self, creator, **kw)<br>
<br>
2012-04-20 17:11:26 WARNING nova.utils [req-12fde12c-11e2-4861-8e53-03af10832e4b None None] /usr/lib64/python2.6/site-<br>
<br>
packages/sqlalchemy/pool.py:159: SADeprecationWarning: Pool.add_listener is deprecated.&nbsp; Use event.listen()<br>
&nbsp; self.add_listener(l)<br>
<br>
Binary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Zone&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status&nbsp;&nbsp;&nbsp;&nbsp; State Updated_At<br>
nova-cert&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cc.sigsit.org&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp; :-)&nbsp;&nbsp; 2012-04-20 09:11:24<br>
nova-compute&nbsp;&nbsp;&nbsp;&nbsp; cc.sigsit.org&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp; :-)&nbsp;&nbsp; 2012-04-20 09:11:22<br>
nova-network&nbsp;&nbsp;&nbsp;&nbsp; cc.sigsit.org&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp; :-)&nbsp;&nbsp; 2012-04-20 09:11:23<br>
nova-scheduler&nbsp;&nbsp; cc.sigsit.org&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp; :-)&nbsp;&nbsp; 2012-04-20 09:11:23<br>
nova-volume&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cc.sigsit.org&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp; :-)&nbsp;&nbsp; 2012-04-20 09:11:21<br>
<br>
注意：:-)表示正在运行；XXX表示服务启动时出错已停止；如果服务从未正常启动过则不会出现在这里</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>3.2创建网络：</strong><br>
[ugyn@cc nova-2012.1]$ nova-manage network create private 10.0.0.0/24 1 256 --bridge=br100</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>3.3查看信息：</strong><br>
<img src="http://my.csdn.net/uploads/201204/22/1335059097_2651.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
更多信息请运行nova help查看相关命令</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>3.4启动一个实例：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
创建密钥：<br>
ugyn@cc nova-2012.1]$ cd<br>
请先关闭selinux，否则无法创建密钥，方法如下：<br>
[ugyn@cc ~]$ sudo vim /etc/sysconfig/selinux&nbsp;<br>
修改：SELINUX=disabled<br>
不想重启执行以下命令：<br>
[ugyn@cc ~]$ sudo setenforce 0<br>
<br>
[ugyn@cc ~]$ nova keypair-add mykey &gt; oskey.priv<br>
[ugyn@cc ~]$ chmod 600 oskey.priv<br>
创建实例：<br>
[ugyn@cc ~]$ nova boot myserver --flavor 1 --key_name mykey --image tty-linux<br>
<img src="http://my.csdn.net/uploads/201204/22/1335061334_5131.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
可通过nova show myserver或nova list 查看实例状态，当实例状态为active时可通过ssh连接了。<br>
<img src="http://my.csdn.net/uploads/201204/22/1335061383_9114.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
通过ssh登录实例：<br>
[ugyn@cc ~]$ ssh -i oskey.priv root@10.0.0.2<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img src="http://my.csdn.net/uploads/201204/22/1335061574_3311.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
查看实例日志：<br>
[ugyn@cc ~]$ nova console-log myserver<br>
删除实例：<br>
[ugyn@cc ~]$ nova delete myserver<br>
触认是否删除：<br>
[ugyn@cc ~]$ nova list</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><span style="font-family:SimSun"><span style="font-size:12px">更新：5月4日；添加noVNC的配置</span></span><strong><span style="font-family:SimSun"><br>
</span></strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong><span style="font-family:SimSun"></span>1配置</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.1创建配置文件：</strong><br>
[ugyn@cc ~]$ vim install/horizon-2012.1/openstack_dashboard/local/local_settings.py<br>
将<a href="http://docs.openstack.org/trunk/openstack-compute/install/content/local-settings-py-file.html" style="color:rgb(202,0,0); text-decoration:none">http://docs.openstack.org/trunk/openstack-compute/install/content/local-settings-py-file.html</a>示例配置文件拷入其中，修改数据库信息，在USE_SSL
 = False下添加一行：<br>
SECRET_KEY = 'elj1IWiLoWHgcyYxVLj7cMrGOxWl0'随意修改部分字符即可。<br>
将该文件拷贝一份到horizon安装目录：<br>
[ugyn@cc ~]$ sudo cp install/horizon-2012.1/openstack_dashboard/local/local_settings.py /usr/lib/python2.6/site-packages/horizon-2012.1-py2.6.<br>
egg/openstack_dashboard/local/local_settings.py<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.2为httpd创建horizon配置文件</strong><br>
[ugyn@cc ~]$ sudo vim /etc/httpd/conf.d/horizon.conf<br>
内容如下：</p>
<div class="dp-highlighter bg_plain" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1117px; overflow-x:auto; overflow-y:auto; margin-top:18px!important; margin-right:0px!important; margin-bottom:18px!important; margin-left:0px!important; padding-top:1px; line-height:26px; text-align:left">
<div class="bar" style="padding-left:45px">
<div class="tools" style="padding-top:3px; padding-right:8px; padding-left:10px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); padding-bottom:10px; border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">
<strong>[plain]</strong>&nbsp;<a href="http://blog.csdn.net/ugyn109/article/details/7487537#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; padding-top:1px; padding-right:1px; padding-bottom:1px; padding-left:1px; margin-top:0px; margin-right:10px; margin-bottom:0px; margin-left:0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">view
 plain</a><a href="http://blog.csdn.net/ugyn109/article/details/7487537#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; padding-top:1px; padding-right:1px; padding-bottom:1px; padding-left:1px; margin-top:0px; margin-right:10px; margin-bottom:0px; margin-left:0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a>
<div style="position:absolute; left:386px; top:758px; width:18px; height:18px; z-index:99">
</div>
</div>
</div>
<ol start="1" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:1px!important; margin-left:45px!important; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92)">
<li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit"><span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; background-color:inherit">&lt;VirtualHost&nbsp;*:80&gt;&nbsp;&nbsp;</span></span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;WSGIScriptAlias&nbsp;/&nbsp;/usr/lib/python2.6/site-packages/horizon-2012.1-py2.6.egg/openstack_dashboard/wsgi/django.wsgi&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;WSGIDaemonProcess&nbsp;horizon&nbsp;user=apache&nbsp;group=apache&nbsp;processes=3&nbsp;threads=10&nbsp;home=/usr/lib/python2.6/site-packages/horizon-2012.1-py2.6.egg&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;SetEnv&nbsp;APACHE_RUN_USER&nbsp;apache&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;SetEnv&nbsp;APACHE_RUN_GROUP&nbsp;apache&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;WSGIProcessGroup&nbsp;horizon&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;/usr/lib/python2.6/site-packages/horizon-2012.1-py2.6.egg/.blackhole/&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;Alias&nbsp;/media&nbsp;/usr/lib/python2.6/site-packages/horizon-2012.1-py2.6.egg/openstack_dashboard/static&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&lt;Directory&nbsp;/&gt;&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;FollowSymLinks&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;None&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Directory&gt;&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&lt;Directory&nbsp;/usr/lib/python2.6/site-packages/horizon-2012.1-py2.6.egg/&gt;&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;MultiViews&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;None&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow,deny&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow&nbsp;from&nbsp;all&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Directory&gt;&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;ErrorLog&nbsp;/var/log/httpd/horizon_error.log&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;LogLevel&nbsp;warn&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;CustomLog&nbsp;/var/log/httpd/horizon_access.log&nbsp;combined&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&lt;/VirtualHost&gt;&nbsp;&nbsp;</span></li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; padding-top:0px!important; padding-right:3px!important; padding-bottom:0px!important; padding-left:10px!important; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:solid; border-width:initial; border-color:initial; list-style-type:decimal-leading-zero; list-style-position:outside!important; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px">
<span style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; color:black; background-color:inherit">WSGISocketPrefix&nbsp;/var/run/httpd&nbsp;&nbsp;</span></li></ol>
</div>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
创建目录：mkdir /usr/lib/python2.6/site-packages/horizon-2012.1-py2.6.egg/.blackhole<strong></strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>1.3初始化数据库：</strong><br>
[ugyn@cc ~]$ install/horizon-2012.1/manage.py syncdb<br>
DEBUG:openstack_dashboard.settings:Running in debug mode without debug_toolbar.<br>
/usr/lib/python2.6/site-packages/django/conf/__init__.py:75: DeprecationWarning: The ADMIN_MEDIA_PREFIX setting has been removed; use STATIC_URL instead.<br>
&nbsp; &quot;use STATIC_URL instead.&quot;, DeprecationWarning)<br>
/usr/lib/python2.6/site-packages/django/conf/__init__.py:110: DeprecationWarning: The SECRET_KEY setting must not be empty.<br>
&nbsp; warnings.warn(&quot;The SECRET_KEY setting must not be empty.&quot;, DeprecationWarning)<br>
/usr/lib/python2.6/site-packages/django/utils/translation/__init__.py:63: DeprecationWarning: Translations in the project directory aren't supported anymore. Use the LOCALE_PATHS setting instead.<br>
&nbsp; DeprecationWarning)<br>
/usr/lib/python2.6/site-packages/django/core/cache/__init__.py:82: DeprecationWarning: settings.CACHE_* is deprecated; use settings.CACHES instead.<br>
&nbsp; DeprecationWarning<br>
/usr/lib/python2.6/site-packages/nose/plugins/manager.py:405: UserWarning: Module wsgiref was already imported from /usr/lib64/python2.6/wsgiref/__init__.pyc, but /usr/lib/python2.6/site-packages is being added to sys.path<br>
&nbsp; import pkg_resources<br>
DEBUG:nose.plugins.manager:DefaultPluginManager load plugin xcover = nosexcover:XCoverage<br>
DEBUG:django.db.backends:(0.000) SHOW TABLES; args=()<br>
Creating tables ...<br>
Creating table django_session<br>
DEBUG:django.db.backends:(0.096) CREATE TABLE `django_session` (<br>
&nbsp;&nbsp;&nbsp; `session_key` varchar(40) NOT NULL PRIMARY KEY,<br>
&nbsp;&nbsp;&nbsp; `session_data` longtext NOT NULL,<br>
&nbsp;&nbsp;&nbsp; `expire_date` datetime NOT NULL<br>
)<br>
;; args=()<br>
Installing custom SQL ...<br>
Installing indexes ...<br>
DEBUG:django.db.backends:(0.176) CREATE INDEX `django_session_c25c2c28` ON `django_session` (`expire_date`);; args=()<br>
DEBUG:django.db.backends:(0.000) SET foreign_key_checks=0; args=()<br>
DEBUG:django.db.backends:(0.000) SET foreign_key_checks=1; args=()<br>
Installed 0 object(s) from 0 fixture(s)<br>
<br>
<span style="font-size:18px"><strong>2运行</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
重启httpd<br>
[ugyn@cc ~]$ sudo service httpd restart<br>
Stopping httpd:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; OK&nbsp; ]<br>
Starting httpd: Warning: DocumentRoot [/usr/lib/python2.6/site-packages/horizon-2012.1-py2.6.egg/.blackhole/] does not exist<br>
httpd: apr_sockaddr_info_get() failed for cc.sigsit.org<br>
httpd: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; OK&nbsp; ]<br>
关闭nova-api并重新运行<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>3测试</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>登录界面：</strong><br>
<img alt="" src="http://my.csdn.net/uploads/201204/22/1335101377_4346.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
<strong>镜像列表：</strong><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201204/22/1335101452_6678.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>创建实例：</strong><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201204/22/1335101518_7192.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>4配置noVNC</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
参考文档：<a href="http://docs.openstack.org/trunk/openstack-compute/install/content/ch_install-dashboard.html" style="color:rgb(202,0,0); text-decoration:none">http://docs.openstack.org/trunk/openstack-compute/install/content/ch_install-dashboard.html</a><strong><br>
</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>4.1配置</strong><br>
vnc的配置在nova.conf文件中，在文件的后面已经添加了以下内容：<br>
# NOVNC CONSOLE<br>
novncproxy_base_url=http://10.61.2.88:6080/vnc_auto.html<br>
xvpvncproxy_base_url=http://10.61.2.88:6081/console<br>
vncserver_proxyclient_address=10.61.2.88<br>
vncserver_listen=10.61.2.88</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
这里vncserver_listen的&#20540;在计算节点上时应配置成计算节点的ip，不然会报错libvirtError: operation failed: failed to retrieve chardev info in qemu with 'info chardev'而无法启动实例。<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>4.2启动nova-consoleauth</strong><br>
noVNC要通过nova-consoleauth来进行token的验证，且nova-all不启动nova-consoleauth，因此我们得另外启动nova-consoleauth</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>4.3安装noVNC代理</strong><br>
essex版不包含nova-novncproxy，我们得自己下载安装<br>
地址：<a href="https://github.com/cloudbuilders/noVNC" style="color:rgb(202,0,0); text-decoration:none">https://github.com/cloudbuilders/noVNC</a><br>
解压至：/var/lib/noVNC<br>
请确定已经安装了numpy，如果没有请运行：<br>
sudo yum --enablerepo=iso --disablerepo=base,updates,extras install numpy<br>
进入目录：/var/lib/noVNC<br>
运行：utils/nova-novncproxy --flagfile=/etc/nova/nova.conf</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
&nbsp;这里一定要进行目录/var/lib/noVNC，运行时会当前目录做为根目录，否则路径就不对了<br>
</p>
<img alt="" src="http://my.csdn.net/uploads/201205/04/1336098663_1643.jpg" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; font-family:Arial; font-size:14px; line-height:26px; text-align:left"><br style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">这样就可以了，但在 我这里的运行结果并不理想，有时候就只有一个黑框看不到东西，有时能看到内容，但无法鼠标，键盘输入</span><br>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"><a href="http://blog.csdn.net/ugyn109/article/details/7532836" style="color:rgb(102,102,102); text-decoration:none; font-family:'Microsoft YaHei'; font-size:20px; line-height:30px; text-align:left">（七）安装配置计算节点</a><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(255,0,0)">更新：5月4日；添加与计算节点相关的软件</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong><span style="color:rgb(255,0,0)">更新：9月25日；发现编译的qemu不兼容，详细说明见<a href="http://blog.csdn.net/ugyn109/article/details/7532836" target="_blank" style="color:rgb(202,0,0); text-decoration:none">CentOS6.2下一步一步源代码安装OpenStack（七）安装配置计算节点</a></span><br>
</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>下载下地：</strong><br>
<a href="http://download.csdn.net/detail/ugyn109/4258774" style="color:rgb(202,0,0); text-decoration:none">http://download.csdn.net/detail/ugyn109/4258774（请选择下面的更新版，如果已经下载过这一版本，可以只下载单独的noderpms软件）</a></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>更新版下载地址：<br>
</strong><a href="http://dl.dbank.com/c0gqi1js82" style="color:rgb(202,0,0); text-decoration:none"></a><a href="http://download.csdn.net/detail/ugyn109/4276300" style="color:rgb(202,0,0); text-decoration:none">http://download.csdn.net/detail/ugyn109/4276300</a><strong><br>
</strong>主要添加了安装计算节点所需的qemu相关包（我把它们放在了noderpms文件夹下）及noVNC软件<br>
另外避免重复下载，我将noderpms分离出来单独提供下载：<strong><br>
</strong><a href="http://download.csdn.net/detail/ugyn109/4275380" style="color:rgb(202,0,0); text-decoration:none">http://download.csdn.net/detail/ugyn109/4275380</a><strong><br>
<br>
</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>目标：</strong><br>
提供在完成没有网络环境下均安装整套OpenStack所需的全部软件</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>说明：</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
该下载包包含下列软件<br>
<img src="http://my.csdn.net/uploads/201204/26/1335442158_7475.png" alt="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
其中<br>
etc——包含我现在正常运行软件的所有配置文件<br>
pipsowns——各组件所依赖的所有python库软件<br>
rpms——所依赖的epel源中的三个软件，这里没有包含rabbitmq及其依赖的包，如果你打算使用rabbitmq而不是qpid做为AMQP通信服务器的请自行参照我的文档下载安装<br>
*.gz——OpenStack各组件源代码<br>
pip-requires——各组件所依赖的python库软件列表，供pip工具下载安装python库软件用，相关信息见<span class="link_title"><a href="http://blog.csdn.net/ugyn109/article/details/7475951" style="color:rgb(202,0,0); text-decoration:none">CentOS6.2下一步一步源代码安装OpenStack（二）组件安装</a></span><br>
test——测试pipdowns中的软件是否已经全部安装好的脚本<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="color:rgb(255,0,0)">noderpms——更新版本中提供的在计算节点中安装qemu相关软件的包，计算节点需要qemu-nbd，它包含在qemu-common中，然而CentOS并不包含该包，因此我从与CentOS的qemu版本相近的fc13中编译出相关rpm包供大家使用，安装方法见<a href="http://blog.csdn.net/ugyn109/article/details/7532836" target="_blank" style="color:rgb(202,0,0); text-decoration:none">CentOS6.2下一步一步源代码安装OpenStack（七）安装配置计算节点</a></span><br>
<span style="color:rgb(255,0,0)">noVNC——nova-xvpvncproxy服务软件</span></p>
<br>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>8月28日更新：</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px">第五步中qemu-common的安装有问题，我从f13的源码中编译出来的qemu存在问题，兼容性不好，一个是我通过virt-manager安装windows虚拟机中创建完成后无法启动直接报错；二个是我在dash中对实例进行suspend操作时报错操作失败，因此建议在元数据的注入时采用guestfs这样只需要安装三外软件包libguestfs,libguestfs-mount,fuse这些包在组“Virtualization Tools”中，安装简单可以不用编译nbd模块，省去第四、五步，但是据说guestfs速度比nbd慢，如果坚持要用nbd，请参考这里<a href="http://jamyy.dyndns.org/blog/2012/02/3582.html" style="color:rgb(202,0,0); text-decoration:none">http://jamyy.dyndns.org/blog/2012/02/3582.html</a><strong><br>
</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>1.操作系统的准备</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
操作系统的准备请看<a href="http://blog.csdn.net/ugyn109/article/details/7475428" target="_blank" style="color:rgb(202,0,0); text-decoration:none">CentOS6.2下一步一步源代码安装OpenStack（一）操作系统准备</a>与计算节点相关的部分我已经用蓝色字体标出。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>2.时间同步、防火墙及selinux</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2.1时间同步</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
计算节点要与控制节点通信，保持时间的同步很重要，我们需要配置ntp服务器。<br>
<strong>2.1.1配置启动控制节点的ntp</strong><br>
[root@cc ~]# vim /etc/ntp.conf&nbsp;<br>
在：<br>
# Hosts on local network are less restricted.<br>
#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap<br>
下添加你要提供时间同步服务的网段，如我的为：<br>
restrict 10.61.2.0 mask 255.255.255.0 nomodify notrap<br>
去掉以下两行前的注释：<br>
server&nbsp; 127.127.1.0&nbsp;&nbsp;&nbsp;&nbsp; # local clock<br>
fudge&nbsp;&nbsp; 127.127.1.0 stratum 10</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[root@cc ~]# vim /etc/sysconfig/ntpd<br>
在后面添加：<br>
SYNC_HWCLOCK=yes<br>
使时间更新到bios<br>
启动ntp：<br>
[root@cc ~]# chkconfig ntpd on &amp;&amp; service ntpd start</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2.1.2配置启动计算节点的ntp</strong><br>
[root@node1 ~]# vim /etc/ntp.conf&nbsp;<br>
以下三行：<br>
server 0.centos.pool.ntp.org<br>
server 1.centos.pool.ntp.org<br>
server 2.centos.pool.ntp.org<br>
替换为：<br>
server 10.61.2.88<br>
这里的ip还是你的控制节点的ip</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[root@node1 ~]# vim /etc/sysconfig/ntpd<br>
在后面添加：<br>
SYNC_HWCLOCK=yes<br>
使时间更新到bios<br>
启动ntp：<br>
[root@node1 ~]# chkconfig ntpd on &amp;&amp; service ntpd start</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2.1.3一段时间观察同步情况</strong><br>
控制节点情况：<br>
<img alt="" src="http://my.csdn.net/uploads/201205/03/1336052666_7704.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
计算节点情况：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201205/03/1336052673_2934.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2.2防火墙配置</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
我的机器均只使用了一个网卡，配置的本地ip段为10.61.2.0/24，为简单我会直接对本地的ip数据包全部放行。CentOS在启动时会加载/etc/sysconfig/iptables中的过滤规则，所以我选择编辑它加入我的一条简单规则，注意控制节点和计算节点都要添加<br>
[root@node1 ~]# vim /etc/sysconfig/iptables<br>
在：<br>
-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT<br>
后添加：<br>
-A INPUT -s 10.61.2.0/24 -j ACCEPT<br>
该规则只有在机器重启后才会有效，要想现在就运行该规则请运行：<br>
[root@node1 ~]# iptables -I INPUT 9 -s 10.61.2.0/24 -j ACCEPT<br>
这里的数字表示该规则插入的位置，我这里是放在<br>
ACCEPT&nbsp;&nbsp;&nbsp;&nbsp; tcp&nbsp; --&nbsp; anywhere&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; anywhere&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; state NEW tcp dpt:ssh<br>
后面，请运行：<br>
[root@node1 ~]# iptables -L<br>
查看该规则位置 ，位置从1开始计数</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2.3关闭selinux</strong><br>
selinux会引起一些权限的问题，因此我选择关闭<br>
[root@node1 ~]# setenforce 0<br>
[root@node1 ~]# vim /etc/selinux/config&nbsp;<br>
修改SELINUX=disabled<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>3.组件安装</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
组件的安装见<a href="http://blog.csdn.net/ugyn109/article/details/7475951" target="_blank" style="color:rgb(202,0,0); text-decoration:none">CentOS6.2下一步一步源代码安装OpenStack（二）组件安装</a>，这里我们只安装nova、glance、python-novaclient其它后两个为nova所依赖的</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>4.编译nbd模块</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
参考：<a href="http://jamyy.dyndns.org/blog/2012/02/3582.html" style="color:rgb(202,0,0); text-decoration:none">http://jamyy.dyndns.org/blog/2012/02/3582.html</a><br>
安装kernel-devel及kernel-headers：<br>
yum --enablerepo=iso --disablerepo=base,updates,extras install kernel-devel kernel-headers</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
安装kernel source code：<br>
wget&nbsp;<a href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6ComputeNode/en/os/SRPMS/kernel-2.6.32-220.el6.src.rpm" style="color:rgb(202,0,0); text-decoration:none">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6ComputeNode/en/os/SRPMS/kernel-2.6.32-220.el6.src.rpm</a><br>
rpm -ihv kernel-2.6.32-220.el6.src.rpm<br>
备份：<br>
cd /usr/src/kernels/<br>
mv $(uname -r) $(uname -r)-old<br>
解压源文件：<br>
tar jxpf /root/rpmbuild/SOURCES/linux-2.6.32-220.el6.tar.bz2 -C ./<br>
mv linux-2.6.32-220.el6 $(uname -r)<br>
编译：<br>
cd $(uname -r)<br>
make mrproper<br>
cp ../$(uname -r)-old/Module.symvers ./<br>
cp /boot/config-$(uname -r) ./.config<br>
make oldconfig<br>
make prepare<br>
make scripts<br>
make CONFIG_BLK_DEV_NBD=m M=drivers/block<br>
cp drivers/block/nbd.ko /lib/modules/$(uname -r)/kernel/drivers/block/<br>
depmod -a&nbsp;</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
注意：<span style="color:rgb(255,0,0)">nbd模块不会在机器启动后自己load，必须用命令modprobe nbd加载，怎样使其开机自动加载？<br>
开机自启动方法：编辑/etc/rc.d/rc.local 在文件尾添加一行：modprobe nbd</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>5.安装qemu-common</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
计算节点上还需要有qemu-nbd工具，该工具在qemu-common中，遗憾的是CentOS中并不包含qemu-common，不得不自己从f13找来与CentOS版本最接近的qemu源代码rpm自己编译，但安装qemu-common时仍然与已安装的qemu-kvm冲突。因此先卸载qemu-kvm及qemu-img，再重新安装，安装时发现依赖seabios-bin，还得从源rpm编译。。。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>5.1编译qemu及seabios<br>
</strong><span style="color:rgb(255,0,0)">我会提供已经编译好的包供大家下载，如果采用我提供的包请直接查看5.3软件的安装，下载信息我会放在</span><strong><a href="http://blog.csdn.net/ugyn109/article/details/7515199" target="_blank" style="color:rgb(202,0,0); text-decoration:none">OpenStack相关软件下载及说明</a><br>
</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>5.1.1安装编译所依赖的包</strong><br>
有些包在CentOS-6.2-x86_64-bin-DVD2.iso中，因此要将该镜像也挂载上，并修改iso.repo文件<br>
[root@node1 ~]# mkdir /media/iso2<br>
[root@node1 ~# mount -o loop -t iso9660 ~/CentOS-6.2-x86_64-bin-DVD2.iso /media/iso2<br>
[root@node1 ~]# vim /etc/yum.repos.d/iso.repo&nbsp;<br>
[iso]<br>
name=iso<br>
baseurl=file:///media/iso/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(255,0,0)">file:///media/iso2/</span><br>
gpgcheck=1<br>
enables=0<br>
gpgkey=file:///media/iso/RPM-GPG-KEY-CentOS-6</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
添加了红色字体这一行<br>
安装依赖：<br>
[root@node1 ~]# yum --enablerepo=iso --disablerepo=base,updates,extras install rpm-build glib2-devel SDL-devel texi2html gnutls-devel cyrus-sasl-devel libaio-devel pciutils-devel pulseaudio-libs-devel ncurses-devel iasl</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>5.2安装qemu及seabios源rpm并编译</strong><br>
参考：<a href="http://wiki.xen.org/wiki/RHEL6_Xen4_Tutorial" style="color:rgb(202,0,0); text-decoration:none">http://wiki.xen.org/wiki/RHEL6_Xen4_Tutorial</a><br>
下载：<br>
[root@node1 ~]# wget&nbsp;<a href="http://archives.fedoraproject.org/pub/archive/fedora/linux/releases/13/Everything/source/SRPMS/qemu-0.12.3-8.fc13.src.rpm" style="color:rgb(202,0,0); text-decoration:none">http://archives.fedoraproject.org/pub/archive/fedora/linux/releases/13/Everything/source/SRPMS/qemu-0.12.3-8.fc13.src.rpm</a><br>
[root@node1 ~]# wget&nbsp;<a href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6ComputeNode/en/os/SRPMS/seabios-0.6.1.2-8.el6.src.rpm" style="color:rgb(202,0,0); text-decoration:none">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6ComputeNode/en/os/SRPMS/seabios-0.6.1.2-8.el6.src.rpm</a>（发现编译不能生成seabios-bin改用其它src）<br>
[root@node1 ~]# wget&nbsp;<a href="http://archives.fedoraproject.org/pub/fedora/linux/releases/16/Everything/source/SRPMS/seabios-0.6.2-3.fc16.src.rpm" style="color:rgb(202,0,0); text-decoration:none">http://archives.fedoraproject.org/pub/fedora/linux/releases/16/Everything/source/SRPMS/seabios-0.6.2-3.fc16.src.rpm</a><br>
安装：<br>
[root@node1 ~]# rpm -ihv qemu-0.12.3-8.fc13.src.rpm&nbsp;<br>
[root@node1 ~]# rpm -ihv seabios-0.6.2-3.fc16.src.rpm<br>
编译：<br>
[root@node1 ~]# cd rpmbuild/SPECS/<br>
[root@node1 SPECS]# rpmbuild -bb qemu.spec<br>
最后编译结果：<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-kvm-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-img-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-common-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-user-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-system-x86-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-system-ppc-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-system-sparc-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-system-arm-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-system-mips-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-system-cris-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-system-m68k-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-system-sh4-0.12.3-8.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/x86_64/qemu-kvm-tools-0.12.3-8.el6.x86_64.rpm</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
[root@node1 SPECS]# rpmbuild -bb seabios.spec&nbsp;<br>
最后编译结果：<br>
Wrote: /root/rpmbuild/RPMS/x86_64/seabios-0.6.2-3.el6.x86_64.rpm<br>
Wrote: /root/rpmbuild/RPMS/noarch/seabios-bin-0.6.2-3.el6.noarch.rpm</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>5.3重新安装qemu</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
卸载旧版本：<br>
[root@node1 SPECS]# yum --enablerepo=iso --disablerepo=base,updates,extras remove qemu-img qemu-kvm seabios<br>
安装新版本：<br>
[root@node1 SPECS]# rpm -ihv /root/rpmbuild/RPMS/noarch/seabios-bin-0.6.2-3.el6.noarch.rpm<br>
[root@node1 SPECS]# rpm -ihv /root/rpmbuild/RPMS/x86_64/seabios-0.6.2-3.el6.x86_64.rpm<br>
[root@node1 SPECS]# rpm -ihv /root/rpmbuild/RPMS/x86_64/qemu-common-0.12.3-8.el6.x86_64.rpm<br>
[root@node1 SPECS]# rpm -ihv /root/rpmbuild/RPMS/x86_64/qemu-system-x86-0.12.3-8.el6.x86_64.rpm<br>
[root@node1 SPECS]# rpm -Uhv /root/rpmbuild/RPMS/x86_64/qemu-img-0.12.3-8.el6.x86_64.rpm<br>
[root@node1 SPECS]# rpm -Uhv /root/rpmbuild/RPMS/x86_64/qemu-kvm-0.12.3-8.el6.x86_64.rpm<br>
[root@node1 SPECS]# yum --enablerepo=iso --disablerepo=base,updates,extras install libvirt virt-who<br>
启动libvirtd：<br>
[root@node1 SPECS]# chkconfig libvirtd on &amp;&amp; service libvirtd start</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>6.运行nova-compute</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
计算节点上只要运行nova-compute就可以了，当然还可以运行nova-network，这时需要在/etc/nova下添加policy.json文件<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
从控制节点拷贝配置文件nova.conf到/etc/nova/nova.conf<br>
修改其中的my_ip为计算节点的ip<br>
修改其中的vncserver_listen为计算节点的ip</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
我这里还没弄好swift实例采用本地文件系统存储，因此要创建一个本地目录，该目录可在nova.conf中用instances_path=/home/instances指定：<br>
[root@node1 ~]# mkdir /home/instances</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
运行：<br>
[root@node1 ~]# nova-compute</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-size:18px"><strong>7.测试</strong></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>7.1查看nova-compute是否启动</strong><br>
[root@node1 ~]# nova-manage service list<br>
<img alt="" src="http://my.csdn.net/uploads/201205/04/1336093609_8315.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
注意：控制节点上我采用nova-all启动相关服务，但nova-all不会启动nova-compute和nova-consoleauth，如果要能够在控制节点上创建实例，需另外启动nova-compute，在采用vnc操作实例要另外启动nova-consoleauth来进行验证，我的控制节点重启后没有挂载nova-volumes，所以nova-volume没有启动起来，但在这里没有什么影响，你看到node1这个主机上有两个nova-compute及nova-network这个不用管，这是我以前安装的时候遗留下来的。</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>7.2通过horizon创建实例</strong><br>
<img alt="" src="http://my.csdn.net/uploads/201205/04/1336093850_5612.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
现在就可以在控制节点通过ssh连接实例了：</p>
<br>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"></span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<img alt="" src="http://my.csdn.net/uploads/201205/04/1336094443_5526.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"><br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
另外我在我的计算节点上无法ping通实例：<br>
<img alt="" src="http://my.csdn.net/uploads/201205/04/1336094575_7868.png" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial"></p>
<br>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left"><br>
</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<br>
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="">Openstack Installation and Configuration</p>
<p style="">准备环境</p>
<p style="">OS：Ubuntu12.04 64位<br>
安装系统时安装ssh、dns<br>
更改系统时间：ntpdate ip或一个时间域名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hwclock -w<span id="more-94" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; outline-width:0px; outline-style:initial; outline-color:initial; vertical-align:baseline; background-color:transparent; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"></span><br>
防火墙：ufw disable<br>
更改系统支持语言&nbsp; /etc/default/locale&nbsp; reboot</p>
<p style="">Openstack install start<br>
#Update the machine using the following commands<br>
sudo apt-get update<br>
sudo apt-get upgrade</p>
<p style="">#Install bridge-utils<br>
sudo apt-get install bridge-utils</p>
<p style="">#Network Configuration<br>
#The primary network interface<br>
auto eth0<br>
iface eth0 inet static<br>
address 192.168.3.97<br>
netmask 255.255.255.0<br>
gateway 192.168.3.1</p>
<p style=""># Bridge network interface for VM networks<br>
auto br100<br>
iface br100 inet static<br>
address 192.168.100.1<br>
netmask 255.255.255.0<br>
bridge_stp off<br>
bridge_fd 0</p>
<p style="">brctl addbr br100<br>
/etc/init.d/networking restart</p>
<p style="">#NTP Server<br>
apt-get install ntp<br>
vi&nbsp; /etc/ntp.conf<br>
server ntp.ubuntu.com<br>
server 127.127.1.0<br>
fudge 127.127.1.0 stratum 10<br>
service ntp restart</p>
<p style="">#Mysql<br>
apt-get install mysql-server python-mysqldb<br>
#Create the root password for mysql. The password used in this guide is &quot;password&quot;<br>
vi&nbsp; /etc/mysql/my.cnf<br>
bind-address = 0.0.0.0<br>
service mysql restart</p>
<p style="">#Creating Databases<br>
#about nova databases<br>
mysql -uroot -ppassword -e 'CREATE DATABASE nova;'<br>
mysql -uroot -ppassword -e 'CREATE USER nova;'<br>
mysql -uroot -ppassword -e &quot;GRANT ALL PRIVILEGES ON nova.* TO 'nova'@'%';&quot;<br>
mysql -uroot -ppassword -e &quot;SET PASSWORD FOR 'nova'@'%' =PASSWORD('password');&quot;<br>
#about glance databases<br>
mysql -uroot -ppassword -e 'CREATE DATABASE glance;'<br>
mysql -uroot -ppassword -e 'CREATE USER glance;'<br>
mysql -uroot -ppassword -e &quot;GRANT ALL PRIVILEGES ON glance.* TO 'glance'@'%';&quot;<br>
mysql -uroot -ppassword -e &quot;SET PASSWORD FOR 'glance'@'%' =PASSWORD('password');&quot;<br>
#about keystone databases<br>
mysql -uroot -ppassword -e 'CREATE DATABASE keystone;'<br>
mysql -uroot -ppassword -e 'CREATE USER keystone;'<br>
mysql -uroot -ppassword -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO 'keystone'@'%';&quot;<br>
mysql -uroot -ppassword -e &quot;SET PASSWORD FOR 'keystone'@'%' =PASSWORD('password');&quot;</p>
<p style="">#Keystone<br>
apt-get install keystone python-keystone python-keystoneclient<br>
vi&nbsp; /etc/keystone/keystone.conf<br>
admin_token = admin<br>
connection = mysql://keystone:password@192.168.3.97/keystone<br>
service keystone restart<br>
keystone-manage db_sync<br>
export SERVICE_ENDPOINT=&quot;http://localhost:35357/v2.0&quot;<br>
export SERVICE_TOKEN=admin</p>
<p style="">source /etc/profile<br>
/root/.bashrc</p>
<p style="">#Creating Tenants<br>
keystone tenant-create --name admin<br>
&#43;-------------&#43;----------------------------------&#43;<br>
|&nbsp;&nbsp; Property&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;-------------&#43;----------------------------------&#43;<br>
| description | None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| enabled&nbsp;&nbsp;&nbsp;&nbsp; | True&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 71afa7f265a043baaf35c94c526f6fe6 |<br>
| name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | admin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;-------------&#43;----------------------------------&#43;<br>
keystone tenant-create --name service<br>
&#43;-------------&#43;----------------------------------&#43;<br>
|&nbsp;&nbsp; Property&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;-------------&#43;----------------------------------&#43;<br>
| description | None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| enabled&nbsp;&nbsp;&nbsp;&nbsp; | True&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 9b154b36eba44e6faa243cbe31cd505e |<br>
| name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | service&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;-------------&#43;----------------------------------&#43;</p>
<p style="">#create users<br>
keystone user-create --name admin --pass admin --email admin@foobar.com<br>
keystone user-create --name nova --pass nova --email nova@foobar.com<br>
keystone user-create --name glance --pass glance --email glance@foobar.com<br>
keystone user-create --name swift --pass swift --email swift@foobar.com<br>
输出如下<br>
root@oak-controller:~# keystone user-create --name admin --pass admin --email admin@foobar.com<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
| Property |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
| email&nbsp;&nbsp;&nbsp; | admin@foobar.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| enabled&nbsp; | True&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | e7865fd421764554a15418467d530d9f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| name&nbsp;&nbsp;&nbsp;&nbsp; | admin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| password | $6$rounds=40000$Tl1Ll7lr2A7PKV2w$Jf4VNEPGpIQg2xefYHTCU1Ou4eKpvTpVtdbJ8q2WJ426hdS2onr4YQcdkGJOvyVtR6tA3KN.TiL57Rdlo.B2M1 |<br>
| tenantId | None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
root@oak-controller:~# keystone user-create --name nova --pass nova --email nova@foobar.com<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
| Property |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
| email&nbsp;&nbsp;&nbsp; | nova@foobar.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| enabled&nbsp; | True&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 16b969fb9f3a470581141d601e61beeb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| name&nbsp;&nbsp;&nbsp;&nbsp; | nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| password | $6$rounds=40000$2hIzWJsygWb9ebna$TtXRFGcGsBoJSE9rO1R5Dg9o27EGwvK7LDZuNVSsA.vVgcriyXkBzqIrfm8pF3qNfgaImbvxqdBNtWYbbejpt. |<br>
| tenantId | None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
root@oak-controller:~# keystone user-create --name glance --pass glance --email glance@foobar.com<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
| Property |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
| email&nbsp;&nbsp;&nbsp; | glance@foobar.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| enabled&nbsp; | True&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 0846f49915e34af2b2711daa2276600b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| name&nbsp;&nbsp;&nbsp;&nbsp; | glance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| password | $6$rounds=40000$9n/XT3tA4Va/Yw5q$A9YHhm5.A4I5sf8o55FZHZinRoNPfb/7jNpEYpizG2Pfa3r97faysrGePtXaaaST46CrTaJWbUCCG49wBjt6n1 |<br>
| tenantId | None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
root@oak-controller:~# keystone user-create --name swift --pass swift --email swift@foobar.com<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
| Property |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;<br>
| email&nbsp;&nbsp;&nbsp; | swift@foobar.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| enabled&nbsp; | True&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 89d985c3654a49edbbaf098b044d4d97&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| name&nbsp;&nbsp;&nbsp;&nbsp; | swift&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| password | $6$rounds=40000$1S5h0kE6JpNxx73b$.Nf8wwfRO3/UFI58WAo77ASdp93vtEiyrWyL160prVWyPnp5VMlUnNaJKLyxnahagxBXX87Y4KbhfvWU87E2d0 |<br>
| tenantId | None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;-------------------------------------------------------------------------------------------------------------------------&#43;</p>
<p style=""># Creating Roles<br>
keystone role-create --name admin<br>
keystone role-create --name Member<br>
输出如下：<br>
root@oak-controller:~# keystone role-create --name admin<br>
&#43;----------&#43;----------------------------------&#43;<br>
| Property |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;----------------------------------&#43;<br>
| id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 54f31e5da56e4c26ad4febce9ff7b017 |<br>
| name&nbsp;&nbsp;&nbsp;&nbsp; | admin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;----------------------------------&#43;<br>
root@oak-controller:~# keystone role-create --name Member<br>
&#43;----------&#43;----------------------------------&#43;<br>
| Property |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;----------------------------------&#43;<br>
| id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 6d763be492464f9396bbaf02fbfff753 |<br>
| name&nbsp;&nbsp;&nbsp;&nbsp; | Member&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------&#43;----------------------------------&#43;</p>
<p style="">#Listing Tenants, Users and Roles<br>
root@oak-controller:~# keystone tenant-list<br>
&#43;----------------------------------&#43;---------&#43;---------&#43;<br>
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; name&nbsp; | enabled |<br>
&#43;----------------------------------&#43;---------&#43;---------&#43;<br>
| 71afa7f265a043baaf35c94c526f6fe6 | admin&nbsp;&nbsp; | True&nbsp;&nbsp;&nbsp; |<br>
| 9b154b36eba44e6faa243cbe31cd505e | service | True&nbsp;&nbsp;&nbsp; |<br>
&#43;----------------------------------&#43;---------&#43;---------&#43;<br>
root@oak-controller:~# keystone user-list<br>
&#43;----------------------------------&#43;---------&#43;-------------------&#43;--------&#43;<br>
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | enabled |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; email&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; name&nbsp; |<br>
&#43;----------------------------------&#43;---------&#43;-------------------&#43;--------&#43;<br>
| 0846f49915e34af2b2711daa2276600b | True&nbsp;&nbsp;&nbsp; | glance@foobar.com | glance |<br>
| 16b969fb9f3a470581141d601e61beeb | True&nbsp;&nbsp;&nbsp; | nova@foobar.com&nbsp;&nbsp; | nova&nbsp;&nbsp; |<br>
| 89d985c3654a49edbbaf098b044d4d97 | True&nbsp;&nbsp;&nbsp; | swift@foobar.com&nbsp; | swift&nbsp; |<br>
| e7865fd421764554a15418467d530d9f | True&nbsp;&nbsp;&nbsp; | admin@foobar.com&nbsp; | admin&nbsp; |<br>
&#43;----------------------------------&#43;---------&#43;-------------------&#43;--------&#43;<br>
root@oak-controller:~# keystone role-list<br>
&#43;----------------------------------&#43;--------&#43;<br>
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; name&nbsp; |<br>
&#43;----------------------------------&#43;--------&#43;<br>
| 54f31e5da56e4c26ad4febce9ff7b017 | admin&nbsp; |<br>
| 6d763be492464f9396bbaf02fbfff753 | Member |<br>
&#43;----------------------------------&#43;--------&#43;</p>
<p style="">#command example<br>
keystone user-role-add --user $USER_ID --role $ROLE_ID --tenant_id $TENANT_ID</p>
<p style="">#To add a role of 'admin' to the user 'admin' of the tenant 'admin'<br>
keystone user-role-add --user e7865fd421764554a15418467d530d9f --role 54f31e5da56e4c26ad4febce9ff7b017 --tenant_id 71afa7f265a043baaf35c94c526f6fe6</p>
<p style="">#The following commands will add a role of 'admin' to the users 'nova', 'glance' and 'swift' of the tenant 'service'.<br>
keystone user-role-add --user 0846f49915e34af2b2711daa2276600b --role 54f31e5da56e4c26ad4febce9ff7b017 --tenant_id 9b154b36eba44e6faa243cbe31cd505e<br>
keystone user-role-add --user 16b969fb9f3a470581141d601e61beeb --role 54f31e5da56e4c26ad4febce9ff7b017 --tenant_id 9b154b36eba44e6faa243cbe31cd505e<br>
keystone user-role-add --user 89d985c3654a49edbbaf098b044d4d97 --role 54f31e5da56e4c26ad4febce9ff7b017 --tenant_id 9b154b36eba44e6faa243cbe31cd505e</p>
<p style="">#add a role 'Member' to user 'admin' of tenant 'admin'<br>
keystone user-role-add --user e7865fd421764554a15418467d530d9f --role 6d763be492464f9396bbaf02fbfff753 --tenant_id 71afa7f265a043baaf35c94c526f6fe6</p>
<p style=""># Creating Services<br>
#command example<br>
keystone service-create --name service_name --type service_type --description 'Description of the service'</p>
<p style="">keystone service-create --name nova --type compute --description 'OpenStack Compute Service'<br>
keystone service-create --name volume --type volume --description 'OpenStack Volume Service'<br>
keystone service-create --name glance --type image --description 'OpenStack Image Service'<br>
keystone service-create --name swift --type object-store --description 'OpenStack Storage Service'<br>
keystone service-create --name keystone --type identity --description 'OpenStack Identity Service'<br>
keystone service-create --name ec2 --type ec2 --description 'EC2 Service'</p>
<p style="">keystone service-list<br>
root@oak-controller:~# keystone service-list<br>
&#43;----------------------------------&#43;----------&#43;--------------&#43;----------------------------&#43;<br>
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; name&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; type&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&#43;----------------------------------&#43;----------&#43;--------------&#43;----------------------------&#43;<br>
| 368283bcbbf2488d94c8e8f8f6899ee4 | keystone | identity&nbsp;&nbsp;&nbsp;&nbsp; | OpenStack Identity Service |<br>
| 50ab784afa0e4583ad78578d089678e9 | swift&nbsp;&nbsp;&nbsp; | object-store | OpenStack Storage Service&nbsp; |<br>
| 63b3a3c91869439cabfc2fdd9a793dde | volume&nbsp;&nbsp; | volume&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | OpenStack Volume Service&nbsp;&nbsp; |<br>
| b07ac3f65cb34bbe97d717be3f60c45a | glance&nbsp;&nbsp; | image&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | OpenStack Image Service&nbsp;&nbsp;&nbsp; |<br>
| dcf501c58c314e06a99b3639782d5cee | ec2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ec2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | EC2 Service&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
| e828bd8bc67b490eaa10911168f82c3b | nova&nbsp;&nbsp;&nbsp;&nbsp; | compute&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | OpenStack Compute Service&nbsp; |<br>
&#43;----------------------------------&#43;----------&#43;--------------&#43;----------------------------&#43;</p>
<p style="">#Creating Endpoints<br>
example：keystone endpoint-create --region region_name --service_id service_id --publicurl public_url --adminurl admin_url&nbsp; --internalurl internal_url</p>
<p style="">#nova-compute<br>
keystone endpoint-create --region myregion --service_id e828bd8bc67b490eaa10911168f82c3b --publicurl 'http://192.168.3.97:8774/v2/$(tenant_id)s' --adminurl 'http://192.168.3.97:8774/v2/$(tenant_id)s' --internalurl 'http://192.168.3.97:8774/v2/$(tenant_id)s'<br>
#nova-volume<br>
keystone endpoint-create --region myregion --service_id 63b3a3c91869439cabfc2fdd9a793dde --publicurl 'http://192.168.3.97:8776/v1/$(tenant_id)s' --adminurl 'http://192.168.3.97:8776/v1/$(tenant_id)s' --internalurl 'http://192.168.3.97:8776/v1/$(tenant_id)s'<br>
#glance<br>
keystone endpoint-create --region myregion --service_id b07ac3f65cb34bbe97d717be3f60c45a --publicurl 'http://192.168.3.97:9292/v1' --adminurl 'http://192.168.3.97:9292/v1' --internalurl 'http://192.168.3.97:9292/v1'<br>
#swift<br>
keystone endpoint-create --region myregion --service_id 50ab784afa0e4583ad78578d089678e9 --publicurl 'http://192.168.3.97:8080/v1/AUTH_$(tenant_id)s' --adminurl 'http://192.168.3.97:8080/v1' --internalurl 'http://192.168.3.97:8080/v1/AUTH_$(tenant_id)s'<br>
#keystone<br>
keystone endpoint-create --region myregion --service_id 368283bcbbf2488d94c8e8f8f6899ee4 --publicurl http://192.168.3.97:5000/v2.0 --adminurl http://192.168.3.97:35357/v2.0 --internalurl http://192.168.3.97:5000/v2.0<br>
#ec2<br>
keystone endpoint-create --region myregion --service_id dcf501c58c314e06a99b3639782d5cee --publicurl http://192.168.3.97:8773/services/Cloud --adminurl http://192.168.3.97:8773/services/Admin --internalurl http://192.168.3.97:8773/services/Cloud</p>
<p style="">#Glance<br>
apt-get install glance glance-api glance-client glance-common glance-registry python-glance<br>
#Glance Configuration<br>
vi /etc/glance/glance-api-paste.ini<br>
admin_tenant_name = service<br>
admin_user = glance<br>
admin_password = glance</p>
<p style="">vi /etc/glance/glance-registry-paste.ini<br>
admin_tenant_name = service<br>
admin_user = glance<br>
admin_password = glance</p>
<p style="">vi /etc/glance/glance-registry.conf<br>
sql_connection = mysql://glance:password@192.168.3.97/glance<br>
[paste_deploy]<br>
flavor = keystone</p>
<p style="">vi /etc/glance/glance-api.conf<br>
[paste_deploy]<br>
flavor = keystone</p>
<p style="">glance-manage version_control 0<br>
glance-manage db_sync</p>
<p style="">restart glance-api<br>
restart glance-registry</p>
<p style="">export SERVICE_TOKEN=admin<br>
export OS_TENANT_NAME=admin<br>
export OS_USERNAME=admin<br>
export OS_PASSWORD=admin<br>
export OS_AUTH_URL=&quot;http://localhost:5000/v2.0/&quot;<br>
export SERVICE_ENDPOINT=http://localhost:35357/v2.0</p>
<p style="">source .bashrc</p>
<p style="">glance index<br>
echo$?</p>
<p style="">###Nova<br>
apt-get install nova-api nova-cert nova-compute nova-compute-kvm nova-doc nova-network nova-objectstore nova-scheduler nova-volume rabbitmq-server novnc nova-consoleauth<br>
vi /etc/nova/nova.conf<br>
--dhcpbridge_flagfile=/etc/nova/nova.conf<br>
--dhcpbridge=/usr/bin/nova-dhcpbridge<br>
--logdir=/var/log/nova<br>
--state_path=/var/lib/nova<br>
--lock_path=/run/lock/nova<br>
--allow_admin_api=true<br>
--use_deprecated_auth=false<br>
--auth_strategy=keystone<br>
--scheduler_driver=nova.scheduler.simple.SimpleScheduler<br>
--s3_host=192.168.3.97<br>
--ec2_host=192.168.3.97<br>
--rabbit_host=192.168.3.97<br>
--cc_host=192.168.3.97<br>
--nova_url=http://192.168.3.97:8774/v1.1/<br>
--routing_source_ip=192.168.3.97<br>
--glance_api_servers=192.168.3.97:9292<br>
--image_service=nova.image.glance.GlanceImageService<br>
--iscsi_ip_prefix=192.168.100<br>
--sql_connection=mysql://nova:password@192.168.3.97/nova<br>
--ec2_url=http://192.168.3.97:8773/services/Cloud<br>
--keystone_ec2_url=http://192.168.3.97:5000/v2.0/ec2tokens<br>
--api_paste_config=/etc/nova/api-paste.ini<br>
--libvirt_type=kvm<br>
--libvirt_use_virtio_for_bridges=true<br>
--start_guests_on_host_boot=true<br>
--resume_guests_state_on_host_boot=true<br>
# vnc specific configuration<br>
--novnc_enabled=true<br>
--novncproxy_base_url=http://192.168.3.97:6080/vnc_auto.html<br>
--vncserver_proxyclient_address=192.168.3.97<br>
--vncserver_listen=192.168.3.97<br>
# network specific settings<br>
--network_manager=nova.network.manager.FlatDHCPManager<br>
--public_interface=eth0<br>
--flat_interface=eth0<br>
--flat_network_bridge=br100<br>
--fixed_range=192.168.100.1/24<br>
#JJZ&gt;&gt;&gt;&gt;&gt;&gt; fixed_range defines the internal network used by VM, change to 192.168.100.1/24<br>
--floating_range=192.168.3.129/25<br>
#JJZ&gt;&gt;&gt;&gt;&gt;&gt; floating_range defines the external network used by VM, change to 192.168.3.129/25<br>
--network_size=256<br>
#JJZ&gt;&gt;&gt;&gt;&gt; network_size define the network size of internal network, change to 256<br>
--flat_network_dhcp_start=192.168.100.2<br>
--flat_injected=False<br>
--force_dhcp_release<br>
--iscsi_helper=tgtadm<br>
--connection_type=libvirt<br>
--root_helper=sudo nova-rootwrap<br>
--verbose</p>
<p style="">root@oak-controller:~# pvcreate /dev/sda4<br>
Physical volume &quot;/dev/sda4&quot; successfully created<br>
root@oak-controller:~# vgcreate nova-volumes /dev/sda4<br>
Volume group &quot;nova-volumes&quot; successfully created</p>
<p style="">chown -R nova:nova /etc/nova<br>
chmod 644 /etc/nova/nova.conf<br>
vi /etc/nova/api-paste.ini<br>
admin_tenant_name = service<br>
admin_user = nova<br>
admin_password = nova</p>
<p style="">nova-manage db sync<br>
nova-manage network create private --fixed_range_v4=192.168.100.0/24 --num_networks=1 --bridge=br100 --bridge_interface=eth0 --network_size=256</p>
<p style="">nova-manage floating create --ip_range=192.168.3.128/25从新在执行下地址poor 取决于我nova.conf 的配置定义</p>
<p style="">export OS_TENANT_NAME=admin<br>
export OS_USERNAME=admin<br>
export OS_PASSWORD=admin<br>
export OS_AUTH_URL=&quot;http://localhost:5000/v2.0/&quot;</p>
<p style="">service libvirt-bin restart<br>
service nova-network restart<br>
service nova-api restart<br>
service nova-objectstore restart<br>
service nova-scheduler restart<br>
service nova-consoleauth restart<br>
service nova-cert restart<br>
service nova-volume restart<br>
service nova-compute restart</p>
<p style="">root@oak-controller:~# nova-manage service list<br>
2012-07-26 14:37:28 DEBUG nova.utils [req-8d4b9794-c2bb-4e35-b3a0-d1f9796c784e None None] backend &lt;module 'nova.db.sqlalchemy.api' from '/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.pyc'&gt; from (pid=25877) __get_backend /usr/lib/python2.7/dist-packages/nova/utils.py:658<br>
Binary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Zone&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status&nbsp;&nbsp;&nbsp;&nbsp; State Updated_At<br>
nova-network&nbsp;&nbsp;&nbsp;&nbsp; oak-controller&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;<img alt=":-)" class="wp-smiley" src="http://nemosky.com/wp-content/themes/Mossight/images/smilies/icon_smile.gif" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; outline-width:0px; outline-style:initial; outline-color:initial; vertical-align:baseline; background-color:transparent; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; max-width:614px!important; height:auto; display:inline">&nbsp;&nbsp;&nbsp;
 2012-07-26 06:37:25<br>
nova-compute&nbsp;&nbsp;&nbsp;&nbsp; oak-controller&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;<img alt=":-)" class="wp-smiley" src="http://nemosky.com/wp-content/themes/Mossight/images/smilies/icon_smile.gif" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; outline-width:0px; outline-style:initial; outline-color:initial; vertical-align:baseline; background-color:transparent; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; max-width:614px!important; height:auto; display:inline">&nbsp;&nbsp;&nbsp;
 2012-07-26 06:37:25<br>
nova-scheduler&nbsp;&nbsp; oak-controller&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;<img alt=":-)" class="wp-smiley" src="http://nemosky.com/wp-content/themes/Mossight/images/smilies/icon_smile.gif" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; outline-width:0px; outline-style:initial; outline-color:initial; vertical-align:baseline; background-color:transparent; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; max-width:614px!important; height:auto; display:inline">&nbsp;&nbsp;&nbsp;
 2012-07-26 06:37:18<br>
nova-consoleauth oak-controller&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;<img alt=":-)" class="wp-smiley" src="http://nemosky.com/wp-content/themes/Mossight/images/smilies/icon_smile.gif" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; outline-width:0px; outline-style:initial; outline-color:initial; vertical-align:baseline; background-color:transparent; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; max-width:614px!important; height:auto; display:inline">&nbsp;&nbsp;&nbsp;
 2012-07-26 06:37:22<br>
nova-cert&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oak-controller&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nova&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled&nbsp;&nbsp;&nbsp;&nbsp;<img alt=":-)" class="wp-smiley" src="http://nemosky.com/wp-content/themes/Mossight/images/smilies/icon_smile.gif" style="border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; outline-width:0px; outline-style:initial; outline-color:initial; vertical-align:baseline; background-color:transparent; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; max-width:614px!important; height:auto; display:inline">&nbsp;&nbsp;&nbsp;
 2012-07-26 06:37:20</p>
<p style="">apt-get install git-core<br>
apt-get install -y memcached libapache2-mod-wsgi openstack-dashboard<br>
#create database dash<br>
mysql -uroot -ppassword -e 'CREATE DATABASE dash;'<br>
mysql -uroot -ppassword -e 'CREATE USER dash;'<br>
mysql -uroot -ppassword -e &quot;GRANT ALL PRIVILEGES ON dash.* TO 'dash'@'%';&quot;<br>
mysql -uroot -ppassword -e &quot;SET PASSWORD FOR 'dash'@'%' =PASSWORD('password');&quot;<br>
vi /etc/openstack-dashboard/local_settings.py<br>
LOCAL_PATH = os.path.dirname(os.path.abspath(__file__))<br>
DATABASES = {<br>
'default': {<br>
'ENGINE': 'django.db.backends.mysql',<br>
'NAME': 'dash',<br>
'USER': 'dash',<br>
'PASSWORD': 'password',<br>
'HOST': '192.168.3.97',<br>
'default-character-set': 'utf8'<br>
},<br>
}</p>
<p style="">/usr/share/openstack-dashboard/manage.py syncdb<br>
mkdir -p /var/lib/dash/.blackhole<br>
/etc/init.d/apache2 restart<br>
restart nova-api</p>
<br>

</div>
<div class="share_buttons" id="sharePanel"></div>
<!--192.168.1.237-->
<div class="article_next_prev">
    <li class="prev_article"><span>上一篇：</span><a href="/jincm13/article/details/8083903">cloudstack</a></li>
    <li class="next_article"><span>下一篇：</span><a href="/jincm13/article/details/8076722">openstack简介</a></li>
</div>


    
</div>
<div id="ad_cen"></div>
<script type="text/javascript">
    new Ad(4, 'ad_cen');
</script>
<div id="comment_title" class="panel_head">查看评论<a name="comments"></a></div>
<div id="comment_list"></div>
<div id="comment_bar"></div>
<div id="comment_form"></div>
<div class="announce">* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
<script type="text/javascript">
    var fileName = '8090492';
    var commentscount = 0;
    var islock = false
</script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/comment.js?v=1.8"></script>
<div id="ad_bot"></div>
<script type="text/javascript">
    new Ad(5, 'ad_bot');
</script>
<div id="report_dialog"></div>

<div id="d-top" style="display:none;">
<a id="d-top-a" href="#" title="回到顶部">
<img src="http://static.blog.csdn.net/images/top.png" alt="TOP" /></a>
</div>
<script type="text/javascript">
    $(function(){
        var d_top=$('#d-top');
        document.onscroll=function(){
            var scrTop=(document.body.scrollTop||document.documentElement.scrollTop);
            if(scrTop>500){
                d_top.show();
            }else{
                d_top.hide();
            }
        }
        $('#d-top-a').click(function(){
            scrollTo(0,0);
            this.blur();
            return false;
        });
    });
</script>



<div class="clear"></div>
</div>
</div>

<div id="side">
<div class="side">
<div id="panel_Profile" class="panel">
    <ul class="panel_head"><span>个人资料</span></ul>
    <ul class="panel_body profile">
        <div id="blog_userface">
            <a href="http://my.csdn.net/jincm13" target="_blank">
            <img src="http://avatar.csdn.net/A/0/D/1_jincm13.jpg" title="访问我的空间" style="max-width:90%"/>
            </a>
            <br />
            <span><a href="http://my.csdn.net/jincm13" class="user_name" target="_blank">jincm13</a></span>
        </div>
<div class="interact">
<!--<a href="#" class="attented" title="已关注"></a>-->
<a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>
<a href="javascript:void(0);" class="letter" onclick="loginto(1)" title="[发私信]"></a>
</div>
        <div id="blog_medal">
        </div>
        <ul id="blog_rank">
            <li>访问：<span>61619次</span></li>
            <li>积分：<span>769分</span></li>
            <li>排名：<span>第13402名</span></li>
        </ul>
        <ul id="blog_statistics">
            <li>原创：<span>0篇</span></li>
            <li>转载：<span>104篇</span></li>
            <li>译文：<span>0篇</span></li>
            <li>评论：<span>3条</span></li>
        </ul>
    </ul>
</div>
<script type="text/javascript">
    var _blogger = 'jincm13';
</script>



<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字" /></span>
        <input id="btnSubmit" type="submit" value="搜索" title="search in blog" />
        <input type="hidden" name="q" id="inputQ" />
        <input type="hidden" name="t" value="blog" />
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>文章分类</span></ul>
    <ul class="panel_body">
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1196238">虚拟交换机</a><span>(5)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1196013">虚拟化</a><span>(18)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1196014">linux内核</a><span>(13)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1196015">web开发</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1205831">linux应用</a><span>(26)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1206154">openflow</a><span>(0)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1211778">防火墙</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1231883">vpn</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1251763">云安全</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1255642">健康</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1258219">openstack</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1302656">网络</a><span>(2)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1302657">网络协议</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1312442">linux开发</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1316430">修身养性</a><span>(3)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/jincm13/article/category/1316553">c/c++/python/shell</a><span>(1)</span>
        </li>
    </ul>
</div><div id="panel_Archive" class="panel">
    <ul class="panel_head"><span>文章存档</span></ul>
    <ul class="panel_body">
        <div id="archive_list">
        <!--归档统计-->
        <li><a href="http://blog.csdn.net/jincm13/article/month/2013/03">2013年03月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2013/01">2013年01月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/12">2012年12月</a><span>(26)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/11">2012年11月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/10">2012年10月</a><span>(18)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/09">2012年09月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/08">2012年08月</a><span>(27)</span></li><li><a href="http://blog.csdn.net/jincm13/article/month/2012/07">2012年07月</a><span>(20)</span></li>
        </div>
    </ul>
</div>
<div id="hotarticls" class="panel">
    <ul class="panel_head"><span>阅读排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="/jincm13/article/details/7861575" title="netscreen&amp;fortinet">netscreen&amp;fortinet</a><span>(5800)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7825754" title="SDN和Openflow flowvisor NOX">SDN和Openflow flowvisor NOX</a><span>(4806)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7839932" title="OpenFlow-建设一个永远不会崩溃的网络">OpenFlow-建设一个永远不会崩溃的网络</a><span>(3754)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7818093" title="以计算为中心的下一代数据中心交换网络">以计算为中心的下一代数据中心交换网络</a><span>(2014)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7790036" title="云界伦语- 戏说云界趣事，喜看云中漫步">云界伦语- 戏说云界趣事，喜看云中漫步</a><span>(1982)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7837943" title="git使用">git使用</a><span>(1790)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8077501" title="虚拟化">虚拟化</a><span>(1743)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8083903" title="cloudstack">cloudstack</a><span>(1640)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7789393" title="八大主流云管理平台对比导购">八大主流云管理平台对比导购</a><span>(1570)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/7818854" title="ASIC：万兆路由的基石">ASIC：万兆路由的基石</a><span>(1357)</span>
        </li>
    </ul>
</div>
<div id="hotarticls2" class="panel">
    <ul class="panel_head"><span>评论排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="/jincm13/article/details/7843800" title="xen架构">xen架构</a><span>(1)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8432057" title="交换机：vlan">交换机：vlan</a><span>(1)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8455083" title="道德经">道德经</a><span>(1)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8035206" title="调试linux内核模块">调试linux内核模块</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8107775" title="Cloud computing with Linux">Cloud computing with Linux</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8135446" title="linux数据结构">linux数据结构</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8153497" title="linux内核内存管理">linux内核内存管理</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8202794" title="中断的上半部和下半部">中断的上半部和下半部</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8207585" title="softirq">softirq</a><span>(0)</span>
        </li>
        <li>
            <a href="/jincm13/article/details/8224483" title="linux内核增加系统调用">linux内核增加系统调用</a><span>(0)</span>
        </li>
    </ul>
</div>
<div id="homepageArticles" class="panel">
    <ul class="panel_head"><span>推荐文章</span></ul>
    <ul class="panel_body" id="ad_commend">
    </ul>
</div>
<script type="text/javascript">
    new Ad(12, 'ad_commend');
</script><div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
    <a href="/jincm13/article/details/8455083#comments">道德经</a>
    <p style="margin:0px;"><a href="/mttsui" class="user_name">mttsui</a>:
大杂烩。
    </p>
    </li>
    <li>
    <a href="/jincm13/article/details/8432057#comments">交换机：vlan</a>
    <p style="margin:0px;"><a href="/xu9920" class="user_name">xu9920</a>:
回帖是美德，也学习到了知识！
    </p>
    </li>
    <li>
    <a href="/jincm13/article/details/7843800#comments">xen架构</a>
    <p style="margin:0px;"><a href="/lujun54nilaopo" class="user_name">lujun54nilaopo</a>:
厉害啊，是把原文翻译过来的吗
    </p>
    </li>
</ul>
</div>
</div>
<div class="clear"></div>
</div>

<div class="clear"></div>
</div>

<script type="text/javascript" src="http://static.blog.csdn.net/scripts/newblog.min.js?v=1.1"></script>
<script type="text/javascript" src="http://medal.blog.csdn.net/showblogmedal.ashx?blogid=1320942"></script>

<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer.js"></script>

<script type="text/javascript" src="http://passport.csdn.net/content/loginbox/login.js"></script>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script>
<script type="text/javascript" src="http://www.csdn.net/ui/scripts/Csdn/counter.js"></script>


<script type="text/javascript" src="http://ad.csdn.net/scripts/ad-blog.js"></script>
</div>
</body>
</html>