<!DOCTYPE html>
<html lang="zh">

<head>
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta charset="utf-8">
	<title>capttofu: MySQL Multi-Master Replication</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	

	<link rel="home" title="Home" href="http://www.livejournal.com/">
	<link rel="contents" title="Site Map" href="http://www.livejournal.com/site/">
	<link rel="help" title="Technical Support" href="http://www.livejournal.com/support/">

	<link rel="apple-touch-icon" href="http://l-stat.livejournal.net/img/apple-touch-icon.png?v=6037">
	
		<!--[if IE]><link rel="shortcut icon" type="image/x-icon" href="http://l-stat.livejournal.net/img/userinfo.ico"><![endif]-->
		<link rel="icon" type="image/gif" href="http://l-stat.livejournal.net/img/userinfo.gif?v=17080">
	

	
	

	

	

	<link rel="stylesheet" type="text/css" href="http://l-stat.livejournal.net/??lj_base.css,lj_base-app.css,lj_base-journal.css,popup/popupus.css,popup/popupus-blue.css,updateform.css,commentmanage.css,spelling.css,journalpromo/journalpromo.css,horizon/layout-adaptive.css?v=1399366039" >
<!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="http://l-stat.livejournal.net/??ie.css,popup/popupus-ie.css?v=1399366039" ><![endif]-->

	
	<meta property="og:description" content="Changing hats Note: I have updated this article as of April 24, 2008 to indicate that you do not have to set auto_increment_increment or auto_increment_offset for the slaves. If you see this in the diagrams, please ignore. The master sets the auto_increment value in it&#39;s binary log which the…" /><meta property="og:image" content="http://pics.livejournal.com/capttofu/pic/000014gt/s640x480" /><meta property="og:title" content="MySQL Multi-Master Replication" /><meta property="og:type" content="website" /><meta property="og:url" content="http://capttofu.livejournal.com/1752.html" /><meta property="twitter:app:id:ipad" content="383091547" /><meta property="twitter:app:id:iphone" content="383091547" /><meta property="twitter:app:name:ipad" content="LiveJournal" /><meta property="twitter:app:name:iphone" content="LiveJournal" /><meta property="twitter:app:url:ipad" content="lj://capttofu.livejournal.com/1752.html" /><meta property="twitter:app:url:iphone" content="lj://capttofu.livejournal.com/1752.html" /><meta property="twitter:card" content="summary" /><meta property="twitter:site" content="@livejournal" /><link href='http://www.livejournal.com/go.bml?journal=capttofu&amp;itemid=1752&amp;dir=prev' rel='Previous' />
<link href='http://www.livejournal.com/go.bml?journal=capttofu&amp;itemid=1752&amp;dir=next' rel='Next' />
<noscript><meta http-equiv="refresh" content="0; url=http://capttofu.livejournal.com/1752.html?nojs=1" /></noscript>

	

	
</head>
<body class="s-horizon p-footer-lite logged-out"  >
	

	<!-- Content Wrapper -->
	<div class="s-content-wrapper">

		

		

		<!-- Header -->
		<header class="s-header" role="banner">

			
				<p class="s-logo">
					<a href="http://www.livejournal.com">
						LiveJournal
					</a>
				</p>
			

			

			

			


			<!-- Navbar -->
			<nav class="s-navbar s-show-local-menu" role="navigation">
				

				<ul class='s-navmenu'>
					
						<li class='s-navmenu-item horizon-menu-home'>
							<a class="s-navmenu-rootlink" href='http://www.livejournal.com/'
							
							><span>Home</span></a>

							
								
							
						</li>
					
						<li class='s-navmenu-item horizon-menu-create'>
							<a class="s-navmenu-rootlink" href='http://www.livejournal.com/create.bml'
							
							>Create an account</a>

							
								
							
						</li>
					
						<li class='s-navmenu-item horizon-menu-explore'>
							<a class="s-navmenu-rootlink" href='http://www.livejournal.com/search/'
							
							>Explore</a>

							
								
									<ul class='s-navmenu-submenu'>
									<li  ><a href='http://www.livejournal.com/interests.bml'>Search by Interest</a></li><li  ><a href='http://www.livejournal.com/schools/'>Search by School</a></li><li  ><a href='http://www.livejournal.com/browse/'>Community Directory</a></li><li  ><a href='http://www.livejournal.com/syn/'>Feeds</a></li><li  ><a href='http://www.livejournal.com/radio/'>FRNK Radio</a></li><li  ><a href='http://www.livejournal.com/latest'>Latest entries</a></li>
									</ul>
								
							
						</li>
					
						<li class='s-navmenu-item horizon-menu-shop'>
							<a class="s-navmenu-rootlink" href='http://www.livejournal.com/shop/'
							
							>Shop</a>

							
								
									<ul class='s-navmenu-submenu'>
									<li  ><a href='http://www.livejournal.com/shop/vgift.bml'>Virtual Gifts</a></li><li  ><a href='http://www.livejournal.com/shop/theme/'>Themes</a></li><li  ><a href='http://www.livejournal.com/shop/userheads.bml'>Custom Userheads</a></li><li  ><a href='http://www.livejournal.com/shop/domain_ru.bml'>Domains RF</a></li>
									</ul>
								
							
						</li>
					
				</ul>

				

			</nav>
			<!--/ Navbar -->

		</header>
		<!--/ Header -->

		
		<!-- Login -->
			<div class="lj_loginform s-login">
				<form method="post" action="https://www.livejournal.com/login.bml?ret=1" id="login" class="lj_login_form">
					
					<input type='hidden' name='mode' value='login'>
					
					<fieldset class="s-login-lj">
						<dl class="s-login-lj-username">
							<dt><label for='login_user'>用户名：</label></dt>
							<dd><input type="text" name="user" size="24" id='login_user' tabindex="1" placeholder="用户名："></dd>
						</dl>
						<dl class="s-login-lj-password">
							<dt><label for='login_password'>密码：</label></dt>
							<dd>
								<input type="password" id="login_password" name="password" size="15" class="lj_login_password" tabindex="2" placeholder="密码：">
								<input type='submit' value="登录" tabindex='3'>
							</dd>
						</dl>
						<dl class="s-login-lj-remember">
							<dt></dt>
							<dd><label><input type="checkbox" name="remember_me" value="1" tabindex="4" /> 记住我</label></dd>
						</dl>
						<dl class="s-login-langs">
							<dt>Change language:</dt>
							<dd>
								<a href="http://www.livejournal.com/manage/settings/?cat=display">
									<ul>
										<li>English</li>
										<li>Español</li>
										<li>Deutsch</li>
										<li>Русский&hellip;</li>
									</ul>
								</a>
							</dd>
						</dl>
					</fieldset>
					<fieldset class="s-login-options">
						<p class="s-login-option"><a href="http://www.livejournal.com/create.bml">开设一个账户</a></p>
						<p class="s-login-option"><a href="http://www.livejournal.com/lostinfo.bml">忘记了您的登录？</a></p>
						<p class="s-login-more"><a href="http://www.livejournal.com/identity/login.bml?type=facebook" title="Facebook" class="i-auth"><img src="http://l-stat.livejournal.net/img/icons/facebook-16.png?v=29916" width="16" height="16" alt="Facebook"></a>
						<a href="http://www.livejournal.com/identity/login.bml?type=twitter" title="Twitter" class="i-auth"><img src="http://l-stat.livejournal.net/img/icons/twitter-16.png?v=29916" width="16" height="16" alt="Twitter"></a>
						<a href="#login-more" class="i-auth i-loginpopup-show"><img src="http://l-stat.livejournal.net/img/icons/showmore.gif?v=11430" width="16" height="16" alt="More login options" /></a></p>
						<div class="b-loginpopup" id="login-more">
							<ul class="b-loginpopup-items">
								<li class="b-loginpopup-item">
									<a href="http://www.livejournal.com/identity/login.bml?type=openid" title="使用OpenID登录"><img src="http://l-stat.livejournal.net/img/icons/openid-16.gif?v=17127" width="16" height="16" alt="使用OpenID登录" />使用OpenID登录</a>
								</li>
								<li class="b-loginpopup-item">
									<a href="http://www.livejournal.com/identity/login.bml?type=google" title="Google"><img src="http://l-stat.livejournal.net/img/icons/google-16.png?v=35137" width="16" height="16" alt="Google" />Google</a>
								</li>
								<li class="b-loginpopup-item">
									<a href="http://www.livejournal.com/identity/login.bml?type=mailru" title="Mail.Ru"><img src="http://l-stat.livejournal.net/img/icons/mailru-16.gif?v=11910" width="16" height="16" alt="Mail.Ru" />Mail.Ru</a>
								</li>
								<li class="b-loginpopup-item">
									<a href="http://www.livejournal.com/identity/login.bml?type=vkontakte" title="VKontakte"><img src="http://l-stat.livejournal.net/img/icons/vkontakte-16.png?v=29916" width="16" height="16" alt="VKontakte" />VKontakte</a>
								</li>
							</ul>
						</div>
					</fieldset>
				</form>
			</div>
		<!--/ Login -->
		

		

		<!-- Content -->
		<div class="s-content">

			

				

				

				

				

				

				

				

				<!-- Text Wrapper -->
				<div class='s-text-wrapper ' style='margin-right: px; height: 1%'>

					

					


					<article class="b-singlepost" role="main" ng-app="Entry"> <div class="b-singlepost-about"> <dl class="b-singlepost-author" ng-non-bindable> <dt class="b-singlepost-author-userpic">  <img src="http://l-userpic.livejournal.com/75998983/1097289" width="93" height="100" align="absmiddle" title="Patrick Galbraith: pic#75998983" alt="">  </dt> <dd class="b-singlepost-author-userinfo"> Patrick Galbraith(<span  class="ljuser  i-ljuser  i-ljuser-type-P    "  lj:user="capttofu" ><a href="http://capttofu.livejournal.com/profile"  target="_self"  class="i-ljuser-profile" ><img  class="i-ljuser-userhead"  src="http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2" /></a><a href="http://capttofu.livejournal.com/" class="i-ljuser-username"   target="_self"   ><b>capttofu</b></a></span>)写了,<br/> <span class="b-singlepost-author-date"><a href="http://capttofu.livejournal.com/2007/">2007</a>-<a href="http://capttofu.livejournal.com/2007/02/">02</a>-<a href="http://capttofu.livejournal.com/2007/02/23/">23</a> 13:19:00</span> </dd> </dl> <div class="b-singlepost-standout"> <ul class="b-linkbar" ng-controller="LinkbarCtrl">  <li class="b-linkbar-item"   ><a href="http://www.livejournal.com/go.bml?journal=capttofu&amp;itemid=1752&amp;dir=prev" rel="nofollow" title="Previous" class="b-controls b-controls-prev"><i class="b-controls-bg"></i>Previous</a> </li>  <li class="b-linkbar-item"  lj-bubble="{ name: 'share', template: 'share.ng.tmpl', disableClick: true }" >
            <a href="#" rel="nofollow" title="Share" class="b-controls b-controls-share js-lj-share" data-text="%20Changing%20hats%20%20%20%20Note%3A%20I%20have%20updated%20this%20article%20as%20of%20April%2024,%202008%20to%20indicate%20that%20you%20do%20%20not%20have%20to%20set%20auto_increment_increment%20or%20auto_increment_offset%20for%20the%20slaves.%20If%20you%20see%20this%20in%20the%20diagrams,%20please%20ignore.%20%20%20The%20master%20sets%20the%E2%80%A6" data-ditemid="1752" data-poster="capttofu" data-hashtags="replication,mysql,logslaveupdates,feeds,databases,grazr,multimasterreplication" data-title="MySQL%20Multi-Master%20Replication" data-url="http%3A%2F%2Fcapttofu.livejournal.com%2F1752.html">
                <i class="b-controls-bg"></i>Share
            </a>
         </li>  <li class="b-linkbar-item"   ><a href="http://www.livejournal.com/go.bml?journal=capttofu&amp;itemid=1752&amp;dir=next" rel="nofollow" title="Next" class="b-controls b-controls-next"><i class="b-controls-bg"></i>Next</a> </li>  </ul> </div> </div>    <div class="b-singlepost-wrapper" ng-non-bindable>    <h1 class="b-singlepost-title">     MySQL Multi-Master Replication  </h1>  <article class="b-singlepost-body"> <h3>Changing hats</h3><br /><br /><i><br />Note: I have updated this article as of April 24, 2008 to indicate that you do <b>not</b> have to set auto_increment_increment or auto_increment_offset for the slaves. If you see this in the diagrams, please ignore. <br /><br />The master sets the auto_increment value in it's binary log which the slave reads via replication. I may write an update to this article at some point soon.<br /></i><br /><br />I have put on the hat of a MySQL user, a customer, as opposed to a developer (Federated Storage Engine, DBD::mysql) these last couple months with my new employer, <a href="http://grazr.com" rel="nofollow">Grazr</a>. One of the things we need is a whole replication set-up, with read-only slaves, and write masters. Thats master(s), with an 's', plural. We need a set-up where we have two data centers. In each of the data centers, there is a master and its slaves, all on the same network. That master needs to replicate to another slave, which is also a master, in its own data center, where it has its own slaves. The idea is that the web servers running mod_perl applications in each data center send all their read-only queries to slaves running on the same server, and all write-only queries to the master in that data center.<br /><br />How does one go about setting up a multi-master replication scheme, also having slaves in the mix? There are several articles online pertaining to how to set up 'multi-master' replication. It seems though, that they are tailored for 'circular' or 'ring' replication. One of my favorites is Giuseppe Maxia's <a href="http://www.onlamp.com/pub/a/onlamp/2006/04/20/advanced-mysql-replication.html" rel="nofollow">article</a> at ONLamp which I followed in setting up our replication scheme.<br /><br /><h3>First step: Set up MySQL multi-master replication (circular replication with two nodes)</h3><br /><br />My first step, as is the first step in Giuseppe's article, is to set up a two node circular replication. This was surprisingly easy, though I did have to learn more about replication than I thought I previously knew, to troubleshoot issues that I encountered.<br /><br />This involved two main db servers, each in a different data center, one in Michigan, and one in New York. I installed MySQL 5.0 from source (I always like to use <mysql source="source" dir="dir">/BUILD/compile-* scripts to build). Next, I configured MySQL's my.cnf file to use the tuning setup from ./support-files, the my-medium.cnf, which should give us good tuning parameters for our load at this point. Then I added the pieces necessary for replication:<br /><br /><code><br />server-id               = 1<br />log-bin                 = /usr/local/mysql/var/bin.log<br />log-slave-updates<br />log-bin-index           = /usr/local/mysql/var/log-bin.index<br />log-error               = /usr/local/mysql/var/error.log<br /><br />relay-log               = /usr/local/mysql/var/relay.log<br />relay-log-info-file     = /usr/local/mysql/var/relay-log.info<br />relay-log-index         = /usr/local/mysql/var/relay-log.index<br /><br />auto_increment_increment      = 10<br />auto_increment_offset         = 1<br />master-host                     = &lt;other master hostname&gt;<br />master-user                     = &lt;replication username&gt;<br />master-password                 = &lt;replication password&gt;<br /><br />replicate-do-db                 = somedbname1<br />replicate-do-db                 = somedbname2<br /></code><br /><br />I only wanted to replicate two databases, or in other terms, schemas, so I listed them as the example shows with replicate-do-db. Since I intend on allowing for various nodes to be added, I set auto_increment_increment to 10, which will allow for 10 different servers, all of which could be read-write masters if I wanted them to be. In this case, my plan is only for 2, so this will give me a lot of room to grow.<br /><br />For the second master, I used the same settings except:<br /><br /><code><br />auto_increment_offset   = 2<br />server-id               = 2<br />master-host             = &lt;master hostname for firsts db&gt;<br />master-user             = &lt;replication username&gt;<br />master-password         = &lt;replication password&gt;<br /></code><br /><br />I then started up both databases. At that point, I tried to create one of the schemas I planned to replicate from the first master server, but had already created it on the second master server, so saw that there was an error in 'show slave status' telling me that the database already existed on the second server. I simply stopped both databases, deleted all the binary and relay logs, as well as the master log index:<br /><code><br />rm bin.00000* error.log log-bin.index master.info relay*<br /></code><br />From within the data directory. This is the crude way you clear an error. For me, I was able to do this since I was setting up the replication scheme for the first time. There are probably more elegant ways to do this, but this is somewhat new to me because like I said, I was more of a developer vs. user! I then restarted both databases. Since both servers now already had the schema created, I was able to simply create all the tables I wanted to on the first server. I was overjoyed to see those tables replicated to the second server! I then created a simple test table<br /><br /><code><br />mysql&gt; create table mytest (a int auto_increment not null primary key, b varchar(32));<br />Query OK, 0 rows affected (0.01 sec)<br /><br />mysql&gt; insert into mytest (b) values ('database1, first insert');<br />Query OK, 1 row affected (0.00 sec)<br /><br />mysql&gt; select * from mytest;<br />+---+-------------------------+<br />| a | b                       |<br />+---+-------------------------+<br />| 1 | database1, first insert |<br />+---+-------------------------+<br />1 row in set (0.00 sec)<br /></code><br /><br />I was happy to see the first value for 'a' column was 1. Now, to the second master<br /><br /><code><br />mysql&gt; select * from mytest;<br /><br />+---+-------------------------+<br />| a | b                       |<br />+---+-------------------------+<br />| 1 | database1, first insert |<br />+---+-------------------------+<br />1 row in set (0.00 sec)<br /><br />mysql&gt; insert into mytest (b) values ('database2, first insert');<br />Query OK, 1 row affected (0.00 sec)<br /><br />mysql&gt; select * from mytest;<br />+---+-------------------------+<br />| a | b                       |<br />+---+-------------------------+<br />| 1 | database1, first insert |<br />| 2 | database2, first insert |<br />+---+-------------------------+<br />2 rows in set (0.00 sec)<br /><br />mysql&gt; insert into mytest (b) values ('database2, second insert');<br />Query OK, 1 row affected (0.00 sec)<br /><br />mysql&gt; select * from mytest;<br />+----+--------------------------+<br />| a  | b                        |<br />+----+--------------------------+<br />|  1 | database1, first insert  |<br />|  2 | database2, first insert  |<br />| 12 | database2, second insert |<br />+----+--------------------------+<br />3 rows in set (0.00 sec)<br /><br /></code><br /><br />Hooray! Record from the first server was there, and subsequent inserts gave me auto_increment values that were correct! Again, to the first server<br /><br /><code><br />mysql&gt; insert into mytest (b) values ('database1, second insert');<br />Query OK, 1 row affected (0.00 sec)<br /><br />mysql&gt; select * from mytest;<br />+----+--------------------------+<br />| a  | b                        |<br />+----+--------------------------+<br />|  1 | database1, first insert  |<br />|  2 | database2, first insert  |<br />| 12 | database2, second insert |<br />| 21 | database1, second insert |<br />+----+--------------------------+<br /></code><br /><br />Excellent! Multi-master replication is working! I feel elated!<br /><br />Here is a image (omnigraph was crashing upon export, so I used grab)<br /><br /><br /><a href="http://pics.livejournal.com/capttofu/pic/000014gt" alt="replication, first stage" rel="nofollow"><br /><img src="http://pics.livejournal.com/capttofu/pic/000014gt/s640x480" border="0" width="640" height="163"></a><br /><br /><h3>Step 2: Add a slave</h3><br /><br />The next step, is to add a slave to replicate from the first server. I decided, since this is a slave of the first server, which is server-id 1, to use server-id 3 for this new slave. For any slaves I add to the second server, I'll then add even server-ids. This seems very logical and easy to keep track of, because I can make the server-id and offset the same. Even though these are read-only slaves, I'll still use the offset. So my my.cnf file for slave server-id 3 looks like this:<br /><br /><code><br />server-id                 = 3<br />master-host               = &lt;master hostname for firsts db&gt;<br />master-user               = &lt;replication username&gt;<br />master-password           = &lt;replication password&gt;<br /><br /></code><br /><br />I do a backup of the first master's data<br /><br /><code><br /> mysqldump -u someuser dbtoreplicate&gt; dbtoreplicate.sql<br /></code><br /><br />and record the bin log file name and position<br /><br /><code><br />mysql&gt; show master status;<br />+------------+----------+--------------+<wbr />------------------+<br />| File       | Position | Binlog_Do_DB | Binlog_Ignore_DB |<br />+------------+----------+--------------+<wbr />------------------+<br />| bin.000002 |     1105 |              |                  |<br />+------------+----------+--------------+<wbr />------------------+<br /></code><br /><br />Then, on the slave, start the db, then load the dump (which I scp from the first master to the slave)<br /><br /><code><br />mysql -usomeuser dbtoreplicate &lt; dbtoreplicate.sql<br /></code><br /><br />Then set the slave to the correct binary log and position<br /><br /><code><br />mysql&gt; stop slave;<br />Query OK, 0 rows affected (0.00 sec)<br /><br />mysql&gt; change master to MASTER_HOST='firstmaster.mydomain.com', MASTER_USER='replicationuser', MASTER_PASSWORD='replicationpass', MASTER_LOG_FILE='bin.000002', MASTER_LOG_POS=1105;<br />Query OK, 0 rows affected (0.02 sec)<br /><br />mysql&gt; start slave;<br />Query OK, 0 rows affected (0.00 sec)<br /><br />mysql&gt; show slave status;<br /><br />| Slave_IO_State                   | Master_Host   | Master_User | Master_Port | Connect_Retry | Master_Log_File | Read_Master_Log_Pos | Relay_Log_File | Relay_Log_Pos | Relay_Master_Log_File | Slave_IO_Running | Slave_SQL_Running | Replicate_Do_DB     | Replicate_Ignore_DB | Replicate_Do_Table | Replicate_Ignore_Table | Replicate_Wild_Do_Table | Replicate_Wild_Ignore_Table | Last_Errno | Last_Error | Skip_Counter | Exec_Master_Log_Pos | Relay_Log_Space | Until_Condition | Until_Log_File | Until_Log_Pos | Master_SSL_Allowed | Master_SSL_CA_File | Master_SSL_CA_Path | Master_SSL_Cert | Master_SSL_Cipher | Master_SSL_Key | Seconds_Behind_Master |<br /><br />| Waiting for master to send event | firstmaster.mydomain.com | replicationuser |        3306 |            60 | bin.000002      |                1105 | relay.000002   |           229 | bin.000002            | Yes              | Yes               | dbtoreplicate |                     |                    |                        |                         |                             |          0 |            |            0 |                1105 |             229 | None            |                |             0 | No                 |                    |                    |                 |                   |                |                     0 |<br /><br /></code><br /><br />I then insert data from the first master<br /><br /><code><br />mysql&gt; insert into mytest (b) values ('database1, third insert');<br />Query OK, 1 row affected (0.00 sec)<br /></code><br /><br />Check it on the slave<br /><br /><code><br />mysql&gt; select * from mytest;<br />+----+--------------------------+<br />| a  | b                        |<br />+----+--------------------------+<br />|  1 | database1, first insert  |<br />|  2 | database2, first insert  |<br />| 12 | database2, second insert |<br />| 21 | database1, second insert |<br />| 31 | database1, third insert  |<br />+----+--------------------------+<br />5 rows in set (0.00 sec)<br /></code><br /><br />Hooray! It's working! Now to insert from the second master<br /><br /><code><br />mysql&gt; insert into mytest (b) values ('database2, third insert');<br />Query OK, 1 row affected (0.00 sec)<br /></code><br /><br />Check it on the slave<br /><br /><code><br />mysql&gt; select * from mytest;<br />+----+--------------------------+<br />| a  | b                        |<br />+----+--------------------------+<br />|  1 | database1, first insert  |<br />|  2 | database2, first insert  |<br />| 12 | database2, second insert |<br />| 21 | database1, second insert |<br />| 31 | database1, third insert  |<br />+----+--------------------------+<br />5 rows in set (0.00 sec)<br /></code><br /><br />What?! Where's the data from the second master? Look at the first master<br /><br /><code><br />mysql&gt; select * from mytest;<br />+----+--------------------------+<br />| a  | b                        |<br />+----+--------------------------+<br />|  1 | database1, first insert  |<br />|  2 | database2, first insert  |<br />| 12 | database2, second insert |<br />| 21 | database1, second insert |<br />| 31 | database1, third insert  |<br />| 32 | database2, third insert  |<br />+----+--------------------------+<br />6 rows in set (0.00 sec)<br /></code><br /><br />So, the first master at least has the data inserted from the second master. Why is the slave (server-id 3) not getting data from the second master? Time to look at the binary logs on the first master, which the slave uses to obtain data from<br /><code><br />#070223 11:58:28 server id 1  end_log_pos 1105  Query   thread_id=9     exec_time=0     error_code=0<br />SET TIMESTAMP=1172249908;<br />flush tables;<br /># at 1105<br />#070223 12:01:41 server id 1  end_log_pos 1133  Intvar<br />SET INSERT_ID=31;<br /># at 1133<br />#070223 12:01:41 server id 1  end_log_pos 1268  Query   thread_id=9     exec_time=0     error_code=0<br />SET TIMESTAMP=1172250101;<br />insert into mytest (b) values ('database1, third insert');<br /># End of log file<br />ROLLBACK /* added by mysqlbinlog */;<br />/*!50003 SET COMPLETION_TYPE=@OLD_COMPLETION_TYPE*/;<br /></code><br /><br />So, we see the insert query that we issued from first master that was successfully replicated to the slave is there, but why not the insert query that we issued from the second master? I look online and can't really find this out. After talking to <a href="http://krow.livejournal.com" rel="nofollow">Brian Aker</a>, he finds the option "log-slave-updates", which ensures the slave's updates are logged to the binary log. The second master is a slave of the first master, so we need its updates. So, I enable this on both masters, adding it to the my.cnf of both.<br /><br /><code><br />log-slave-updates<br /></code><br /><br />On the masters, restart the servers with the new my.cnf setting, dump the data for the schema I want to replicate again. I check master status to get binary log name and position<br /><code><br />mysql&gt; show master status;<br />+------------+----------+--------------+<wbr />------------------+<br />| File       | Position | Binlog_Do_DB | Binlog_Ignore_DB |<br />+------------+----------+--------------+<wbr />------------------+<br />| bin.000003 |       98 |              |                  |<br />+------------+----------+--------------+<wbr />------------------+<br /></code><br /><br />On the slave, I stop the slave<br /><code><br />mysql&gt; stop slave ;<br />Query OK, 0 rows affected (0.00 sec)<br /></code><br /><br />Load the data<br /><code><br />mysql -usomeuser dbtoreplicate &lt; dbtoreplicate.sql<br /></code><br /><br />Change the slave to the new log file and position and restart the slave<br /><code><br />mysql&gt; change master to MASTER_HOST='firstmaster.mydomain.com', MASTER_USER='remote', MASTER_PASSWORD='remote', MASTER_LOG_FILE='bin.000003', MASTER_LOG_POS=98;<br />Query OK, 0 rows affected (0.02 sec)<br />mysql&gt; start slave;<br />Query OK, 0 rows affected (0.00 sec)<br /><br />mysql&gt; show slave status;<br /><br />        | Slave_IO_State                   | Master_Host   | Master_User | Master_Port | Connect_Retry | Master_Log_File | Read_Master_Log_Pos | Relay_Log_File | Relay_Log_Pos | Relay_Master_Log_File | Slave_IO_Running | Slave_SQL_Running | Replicate_Do_DB     | Replicate_Ignore_DB | Replicate_Do_Table | Replicate_Ignore_Table | Replicate_Wild_Do_Table | Replicate_Wild_Ignore_Table | Last_Errno | Last_Error | Skip_Counter | Exec_Master_Log_Pos | Relay_Log_Space | Until_Condition | Until_Log_File | Until_Log_Pos | Master_SSL_Allowed | Master_SSL_CA_File | Master_SSL_CA_Path | Master_SSL_Cert | Master_SSL_Cipher | Master_SSL_Key | Seconds_Behind_Master |<br />        <br />| Waiting for master to send event | firstmaster.mydomain.com | replicationuser |        3306 |            60 | bin.000003      |                  98 | relay.000002   |           229 | bin.000003            | Yes              | Yes               | dbtoreplicate |                     |                    |                        |                         |                             |          0 |            |            0 |                  98 |             229 | None            |                |             0 | No                 |                    |                    |                 |                   |                |                     0 |<br /><br /><br />mysql&gt; select * from mytest;<br />+----+--------------------------+<br />| a  | b                        |<br />+----+--------------------------+<br />|  1 | database1, first insert  |<br />|  2 | database2, first insert  |<br />| 12 | database2, second insert |<br />| 21 | database1, second insert |<br />| 31 | database1, third insert  |<br />| 32 | database2, third insert  |<br />+----+--------------------------+<br />6 rows in set (0.00 sec)<br /></code><br /><br />The next step is to make sure replication is running and hope that this new setting makes replication work to this slave from both masters<br /><br />On the first master<br /><code>mysql&gt; insert into mytest (b) values ('database1, fourth insert');</code><br /><br />On the second master<br /><code>mysql&gt; insert into mytest (b) values ('database2, fourth insert');</code><br /><br />On the slave<br /><code><br />mysql&gt; select * from mytest;<br />+----+--------------------------+<br />| a  | b                        |<br />+----+--------------------------+<br />|  1 | database1, first insert  |<br />|  2 | database2, first insert  |<br />| 12 | database2, second insert |<br />| 21 | database1, second insert |<br />| 31 | database1, third insert  |<br />| 32 | database2, third insert  |<br />| 41 | database1, fourth insert |<br />| 42 | database2, fourth insert |<br />+----+--------------------------+<br />8 rows in set (0.00 sec)<br /></code><br /><br />HOORAY! It works it works! He likes it he likes it he likie! So, it's the one magical setting - "<b>log-slave-updates</b>". Mark <b>that</b> in your book!<br /><br />Here is the final diagram of the setup:<br /><br /><br /><a href="http://pics.livejournal.com/capttofu/pic/00003988" alt="Replication Final Setup" rel="nofollow"><br /><img src="http://pics.livejournal.com/capttofu/pic/00003988/s640x480" border="0" width="640" height="402"></a><br /><br /><h3>Summary</h3><br /><br />MySQL replication is quite simple, in the scope of all the various things I have dealt with in my career, to set up. There are just a couple things that could be stressed (perhaps they are and I missed it), like the issue of "log-slave-updates", which could have really saved time. I'm one who likes to see examples. It's one thing to read of how to do a basic setup, and how replication works, but examples, at least for me, are the best way to learn things. The other things I would like to know more about are tools for measuring how well replication is working, as well as monitoring. More reading to do!<br /><br />Credit: Thanks to Giuseppe's article, Brian's help, this was possible!<br /><br />So, now all I have to do it add slaves, and all should work, right? ;) </article>  <div class="b-singlepost-tags ljtags"> <strong>Tags:</strong> <a href='http://capttofu.livejournal.com/tag/databases'>databases</a>, <a href='http://capttofu.livejournal.com/tag/feeds'>feeds</a>, <a href='http://capttofu.livejournal.com/tag/grazr'>grazr</a>, <a href='http://capttofu.livejournal.com/tag/log-slave-updates'>log-slave-updates</a>, <a href='http://capttofu.livejournal.com/tag/multi-master%20replication'>multi-master replication</a>, <a href='http://capttofu.livejournal.com/tag/mysql'>mysql</a>, <a href='http://capttofu.livejournal.com/tag/replication'>replication</a> </div>  </div>   <div class="b-singlepost-prevnext"> <span class="b-singlepost-prevnext-drag"></span> <ul class="b-singlepost-prevnext-items">  <li class="b-singlepost-prevnext-item b-singlepost-prevnext-prev"> <span class="b-singlepost-prevnext-author"><span  class="ljuser  i-ljuser  i-ljuser-type-P    "  lj:user="capttofu" ><a href="http://capttofu.livejournal.com/profile"  target="_self"  class="i-ljuser-profile" ><img  class="i-ljuser-userhead"  src="http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2" /></a><a href="http://capttofu.livejournal.com/" class="i-ljuser-username"   target="_self"   ><b>capttofu</b></a></span>:</span> <a href="http://capttofu.livejournal.com/1236.html" class="b-singlepost-prevnext-link"  title=""Patrick", not "Pat""  ><span class="b-singlepost-prevnext-arrow">&larr;</span><span class="b-singlepost-prevnext-inner">"Patrick", not "Pat"</span></a> </li>   <li class="b-singlepost-prevnext-item b-singlepost-prevnext-next"> <span class="b-singlepost-prevnext-author"><span  class="ljuser  i-ljuser  i-ljuser-type-P    "  lj:user="capttofu" ><a href="http://capttofu.livejournal.com/profile"  target="_self"  class="i-ljuser-profile" ><img  class="i-ljuser-userhead"  src="http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2" /></a><a href="http://capttofu.livejournal.com/" class="i-ljuser-username"   target="_self"   ><b>capttofu</b></a></span>:</span> <a href="http://capttofu.livejournal.com/2023.html" class="b-singlepost-prevnext-link"  title="DBD::mysql 4.003 Released!"  ><span class="b-singlepost-prevnext-arrow">&rarr;</span><span class="b-singlepost-prevnext-inner">DBD::mysql 4.003 Released!</span></a> </li>  </ul> </div>   <div  id="comments"  class=" b-grove b-grove-hover  ljtimes-disabled    " data-authtoken="c0:1399856400:2782:86400:gdAkMNSVgJ-0-:95be1e7a7eee6ea890fcb63ee62ba61e"> <div class="b-xylem b-xylem-first"> <ul class="b-xylem-cells">  <li class="b-xylem-cell b-xylem-cell-add">  <a class="b-addcomment" href="http://capttofu.livejournal.com/1752.html?mode=reply#add_comment"><span class="b-addcomment-inner"><i class="b-addcomment-icon"></i>发表新的评论</span></a>   <div class=" b-watering  b-watering-trueauth-anonymous b-watering-realauth-anonymous b-watering-authtype-anonymous     b-watering-user-notafriend b-watering-user-regonly            "> <form action="http://www.livejournal.com/talkpost_do.bml" method="post" id="postform"> <div class="b-watering-wrapper"> <input type='hidden' name="journal" value="capttofu" /> <input type='hidden' name="itemid" value="1752" /> <input type='hidden' name="response" value="" /> <input type='hidden' name="lj_form_auth" value="c0:1399856400:2782:86400:gdAkMNSVgJ-0-:95be1e7a7eee6ea890fcb63ee62ba61e" id="lj_form_auth" /> <input type='hidden' name="chrp1" value="1752-1097289-1399856400-E7HafcUJPngMLeRIhhE7-16fa7cf07d3dec0d63f779b61a768a36" /> <input type='hidden' name="chal" value="c0:1399856400:2782:900:SVjutvcMUJbEMQIkATQS:f1d851033efd7b6a8b0ea355f036c523" /> <input type='hidden' name="cookieuser" value="" /> <input type='hidden' name="replyto" value="0" id="replyto" /> <input type='hidden' name="parenttalkid" value="0" id="parenttalkid" /> <input type='hidden' name="editid" value="0" /> <input type='hidden' name="json" value="0" /> <input type='hidden' name="talkpost_do" value="0" /> <input type='hidden' name="subject" /> <input type='hidden' name="stylemine" value="0" /> <input type='hidden' name="viewing_thread" value="" id="viewing_thread" /> <div class="b-msgsystem-errorbox"> <h4 class="b-msgsystem-errorbox-head">Error</h4> <p class="b-msgsystem-error b-msgsystem-error-ajax"></p>          <p class="b-msgsystem-error b-msgsystem-error-regonly">Anonymous comments are disabled in this journal</p>   </div> <div class="b-watering-outer"> <div class="b-watering-fields"> <div class="b-watering-inner"> <div class="b-watering-user"> <div class="b-watering-user-login"> <ul class="b-watering-user-login-items">   <li class="b-watering-user-login-item b-watering-user-login-letidor">  <input name="usertype" value="letidor"  id="letidor" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">    </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-user">  <input name="usertype" value="user"  id="user" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>  <span class="b-watering-user-login-details"> <input placeholder="Username" name="userpost" type="text" tabindex="25" autocomplete="off" class="auth-input"> <input placeholder="Password" name="password" type="password" tabindex="25" autocomplete="off" class="auth-input"> </span>  </li>    <li class="b-watering-user-login-item b-watering-user-login-facebook">  <input name="usertype" value="facebook"  id="facebook" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-twitter">  <input name="usertype" value="twitter"  id="twitter" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-openid">  <input name="usertype" value="openid"  id="openid" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  <input id="openid" name="openid:url" placeholder="openid" type="text"  tabindex="25" autocomplete="off" class="auth-input">  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-google">  <input name="usertype" value="google"  id="google" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-mailru">  <input name="usertype" value="mailru"  id="mailru" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-vkontakte">  <input name="usertype" value="vkontakte"  id="vkontakte" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-anonymous">  <input name="usertype" value="anonymous" checked id="anonymous" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  Anonymously  </span>   </li>   </ul> </div> <div class="b-watering-user-options">  <a href="javascript:void(0);" class="b-watering-user-change b-pseudo" tabindex="10">switch</a>  <div class="b-watering-user-services"> <ul class="b-watering-user-services-items">  <li class="b-watering-user-services-item b-watering-user-services-letidor"> <a href="#letidor" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name"></span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-user"> <a href="#user" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">LiveJournal</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-facebook"> <a href="#facebook" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">Facebook</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-twitter"> <a href="#twitter" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">Twitter</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-openid"> <a href="#openid" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">OpenId</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-google"> <a href="#google" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">Google</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-mailru"> <a href="#mailru" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">MailRu</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-vkontakte"> <a href="#vkontakte" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">VKontakte</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-anonymous"> <a href="#anonymous" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">Anonymously</span> </a> </li>  </ul> </div>   </div> </div> <div class="  b-ljuserpic   b-ljuserpic-nopics  ">  <input type="hidden" name="prop_picture_keyword" id="prop_picture_keyword" value="">  <span class="b-ljuserpic-default">default userpic</span> <div class=" b-myuserpic  b-myuserpic-anonymous "> <a href="javascript:void(0);" class="b-myuserpic-current"  data-nodefpic="url(http://l-stat.livejournal.net/img/userpics/userpic-user.png?v=15821)" data-nodeflabel="default userpic"  style="background-image: url(  http://l-stat.livejournal.net/img/userpics/userpic-anonymous.png?v=15821  );" tabindex="30"></a>  </div> </div> <div class=" b-updateform lj-widget " data-widget="commentsFormToolbar" ng-controller="EditorCtrl" > <div class="b-updateform-bar">  <ul class=" b-updateform-buttons b-updateform-buttons-firstsection " >   <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-bold " title="Insert Bold" tabindex="151"  ng-click="formattingAction($event, 'bold')"  > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Bold</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-italic " title="Insert Italic" tabindex="151"  ng-click="formattingAction($event, 'italic')"  > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Italic</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-underline " title="Insert Underline" tabindex="151"  ng-click="formattingAction($event, 'underline')"  > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Underline</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-strikethrough " title="Insert Strikethrough" tabindex="151"  ng-click="formattingAction($event, 'strikethrough')"  > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Strikethrough</span> </a> </li>             </ul> <ul class=" b-updateform-buttons b-updateform-buttons-secondsection " >           <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-link " title="Insert Link" tabindex="151"   lj-bubble="{ name: 'link' }"  > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Link</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-user " title="Insert LJ User" tabindex="151"  ng-click="userClick($event)" lj-bubble="{ name: 'user' , disableClick: true}"  > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert LJ User</span> </a> </li>         </ul> <ul class=" b-updateform-buttons b-updateform-buttons-thirdsection " >               <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-photo " title="Insert Photo" tabindex="151"   lj-bubble="{ name: 'photouploader', template: 'photouploader.ng.tmpl', alwaysBottom: true }"   > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Photo</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-video " title="Insert Media" tabindex="151"   lj-bubble="{ alwaysBottom: true, name: 'video' }"   > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Media</span> </a> </li>     </ul> <ul class=" b-updateform-buttons b-updateform-buttons-aside " >                   <li class="b-updateform-buttons-item">  <a href="javascript:void(0);" class=" b-updateform-button b-updateform-button-spell " ng-class="{ 'active': spellcheck }" title="Spell check" tabindex="151" ng-click="toggleSpellcheck($event);" > <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Spell check</span> </a>  </li>   </ul> </div> <textarea ng-non-bindable name="body" id="body" cols="60" rows="10" class="b-updateform-textarea" tabindex="50" autocomplete="off"  ></textarea> </div> <div class="b-watering-msgbox">      </div>  <div class="b-watering-captchabox" id="captcha-container" ng-non-bindable>  </div> <div class="b-watering-submit"> <div class="b-ljbutton b-ljbutton-submit"> <button type="submit" name="submitpost" tabindex="80">发表新的评论</button> </div> </div> </div> </div> <div class="b-watering-aside"> <div class="b-watering-help"> <a href="http://www.livejournal.com/support/faq/46.html" class="b-watering-help-link" target="_blank"><i class="b-watering-help-icon"></i>Help</a> </div> </div> </div> </div> <script type="text/ng-template" id="link.html"> <div class="b-updateform-bubble-wrapper" ng-controller="LinkCtrl" ng-class="{ 'b-updateform-bubble-link-empty': !link }" > <form ng-submit="insertOrSave($event)"> <div class="b-updateform-bubble-link-fields"> <label for="updateform-link-url"> Link </label><br> <input type="text" id="updateform-link-url" size="50" value="" focus-and-select="show" ng-model="link" class="b-updateform-bubble-input"><br>  <span class="b-updateform-bubble-option"> <input type="checkbox" id="updateform-link-target" class="b-updateform-bubble-checkbox" tabindex="50" checked ng-model="newWindow" ng-change="saveOption()" ng-disabled="!link"> <label for="updateform-link-target" class="b-updateform-bubble-option-label"> open in new window </label> </span> </div> <div class="b-updateform-bubble-link-button"> <div class=" b-ljbutton b-ljbutton-delete " ng-show="showUnlink" ng-click="unlink()"> <button type="button"> Remove all links in selection </button> </div> <div class=" b-ljbutton b-ljbutton-submit b-ljbutton-disabled "> <button type="submit" lj-disabled="!link"> {{ bubble.options.editMode ? 'Save' : 'Insert' }} </button> </div> </div> </form> </div> </script> <script id="tmpl-updateform-photo" type="text/html"> <i class="b-updateform-bubble-bg"></i> <div class="b-updateform-bubble-wrapper"> <div class="b-updateform-bubble-photo-pic"><span class="b-updateform-bubble-photo-inner"><img src="http://l-stat.livejournal.net/img/spacer.gif?v=13339" alt="" class="b-updateform-bubble-photo-preview"></span></div> <div class="b-updateform-bubble-photo-fields"><label for="updateform-bubble-photo-url">Photo</label><br><input type="text" id="updateform-photo-url" size="50" value="" class="b-updateform-bubble-input"><br><span class="b-updateform-bubble-hint">Hint&nbsp;<span class="b-pseudo b-updateform-bubble-example">http://pics.livejournal.com/igrick/pic/000r1edq</span></span></div> <div class="b-updateform-bubble-photo-button"><div class="b-ljbutton b-ljbutton-submit b-ljbutton-disabled"><button name="submitpost" type="button" disabled="disabled">Insert</button></div></div> </div> </script> <script type="text/ng-template" id="video.html"> <div class="b-updateform-bubble-wrapper" ng-controller="MediaCtrl"> <div class="b-updateform-bubble-video-fields"> <label for="updateform-video-url"> Media </label><br> <textarea rows="5" cols="60" id="updateform-video-url" class="b-updateform-bubble-input" ng-model="media" focus-and-select="show" ></textarea> <span class="b-updateform-bubble-hint" ng-click="setHint($event)"> Embed, iframe, <a href="http://www.youtube.com/watch?v=-LMebrVm-uU" target="_blank">YouTube</a>, <a href="http://rutube.ru/video/70c4508fead154868d5cf5207109169a" target="_blank"">RuTube</a>, <a href="http://vimeo.com/59545564" target="_blank">Vimeo</a>, <a href="http://vine.co/v/bjHh0zHdgZT" target="_blank">Vine</a>, <a href="http://instagram.com/p/ayfd2QSm29/" target="_blank">Instagram</a> or <a href="https://gist.github.com/agentcooper/3645027">Gist.GitHub</a>. </span> </div> <div class="b-updateform-bubble-video-button"> <div class="b-ljbutton b-ljbutton-submit"> <button type="button" lj-disabled="!media" ng-click="insert()"> Insert </button> </div> </div> </div> </script> <script type="text/ng-template" id="user.html"> <div class="b-updateform-bubble-wrapper" ng-controller="UserCtrl" ng-class="{ 'b-updateform-bubble-user-edit': bubble.options.fromRte, 'b-updateform-bubble-error': error }"> <div class="b-updateform-bubble-user-fields"> <label for="updateform-bubble-user-name"> User </label><br> <span class="b-updateform-bubble-input-wrapper b-updateform-bubble-input-username"> <input type="text" id="updateform-bubble-user-name" size="30" maxlength="15" value="" class="b-updateform-bubble-input" ng-model="user" focus-and-select="show"> <i class="b-updateform-bubble-input-pic"></i> </span> <span class="b-updateform-bubble-hint"> Example:&nbsp; <span class="b-pseudo b-updateform-bubble-example" ng-click="user = 'igrick';"> igrick </span> </span> <span class="b-updateform-bubble-warning b-bubble b-bubble-warning b-bubble-intext"> No such user </span> <span class="b-updateform-bubble-input-title"> <label for="updateform-bubble-user-title"> User title (optional) </label><br> <input type="text" id="updateform-bubble-user-title" size="30" maxlength="255" value="" class="b-updateform-bubble-input" ng-model="title"> </span> </div> <div class="b-updateform-bubble-user-button"> <div class="b-ljbutton b-ljbutton-submit b-ljbutton-disabled"> <button name="submitpost" type="button" lj-disabled="!user" ng-click="insertOrSave()"> Insert user </button> </div> </div> </div> </script> <script type="text/ng-template" id="bubble.html"> <div class="b-popup bubble-node b-popupus b-popupus-blue b-popup-withclosecontrol b-bubble-{{bubble.name}}" ng-show="show" lj-switch-off="show" lj-switch-off-action="bubble.close()" ng-style="{ left: position.x, top: position.y }" ng-class="{ 'b-popup-noclosecontrol': !bubble.options.closeControl }" > <div class="b-popup-outer"> <div class="b-popup-inner"> <i class="i-popup-arr" ng-class="getPosition()"> <i class="i-popup-arr-brdr-outer"> <i class="i-popup-arr-brdr-inner"> <i class="i-popup-arr-bg"></i> </i> </i> </i> <div ng-include src="template"></div> <i class="i-popup-close" ng-click="bubble.close()"></i> </div> </div> </div> </script> </form> <i class="b-watering-close"></i> <i class="b-watering-arrows"> <i class="b-watering-arrow-border"></i> <i class="b-watering-arrow"></i> </i> </div>  </li>  <li class="b-xylem-cell b-xylem-cell-amount">   <span class="js-amount">  51 comments  </span>   </li>  </ul>  </div>      <div class="b-tree b-tree-root"></div>  <div class="b-xylem"> <ul class="b-xylem-cells">  <li class="b-xylem-cell b-xylem-cell-add"> <a class="b-addcomment" href="http://capttofu.livejournal.com/1752.html?mode=reply#add_comment"><span class="b-addcomment-inner"><i class="b-addcomment-icon"></i>发表新的评论</span></a> </li>  <li class="b-xylem-cell b-xylem-cell-amount">   <span class="js-amount">  51 comments  </span>   </li>  </ul>  </div>    </div>   </article> 
					<div class='clear'></div>

				</div>
				<!--/ Text Wrapper -->

				

			

		</div>
		<!--/ Content -->

		

	</div>
	<!--/ Content Wrapper -->







	
		<footer class="s-footer s-footer-lite">
			<div class="s-footer-nav-inner">
							
				<div class="s-footer-copyright">Copyright &copy; 1999 LiveJournal, Inc.  All rights reserved.</div> 
			</div>
		</footer>
		
	
	
	            <script type="text/javascript">
                Site = window.Site || {};
                Site.ml_text = {"photouploader.paste.notice":"Remember: Using others' images on the web without their permission may be bad manners, or worse, copyright infringement.","fotki.album.dropbox.title":"Dropbox","photouploader.album.your":"Your picture albums","fotki.photo.upload.error.file_type_not_supported":"File type is not supported","photouploader.album.scrapbookSelected":"Selected photos","photouploader.upload.remove":"Remove this picture","fotki.album.link.click.to.upload":"Click to upload <br> new images","talk.link.button":"Insert","fotki.privacy":"Privacy","memories.title.edit":"Edit privacy level","talk.anonuser":"Anonymous","fotki.album.description":"Add your description","fotki.album.no.pics":"There are no photos in this album.","fotki.album.add.photos":"To add multiple files, hold down the CTRL or Shift button.","photouploader.paste.insert":"Add to post","fotki.album.link.from.image":"Link from this image (optional)","photouploader.album.create":"Create album","photouploader.instagram.intro":"If you’re using Livejournal Instagram for the first time, simply use your Instagram username and password to login.<br>If you don't have an account, please create one on iPhone/iPad/Android first.","talk.searchuserpic":"search by keywords","fotki.album.stop.upload.confirm":"Do you really want to stop the upload and close without saving? ","photouploader.instagram.title":"Instagram","talk.close":"Close","photouploader.paste.correctUrl":"If your URL is correct, you'll see an image preview here","fotki.photo.upload.error.file_not_selected":"File not selected","repost.button.title":"Repost this entry to my journal","confirm.bubble.no":"No","memories.security.friends":"Friends only","talk.no.default.userpic":"no default","fotki.album.upload.unknown.error":"Unknown error","fotki.photo.upload.error.not_enough_space":"Scrapbook: not enough space","fotki.album.add.images":"Add to post","photouploader.dropbox.choose":"Choose pictures from your Dropbox account.","fotki.album.change":"Your current selection will be lost. Do you really want to change albums? ","photouploader.paste.title":"Paste URL","fotki.album.album_cover":"Album cover","talk.postcomment":"Add a comment","photouploader.upload.drop":"<strong>Drag an image here</strong><br>Or, if you prefer...","fotki.album.close.without.saving.confirm":"Do you really want to close without saving?","talk.deletedpost":"Deleted comment","photouploader.upload.or":"or","photouploader.paste.pasteURL":"Paste an image URL here:","fotki.album.new.album.name":"New album name","fotki.album.custom.size":"Custom","photouploader.instagram.logout":"Log out from Instagram","photouploader.paste.link":"Wrap image with a link (optional):","memories.title.add":"Select privacy level","fotki.photo.upload.error.no_access_to_storage_media":"No access to storage media","talk.link.button.delete":"Delete","talk.editcomment":"Save comment","photouploader.instagram.insert":"Add to post","fotki.album.stop.upload":"Stop uploading?","repost.button.counter":"Already reposted by...","fotki.album.comment.images":"Add to comment","photouploader.upload.title":"Upload","confirm.bubble.yes":"Yes","sharing.popup.title":"Share","photouploader.album.insert":"Add to post","memories.security.public":"Public","photouploader.upload.back":"back to albums","talk.from":"from","talk.answer":"Reply","talk.screenedpost":"Screened comment","paidrepost.button.title":"Repost me","photouploader.upload.addto":"Select album:","fotki.album.paste.from.album":"From Album","talk.expandlink":"Expand","fotki.album.resize.to.post":"Resize","paidrepost.button.title.counter":"Repost counter","fotki.album.browse.photo":"Browse","talk.default.userpic":"default userpic","component.messages.close":"Close","fotki.album.click.image":"Click on image to remove it.","fotki.album.default_album_name":"Unsorted","fotki.album.remove.this.image":"Remove this image","talk.new":"New comment","talk.spamcount":"[[count]] [[?count|suspicious comment|suspicious comments]]","talk.replycount":"[[count]] [[?count|comment|comments]]","fotki.album.save.images":"Save images","photouploader.instagram.select":"Select pictures","repost.button.label":"Repost","fotki.photo.upload.error.common_error":"Common error","fotki.album.upgrade":"Extra Storage Space","widget.form.skip_word":"Skip word","fotki.album.create.new":"(Create new)","fotki.album.select_album":"Select album:","talk.edited":"Edited: ","fotki.album.uploading.image":"Uploading image...","fotki.album.upload.images":"Upload images","fotki.album.add.image.name":"Add image name","photouploader.upload.insert":"Insert pictures","paidrepost.button.title.delete":"Delete repost","photouploader.instagram.asEmbeds.help":"with your Instagram username, likes and comments count","fotki.photo.upload.error.forbidden":"You cannot access this page because this journal is not visible.","photouploader.upload.initFail":"Please install flash player from Adobe Flash Plugin <a target=\"_blank\" href=\"http://get.adobe.com/flashplayer/\">download page</a>","paidrepost.button.title.curr":" LJ Tokens","pics.ui.link_to_original_title":"Check to include a link to the full size image","photouploader.upload.create":"create new album","fotki.photo.upload.error.cant_get_storage_space":"Can't get count of used storage space","fotki.album.remove.image":"Remove this image","paidrepost.button.title.owner":"Your repost total budget: ","fotki.album.uploading.message":"Uploading...","repost.popup.footer":"Show more…","photouploader.upload.nodrop":"<strong>Select pictures</strong><br>And press Upload","photouploader.album.title":"Your albums","fotki.album.load.more":"Loading more..","repost.popup.head":"Reposted by","photouploader.upload.cancel":"cancel this file upload","photouploader.instagram.select.help":"(pictures will be 640 pixels wide)","paidrepost.button.label.done":"Already reposted","photouploader.upload.size":"Picture size","memories.title":"Add to memories","fotki.album.available.now":"Available now","fotki.branding_04_2012.html":"<a href=\"http://url\">link</a>","fotki.album.cancel.album":"Cancel","fotki.album.upload.io.error":"","fotki.album.resize.width":"Width","photouploader.dropbox.title":"Dropbox","talk.spammedpost":"Spammed comment","fotki.photo.upload.error.no_access_rpc":"Internal Error","talk.general.save":"Save","talk.suspendedpost":"Suspended comment","entry.reference.label.reposted":"Reposted","photouploader.album.select":"Select pictures","photouploader.upload.privacy":"Privacy:","photouploader.album.addlink":"Add a link to fullsize picture","talk.replytothis":"回复","fotki.album.paste.url":"Paste URL","fotki.photo.upload.error.auth_token_invalid":"Auth error","memories.remove":"Remove","photouploader.upload.addlink":"Add a link to fullsize picture","fotki.album.post.images":"Add to post","memories.security.private":"Private","talk.manageuserpic":"Manage userpics","pics.ui.link_to_original":"Add a link to the original image","photouploader.instagram.loginButton":"Login to Instagram","fotki.album.default.sizes":"Default sizes","widget.form.no_suggestions":"No suggestions","photouploader.album.size":"Size of a pictures (px)","photouploader.paste.size":"Picture width (px)","entry.reference.label.title":"Remove repost","photouploader.instagram.asEmbeds":"Insert as Instagram Web Embeds","paidrepost.button.label":"Repost","fotki.album.resize.height":"Height","fotki.album.paste.url.here":"Paste image URL here"};
                Site.page = {"spamcount":0,"hasactiveuserpic":0,"entry":{"title":"MySQL Multi-Master Replication","poster":"capttofu","ditemid":1752,"journal":"capttofu"},"replycount":51,"ajaxPagination":1,"comments_page":1,"scheme":"horizon","comments":[{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":7,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"MySQL Multi-Master + Multi-Slave","username":null,"thread":2008,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=2008","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2008#t2008","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2008#t2008","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2008#t2008","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":2008,"etime_ts":null,"above":null,"upictitle":null,"article":"Great work. However, Multi-Master + Multi-Slave shouldn't be this hard.<br /><br />We are now in the age of virtualization, and even my SMB clients are pushing for 99.99%+ SLAs.<br /><br />I have been surprised that the multi-master + multi-slave architecture (along with associated management tools) hasn't been a high priority for MySQL.<br /><br />I hope that will change soon, thanks to the example from you and others such as Giuseppe Maxia.<br /><br />frank daley","stime":"7 years ago","ctime":"February 23 2007, 23:13:24 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1172272404","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":8,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"monitoring tool that may help","username":null,"thread":2264,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=2264","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2264#t2264","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2264#t2264","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2264#t2264","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":2264,"etime_ts":null,"above":null,"upictitle":null,"article":"I've worked with similar MySQL setups for a few years now... I've also never found a tool for monitoring or administering such setups that did just what I want, so <b>I wrote one</b> (http://forge.mysql.com/projects/view.php?id=183). It's been indispensable for me at the companies I've worked with -- it's fairly easy to get 'rep_mon' to monitor and measure replication schema like yours, just define each server and it's replication master in an xml file and it'll compare binlog positions, tell you how far behind a server is, even send alerts if a server is delayed more than a configurable threshold. It's about a year since I've actively developed on the project, but I use it daily. Hope it can help you!<br /><br />Best regards,<br />Devananda dot vdv at gmail","stime":"7 years ago","ctime":"February 24 2007, 01:37:22 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1172281042","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":"http://l-userpic.livejournal.com/75998983/1097289","uname":"capttofu","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":9,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":2264,"subject":"Re: monitoring tool that may help","username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":2520,"level":2,"dname":"capttofu","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=2520","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2520#t2520","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2520#t2520","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2520#t2520","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":2520,"etime_ts":null,"above":2264,"upictitle":"Patrick Galbraith: pic#75998983","article":"Devananda,<br /><br />Dhanyavada! I will be looking at your tool, and am happy to think I won't have to write one from scratch.<br /><br />regards,<br /><br />Patrick","stime":"7 years ago","ctime":"February 24 2007, 14:08:56 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1172326136","subclass":null,"suspended":null,"leafclass":null,"margin":30,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":10,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"Solution to delayed Slaves?","username":null,"thread":2776,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=2776","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2776#t2776","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2776#t2776","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2776#t2776","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=2776#t2776","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":2776,"etime_ts":null,"above":null,"upictitle":null,"article":"Hi Patrick,<br /><br />thats a nice article and actually we are doing something similiar here.<br /><br />But I have one question: If all your reads are being sent to the slaves, how do you cope with delayed slaves in your perl application? Especially with the following program flow: receive post parameters, update values in DB (master), read values from DB (slave), send data to browser. If you have seconds-behind-master of only 1 second this might lead to problems. Example: User changes something in his profile and clicks \"submit\". Your perl program does some sanity check of the values, then updates the user's profile in the DB, then reads the complete profile from the local slave and generates the answer. But the local slave is 1 second behind, so the saved values are not yet replicated and you fetch the old data and present this to the user (ok, this one is easy: you keep the changed values in your programm and send those back. But consider a bit higher seconds-behind-master and a click happy user who clicks on \"my profile\" immediately again after clicking Submit. Now a new \"readonly\" request is sent to the slave and still the old data might be fetched from the DB and sent back).<br /><br />Regards,<br /> Volker","stime":"7 years ago","ctime":"February 26 2007, 08:46:36 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1172479596","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":"http://l-userpic.livejournal.com/75998983/1097289","uname":"capttofu","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":12,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":2776,"subject":"Re: Solution to delayed Slaves?","username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":3288,"level":2,"dname":"capttofu","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=3288","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3288#t3288","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3288#t3288","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3288#t3288","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3288#t3288","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":3288,"etime_ts":null,"above":2776,"upictitle":"Patrick Galbraith: pic#75998983","article":"Volker,<br /><br />That is a good question. I did some quick tests where I inserted a 42k blob in the write master and immediately selected from the read slave. I found it took 1 second to replicate. This is with a staging setup where my slave isn't even in the same data center yet (as I found out - I had originally thought my staging server was in the same data center!). Most of what the app posts is no more than 5k, so for master and slave that are in two data centers, this speed is great, considering that we will be moving the slaves to the same data center soon, and replication should occur instantaneously. However, what if there are 1000s of users submitting, then viewing, expecting to see the changes? How does one make sure the app reads after whatever is being saved is replicated? The app shouldn't have to know anything about whether there is replication, so the answer lies not within the application.<br /><br />I do have db layer code that is a wrapper around DBD::mysql. My first thought (and maybe this is kludgey) is that it could perhaps check the status of the slave prior to a select to see how much behind the master it is?<br /> <br />I'd be interested in knowing what users in the community have experienced and have learned so the pain of learning for myself is minimal ;)","stime":"7 years ago","ctime":"February 26 2007, 14:58:11 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1172501891","subclass":null,"suspended":null,"leafclass":null,"margin":30,"tracked":0},{"userpic":null,"uname":"askbjoernhansen","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":16,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":3288,"subject":null,"username":[{"journal_url":"http://askbjoernhansen.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"askbjoernhansen","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"askbjoernhansen","user_alias":null,"profile_url":"http://askbjoernhansen.livejournal.com/profile","alias":0}],"thread":4312,"level":3,"dname":"askbjoernhansen","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=4312#t4312","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=4312#t4312","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=4312#t4312","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":4312,"etime_ts":null,"above":3288,"upictitle":null,"article":null,"stime":"7 years ago","ctime":null,"deleted_poster":null,"below":144600,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1177066960","subclass":null,"suspended":null,"leafclass":"collapsed","margin":60,"tracked":0},{"userpic":null,"uname":"capttofu","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":84,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":4312,"subject":null,"username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":21720,"level":4,"dname":"capttofu","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=21720#t21720","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=21720#t21720","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=21720#t21720","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":21720,"etime_ts":null,"above":4312,"upictitle":null,"article":null,"stime":"6 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1194877398","subclass":null,"suspended":null,"leafclass":"collapsed","margin":90,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":564,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":3288,"subject":null,"username":null,"thread":144600,"level":3,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=144600#t144600","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=144600#t144600","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=144600#t144600","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":144600,"etime_ts":null,"above":4312,"upictitle":null,"article":null,"stime":"4 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1255953928","subclass":null,"suspended":null,"leafclass":"collapsed","margin":60,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":11,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"Another way to monitor your cluster","username":null,"thread":3032,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=3032","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3032#t3032","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3032#t3032","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3032#t3032","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":3032,"etime_ts":null,"above":null,"upictitle":null,"article":"mycat looks interesting and I'll be checking it out (how can these projects exist and I never find them?).  I've also built a master/slave monitoring mode into innotop (http://sourceforge.net/projects/innotop)<wbr /> which provides another way to monitor replication.","stime":"7 years ago","ctime":"February 26 2007, 13:32:22 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1172496742","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"suzaan_suz","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":13,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"suzaan_suz","username":[{"journal_url":"http://suzaan-suz.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"suzaan_suz","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"suzaan_suz","user_alias":null,"profile_url":"http://suzaan-suz.livejournal.com/profile","alias":0}],"thread":3544,"level":1,"dname":"suzaan_suz","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=3544","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3544#t3544","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3544#t3544","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3544#t3544","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=3544#t3544","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":3544,"etime_ts":null,"above":null,"upictitle":"suzaan_suz: pic#0","article":"Hi, <br />Nice tutotial and comments...<br />I am new to mysql master-slave and my question is as follows.<br />I have a running master and i want to build a slave without doing a copy of the master.<br />So i installed a mysql server - grant replication privileges on the master to that slave. On the slave master setting are changed - but i need to start it from the first position at the master bin log... so which one is it.. how do i find the first position of the mysql master log.<br /><br />Suzaan","stime":"7 years ago","ctime":"March 12 2007, 10:42:23 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1173696143","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":79,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":3544,"subject":"Re: suzaan_suz","username":null,"thread":20440,"level":2,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=20440","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20440#t20440","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20440#t20440","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20440#t20440","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20440#t20440","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":20440,"etime_ts":null,"above":3544,"upictitle":null,"article":"The easiest way to get data to your new slave is to do:<br />mysqldump -p --master-data=1 dbname &gt; dbname.sql<br /><br />then make sure your slave is stopped, and on your slave load the dbname.sql<br />mysql -p dbname &lt; dbname.sql<br /><br />then issue slave start on your slave, and your binlog location is already set and replication will begin immediately.   This is a great way to 'catch up' a slave that may have crashed.<br />","stime":"6 years ago","ctime":"November 12 2007, 13:49:56 UTC","deleted_poster":null,"below":20952,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1194875396","subclass":null,"suspended":null,"leafclass":null,"margin":30,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":80,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":20440,"subject":null,"username":null,"thread":20696,"level":3,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20696#t20696","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20696#t20696","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20696#t20696","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":20696,"etime_ts":null,"above":20440,"upictitle":null,"article":null,"stime":"6 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1194876431","subclass":null,"suspended":null,"leafclass":"collapsed","margin":60,"tracked":0},{"userpic":null,"uname":"capttofu","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":81,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":3544,"subject":null,"username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":20952,"level":2,"dname":"capttofu","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20952#t20952","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20952#t20952","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=20952#t20952","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":20952,"etime_ts":null,"above":20440,"upictitle":null,"article":null,"stime":"6 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1194876938","subclass":null,"suspended":null,"leafclass":"collapsed","margin":30,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":179,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":20952,"subject":null,"username":null,"thread":46040,"level":3,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46040#t46040","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46040#t46040","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46040#t46040","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":46040,"etime_ts":null,"above":20952,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210659950","subclass":null,"suspended":null,"leafclass":"collapsed","margin":60,"tracked":0},{"userpic":null,"uname":"7wrc","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":18,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":[{"journal_url":"http://7wrc.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"7wrc","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"7wrc","user_alias":null,"profile_url":"http://7wrc.livejournal.com/profile","alias":0}],"thread":4824,"level":1,"dname":"7wrc","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=4824","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=4824#t4824","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=4824#t4824","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=4824#t4824","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":4824,"etime_ts":null,"above":null,"upictitle":"7WRC: pic#0","article":"Thanks for your work. Truly helpful.","stime":"7 years ago","ctime":"May 2 2007, 03:22:10 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1178076130","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"laurenice","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":22,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":[{"journal_url":"http://laurenice.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"laurenice","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"laurenice","user_alias":null,"profile_url":"http://laurenice.livejournal.com/profile","alias":0}],"thread":5848,"level":1,"dname":"laurenice","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=5848","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=5848#t5848","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=5848#t5848","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=5848#t5848","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":5848,"etime_ts":null,"above":null,"upictitle":"laurenice: pic#0","article":"Thanks Patrick. Keep up the good work.","stime":"7 years ago","ctime":"May 6 2007, 01:12:16 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1178413936","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"ext_66586","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":71,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"Great job!","username":[{"journal_url":"http://csdexter.idproxy.net/","striked":1,"journaltype":"I","userhead_url":"http://l-stat.livejournal.net/img/openid-profile.gif?v=5044?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"csdexter.idproxy.net","inline_css":0,"attrs":null,"is_identity":1,"bold":1,"username":"ext_66586","user_alias":null,"profile_url":"http://www.livejournal.com/profile?userid=14024231&t=I","alias":0}],"thread":18392,"level":1,"dname":"csdexter.idproxy.net","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=18392","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=18392#t18392","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=18392#t18392","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=18392#t18392","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":18392,"etime_ts":null,"above":null,"upictitle":"csdexter.idproxy.net: pic#0","article":"Perfect tutorial, got me running and up to speed in no time. You rule, man!<br />(MySQL does too :)) )<br /><br />@Dexter from Romania","stime":"6 years ago","ctime":"October 13 2007, 18:06:38 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1192298798","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":"http://l-userpic.livejournal.com/75998983/1097289","uname":"capttofu","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":83,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":18392,"subject":"Re: Great job!","username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":21464,"level":2,"dname":"capttofu","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=21464","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=21464#t21464","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=21464#t21464","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=21464#t21464","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":21464,"etime_ts":null,"above":18392,"upictitle":"Patrick Galbraith: pic#75998983","article":"My Wife has been to Brashov Romania. If we ever go there for a visit, I'll drop you an email!","stime":"6 years ago","ctime":"November 12 2007, 14:19:57 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1194877197","subclass":null,"suspended":null,"leafclass":null,"margin":30,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":117,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":null,"thread":30168,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=30168","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=30168#t30168","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=30168#t30168","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=30168#t30168","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":30168,"etime_ts":null,"above":null,"upictitle":null,"article":"<b>bolindir.com</b> (http://www.bolindir.com)","stime":"6 years ago","ctime":"February 22 2008, 10:10:19 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1203675019","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":147,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"MySQL Multi-master replication","username":null,"thread":37848,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=37848","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=37848#t37848","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=37848#t37848","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=37848#t37848","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":37848,"etime_ts":null,"above":null,"upictitle":null,"article":"Great !!<br />but ... what will happen if we have more than 10 server<br /><br />- for server_11 : auto_inc_offset= 11, the next ID will be ... 21<br />- for server_1 : auto_inc_offset = 1, the next ID will be 1...11...21<br />","stime":"6 years ago","ctime":"March 12 2008, 12:37:12 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1205325432","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":152,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":37848,"subject":"Re: MySQL Multi-master replication","username":null,"thread":39128,"level":2,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=39128","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=39128#t39128","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=39128#t39128","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=39128#t39128","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":39128,"etime_ts":null,"above":37848,"upictitle":null,"article":"the main idea is to keep the number of servers below the auto_increment_increment value.<br />in other words, if you need to scale to more than 10 servers, use a bigger value like 100.","stime":"6 years ago","ctime":"March 13 2008, 09:55:19 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1205402119","subclass":null,"suspended":null,"leafclass":null,"margin":30,"tracked":0},{"userpic":null,"uname":"hasyer","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":166,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":[{"journal_url":"http://hasyer.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"hasyer","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"hasyer","user_alias":null,"profile_url":"http://hasyer.livejournal.com/profile","alias":0}],"thread":42712,"level":1,"dname":"hasyer","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=42712","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=42712#t42712","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=42712#t42712","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=42712#t42712","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":42712,"etime_ts":null,"above":null,"upictitle":"hasyer: pic#73716015","article":"Thank you. (;<br /><br />---------------------<br /><a href=\"http://www.hasyer.com\" title=\"muhabbet\" rel=\"nofollow\">muhabbet</a><br /><a href=\"http://www.hasyer.com/korku/\" title=\"korku,giyotin\" rel=\"nofollow\">korku</a><br /><a href=\"http://www.hasyer.com/nickler/\" title=\"msn nickleri,msn nikleri\" rel=\"nofollow\">msn nickleri</a><br /><a href=\"http://msn.hasyer.com\" title=\"msn nickleri\" rel=\"nofollow\">msn nickleri</a><br /><a href=\"http://www.hasyer.com/netlog/\" title=\"netlog\" rel=\"nofollow\">netlog</a>","stime":"6 years ago","ctime":"April 8 2008, 16:47:57 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1207673277","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":169,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"2 Master 1 Slave?","username":null,"thread":43480,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=43480","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=43480#t43480","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=43480#t43480","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=43480#t43480","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=43480#t43480","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":43480,"etime_ts":null,"above":null,"upictitle":null,"article":"Hi, Good Work.. but..<br /><br />I was wondering if the following scenario would be possible.<br /><br />Server 1: Database X (master)<br />Server 2: Database Y (master)<br /><br />- replicating to -<br /><br />Server 3: Database X, Database Y (slave)<br /><br />The databases are independent, each master:slave relationship is still 1:1. However, as the slave server only seems to accept configuration details for one master server I can't figure out if this is possible.<br /><br />Does anyone have any experience of this?<br /><br />","stime":"6 years ago","ctime":"April 13 2008, 18:20:28 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1208110828","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":"http://l-userpic.livejournal.com/75998983/1097289","uname":"capttofu","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":172,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":43480,"subject":"Re: 2 Master 1 Slave?","username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":44248,"level":2,"dname":"capttofu","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=44248","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=44248#t44248","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=44248#t44248","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=44248#t44248","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=44248#t44248","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":44248,"etime_ts":null,"above":43480,"upictitle":"Patrick Galbraith: pic#75998983","article":"You can replication to the slave from one of the dual masters (but not both). You just point the slave to either of the masters. The nice thing is that you can go back and forth between the two, for instance if one of the masters fail, you can switch the slave to read from the one that's working.","stime":"6 years ago","ctime":"April 14 2008, 15:41:43 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1208187703","subclass":null,"suspended":null,"leafclass":null,"margin":30,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":632,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":44248,"subject":null,"username":null,"thread":162008,"level":3,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=162008#t162008","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=162008#t162008","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=162008#t162008","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":162008,"etime_ts":null,"above":44248,"upictitle":null,"article":null,"stime":"3 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1279438893","subclass":null,"suspended":null,"leafclass":"collapsed","margin":60,"tracked":0},{"userpic":null,"uname":"capttofu","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":633,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":162008,"subject":null,"username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":162264,"level":4,"dname":"capttofu","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=162264#t162264","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=162264#t162264","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=162264#t162264","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":162264,"etime_ts":null,"above":162008,"upictitle":null,"article":null,"stime":"3 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1279546469","subclass":null,"suspended":null,"leafclass":"collapsed","margin":90,"tracked":0},{"userpic":null,"uname":"sohbetiq","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":171,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"Hi!","username":[{"journal_url":"http://sohbetiq.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"sohbetiq","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"sohbetiq","user_alias":null,"profile_url":"http://sohbetiq.livejournal.com/profile","alias":0}],"thread":43992,"level":1,"dname":"sohbetiq","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=43992","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=43992#t43992","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=43992#t43992","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=43992#t43992","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":43992,"etime_ts":null,"above":null,"upictitle":"sohbetiq: pic#0","article":"nice cool. thanks.<br />--------------------------<br /><a href=\"http://www.yokmu.net\" title=\"msn nickleri,msn nikleri\" rel=\"nofollow\">Msn nickleri</a>","stime":"6 years ago","ctime":"April 13 2008, 22:01:36 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1208124096","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":180,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"load-balancing with this","username":null,"thread":46296,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=46296","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46296#t46296","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46296#t46296","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46296#t46296","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46296#t46296","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":46296,"etime_ts":null,"above":null,"upictitle":null,"article":"Okay - set this up, which was remarkably easy with your outline (thank you!) even for a MySQL novice.<br /><br />So, my multi-master servers are running, and as long as they are in sync, all is great.  Updates between, no matter which server gets the new data - VERY fast.<br /><br />Now - here comes the problem.  I break replication both ways.  Neither side can update the other (simulating a break in network between the two)  Say I have a 'test' database on SQL A and SQL B.   One particular value in a table there is currently \"600\"   On SQL A, I change it to be \"610\".  On SQL B, I change it to be \"620\"   This represents users updating values while the replication is broken.<br /><br />When I reestablish the connection - The value on SQL A changes to \"620\" and the value on SQL B changes to \"610\"  Effectively, I have corrupted my data.<br /><br />Am I doing something incorrect here, or suggestions?<br />","stime":"5 years ago","ctime":"May 15 2008, 16:04:44 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210867484","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":181,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":46296,"subject":"Re: load-balancing with this","username":null,"thread":46552,"level":2,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=46552","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46552#t46552","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46552#t46552","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46552#t46552","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":46552,"etime_ts":null,"above":46296,"upictitle":null,"article":"Note:  I understand why this is happening.  Both machines simply replay the logs from point of last replication when they reestablish.  They don't care about the other side's logs or when things happened.<br /><br />Work around for this?","stime":"5 years ago","ctime":"May 15 2008, 16:06:06 UTC","deleted_poster":null,"below":46808,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210867566","subclass":null,"suspended":null,"leafclass":null,"margin":30,"tracked":0},{"userpic":null,"uname":"capttofu","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":182,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":46296,"subject":null,"username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":46808,"level":2,"dname":"capttofu","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46808#t46808","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46808#t46808","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=46808#t46808","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":46808,"etime_ts":null,"above":46552,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210868892","subclass":null,"suspended":null,"leafclass":"collapsed","margin":30,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":183,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":46808,"subject":null,"username":null,"thread":47064,"level":3,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47064#t47064","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47064#t47064","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47064#t47064","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":47064,"etime_ts":null,"above":46808,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210870977","subclass":null,"suspended":null,"leafclass":"collapsed","margin":60,"tracked":0},{"userpic":null,"uname":"capttofu","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":184,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":47064,"subject":null,"username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":47320,"level":4,"dname":"capttofu","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47320#t47320","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47320#t47320","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47320#t47320","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":47320,"etime_ts":null,"above":47064,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":47576,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210871308","subclass":null,"suspended":null,"leafclass":"collapsed","margin":90,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":186,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":47320,"subject":null,"username":null,"thread":47832,"level":5,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47832#t47832","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47832#t47832","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47832#t47832","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":47832,"etime_ts":null,"above":47320,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":48088,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210871409","subclass":null,"suspended":null,"leafclass":"collapsed","margin":120,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":187,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":47320,"subject":null,"username":null,"thread":48088,"level":5,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48088#t48088","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48088#t48088","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48088#t48088","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":48088,"etime_ts":null,"above":47832,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210871738","subclass":null,"suspended":null,"leafclass":"collapsed","margin":120,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":185,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":47064,"subject":null,"username":null,"thread":47576,"level":4,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47576#t47576","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47576#t47576","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=47576#t47576","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":47576,"etime_ts":null,"above":47320,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1210871360","subclass":null,"suspended":null,"leafclass":"collapsed","margin":90,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":188,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":47576,"subject":null,"username":null,"thread":48344,"level":5,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48344#t48344","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48344#t48344","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48344#t48344","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":48344,"etime_ts":null,"above":47576,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1211023584","subclass":null,"suspended":null,"leafclass":"collapsed","margin":120,"tracked":0},{"userpic":null,"uname":"","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":190,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":48344,"subject":null,"username":null,"thread":48856,"level":6,"dname":"","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48856#t48856","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48856#t48856","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=48856#t48856","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":48856,"etime_ts":null,"above":48344,"upictitle":null,"article":null,"stime":"5 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1211551330","subclass":null,"suspended":null,"leafclass":"collapsed","margin":150,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":376,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":null,"thread":96472,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=96472","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=96472#t96472","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=96472#t96472","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=96472#t96472","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":96472,"etime_ts":null,"above":null,"upictitle":null,"article":"What if you have lag between the datacenters and you issue update at 00:00 on NY server and another update on 00:01 on Michigan server on the same record, on single datebase the 00:01 update was the only one, on your setup you might cought up with diffrent result on each master( and it's slaves ).","stime":"5 years ago","ctime":"October 12 2008, 14:16:46 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1223821006","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"adeentureade","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":448,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":[{"journal_url":"http://adeentureade.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"adeentureade","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"adeentureade","user_alias":null,"profile_url":"http://adeentureade.livejournal.com/profile","alias":0}],"thread":114904,"level":1,"dname":"adeentureade","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=114904","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=114904#t114904","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=114904#t114904","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=114904#t114904","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":114904,"etime_ts":null,"above":null,"upictitle":"adeentureade: pic#0","article":"Could not find where you can buy <a href=\"http://ed-store.org\" rel=\"nofollow\">generic ED drugs</a>. I found one online store and buy it now. Home All anonymously. Continuing not take pills, but sometimes. For example when I come after the change, and the girlfriend wants to meet) But there are ways to increase sexual potency?","stime":"4 years ago","ctime":"June 8 2009, 23:54:04 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1244505244","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"jntfoster","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":528,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":[{"journal_url":"http://jntfoster.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"jntfoster","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"jntfoster","user_alias":null,"profile_url":"http://jntfoster.livejournal.com/profile","alias":0}],"thread":135384,"level":1,"dname":"jntfoster","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=135384","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=135384#t135384","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=135384#t135384","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=135384#t135384","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":135384,"etime_ts":null,"above":null,"upictitle":"jntfoster: pic#0","article":"This is also a helpful link...<br /><br /><a href='http://www.cervistech.com/index.php?option=com_content&view=article&id=55&Itemid=2' rel='nofollow'>http://www.cervistech.com/index.php?opt<wbr />ion=com_content&view=article&id=55&Itemid=2</a>","stime":"4 years ago","ctime":"September 10 2009, 01:48:09 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1252547289","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":592,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"Master-Master auto failure","username":null,"thread":151768,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=151768","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=151768#t151768","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=151768#t151768","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=151768#t151768","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":151768,"etime_ts":null,"above":null,"upictitle":null,"article":"Hi,<br /><br />Great tutorial..i have completed the set up in no time.<br />But i have to sync the servers in case of failures.<br />A &lt;-- &gt; B<br />|<br />|<br />C<br />Failure cases are like Master A goes down or Master B goes down,but have to sync servers without any downtime.Or to make Slave C as one of the master.<br />Can you suggest about the auto failover part?<br />","stime":"4 years ago","ctime":"January 30 2010, 13:45:25 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1264859125","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":612,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"dendie","username":null,"thread":156888,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=156888","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=156888#t156888","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=156888#t156888","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=156888#t156888","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":156888,"etime_ts":null,"above":null,"upictitle":null,"article":"thanks for sharing","stime":"3 years ago","ctime":"May 27 2010, 06:30:10 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1274941810","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":613,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"dendie","username":null,"thread":157144,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=157144","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=157144#t157144","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=157144#t157144","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=157144#t157144","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":157144,"etime_ts":null,"above":null,"upictitle":null,"article":"thanks for sharing<br /><br />http://dendieisme.blogspot.com/ ","stime":"3 years ago","ctime":"May 27 2010, 06:31:29 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1274941889","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"xdizojphygxy","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":671,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":[{"journal_url":"http://xdizojphygxy.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"xdizojphygxy","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"xdizojphygxy","user_alias":null,"profile_url":"http://xdizojphygxy.livejournal.com/profile","alias":0}],"thread":171992,"level":1,"dname":"xdizojphygxy","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=171992","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=171992#t171992","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=171992#t171992","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=171992#t171992","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":171992,"etime_ts":null,"above":null,"upictitle":"xdizojphygxy: pic#0","article":"<a href=\"http://futbolka-shrek.co.tv/map.php\" rel=\"nofollow\">заклепка для одежды купить</a><br /><a href=\"http://futbolka-cska-kupit.co.tv/map.php\" rel=\"nofollow\">брендовая детская одежда интернет магазин</a><br /><a href=\"http://futbolki-nhl.co.tv/map.php\" rel=\"nofollow\">r одежда</a><br /><a href=\"http://futbolki-s-tokio-hotel.co.tv/map.php\" rel=\"nofollow\">интернет магазин недорогой одежды украина</a><br /><a href=\"http://art-futbolki.co.tv/map.php\" rel=\"nofollow\">вешалки для одежды купить</a><br /><a href=\"http://kupit-futbolku-iceberg.co.tv/map.php\" rel=\"nofollow\">футболки муж и жена</a><br /><a href=\"http://belaja-futbolka-adidas.co.tv/map.php\" rel=\"nofollow\">686 одежда купить</a><br /><a href=\"http://dvojnye-futbolki.co.tv/map.php\" rel=\"nofollow\">одежда селин би купить</a><br /><a href=\"http://krasno-belaja-futbolka.co.tv/map.php\" rel=\"nofollow\">одежда helly hansen купить</a><br /><a href=\"http://suvenirnye-futbolki.co.tv/map.php\" rel=\"nofollow\">купить одежду через интернет костюм</a><br /><a href=\"http://futbolka-real.co.tv/map.php\" rel=\"nofollow\">кружка в марьино</a><br /><a href=\"http://futbolki-dlja-fanatov.co.tv/map.php\" rel=\"nofollow\">футболка с совой</a><br /><a href=\"http://sirenevaja-futbolka.co.tv/map.php\" rel=\"nofollow\">одежда акции</a><br /><a href=\"http://pechat-na-futbolkah-a3.co.tv/map.php\" rel=\"nofollow\">футболка на заказ москва</a><br /><a href=\"http://futbolki-ufc.co.tv/map.php\" rel=\"nofollow\">бейсболка diesel</a><br /><a href=\"http://futbolka-s-pingvinom.co.tv/map.php\" rel=\"nofollow\">reima детская одежда распродажа</a><br /><a href=\"http://futbolka-po-anglijski.co.tv/map.php\" rel=\"nofollow\">майки в краснодаре</a><br /><a href=\"http://futbolka-fnatic.co.tv/map.php\" rel=\"nofollow\">купить одежда богнер</a><br /><a href=\"http://indros-futbolki.co.tv/map.php\" rel=\"nofollow\">магазин белой одежды</a><br /><a href=\"http://futbolki-kelvin-kljajn.co.tv/map.php\" rel=\"nofollow\">где можно купить рэперскую одежду</a><br /><a href=\"http://magazin-futbolok-majka.co.tv/map.php\" rel=\"nofollow\">брендовая одежда и обувь купить</a><br /><a href=\"http://futbolki-v-pitere.co.tv/map.php\" rel=\"nofollow\">cropp town кепки</a><br /><a href=\"http://futbolki-s-medvedem.co.tv/map.php\" rel=\"nofollow\">футболка сборной голландии</a><br /><a href=\"http://futbolka-karatel.co.tv/map.php\" rel=\"nofollow\">печать надписей на футболках</a><br /><a href=\"http://futbolki-majki-optom.co.tv/map.php\" rel=\"nofollow\">футболка фрак</a><br /><a href=\"http://bosco-sport-futbolki.co.tv/map.php\" rel=\"nofollow\">архангельск магазины одежды</a><br /><a href=\"http://bumaga-dlja-futbolok.co.tv/map.php\" rel=\"nofollow\">элитная детская одежда интернет магазин</a><br /><a href=\"http://futbolki-jabbawockeez.co.tv/map.php\" rel=\"nofollow\">футболка олимпиада</a><br /><a href=\"http://ehidna-futbolki.co.tv/map.php\" rel=\"nofollow\">магазин одежды вайлдберриз</a><br /><a href=\"http://paris-futbolka.co.tv/map.php\" rel=\"nofollow\">магазин одежды oliver</a><br /><a href=\"http://futbolka-kalashnikov.co.tv/map.php\" rel=\"nofollow\">майка jack daniels</a><br /><a href=\"http://skachat-futbolki.co.tv/map.php\" rel=\"nofollow\">футболки с приколами для детей</a><br /><a href=\"http://futbolki-thjekvondo.co.tv/map.php\" rel=\"nofollow\">купить нарядную одежду большой размер</a><br /><a href=\"http://futbolka-argentiny.co.tv/map.php\" rel=\"nofollow\">купить одежду в кракове</a><br /><a href=\"http://dzhinsy-i-futbolka.co.tv/map.php\" rel=\"nofollow\">прикольные футболки в питере</a><br /><a href=\"http://futbolka-star-wars.co.tv/map.php\" rel=\"nofollow\">футболки гриффины</a><br /><a href=\"http://futbolki-deshevo.co.tv/map.php\" rel=\"nofollow\">майки стрейч</a><br /><a href=\"http://futbolka-sex-drugs.co.tv/map.php\" rel=\"nofollow\">интернет магазин одежды новосибирск</a><br /><a href=\"http://luchshie-futbolki.co.tv/map.php\" rel=\"nofollow\">sum 41 футболки</a><br /><a href=\"http://futbolka-birjuzovaja.co.tv/map.php\" rel=\"nofollow\">работа в магазине одежды в спб</a><br /><a href=\"http://animal-futbolki.co.tv/map.php\" rel=\"nofollow\">где в иваново купить футболку</a><br /><a href=\"http://prikolnye-futbolki-ufa.co.tv/map.php\" rel=\"nofollow\">stan футболки</a><br /><a href=\"http://futbolki-s-jelvisom.co.tv/map.php\" rel=\"nofollow\">футболка бэтмен купить</a><br /><a href=\"http://alisa-futbolki.co.tv/map.php\" rel=\"nofollow\">магазины одежды г москва</a><br /><a href=\"http://futbolki-nashestvie.co.tv/map.php\" rel=\"nofollow\">магазин одежды sela</a><br /><a href=\"http://stan-futbolki.co.tv/map.php\" rel=\"nofollow\">одежда эмо</a><br /><a href=\"http://futbolki-cao.co.tv/map.php\" rel=\"nofollow\">стиль 80 х в одежде</a><br /><a href=\"http://hardsoda-futbolki.co.tv/map.php\" rel=\"nofollow\">психоделические футболки</a><br /><a href=\"http://kupit-futbolki-hlopok.co.tv/map.php\" rel=\"nofollow\">одежда для йоги</a><br /><a href='http://futbolka-ja-feja.co.tv/map.php' rel='nofollow'>http://futbolka-ja-feja.co.tv/map.p<wbr />hp</a><br />","stime":"3 years ago","ctime":"October 27 2010, 12:12:32 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1288181552","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":703,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"Another great guide on this subject I&#39;ve found...","username":null,"thread":180184,"level":1,"dname":"","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=180184","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=180184#t180184","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=180184#t180184","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=180184#t180184","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":180184,"etime_ts":null,"above":null,"upictitle":null,"article":"http://www.dancryer.com/2010/01/mysql-ci<wbr />rcular-replication<br /><br /> This is part 1 of a three posts series:<br /><br /> - MySQL Load-Balanced Cluster Guide – Part 1 - setting up the servers themselves and configuring MySQL replication.<br /><br /> - MySQL Load-Balanced Cluster Guide – Part 2 - set up a script to monitor the status of your MySQL cluster nodes, which we’ll use in the next guide to set up our proxy.<br /><br /> - MySQL Load-Balanced Cluster Guide – Part 3 - setting up the load balancer with HAProxy, using the monitoring scripts","stime":"3 years ago","ctime":"December 6 2010, 09:45:40 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1291628740","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"thanuja226","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":783,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"Replication","username":[{"journal_url":"http://thanuja226.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"thanuja226","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"thanuja226","user_alias":null,"profile_url":"http://thanuja226.livejournal.com/profile","alias":0}],"thread":200664,"level":1,"dname":"thanuja226","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=200664","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=200664#t200664","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=200664#t200664","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=200664#t200664","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":200664,"etime_ts":null,"above":null,"upictitle":"thanuja226: pic#0","article":"Please described my.cnf configuration clearly in first step.<br />Thanks  ","stime":"2 years ago","ctime":"December 20 2011, 05:37:01 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1324359421","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":null,"uname":"princepartha","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":784,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":[{"journal_url":"http://princepartha.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"princepartha","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"princepartha","user_alias":null,"profile_url":"http://princepartha.livejournal.com/profile","alias":0}],"thread":200920,"level":1,"dname":"princepartha","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=200920","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=200920#t200920","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=200920#t200920","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=200920#t200920","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=200920#t200920","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":200920,"etime_ts":null,"above":null,"upictitle":"princepartha: pic#115383316","article":"Hi Patrick,<br /><br />I have a question for you.<br /><br />Server A - Database X, Table Tab1<br />Server B - Database Y, Table Tab1<br /><br />Now I have to replicate the \"Tab1\" table across the DBs.<br /><br />Can you please let me know if it possible?<br /><br />Thanks in advance.<br /><br />Regards,<br />Prince","stime":"2 years ago","ctime":"January 11 2012, 10:46:09 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1326278769","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0},{"userpic":"http://l-userpic.livejournal.com/75998983/1097289","uname":"capttofu","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":785,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":200920,"subject":"","username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":201176,"level":2,"dname":"capttofu","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=201176","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201176#t201176","name":"expandchilds","title":"Expand","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201176#t201176","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201176#t201176","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201176#t201176","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":201176,"etime_ts":null,"above":200920,"upictitle":"Patrick Galbraith: pic#75998983","article":"Yes, you can use replication rewrite rules:<br /><br /><a href='http://dev.mysql.com/doc/refman/5.5/en/replication-options-slave.html#option_mysqld_replicate-rewrite-db' rel='nofollow'>http://dev.mysql.com/doc/refman/5.5/e<wbr />n/replication-options-slave.html#option_<wbr />mysqld_replicate-rewrite-db</a><br /><br />Hope this helps!","stime":"2 years ago","ctime":"January 11 2012, 22:25:57 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1326320757","subclass":null,"suspended":null,"leafclass":null,"margin":30,"tracked":0},{"userpic":null,"uname":"princepartha","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":786,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":201176,"subject":null,"username":[{"journal_url":"http://princepartha.livejournal.com/","striked":1,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"princepartha","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"princepartha","user_alias":null,"profile_url":"http://princepartha.livejournal.com/profile","alias":0}],"thread":201432,"level":3,"dname":"princepartha","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201432#t201432","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201432#t201432","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201432#t201432","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":201432,"etime_ts":null,"above":201176,"upictitle":null,"article":null,"stime":"2 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1326364934","subclass":null,"suspended":null,"leafclass":"collapsed","margin":60,"tracked":0},{"userpic":null,"uname":"capttofu","loaded":0,"statprefix":"http://l-stat.livejournal.net","talkid":787,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":201432,"subject":null,"username":[{"journal_url":"http://capttofu.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"capttofu","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"capttofu","user_alias":null,"profile_url":"http://capttofu.livejournal.com/profile","alias":0}],"thread":201688,"level":4,"dname":"capttofu","shown":1,"collapsed":1,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201688#t201688","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201688#t201688","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=201688#t201688","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":201688,"etime_ts":null,"above":201432,"upictitle":null,"article":null,"stime":"2 years ago","ctime":null,"deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1326391039","subclass":null,"suspended":null,"leafclass":"collapsed","margin":90,"tracked":0},{"userpic":null,"uname":"telecom123","loaded":1,"statprefix":"http://l-stat.livejournal.net","talkid":814,"controls":null,"siteroot":"http://www.livejournal.com","ipaddr":null,"parent":0,"subject":"","username":[{"journal_url":"http://telecom123.livejournal.com/","striked":null,"journaltype":"P","userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","color":null,"noctxpopup":0,"side_alias":0,"journal":"telecom123","inline_css":0,"attrs":null,"is_identity":0,"bold":1,"username":"telecom123","user_alias":null,"profile_url":"http://telecom123.livejournal.com/profile","alias":0}],"thread":208600,"level":1,"dname":"telecom123","shown":1,"collapsed":0,"actions":[{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?replyto=208600","name":"reply","title":"回复","footer":1},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=208600#t208600","name":"permalink","title":"链接"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=208600#t208600","name":"collapse","title":"Collapse"},{"allowed":1,"href":"http://capttofu.livejournal.com/1752.html?thread=208600#t208600","name":"expand","title":"Expand"}],"p_tracked":0,"dtalkid":208600,"etime_ts":null,"above":null,"upictitle":"telecom123: pic#0","article":"The growing complexity of IT environments, from wiring closets and server rooms to <a href=\"http://www.netrackindia.com/data-center.php\" target=\"_blank\" rel=\"nofollow\"><b>Data center solutions</b></a> of all sizes, has increased the need for reliable power distribution to the rack level. Eliminating power management issues is essential for IT and Facilities managers to maintain system availability of increasing higher density equipment. Power Distribution Units are an essential element in managing power capacity and functionality for critical network, server and data center equipment.<br />","stime":"1 year ago","ctime":"January 15 2013, 11:35:17 UTC","deleted_poster":null,"below":null,"massactions":null,"deleted":0,"etime":null,"ctime_ts":"1358249717","subclass":null,"suspended":null,"leafclass":null,"margin":0,"tracked":0}],"captcha_public":"6LegWAEAAAAAANJcmtbLTuHlG7AbDzLPxvimCw_Z","fotki":{"uploader":{"albumsData":[],"action":"add_new_post","privacyData":[{"groupname":"所有人（公开）","security":"public"},{"groupname":"好友可见","security":"allfriends"},{"groupname":"只是我 （私人）","security":"private"}],"tracking_opendialog":"tracking_photouploaded","sizesData":[{"is_default":0,"text":"100","size":"100"},{"is_default":0,"text":"300","size":"300"},{"is_default":0,"text":"600","size":"600"},{"is_default":1,"text":"900","size":"900"},{"is_default":0,"text":"1000","size":"1000"},{"is_default":0,"text":"Original","size":"original"}],"type":"upload","guid":""},"migration":0,"upload":0,"enabled":0},"D":{},"hasdefaultuserpic":0,"hasuserpics":0,"LJShareParams":{"services":{"stumbleupon":{"bindLink":"http://www.livejournal.com/redirect/SHARING_stumbleupon?url=http%3A%2F%2Fwww.stumbleupon.com%2Fsubmit%3Furl%3D{url}","title":"StumbleUpon"},"moimir":{"bindLink":"http://www.livejournal.com/redirect/SHARING_moimir?url=http%3A%2F%2Fconnect.mail.ru%2Fshare%3Furl%3D{url}","title":"Moi mir"},"twitter":{"bindLink":"http://www.livejournal.com/redirect/SHARING_twitter?url=http%3A%2F%2Ftwitter.com%2Fshare%3Furl%3D{url}%26text%3D{title}%26hashtags%3D{hashtags}","title":"Twitter"},"digg":{"bindLink":"http://www.livejournal.com/redirect/SHARING_digg?url=http%3A%2F%2Fdigg.com%2Fsubmit%3Furl%3D{url}","title":"Digg"},"email":{"bindLink":"http://www.livejournal.com/redirect/SHARING_email?url=http%3A%2F%2Fapi.addthis.com%2Foexchange%2F0.8%2Fforward%2Femail%2Foffer%3Fusername%3Dinternal%26url%3D{url}%26title%3D{title}","title":"E-mail"},"livejournal":{"bindLink":"http://www.livejournal.com/redirect/SHARING_livejournal?url=http%3A%2F%2Fwww.livejournal.com%2Fupdate.bml%3Frepost_type%3Dc%26repost%3D{url}","openInTab":1,"title":"LiveJournal"},"vkontakte":{"bindLink":"http://www.livejournal.com/redirect/SHARING_vkontakte?url=http%3A%2F%2Fvkontakte.ru%2Fshare.php%3Furl%3D{url}","title":"VKontakte"},"facebook":{"bindLink":"http://www.livejournal.com/redirect/SHARING_facebook?url=http%3A%2F%2Fwww.facebook.com%2Fsharer.php%3Fu%3D{url}","title":"Facebook"},"odnoklassniki":{"bindLink":"http://www.livejournal.com/redirect/SHARING_odnoklassniki?url=http%3A%2F%2Fwww.odnoklassniki.ru%2Fdk%3Fst.cmd%3DaddShare%26st.s%3D1%26st._surl%3D{url}","title":"Odnoklassniki"},"tumblr":{"bindLink":"http://www.livejournal.com/redirect/SHARING_tumblr?url=http%3A%2F%2Fwww.tumblr.com%2Fshare%2Flink%3Furl%3D{url}%26name%3D{title}%26description%3D{text}","title":"Tumblr"}},"links":["livejournal","facebook","twitter","digg","tumblr","stumbleupon","email"]},"activeuserpic":""};
                Site.page.template = {};
                Site.page.ljlive = {"is_enabled":false,"branding_template":"<span class=\"b-ljmaps-brand\" data-frames=\"[{&quot;y&quot;:0,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-47,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-94,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-141,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-188,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-235,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-282,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-329,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-376,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-423,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-470,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-517,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-564,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-611,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-658,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-705,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-752,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-799,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-846,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-893,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-940,&quot;duration&quot;:&quot;70&quot;}]\"><a data-frames=\"[{&quot;y&quot;:0,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-47,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-94,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-141,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-188,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-235,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-282,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-329,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-376,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-423,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-470,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-517,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-564,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-611,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-658,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-705,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-752,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-799,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-846,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-893,&quot;duration&quot;:&quot;70&quot;},{&quot;y&quot;:-940,&quot;duration&quot;:&quot;70&quot;}]\" href=\" http://sup.adfox.ru/7386/goLink?p1=blsdy&p2=v&p5=bxtgq&pr=199095&puid1=&puid2=&puid3=&puid4=&puid5=\" target=\"_blank\" class=\"b-ljmaps-link\">Livejournal on maps</a></span>"};
                Site.timer = +(new Date());
                Site.remote = null;
                Site.journal = {"journal_title":"","journal_url":"http://capttofu.livejournal.com/","is_identity":false,"is_personal":true,"is_community":false,"userhead_url":"http://l-stat.livejournal.net/img/userinfo.gif?v=17080?v=114.2","username":"capttofu","is_suspended":false,"profile_url":"http://capttofu.livejournal.com/profile","id":1097289,"is_paid":false,"display_username":"capttofu"};
                Site.entry = {"title":"MySQL Multi-Master Replication","journal":"capttofu","poster":"capttofu","ditemid":1752};
                (function(){
                    var p = {"remote_is_identity":null,"remote_is_maintainer":0,"auth_token":"sessionless:1399856400:/__api/::c8f543ad0ad8b883d62606e92ce7625491f85de8","locale":"zh_CN","remoteUser":null,"remote_is_sup":0,"remoteJournalBase":null,"statprefix":"http://l-stat.livejournal.net","vk_api_id":"2244371","ctx_popup":1,"jsonrpcprefix":"http://l-api.livejournal.com","siteroot":"http://www.livejournal.com","templates_update_time":900,"media_embed_enabled":1,"v":1399366039,"currentEntryRecommendations":0,"server_time":1399859182,"logprefix":"","counterprefix":"http://xc3.services.livejournal.com/ljcounter/","currentJournalBase":"http://capttofu.livejournal.com","country":"CN","inbox_update_poll":0,"flags":{"homepage_v3":false,"new_friends_and_subscriptions":false,"discovery":false},"rpc":{"public":["discovery.get_item","discovery.suggest","discovery.today","discovery.get_categories","discovery.get_feed","homepage.get_rating","homepage.today","homepage.get_categories","latest.get_entries","sitemessage.get_message","comment.get_thread"]},"has_remote":0,"remoteLocale":"zh_CN","picsUploadDomain":"up.pics.livejournal.com","remote_is_suspended":0,"imgprefix":"http://l-stat.livejournal.net/img","esn_async":1,"remote_can_track_threads":null,"currentJournal":"capttofu","pics_production":"","currentEntry":"http://capttofu.livejournal.com/1752.html"}, i;
                    for (i in p) Site[i] = p[i];
                })();
                Site.current_journal = {"url_profile":"http://capttofu.livejournal.com/profile","userid":1097289,"journaltype":"P","is_comm":"","is_syndicated":"","userpic_h":100,"is_person":"1","display_username":"capttofu","url_journal":"http://capttofu.livejournal.com","is_identity":"","is_shared":"","display_name":"capttofu","username":"capttofu","userpic_w":93,"can_receive_vgifts":1,"url_allpics":"http://www.livejournal.com/allpics.bml?user=capttofu","url_message":"http://www.livejournal.com/inbox/compose.bml?user=capttofu","url_userpic":"http://l-userpic.livejournal.com/75998983/1097289"};
                Site.version = '114.2';
           </script>
<script type="text/javascript" src="http://l-stat.livejournal.net/js/??.ljlib.js?v=1399366039"></script>
<script type="text/javascript" src="http://l-stat.livejournal.net/js/??.comments.js?v=1399366039"></script>
<script type="text/javascript" src="http://l-stat.livejournal.net/js/??jquery/jquery.lj.repostbutton.js,jquery/jquery.lj.ljcut.js,entry/main.js,jquery/jquery.lj.photouploader.js,jquery/jquery.lj.journalPromoStrip.js,horizon-adaptive.js?v=1399366039"></script>
<!--[if IE]><script type="text/javascript" src="http://l-stat.livejournal.net/js/??jquery/jquery.ie6multipleclass.min.js?v=1399366039"></script><![endif]-->
<!--[if lt IE 9]><script type="text/javascript" src="http://l-stat.livejournal.net/js/??lib/html5shiv.js?v=1399366039"></script><![endif]-->
<!--[if gte IE 9]><script type="text/javascript" src="http://l-stat.livejournal.net/js/??ie9pinned.js?v=1399366039"></script><![endif]-->


	<div id='hello-world' style='text-align: left; font-size:0; line-height:0; height:0; overflow:hidden;'><!-- begin of Top100 code -->
<script id="top100Counter" type="text/javascript" src="http://counter.rambler.ru/top100.jcn?1111412"></script>
<noscript>
    <img src="http://counter.rambler.ru/top100.cnt?1111412" alt="" width="1" height="1" border="0" />
</noscript>
<!-- end of Top100 code -->
<!-- begin Rambler Ad code -->
<div id="rambler_ad_counter_139985918289"></div>
<script>
    ;(function () {
        LJ.injectScript('//ad.rambler.ru/static/green2.min.js')
            .done(function () {
                _green.defineSlot('8983', [1, 1], 'rambler_ad_counter_139985918289');
                _green.display('rambler_ad_counter_139985918289');
            });
    }());
</script>
<!-- end Rambler Ad code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24823174-1']);
  _gaq.push(['_setDomainName', '.livejournal.com']);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- tns-counter.ru --> 
<script language="JavaScript" type="text/javascript"> 
var img = new Image();
img.src = 'http://www.tns-counter.ru/V13a***R>' + document.referrer.replace(/\*/g,'%2a') + '*sup_ru/ru/UTF-8/tmsec=lj_noncyr/' + Math.round(Math.random() * 1000000000);
</script> 
<noscript> 
<img src="http://www.tns-counter.ru/V13a****sup_ru/ru/UTF-8/tmsec=lj_noncyr/" width="1" height="1" alt="">
</noscript>
<!--/ tns-counter.ru -->
<!-- LiveJournal COUNTER -->
<img src="http://xc3.services.livejournal.com/ljcounter/?d=srv:bil1-ws20,r:0,j:1097289,uri:%22%2F1752.html%22,ref:%22http:%2F%2Fstackoverflow.com%2Fquestions%2F1576603%2Fis-it-possible-to-do-n-master-1-slave-replication-with-mysql%3Frq%3D1%22,vig:0,extra:ABC%2BSQAQvkkAAAbY" alt="" />
<!-- /COUNTER -->
<!-- begin of Begun code -->
<script>
    (new Image).src = [
        "https:" === document.location.protocol ? "https:" : "http:",
        "//autocontext.begun.ru/analytics?target_id=0&counter_id=0&url=",
        encodeURIComponent(document.URL),
        "&ref=", encodeURIComponent(document.referrer),
        "&rnd=", Math.random()
    ].join('');
</script>
<!-- end of Begun code -->
<!-- Begun Sync -->
<img src="//sync.rambler.ru/emily?partner_id=begun">
<!-- Begun Sync END-->
<!-- Begin ATI Basic Tracking Code -->
<script type="text/javascript">
LJ.define('LJ.ATI');

xtnv   = document;
xtsd   = 'http://logc400';
xtsite = '528851';
xtn2   = '2';
xtpage = 'journal::personal::capttofu::capttofu.livejournal.com%2F1752.html';
xtdi   = '';

LJ.ATI.page = xtpage;
LJ.ATI.level2id = xtn2;

LJ.ATI.click = function (key, value) {
    window.xt_click(window, 'C', 3, key, value);
}

LJ.ATI.queryString = '';
LJ.ATI.params = {
    ac: '',
    an: '',

    x1:  '[' + encodeURIComponent(document.title) + ']',
    x2:  '[undef]',
    x3:  '2',
    x4:  '0',
    x5:  '[horizon]',
    x6:  '0',
    x7:  '[lj]',
    x8:  '2',
    x9:  '1',
    x10: '1',
    x11: '2',
    x12: '1',
    x13: '0',
    x14: '[undef]',
    x15: '0',
    x16: '2',
    x17: '[undef]',
    x18: '9',

    f1: '',
    f2: '',
    f3: '',
    f4: '',

    tag: '',
    ptype: '2-2-1'
};
LJ.ATI.queryString = '&' + LiveJournal.constructUrl('', LJ.ATI.params).replace('?', '');

if (window.xtparam != null) {
    window.xtparam += LJ.ATI.queryString;
} else{
    window.xtparam  = LJ.ATI.queryString + '&ati=';
};

LJ.injectScript('http://l-stat.livejournal.net/js/ads/xtcore.js');
</script>
<noscript>
<img width="1" height="1" alt="" src="http://logc400.xiti.com/hit.xiti?s=528851&s2=1&p=journal::personal::capttofu::capttofu.livejournal.com%2F1752.html&di=&an=&ac=&x2=undef&x3=2&x4=0&x5=horizon&x6=0&x7=lj&x8=2&x9=1&x10=1&x11=2&x12=1&x13=0&x14=undef&x15=0&x16=2&x17=undef&x18=9&tag=&ptype=2-2-1&f1=&f2=&f3=&f4=&xtpage=journal::personal::capttofu::capttofu.livejournal.com%2F1752.html&xtn2=2&ati=" >
</noscript>
<!-- End ATI Basic Tracking Code -->
</div>
	
	
        <div id="fb-root"></div>
        <script type="text/javascript">
        LJ.injectScript('https://apis.google.com/js/client:plusone.js', { text: "{lang: 'zh'}" });
    
        LJ.injectScript('http://platform.twitter.com/widgets.js');
    
        window.fbAsyncInit = function() {
            FB.init({ appId: '214181831945836', xfbml: true });
        };

        LJ.injectScript(document.location.protocol + '//connect.facebook.net/zh_CN/all.js', null, document.getElementById('fb-root'));
    
        LJ.injectScript('http://surfingbird.ru/share/share.min.js');
    </script>
    <!--AdFox START-->
<!--sup-com-->
<!-- LJSUP-17777 -->
<!-- ________________________AdFox Asynchronous code START__________________________ -->
<script type="text/javascript">
<!--
if (typeof(pr) == 'undefined') { var pr = Math.floor(Math.random() * 1000000); }
if (typeof(document.referrer) != 'undefined') {
  if (typeof(afReferrer) == 'undefined') {
    afReferrer = escape(document.referrer);
  }
} else {
  afReferrer = '';
}
var addate = new Date();
var scrheight = '', scrwidth = '';
if (self.screen) {
scrwidth = screen.width;
scrheight = screen.height;
} else if (self.java) {
var jkit = java.awt.Toolkit.getDefaultToolkit();
var scrsize = jkit.getScreenSize();
scrwidth = scrsize.width;
scrheight = scrsize.height;
}
var dl = escape(document.location);
var pr1 = Math.floor(Math.random() * 1000000);
document.write('<div id="AdFox_banner_'+pr1+'"></div>');
document.write('<div style="visibility:hidden;position:absolute;top:0;right:0;"><iframe id="AdFox_iframe_'+pr1+'" width=1 height=1 marginwidth=0 marginheight=0 scrolling=no frameborder=0></iframe></div>');
AdFox_getCodeScript(1,pr1,'//ads.adfox.ru/171817/prepareCode?p1=bnjgf&amp;p2=exqv&amp;pct=a&amp;pfc=a&amp;pfb=a&amp;pr=' + pr +'&amp;pt=b&amp;pd=' + addate.getDate() + '&amp;pw=' + addate.getDay() + '&amp;pv=' + addate.getHours() + '&amp;prr=' + afReferrer + '&amp;puid1=&amp;puid2=&amp;puid3=&amp;puid4=&amp;puid5=&amp;puid6=&amp;puid7=&amp;puid8=&amp;puid9=&amp;puid10=&amp;puid11=&amp;puid12=&amp;puid13=&amp;puid14=&amp;puid15=&amp;puid16=&amp;puid17=&amp;puid18=&amp;puid19=&amp;puid20=&amp;puid21=&amp;puid22=&amp;puid23=&amp;puid24=&amp;puid25=&amp;puid26=&amp;puid27=&amp;puid28=&amp;puid29=&amp;puid30=&amp;puid31=&amp;puid32=&amp;puid33=&amp;puid34=&amp;puid35=&amp;pdw=' + scrwidth + '&amp;pdh=' + scrheight + '&amp;dl='+dl+'&amp;pr1='+pr1);
// -->
</script>
<!-- _________________________AdFox Asynchronous code END___________________________ -->


</body>
</html>
