<!DOCTYPE html>
<html lang="en-US">
	<head>
				<link rel="profile" href="http://gmpg.org/xfn/11" />
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
		<title>Dynamic replication filters — our wheel will be square! &laquo; The MariaDB Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- FB Insight tag -->
    <meta property="fb:page_id" content="199778073401398" />

    <!-- G+ Link -->
    <link href="https://plus.google.com/102059736934609902389/" rel="publisher" />

    <link rel="stylesheet" type="text/css" href="https://mariadb.org/static/main-20911b2a58bdcc99e8cf07efa34822521c4ed80f.css" />

    <!-- An HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- fav and touch icons -->
    <link rel="shortcut icon" href="https://mariadb.org/static/images/icons/favicon-821771924f6f27f4915581c8d7e4ec52c9206921.ico" type="image/x-icon" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://mariadb.org/static/images/icons/apple-touch-icon-144-precomposed-f24802508f1ae7ef0cb8aaec1edcdfd1e864e8c6.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://mariadb.org/static/images/icons/apple-touch-icon-114-precomposed-1892dba3e64224256d31b23120a60568e67a78eb.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://mariadb.org/static/images/icons/apple-touch-icon-72-precomposed-f483f58db78120d568843752940f2d2e68427ab5.png">
    <link rel="apple-touch-icon-precomposed" href="https://mariadb.org/static/images/icons/apple-touch-icon-57-precomposed-d6ad1fddfdf18cd45367dce49463fce13605279c.png">

				<link rel="alternate" type="application/rss+xml" title="The MariaDB Blog &raquo; Feed" href="https://blog.mariadb.org/feed/" />
<link rel="alternate" type="application/rss+xml" title="The MariaDB Blog &raquo; Comments Feed" href="https://blog.mariadb.org/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="The MariaDB Blog &raquo; Dynamic replication filters — our wheel will be square! Comments Feed" href="https://blog.mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/feed/" />
<link rel='stylesheet' id='tfg_style-css'  href='https://blog.mariadb.org/wp-content/plugins/twitter-facebook-google-plusone-share/tfg_style.css?ver=3.9' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='https://blog.mariadb.org/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=2.6.0' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://blog.mariadb.org/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.6.0' type='text/css' media='all' />
<link rel='stylesheet' id='tw-bootstrap-css'  href='https://blog.mariadb.org/wp-content/themes/the-bootstrap/css/bootstrap.min.css?ver=2.0.3' type='text/css' media='all' />
<link rel='stylesheet' id='the-bootstrap-css'  href='https://blog.mariadb.org/wp-content/themes/the-bootstrap/style.min.css?ver=0.1.0' type='text/css' media='all' />
<link rel='stylesheet' id='the-bootstrap-child-css'  href='https://blog.mariadb.org/wp-content/themes/mariadb/style.css?ver=3.9' type='text/css' media='all' />
<script type='text/javascript' src='https://blog.mariadb.org/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='https://blog.mariadb.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='https://blog.mariadb.org/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.4.7.3'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://blog.mariadb.org/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://blog.mariadb.org/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='MariaDB 5.5.34 now available' href='https://blog.mariadb.org/mariadb-5-5-34-now-available/' />
<link rel='next' title='MariaDB 10.0.7 now available' href='https://blog.mariadb.org/mariadb-10-0-7-now-available/' />
<meta name="generator" content="WordPress 3.9" />
<link rel='canonical' href='https://blog.mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/' />
<link rel='shortlink' href='https://blog.mariadb.org/?p=1810' />
<meta name="framework" content="Alkivia Framework 0.8" />
	<style type="text/css">
				#branding hgroup {
			position: absolute !important;
			clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
			</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #FFFFFF; }
</style>
	<!--[if lt IE 9]>
		<script src="https://blog.mariadb.org/wp-content/themes/the-bootstrap/js/html5shiv.min.js" type="text/javascript"></script>
		<script src="https://blog.mariadb.org/wp-content/themes/the-bootstrap/js/respond.min.js" type="text/javascript"></script>
	<![endif]-->
	<!-- Google Analytics Tracking by Google Analyticator 6.4.7.3: http://www.videousermanuals.com/google-analyticator/ -->
<script type="text/javascript">
                var analyticsFileTypes = [''];
                            var analyticsSnippet = 'enabled';
                var analyticsEventTracking = 'enabled';
            </script>
<script type="text/javascript">
	var _gaq = _gaq || [];
  
	_gaq.push(['_setAccount', 'UA-4373822-6']);
    _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
	</head>
	
	<body class="single single-post postid-1810 single-format-standard custom-background content-sidebar">

<div class="navbar navbar-fixed-top navbar-inverse">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="brand" href="https://mariadb.org/">MariaDB</a>
            <div class="nav-collapse">
                  <ul class="nav">
                    <li 
    
    ><a href="https://mariadb.org/en/">Home</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li
    >
                                <a href="https://mariadb.org/en/about/">
                                    About MariaDB</a></li>
                            <li
    >
                                <a href="https://mariadb.org/en/foundation/">
                                    About the MariaDB Foundation</a></li>
                            <li
    >
                                <a href="https://mariadb.org/en/supporters/">
                                    MariaDB Foundation Supporters</a></li>
                        </ul>
                    </li>
                    <li
    ><a href="https://downloads.mariadb.org/">Downloads</a></li>
                    <li class="active"><a href="https://blog.mariadb.org">Blog</a></li>
                    <li class="dropdown"><a href="https://kb.askmonty.org"
                                            class="dropdown-toggle"
                                            data-toggle="dropdown">Documentation<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="https://kb.askmonty.org">Knowledgebase</a></li>
                            <li><a href="https://kb.askmonty.org/en/reporting-bugs">Reporting Problems</a></li>
                            <li><a href="https://kb.askmonty.org/en/release-notes">Release Notes</a></li>
                            <li><a href="https://kb.askmonty.org/en/changelogs">Changelogs</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="#"
                                            class="dropdown-toggle"
                                            data-toggle="dropdown">Resources<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="https://downloads.mariadb.org/mariadb/repositories/">Repository Configuration Tool</a></li>
                            <li
    ><a href="https://mariadb.org/explain_analyzer/analyze/">Explain Analyzer</a></li>
                            <li
    ><a href="https://mariadb.org/feedback_plugin/">Feedback Plugin</a></li>
                            <li
    ><a href="https://mariadb.org/en/badges/">MariaDB Badges</a></li>
                            <li
    ><a href="https://mariadb.org/en/logos/">MariaDB Logos</a></li>
                    <li
    ><a href="https://mariadb.org/en/service-providers/">Service Providers</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="#"
                                            class="dropdown-toggle"
                                            data-toggle="dropdown">Support MariaDB<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="https://montyprogram.com/developer-support/">Purchase Developer Support</a></li>
                            <li
    ><a href="https://mariadb.org/en/donate/">Donate to the MariaDB Foundation</a></li>
                            <li><a href="http://www.cafepress.com/mariadb">Merchandise</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="#"
                                            class="dropdown-toggle"
                                            data-toggle="dropdown">Community<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="https://mariadb.org/en/community/">Community Ethics</a></li>
                            <li><a href="https://mariadb.org/en/conference/">Conference Attendance</a></li>
                            <li><a href="https://mariadb.org/en/developer-meetings/">Developer Meetings</a></li>
                            <li><a href="https://mariadb.org/en/ambassadors/">Community Ambassadors</a></li>
                        </ul>
                    </li>
                </ul>

                	<form id="searchform" class="navbar-search pull-right" method="get" action="https://blog.mariadb.org/">
						<label for="s" class="assistive-text hidden">Search</label>
						<input type="search" class="search-query" name="s" id="s" placeholder="Search" />
					</form>            </div><!-- /class="nav-collapse" -->
        </div><!-- /class="container" -->
    </div><!-- /class="navbar-inner" -->
</div><!-- /class="navbar navbar-fixed-top" -->


<!-- Bottom Social Sharing Bar
================================================== -->
<div class="navbar navbar-fixed-bottom hidden-phone hidden-tablet">
    <div class="navbar-inner">
        <div class="container">
            <footer>
                <ul class="nav pull-left" style="margin-top:10px;font-size:13px;"><li><a class="copyright" href="https://mariadb.org/foundation">&copy; MariaDB Foundation 2012</a></li></ul>
                <span class="pull-right" style="margin-top:5px;"><div class="bottomcontainerBox" style="">
			<div style="float:left; width:85px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;">
			<iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fblog.mariadb.org%2Fdynamic-replication-filters-our-wheel-will-be-square%2F&amp;layout=button_count&amp;show_faces=false&amp;width=85&amp;action=like&amp;font=verdana&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:85px; height:21px;"></iframe></div>
			<div style="float:left; width:80px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;">
			<g:plusone size="medium" href="https://blog.mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/"></g:plusone>
			</div>
			<div style="float:left; width:95px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;">
			<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://blog.mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/"  data-text="Dynamic replication filters — our wheel will be square!" data-count="horizontal" data-via="mariadb"></a>
			</div><div style="float:left; width:105px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;"><script type="in/share" data-url="https://blog.mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/" data-counter="right"></script></div><div style="float:left; width:105px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;"><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fblog.mariadb.org%2Fdynamic-replication-filters-our-wheel-will-be-square%2F&media=" data-pin-do="buttonPin" data-pin-config="beside"><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a>
<script type="text/javascript" async src="//assets.pinterest.com/js/pinit.js"></script></div>			
			</div><div style="clear:both"></div><div style="padding-bottom:4px;"></div></span>
            </footer>
        </div>
    </div>
</div>


		<div class="container">
			<div id="page" class="hfeed row">
        <!-- Sidebar Area
        ================================================== -->
        <div class="span3">
            <p>
            <a id="home_link" href="https://mariadb.org/en/">
                <img src="https://mariadb.org/static/images/v2/ice_logo-5dcea9e47b780ff52f75c3c3304d54827f56211e.png" width="100%" alt="MariaDB"/></a>
            </p>

            <!-- Nav Menu
           ================================================== -->
            <ul class="nav nav-list hidden-phone">
                <li
    ><a href="https://mariadb.org/en/"><span class="icon-home"></span> Home</a></li>
                <li class="nav-header">
                    <span class="icon-info-sign"></span> About
                    <ul class="nav nav-list" style="font-weight:normal;font-size: 13px;text-transform: none;">
                        <li
    >
                            <a href="https://mariadb.org/en/about/">
                                About MariaDB</a></li>
                        <li
    >
                            <a href="https://mariadb.org/en/foundation/">
                                About the MariaDB Foundation</a></li>
                        <li
    >
                            <a href="https://mariadb.org/en/supporters/">
                                MariaDB Foundation Supporters</a></li>
                    </ul>
                </li>
                <li
    ><a href="https://downloads.mariadb.org/"><span class="icon-download-alt"></span> Downloads</a></li>
                <li class="active"><a href="https://blog.mariadb.org"><span class="icon-comment"></span> Blog</a></li>
                <li
    ><a href="https://mariadb.org/en/service-providers/"><span class="icon-certificate"></span> Service Providers</a></li>
                <li class="nav-header"><span class="icon-heart"></span> Support MariaDB
                    <ul class="nav nav-list" style="font-weight:normal;font-size: 13px;text-transform: none;">
                        <li><a href="https://montyprogram.com/developer-support/">Purchase Developer Support</a></li>
                        <li
    ><a href="https://mariadb.org/en/donate/">Donate to the MariaDB Foundation</a></li>
                        <li><a href="http://www.cafepress.com/mariadb">Merchandise</a></li>
                    </ul>
                </li>
                <li class="nav-header"><span class="icon-book"></span> Documentation
                    <ul class="nav nav-list" style="font-weight:normal;font-size: 13px;text-transform: none;">
                        <li><a href="https://kb.askmonty.org">Knowledgebase</a></li>
                        <li><a href="https://kb.askmonty.org/en/reporting-bugs">Reporting Problems</a></li>
                        <li><a href="https://kb.askmonty.org/en/release-notes">Release Notes</a></li>
                        <li><a href="https://kb.askmonty.org/en/changelogs">Changelogs</a></li>
                    </ul>
                </li>
                <li class="nav-header"><span class="icon-briefcase"></span> Resources
                    <ul class="nav nav-list" style="font-weight:normal;font-size: 13px;text-transform: none;">
                        <li
    ><a href="https://downloads.mariadb.org/mariadb/repositories/">Repository Configuration Tool</a></li>
                        <li
    ><a href="https://mariadb.org/explain_analyzer/analyze/">Explain Analyzer</a></li>
                        <li
    ><a href="https://mariadb.org/feedback_plugin/">Feedback Plugin</a></li>
                        <li
    ><a href="https://mariadb.org/en/badges/">MariaDB Badges</a></li>
                        <li
    ><a href="https://mariadb.org/en/logos/">MariaDB Logos</a></li>
                    </ul>
                </li>
                <li class="nav-header"><span class="icon-globe"></span> Community
                    <ul class="nav nav-list" style="font-weight:normal;font-size: 13px;text-transform: none;">
                        <li
    ><a href="https://mariadb.org/en/community/">Community Ethics</a></li>
                        <li
    ><a href="https://mariadb.org/en/conference/">Conference Attendance</a></li>
                        <li
    ><a href="https://mariadb.org/en/developer-meetings/">Developer Meetings</a></li>
                        <li
    ><a href="https://mariadb.org/en/ambassadors/">Community Ambassadors</a></li>
                    </ul>
                </li>
            </ul>
        </div> <!-- End of the Sidebar -->

								<header id="branding" role="banner" class="span9">
            <div class="row" id="header_row">
            
    <div class="span6">
        <div class="page-header">
            <h1>The MariaDB Blog                <small>The Official Blog of the MariaDB Project</small>
            </h1>
        </div>
    </div>

            
                <div class="span3">
                    <div class="well">
                        <div class="center">
                            <a class="btn btn-success btn-large" href="https://downloads.mariadb.org/mariadb/"><span class="icon-download-alt icon-white"></span> Download MariaDB Now!</a>
                        </div>
                    </div>
                </div>
            
            </div>

					
					
									</header><!-- #branding -->
<section id="primary" class="span6">
	
		<div id="content" role="main">
		<article id="post-1810" class="post-1810 post type-post status-publish format-standard hentry category-uncategorized tag-mariadb tag-mysql tag-nih">
		
	<header class="page-header">
		<h1 class="entry-title">Dynamic replication filters — our wheel will be square!</h1>		<div class="entry-meta"><span class="sep">Posted on </span><a href="https://blog.mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/" title="15:55" rel="bookmark"><time class="entry-date" datetime="2013-12-09T15:55:54+00:00" pubdate>09 Dec 2013</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="https://blog.mariadb.org/author/serg/" title="View all posts by Sergei" rel="author">Sergei</a></span></span></div><!-- .entry-meta -->
	</header><!-- .entry-header -->

	<div class="entry-content clearfix">
		<p>This is both hilarious and sad. The new MySQL 5.7 milestone release presents a new feature — <a href="http://my-s-q-l.blogspot.de/2013/12/Making-MySQL-Slave-Replication-Filters-Dynamic.html">replication filters are now dynamic</a>. This is a great and long awaited feature, no doubt about it.</p>
<p>In short, for years MySQL slaves could filter the incoming stream of replication events based on the database or table name these events were applicable to. These filters were configured using the <code>my.cnf</code> file (or command-line), in particular with the following variables:</p><!-- Crayon Syntax Highlighter v2.6.0 -->

		<div id="crayon-5368d83b41ebd156588955" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; margin-left: 12px; margin-right: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 12px !important; line-height: 15px !important;">
 replicate_do_db
 replicate_ignore_db
 replicate_do_table
 replicate_ignore_table
 replicate_wild_do_table
 replicate_wild_ignore_table</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5368d83b41ebd156588955-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5368d83b41ebd156588955-2">2</div><div class="crayon-num" data-line="crayon-5368d83b41ebd156588955-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5368d83b41ebd156588955-4">4</div><div class="crayon-num" data-line="crayon-5368d83b41ebd156588955-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5368d83b41ebd156588955-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-5368d83b41ebd156588955-1"><span class="crayon-h"> </span>replicate_do_db</div><div class="crayon-line crayon-striped-line" id="crayon-5368d83b41ebd156588955-2"><span class="crayon-h"> </span>replicate_ignore_db</div><div class="crayon-line" id="crayon-5368d83b41ebd156588955-3"><span class="crayon-h"> </span>replicate_do_table</div><div class="crayon-line crayon-striped-line" id="crayon-5368d83b41ebd156588955-4"><span class="crayon-h"> </span>replicate_ignore_table</div><div class="crayon-line" id="crayon-5368d83b41ebd156588955-5"><span class="crayon-h"> </span>replicate_wild_do_table</div><div class="crayon-line crayon-striped-line" id="crayon-5368d83b41ebd156588955-6"><span class="crayon-h"> </span>replicate_wild_ignore_table</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0133 seconds] -->
<p>Naturally, users wanted to be able to change the values of these options without having to restart the server. And eventually Davi Arnaut implemented it. MariaDB got it as a contribution back in version 5.5.22. Since that release these options in MariaDB have been <a title="Documentation in KB" href="https://mariadb.com/kb/en/dynamic-replication-variables/">dynamic system variables</a> and one could change them at will. For example,</p><!-- Crayon Syntax Highlighter v2.6.0 -->

		<div id="crayon-5368d83b41ee2702829695" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; margin-left: 12px; margin-right: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 12px !important; line-height: 15px !important;">
set global replicate_do_db = "mydb1,mydb2";
set global replicate_wild_ignore_table = "mydb1.local%";</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5368d83b41ee2702829695-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5368d83b41ee2702829695-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-5368d83b41ee2702829695-1"><span class="crayon-st">set global</span><span class="crayon-h"> </span>replicate_do_db<span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-s">"mydb1,mydb2"</span>;</div><div class="crayon-line crayon-striped-line" id="crayon-5368d83b41ee2702829695-2"><span class="crayon-st">set global</span><span class="crayon-h"> </span>replicate_wild_ignore_table<span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-s">"mydb1.local%"</span>;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>Now, I understand that sometimes we might implement a certain useful feature first. And I understand that in that case Oracle might want to have it, while not looking like they&#8217;re following MariaDB. Of course not! The feature must be totally original. With completely incompatible syntax. Most recent examples would be <code>EXPLAIN FOR CONNECTION</code> in MySQL 5.7.2 about a year after <code>SHOW EXPLAIN</code> was introduced in MariaDB, and multi-source replication using &#8220;channels&#8221;, while MariaDB has already been using named slaves for quite a while.</p>
<p>But really, there should be <em>some</em> logic in it. Admittedly, <code>EXPLAIN FOR CONNECTION</code> isn&#8217;t worse than <code>SHOW EXPLAIN</code>. And multi-source &#8220;channels&#8221; look just fine, syntax-wise. Still, if there is a command-line option, there (almost always) is a corresponding system variable, visible in <code>SHOW VARIABLES</code>. One (almost always) changes the value of the option by assigning a new value to the corresponding variable. There is only one way of doing it.</p>
<p>Alas, we have taken this way in MariaDB. So, by strictly adhering to the <a href="http://en.wikipedia.org/wiki/Not_invented_here">NIH</a> principle (and, I suspect, internal Oracle policies), MySQL developers simply had to invent a different way of changing server options. Lo and behold, <code>CHANGE REPLICATION FILTER</code> statement. Examples are:</p><!-- Crayon Syntax Highlighter v2.6.0 -->

		<div id="crayon-5368d83b41ef5203859922" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; margin-left: 12px; margin-right: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2; font-size: 12px !important; line-height: 15px !important;">
change replication filter replicate_do_db=(mydb1,mydb2);
change replication filter replicate_wild_ignore_table=('mydb1.local%');</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5368d83b41ef5203859922-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5368d83b41ef5203859922-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-5368d83b41ef5203859922-1"><span class="crayon-r">change</span><span class="crayon-h"> </span><span class="crayon-t">replication</span><span class="crayon-h"> </span>filter<span class="crayon-h"> </span>replicate_do_db=(mydb1,mydb2);</div><div class="crayon-line crayon-striped-line" id="crayon-5368d83b41ef5203859922-2"><span class="crayon-r">change</span><span class="crayon-h"> </span><span class="crayon-t">replication</span><span class="crayon-h"> </span>filter<span class="crayon-h"> </span>replicate_wild_ignore_table=(<span class="crayon-s">'mydb1.local%'</span>);</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p>Well done. Common sense? Nope, not in this case.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="cat-links block">Posted in <a href="https://blog.mariadb.org/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>.</span><span class="tag-links block">Tagged <a href="https://blog.mariadb.org/tag/mariadb/" rel="tag">MariaDB</a>, <a href="https://blog.mariadb.org/tag/mysql/" rel="tag">mysql</a>, <a href="https://blog.mariadb.org/tag/nih/" rel="tag">nih</a>.</span>	</footer><!-- .entry-footer -->
	
	</article><!-- #post-1810 -->

<div id="disqus_thread">
                    <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-865">
        <div id="dsq-comment-header-865" class="dsq-comment-header">
            <cite id="dsq-cite-865">
                <span id="dsq-author-user-865">Federico Razzoli</span>
            </cite>
        </div>
        <div id="dsq-comment-body-865" class="dsq-comment-body">
            <div id="dsq-comment-message-865" class="dsq-comment-message"><p>I&#8217;ve already watched this movie and I didn&#8217;t<br />
like it. It was called &#8220;the browsers war&#8221;. Please Oracle, don&#8217;t turn<br />
databases into 90s years browsers. A war is never between 2 companies &#8211; it&#8217;s always against users.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-866">
        <div id="dsq-comment-header-866" class="dsq-comment-header">
            <cite id="dsq-cite-866">
                <span id="dsq-author-user-866">Richard Bensley</span>
            </cite>
        </div>
        <div id="dsq-comment-body-866" class="dsq-comment-body">
            <div id="dsq-comment-message-866" class="dsq-comment-message"><p>Thanks for pointing that out Sergei, very useful. What do you think about being able to set filters for different repliaction filters individually for each master on a multi-source slave?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-868">
        <div id="dsq-comment-header-868" class="dsq-comment-header">
            <cite id="dsq-cite-868">
                <span id="dsq-author-user-868">Sergei</span>
            </cite>
        </div>
        <div id="dsq-comment-body-868" class="dsq-comment-body">
            <div id="dsq-comment-message-868" class="dsq-comment-message"><p>Sure. In MariaDB it works. The syntax is what you may expect (same as for named key caches):</p>
<p>  set @@connection_name.replication_do_table=&#8230;</p>
<p>and the same from my.cnf or command line.</p>
<p>In MySQL it doesn&#8217;t seem to work. Admittedly, I didn&#8217;t try, but from looking at the source code I don&#8217;t see it being implemented. I suppose they&#8217;ll eventually do something like</p>
<p>  change replication filter for channel xxx replication_do_table=(&#8230;)</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-867">
        <div id="dsq-comment-header-867" class="dsq-comment-header">
            <cite id="dsq-cite-867">
                <span id="dsq-author-user-867">manish554@yahoo.com</span>
            </cite>
        </div>
        <div id="dsq-comment-body-867" class="dsq-comment-body">
            <div id="dsq-comment-message-867" class="dsq-comment-message"><p>This will inconsistent data&#8230;. in mysql.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-869">
        <div id="dsq-comment-header-869" class="dsq-comment-header">
            <cite id="dsq-cite-869">
                <span id="dsq-author-user-869">Sheeri K. Cabral</span>
            </cite>
        </div>
        <div id="dsq-comment-body-869" class="dsq-comment-body">
            <div id="dsq-comment-message-869" class="dsq-comment-message"><p>So you think that Oracle looked at what MariaDB did and said &#8220;let&#8217;s do something completely different?&#8221; As opposed to just using the same code MariaDB did, which they&#8217;ve done before (MariaDB patches have made it into Oracle&#8217;s MySQL).</p>
<p>Your assumption is just that. Very likely it has more to do with the fact that replication filters are not your usual variable. If you want more than one value in MySQL, you have to set it more than once in the configuration file. For example, to replicate everything in the foo and bar databases:</p>
<p>replicate_wild_do_table=foo.%<br />
replicate_wild_do_table=bar.%</p>
<p>Now let&#8217;s say you wanted to change this to replicate the foo and baz databases. In MariaDB, it looks like you can use commas. But not in MySQL. So they changed how dynamic setting of these were done, to accomodate the fact that this is a multi-value variable &#8211; instead of changing SET to try to parse out all the commas, etc.</p>
<p>As for EXPLAIN FOR CONNECTION vs. SHOW EXPLAIN, it seems obvious to me. Think of the command &#8220;SHOW EXPLAIN FOR 1234;&#8221; What does that mean? show explain for a number? &#8220;EXPLAIN FOR CONNECTION 1234;&#8221; is more obvious that it&#8217;s showing some kind of information for connection 1234.</p>
<p>I guess it&#8217;s lose-lose, though &#8211; if Oracle would have used MariaDB&#8217;s patch, people would say &#8220;Oracle&#8217;s not doing anything original!&#8221; In this case it looks like they&#8217;re trying to make things a bit better, and make more sense. If you think Oracle is a multi-million dollar company because they waste time trying to spite other companies, you&#8217;re wrong. If the MariaDB code was good and they wanted that feature, they would have used it, like they have with other features.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-870">
        <div id="dsq-comment-header-870" class="dsq-comment-header">
            <cite id="dsq-cite-870">
                <span id="dsq-author-user-870">Sergei</span>
            </cite>
        </div>
        <div id="dsq-comment-body-870" class="dsq-comment-body">
            <div id="dsq-comment-message-870" class="dsq-comment-message"><p>Nice try <img src="https://blog.mariadb.org/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
<p>There are other multi-value command-line options, they are still server variables (e.g. @@debug).</p>
<p>Of course, I don&#8217;t think that Oracle is a multi-million dollar company, *because* they waste time trying to spite other companies. They&#8217;re a multi-million dollar company for many different reasons. Which still doesn&#8217;t mean, they cannot waste time trying to spite other companies.</p>
<p>And Oracle can *not* use MariaDB code — they cannot just take a GPLv2 code and put it in MySQL, one needs to sign a Contributor Agreement first. You know that.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-871">
        <div id="dsq-comment-header-871" class="dsq-comment-header">
            <cite id="dsq-cite-871">
                <span id="dsq-author-user-871">Sheeri K. Cabral</span>
            </cite>
        </div>
        <div id="dsq-comment-body-871" class="dsq-comment-body">
            <div id="dsq-comment-message-871" class="dsq-comment-message"><p>Once it&#8217;s GPLv2, they can take it. The point of the Contributor Agreement is to give Oracle the right to distribute it, which GPLv2 already does.</p>
<p>The replicate options aren&#8217;t exactly the same in MySQL and MariaDB. In Maria, they are proper server variables, in MySQL they are not. For example:</p>
<p>MariaDB [(none)]&gt; select @@version; show variables like &#8216;replicate_wild%&#8217;;<br />
+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+<br />
| @@version          |<br />
+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+<br />
| 5.5.29-MariaDB-log |<br />
+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+<br />
1 row in set (0.00 sec)</p>
<p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;-+<br />
| Variable_name               | Value |<br />
+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;-+<br />
| replicate_wild_do_table     |       |<br />
| replicate_wild_ignore_table |       |<br />
+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;-+<br />
2 rows in set (0.00 sec)</p>
<p>As expected, they show up as a true server variable. Now let&#8217;s look at MySQL 5.6 (although MySQL 5.1 and 5.5 act the same):</p>
<p>mysql&gt; select @@version; show variables like &#8216;replicate_wild%&#8217;;<br />
+&#8212;&#8212;&#8212;&#8212;+<br />
| @@version  |<br />
+&#8212;&#8212;&#8212;&#8212;+<br />
| 5.6.12-log |<br />
+&#8212;&#8212;&#8212;&#8212;+<br />
1 row in set (0.00 sec)</p>
<p>Empty set (0.01 sec)</p>
<p>mysql&gt;</p>
<p>&#8212;&#8212;&#8211;</p>
<p>So you see, it&#8217;s different in MySQL. Not to spite MariaDB, just because it&#8217;s actually different.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'https://blog.mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/';
    var disqus_identifier = '1810 https://blog.mariadb.org/?p=1810';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'montyprogram';
    var disqus_title = "Dynamic replication filters — our wheel will be square!";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=1810';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "https:\/\/blog.mariadb.org\/dynamic-replication-filters-our-wheel-will-be-square\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>
		
		<nav id="nav-single" class="pager">
			<h3 class="assistive-text">Post navigation</h3>
			<span class="next"><a href="https://blog.mariadb.org/mariadb-10-0-7-now-available/" rel="next">Next Post <span class="meta-nav">&rarr;</span></a></span>
			<span class="previous"><a href="https://blog.mariadb.org/mariadb-5-5-34-now-available/" rel="prev"><span class="meta-nav">&larr;</span> Previous Post</a></span>
		</nav><!-- #nav-single -->
		
			</div><!-- #content -->
	</section><!-- #primary -->

<section id="secondary" class="widget-area span3" role="complementary">
	<aside id="archives" class="widget well widget_archives"><h3 class="widget-title">Archives</h3>		<ul>
	<li><a href='https://blog.mariadb.org/2014/05/'>May 2014</a></li>
	<li><a href='https://blog.mariadb.org/2014/04/'>April 2014</a></li>
	<li><a href='https://blog.mariadb.org/2014/03/'>March 2014</a></li>
	<li><a href='https://blog.mariadb.org/2014/02/'>February 2014</a></li>
	<li><a href='https://blog.mariadb.org/2014/01/'>January 2014</a></li>
	<li><a href='https://blog.mariadb.org/2013/12/'>December 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/11/'>November 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/10/'>October 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/09/'>September 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/08/'>August 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/07/'>July 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/06/'>June 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/05/'>May 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/04/'>April 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/03/'>March 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/02/'>February 2013</a></li>
	<li><a href='https://blog.mariadb.org/2013/01/'>January 2013</a></li>
	<li><a href='https://blog.mariadb.org/2012/12/'>December 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/11/'>November 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/10/'>October 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/09/'>September 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/08/'>August 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/07/'>July 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/06/'>June 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/05/'>May 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/04/'>April 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/03/'>March 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/02/'>February 2012</a></li>
	<li><a href='https://blog.mariadb.org/2012/01/'>January 2012</a></li>
	<li><a href='https://blog.mariadb.org/2011/12/'>December 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/11/'>November 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/10/'>October 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/09/'>September 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/08/'>August 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/07/'>July 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/06/'>June 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/05/'>May 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/04/'>April 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/03/'>March 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/02/'>February 2011</a></li>
	<li><a href='https://blog.mariadb.org/2011/01/'>January 2011</a></li>
	<li><a href='https://blog.mariadb.org/2010/12/'>December 2010</a></li>
	<li><a href='https://blog.mariadb.org/2010/11/'>November 2010</a></li>
	<li><a href='https://blog.mariadb.org/2010/10/'>October 2010</a></li>
	<li><a href='https://blog.mariadb.org/2010/09/'>September 2010</a></li>
	<li><a href='https://blog.mariadb.org/2010/07/'>July 2010</a></li>
	<li><a href='https://blog.mariadb.org/2010/05/'>May 2010</a></li>
	<li><a href='https://blog.mariadb.org/2010/04/'>April 2010</a></li>
		</ul>
</aside><aside id="meta" class="widget well widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="https://blog.mariadb.org/wp-login.php">Log in</a></li>
			<li><a href="https://blog.mariadb.org/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://montyprogram.disqus.com/latest.rss" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
</aside></section><!-- #secondary .widget-area -->
							</div><!-- #page -->
		</div><!-- .container -->
	<!-- 28 queries. 0.528 seconds. -->
	<link rel='stylesheet' id='crayon-css'  href='https://blog.mariadb.org/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.6.0' type='text/css' media='all' />
<script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=3.9'></script>
<script type='text/javascript' src='https://apis.google.com/js/plusone.js?ver=3.9'></script>
<script type='text/javascript' src='https://platform.linkedin.com/in.js?ver=3.9'></script>
<script type='text/javascript' src='https://blog.mariadb.org/wp-content/themes/the-bootstrap/js/bootstrap.min.js?ver=2.0.3'></script>
<script type='text/javascript' src='https://blog.mariadb.org/wp-content/themes/the-bootstrap/js/the-bootstrap.min.js?ver=0.1.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.6.0","is_admin":"0","ajaxurl":"https:\/\/blog.mariadb.org\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.mariadb.org/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.6.0'></script>
    <script type="text/javascript">llactid=18632</script>
    <script type="text/javascript" 
      src="https://trackalyzer.com/trackalyze_secure.js"></script>  
    <script type="text/javascript" 
      src="https://trackalyzer.com/formalyze_init.js"></script>  
    <script type="text/javascript" 
      src="https://trackalyzer.com/formalyze_call.js"></script>
	</body>
</html>