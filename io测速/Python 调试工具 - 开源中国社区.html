<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='zh-CN' xml:lang='zh-CN' xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
  <title>Python 调试工具 - 开源中国社区</title>
        <link rel="stylesheet" href="/css/channel.css?date=2014011601" type="text/css" media="screen" />
  <link rel="stylesheet" type="text/css" href="/js/2011/fancybox/jquery.fancybox-1.3.4.css" media="screen" />
  <link rel="alternate" type="application/rss+xml" title="最新开源项目" href="http://www.oschina.net/project/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新开源资讯" href="http://www.oschina.net/news/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新问题列表" href="http://www.oschina.net/question/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新翻译列表" href="http://www.oschina.net/translate/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新博客列表" href="http://www.oschina.net/blog/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新代码分享列表" href="http://www.oschina.net/code/rss" />
  <link rel="alternate" type="application/rss+xml" title="开源中国 - 源码列表" href="http://www.oschina.net/code/source_rss" />
  <script type="text/javascript" src="/js/2012/jquery-1.7.1.min.js"></script>
  <script type="text/javascript" src="/js/2012/jquery.form.js"></script>
  <script type="text/javascript" src="/js/2011/fancybox/jquery.fancybox-fixed.js?2014031702"></script>
    <link rel="stylesheet" href="/js/poshytip/tip-yellowsimple/tip-yellowsimple.css" type="text/css" />
  <script type="text/javascript" src="/js/poshytip/jquery.poshytip.min.js"></script>
  <script type="text/javascript">
  	g_user = {
	id:0,
	name:'',
	login:false};  </script>
    <script type="text/javascript" src="/js/2011/oschina.js?ver=20121007"></script>
  <script type="text/javascript" src="/js/utils.js"></script>
  <script type="text/javascript" src="/js/channel.js?2014022501"></script>
    </head>
<body>
<div id='OSC_NavTop'>
	<div class="wp998">
        <div id="OSC_Channels">
        	<ul>
        	<li class="item"><a href="http://www.oschina.net/" class='home'>首页</a></li>        	<li class="item control_select"><a href="http://www.oschina.net/project" class='project'>开源项目</a>
				<ul class="cs_content">					
                	                	<li><a href="http://www.oschina.net/project/lang/19/java">Java 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/194/csharp">C# 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/22/php">PHP 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/21/c">C/C++ 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/26/ruby">Ruby 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/25/python">Python 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/358/go">Go开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/28/javascript">JS开源软件</a></li>
				</ul>
			</li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/question" class='question'>讨论区</a>				
				<ul class="cs_content">					
                	<li><a href="http://www.oschina.net/question?catalog=1"> 技术问答 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=2"> 技术分享 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=3"> IT大杂烩 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=100"> 职业生涯 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=4"> 站务/建议 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/alipay"> 支付宝专区 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/hardware"> 开源硬件专区 &raquo; </a></li>
				</ul>
			</li>
        	<li class="item"><a href="http://www.oschina.net/code/list" class='code'>代码</a></li>
        	        	<li class="item"><a href="http://www.oschina.net/blog" class='blog'>博客</a></li>
        	<li class="item"><a href="http://www.oschina.net/translate" class='tran hl'>翻译</a></li>
            <li class="item"><a href="http://www.oschina.net/news" class='news'>资讯</a></li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/android" class='mobile'>移动开发</a>
				<ul class="cs_content cs_mobile">
                	<li class="android_"><a href="http://www.oschina.net/android">Android开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/home">iOS开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/codingList">iOS代码库</a></li>
                	<li class="wp7_"><a href="http://www.oschina.net/wp">Windows Phone</a></li>
				</ul>
			</li>
        	<li class="item t_job"><a href="http://www.oschina.net/job" class='job'>招聘</a></li>
									            <li class="item control_select">
                <a href="http://city.oschina.net/" id="MyCities" title="城市圈">城市圈</a>
							</li>
        	</ul>
        </div>
		<div id="OSC_Userbar">
                		    		当前访客身份：游客 [ <a href="http://www.oschina.net/home/login?goto_page=http%3A%2F%2Fwww.oschina.net%2Ftranslate%2Fpython-debugging-tools">登录</a> | <a href="http://www.oschina.net/home/reg">加入开源中国</a> ]
    				</div>
		<div class='clear'></div>
	</div>
</div>
<div id="OSC_Screen">
	<div id="OSC_Content" class='CenterDiv'><style type="text/css">
.highlight {color:#A00;padding:0 1px;margin:0 2px;}
.NoData {text-align:center;padding:20px 0;color:#999;}
.error_msg {height:16px;color:#A00; margin:10px 0 10px 0;background:url('/img/warning.gif') no-repeat left center;padding-left:24px;}
.error_msg a {padding:0 5px 0 5px; font-weight:bold;}
.ajax_processing {display:none;background:url('/img/loading.gif') no-repeat left center; padding-left:20px;}
label.SELECTED {color:#C00;}
input.TEXT,textarea.TEXT,input.SEARCH {border:1px solid #bbb;font-size:13px;padding:3px;}
input.BUTTON {height:25px;line-height:25px;padding:0 3px;}
.mb10{margin-bottom:10px;}
a.rndbutton {
    background:#d1c0a5;
    color:#fff;
    text-decoration:none;
    height:30px;
    float:left;
    margin:0;
    border:0px solid #000;
    font-weight:bold;
    font-size:12pt;
    cursor:pointer;
}
a.rndbutton:hover {
    background-color:#bfaa88;
}
a.rndbutton span {
    color:#fff;
    float:left;
    margin:0 0 0 10px;
    padding:0 10px 0 0;
    height:30px;
    line-height:30px;
}

input.rndbutton {
    background:#4E867B;
    color:#fff;
    border:0px solid #000;
    cursor:pointer;
}
input.rndbutton:hover {
    background-color:#4F978A;
}

.SmallPortrait {
    filter:alpha(opacity=90); /* IE */
    -moz-opacity:0.9; /* Moz + FF */
    opacity: 0.9;
    padding:1px;
    background:#fff;
    border:1px solid #ccc;
}
a:hover .SmallPortrait {
    filter:alpha(opacity=100); /* IE */
    -moz-opacity:1.0; /* Moz + FF */
    opacity: 1.0;
    border:1px solid #40AA53;
}

.TextContent p{margin-bottom:5pt;}
.TextContent h1,.TextContent h2,.TextContent h3 {margin-bottom:10pt;border-bottom: 1px solid #CCC;padding-bottom:5px;}

.translate{float:left;width:678px;}
.translate_right{float:right;width:300px;overflow:hidden;}
.translate_right .PopularTags {
    margin: 0 0 10px 0;
    background: white;
    border: 1px solid #eee;
    box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.1);
    -moz-box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.1);
    -webkit-box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.1);
}
.translate_right .PopularTags p {padding:10px;}

#top_nav{width:100%;font-size:14px;line-height:24px; padding:2px;border-bottom: 1px solid #40AA53;}
#top_nav a{color:#005075;outline:0;text-decoration:none;}
#top_nav .right{float:right;color:#666;}

ul.tabnav {text-align: left;margin: 1em 0 0 0;font-weight: bold;font-size:10pt;border-bottom: medium double #E3E3E3;list-style-type: none;padding: 3px 10px 15px 10px;}
ul.tabnav li {display: inline;margin-left:10px;}
ul.tabnav li.current {border-bottom: 1px solid #fff;background-color: #fff;}
ul.tabnav li.current a {background-color: #0D5178;color: #FFF;cursor:text;}
ul.tabnav li a {padding: 4px 8px 5px 8px;color: #666;margin-right: 0px;text-decoration: none;border-bottom: none;}
ul.tabnav a:hover {background: #FFF;text-decoration:none;}
.header span{margin-left: 10px;font-size:9pt;color:#666;}
.header a.parent{color: #40AA53;}
.header em.child{color: #46B;font-style: normal;}
.header .more .active {color:#A00;}
.remark { margin-top: 8px; font-size:9pt;color: #999999;}
.sta_btn{border: 1px solid #ccc;padding: 2px 5px;float:right;margin-right:10px;-webkit-box-shadow: 0 1px 3px rgba(198, 198, 198, 0.5);box-shadow: 0 1px 3px rgba(198, 198, 198, 0.5);}
.remark a{text-decoration:none;}
.remark em { margin-right: 8px; font-style: normal;}
.remark span {margin-left: 8px; margin-right: 8px;}
.latest{margin:10px 10px 0px 10px; padding-bottom: 10px; border-bottom:1px solid #e3e3e3;_height: 1%;}
.latest dt a{ font-size: 18px; }
.latest .content{font-size: 14px;line-height: 24px; height: auto; overflow: hidden; color: #333;}

.recommendList { margin-bottom: 10px;}
.recommendList a{text-decoration:none;}
.recommendList a:hover{text-decoration:underline;}
.recommendList a.pic img{float:right;width:140px;height:100px;border:0;margin:18px 5px;}
.recommendList ul{margin: 8px 0;}
.recommendList li{float:left;width:300px;margin:0 10px;font-size: 12px;line-height: 30px;color:#3E62A6;overflow: hidden;white-space: nowrap;-o-text-overflow: ellipsis;text-overflow: ellipsis;}
.recommendList li a{font-size: 13px;}
.latest span, .recommendList li span{ color: #999; font-size: 12px;}

.articleList {background: #FFF;padding-bottom: 10px;}
.articleList .article{margin:10px;padding-bottom:10px;border-bottom:medium double #e3e3e3;}
.articleList .article a img{float:right;width:80px;height:60px;border:0;margin:18px 5px;}
.articleList .article dt a{text-decoration:none;font-size: 16px;}
.articleList .article dt a:hover{text-decoration:underline;}
.articleList .article dt a em{font-style: normal;color:#A00;}
.articleList .article .status_0{padding-left:20px;height:20px;line-height:20px;margin-top:8px;font-style: normal;color: #F90;background: url(/img/translate.gif) 0 -30px no-repeat;}
.articleList .article .status_2{padding-left:20px;height:20px;line-height:20px;margin-top:8px;font-style: normal;color: #00BB4B;background: url(/img/translate.gif) 0 0 no-repeat;}
.articleList .article .status_0 em,.articleList .article .status_2 em{font-style: normal;color:#888;margin-left: 10px;}
.articleList .article .sub_title{font-size: 12px;color: #333;margin-top:5px;}
.articleList .article .content{font-size: 13px; line-height: 24px; height: auto; overflow: hidden; color: #333;}
.articleList .pager{margin: 0 10px;}
.articleList .TagDetail {margin:10px 2px;color:#666;border:2px solid #ccc;padding:5px;background:#ffd;font-size:9pt;}
.articleList .TagDetail img.project {float:left; width:48px; height:48px;margin:0 20px 10px 0;}

#categoryMenu {margin-bottom: 10px;background: white;}
#categoryMenu ul{margin: 10px 0;}
#categoryMenu li a {
    display: block;
    text-decoration: none;
    height:36px;
    line-height: 36px;
    font-size: 14px;
    color: #3B3B3B;
    padding: 0 15px;
}
#categoryMenu li a:hover{background: #EEE;color:#080;}
#categoryMenu li a em {
    float: right;
    padding: 0 5px;
    margin-top: 8px;
    height: 20px;
    line-height: 20px;
    background: #EEE;
    font-size: 12px;
    font-style: normal;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
}
#categoryMenu li a:hover em{background: #00BC00;color: white;}
#categoryMenu li.current,#categoryMenu li.current a:hover {
    background: #3dae4f;
    background: -moz-linear-gradient(#3dae4f, #0c701c);
    background: -webkit-linear-gradient(#3dae4f, #0c701c);
}
#categoryMenu li.current a{color: white;}
#categoryMenu li.current a em{color: white;background: none;}

.hotList, .TopUsers {
    margin-bottom: 10px;
    background: #FFF;
}
.hotList a{text-decoration:none;}
.hotList a:hover{text-decoration:underline;}
.hotList ul{margin: 10px 0;}
.hotList ul li{height:24px;width:278px;padding:0 10px;overflow: hidden;white-space: nowrap;-o-text-overflow: ellipsis;text-overflow: ellipsis;}
.hotList ul li a{height:24px;line-height:24px;font-size: 10pt;}
.hotList .dot{height: 10px;width: 10px; font-size:0;margin-right:5px;overflow: hidden; zoom: 1; display: inline-block;*display:inline; *zoom:1; }
.hotList .dot1{background-color: #f00;}
.hotList .dot2{background-color: #f90;}
.hotList .dot3{background-color: #aed900;}
.hotList .dot4{background-color: #2bd600;}
.hotList .dot5{background-color: #00bb4b;}
.hotList .dot6{background-color: #01bebe;}
.hotList .dot7{background-color: #035bdf;}
.hotList .dot8{background-color: #2200a8;}
.hotList .dot9{background-color: #510066;}
.hotList .dot10{background-color: #3f0030;}
.TopUsers ul{padding-left: 12px;}
.TopUsers ul li {text-align:center;margin:0 7px 10px 0;float:left;overflow:hidden;font-size:7pt;}
.TopUsers ul{margin-top:10px;}
.TopUsers ul li a {text-decoration:none;}
.TopUsers ul li img {width:64px;height:64px;background:#fff;}
.TopUsers ul li a:hover img {}

a.cmdbutton {background:#5CC26F;color:#fff;text-decoration:none;float:left;margin:0 10px;border:0px solid #000;font-size:16pt;cursor:pointer;}
a.cmdbutton:hover {background-position: left -30px;}
a.cmdbutton span {color:#fff;float:left;margin:6px;padding:0 10px;height:30px;line-height:30px;}
a.cmdbutton.paying-translation{width:240px;margin-top:20px;padding:6px;text-align:center;}

.Article{margin-top:10px;}
.Article .Top{padding:10px;background:#EDEDED;color:#666;}
.Article .Top h1{padding-bottom: 5px;font-size: 28px; line-height: 36px; font-weight: normal;color:#333;}
.Article .Top h1 em.none{font-style: normal;color:#F90;}
.Article .Top h1 em.pending{font-style: normal;color:#00BB4B;}
.Article .Top h3{margin: 2px 0;font-size: 18px;color:#393939;font-weight:normal;}
.Article .Top h3 a{text-decoration:none;}
.Article .Top .Tags a{margin-left:5px;text-decoration: none;}
.Article .Top .Tags a.tag{background: #46A6D2;color: white;padding:2px 5px;}
.Article .Top .Tags a.tag:hover{background-color: #3a7bd2;}
.Article .Top .rec_user{height:22px;line-height:22px;}
.Article .Top .rec_user a{text-decoration:none;}
.Article .Top .rec_user .share a{width: 16px;height: 16px;text-decoration: none;display: inline-block;zoom: 1;vertical-align: middle;margin-left: 5px;}
.Article .Top .rec_user .share .sina{background: url(/img/sina_weibo.png) no-repeat;}
.Article .Top .rec_user .share .tencent{background: url(/img/tencent_weibo.png) no-repeat;}
.Article .Top .rec_user .options{float:right;}
.Article .Top .Vote{float:right;margin-right:20px;padding:5px;background:#005075;color:#FFF;width:54px;text-align:center;display:block;}
.Article .Top .Vote a{font-size:16pt;color:#FFF;display:block;border-top:1px solid #073f59;text-decoration:none;}
.Article .Top .Vote a:hover{color:#ff0;}
.Article .Top .Vote em{font-size:12pt;font-style:normal;padding-bottom:5px;border-bottom:1px solid #04608a;display:block;}
.Article .toolbar {
	overflow:hidden;
    padding: 5px 0 5px 5px;
    color: #6A6A6A;
    border-left: 1px solid #EDEDED;
    border-right: 1px solid #EDEDED;
}
.Article .toolbar a{text-decoration:none;}
.Article .toolbar .label {float:left; width:100px;}
.Article .toolbar em{color:#A3A3A3; font-style: normal;font-size: 12px;}
.Article .toolbar a.t_user{}
.Article .toolbar .options{float:right;width: 260px;text-align: right;padding-right: 5px;}
.Article .toolbar .options a.selected{color:#b90000;font-weight:bold;}
.Article .toolbar .contributers{width:610px;float: left; }
.Article .Tags{line-height:22px;}
.Article .copyright {background:#efe;text-align:left;margin:20px 10px;padding:3px 0 3px 10px;color:#333;font-size:10pt;line-height:22px;border-left:10px solid #CFC;}

.Article .Body{border: 1px solid #EDEDED;}
.Article .Body .paragraph_eng{background:#FFF;padding:10px 0;border: 1px solid #F9F9F9;}
.Article .Body .paragraph_eng .TextContent{width:750px;padding:0 10px;font-size:10pt;line-height:180%;overflow: hidden;}
.Article .Body .paragraph_eng .TextContent span {margin:0 2px;}
.Article .Body .paragraph_eng .translaters{width:210px;padding:0 6px;}
.Article .Body .translate_chs{padding:0;border: 3px solid #F9F9F9;}
.Article .Body .translate_chs .bdt10 {border-top: medium double #E3E3E3;}
.Article .Body .bd10{border:1px solid #A00;}
.Article .Body .paragraph_chs{background:#FFF;padding:10px 0;}
.Article .Body .paragraph_chs .TextContent{width:750px;font-size:10.5pt;padding:0 10px;overflow: hidden;}
.Article .Body .paragraph_chs .translater{width:210px;padding:0 6px;}
.translaters h3{color:#686868;font-size:14px;font-weight:normal;margin:2px 0;}
.translaters ul{margin:10px 0;}
.translaters ul li{text-align:center;margin:0 3px 5px 0px;width:45px;height:48px;float:left;overflow:hidden;font-size:7pt;}
.translaters ul li a {text-decoration:none;}
.translaters ul li img {width:24px;height:24px;border:1px solid #ddd;padding:2px;background:#fff;}
.translaters ul li a:hover img {border:1px solid #40AA53;}
a.TBUTTON{text-decoration:none;background:#4E867B;border:none;color:#FFF;font-size:18px;padding:4px 14px;margin-right:3px;}
a.TBUTTON:hover{background:#4f978a;}
input.TBUTTON{background:#4E867B;border:none;color:#FFF;font-size:18px;padding:4px 14px;margin-right:3px;cursor:pointer;}
input.TBUTTON:hover{background:#4f978a;}

.translater a{text-decoration:none;}
.translater a img{float:left;width:46px;height:46px;border:1px solid #ddd;padding:2px;margin-top:5px;background:#fff;}
.translater .info{float:left;margin:0 10px;width: 126px;height:45px;}
.translater .info h6{font-weight:normal;font-size:10pt;color:#444;}
.translater .info p{color:#666;margin: 5px 0;}
.translater .info p em{color:#A00;margin:0 2px;}
.translater .vote{height:30px;line-height:30px;margin-top:20px;color:#666;}
.translater a.showOthers{padding-left: 20px; background: url(/img/translate.gif) 0 -218px no-repeat; font-size: 10pt;height:30px;line-height:30px;}
.translater a.closeOthers{background: url(/img/translate.gif) 0 -250px no-repeat;}

.EditTop{width:99%;text-align:left;margin:0 auto;}
.Edit .Top{margin-top:10px;padding:10px;background:#EDEDED;color:#666;}
.Edit .Top h1{font-size: 20px; line-height: 26px; font-weight: normal;color:#333;}
.Edit .Top h3{margin: 2px 0;font-size: 14px;color:#393939;font-weight:normal;}
.Edit .Top h3 a{text-decoration:none;}
.Edit .Body{margin-top:10px;padding:10px;background:#EDEDED;}
.Edit .Body .p_content{float:left;width:49%;height:650px;}
.Edit .Body .p_content .title{height:28px;line-height:28px;font-size:12pt;text-align:center;}
.Edit .Body .p_content .title h3{color:#666; font-weight:normal;}
.Edit .Body .p_content .title a {text-decoration:underline;}
.Edit .Body .p_content .title .prev{float:left;}
.Edit .Body .p_content .title .next{float:right;}
.Edit .Body .p_content .TextContent{height:572px;padding:5px;border:1px solid #CCC;overflow-y:auto;overflow-x:hidden;background:#F6F6F6;font-size:10pt;}
.Edit .Body .p_editor{float:right;width:49.5%;height:650px;}
.Edit .Body .p_toolbar{float:left;height: 650px;line-height: 650px;text-align: center;width: 1.3%;}
.Edit .Body .p_toolbar a{text-decoration: none;width:100%;background: #4E867B;color:white;font-size: 8pt;-moz-border-radius: 2px;border-radius: 2px;-webkit-border-radius: 2px;}
.Edit .action{margin-top:20px;float:right;}

.Bottom{margin:20px 0;}
.Bottom .comments{float:left;width:680px;}
.comments h2{font-size: 12pt; border-bottom:medium double #E3E3E3;margin:5px;padding: 0 0 3px 5px;}
.comments h2 span{margin-left:10px;color:#444;font-size:10pt;font-weight:normal;}
.comments h2 em.reply_count{font-style:normal;color:#A00;}
.comments h2 .more{
    float: right;
    font-weight: normal;
    font-size: 10pt;
    color: #666;
}
.comments .comment {margin:5px 0 15px 0;padding:5px 0 5px 5px;border-bottom:1px dashed #ddd;}
.comments .comment .user {float:left; width:40px;margin:0 12px 0 0;font-size:9pt;color:#666;}
.comments .comment .user img {width:32px;height:32px;margin:3px 0 0 0;}
.comments .comment .body {float:left;width:620px;}

.comments .comment .body .time {float:left; width:380px;font-size:9pt;color:#666;}
.comments .comment .body .time a {color:#999;}
.comments .comment .body .time a:hover {background:#666;color:#fff;}
.comments .comment .body .opts {float:right; width:190px;font-size:9pt;text-align:right;}
.comments .comment .body .opts a {color:#999;padding:0 2px;}
.comments .comment .body .opts a:hover {background:#666;color:#fff;}
.comments .comment .body .detail {margin:10px 0;font-size:10.5pt;}
.comments .comment .body .detail div.ref {border:1px solid #ddd;margin:0 0 10px 0;padding:2px;font-size:9pt;background:#ffe;color:#333;}
.comments .comment .body .detail div.ref h4 {margin:0;padding:1px 3px;background:#CC9966;color:#fff;font-size:9pt;font-weight:normal;}
.comments .comment .body .detail div.ref .ref_body {margin:0;padding:2px;line-height:20px;color:#666;font-size:9pt;color:#333;}
.comments .comment .body .detail div.ref .ref_body img {display:none;width:0;height:0;}
.comments .pager{margin-left: 60px;}

.commentForm {margin:20px 0 ;}
.commentForm .user {float:left; width:60px;}
.commentForm .user img {width:32px; height:32px; margin:0 0 0 5px;}
.commentForm form {float:left;}
.commentForm form textarea {border:1px solid #999;}
.commentForm form input.SUBMIT {font-size:18px;padding:4px 10px; margin:10px 0;float: right;}

.myList table{margin: 10px;font-size: 10pt;table-layout:fixed;}
.myList table td{vertical-align:top;overflow:hidden;}
.myList a{text-decoration:none;}
.myList .title{}
.myList .title a{text-decoration:none;color:#46B;}
.myList .title span{font-size:9pt;color:#999;}
.myList .vote{width:50px;font-size:9pt;color:#999;}
.myList .date{width:70px;font-size:9pt;color:#999;}
.myList .opts{width:100px;text-align:right;color:#999;}
.myList .pager{margin: 0 10px 10px 10px;}

.cmptable{table-layout:fixed;background:#EDEDED;}
.cmptable td.eng{background-color:#FFFFFF;padding:5px;overflow:hidden;font-size:10pt;line-height:1.5;}
.cmptable td.chs{background-color:#FFFFFF;padding:5px;overflow: hidden;font-size:10.5pt;line-height:1.5;}
.cmptable td p {margin:10px 0;}
.cmptable td .infoicon{
    float:right;
    background: #EBEBEB;
    height: 20px;
    padding: 0 6px;
    line-height: 20px;
    z-index: 999;
    text-align: center;
    font-size: 11px;
    color: #060;
    border-radius: 3px;
    cursor:pointer;
}
.cmptable td .infoicon img {
    margin-left: 5px;
    vertical-align: middle;
    padding-top: 2px;
}
.cmptable td .infocard{
    position:absolute;
    top:30px;
    right:0px;
    padding:5px 10px;
    font-size: 10pt;
    border-radius: 8px;
    z-index:100;
    background:#EDEDED;
    display:none;
}
.cmptable td .infocard h1{height:20px;line-height:20px;font-size:15px;color:#666;margin-bottom:5px;border-bottom:1px dotted #CCC;}
.cmptable td .infocard h1 a.close {float:right;font-size:6pt;}
.cmptable td .infocard h1 a.close img{width:15px;height:15px;}
.cmptable td .infocard a {text-decoration:none;}
.cmptable td .infocard a img{float:left;width:50px;height:50px;}
.cmptable td .infocard .text{float:left;margin-left:10px;}
.cmptable td .infocard h6{font-weight:normal;font-size:10pt;color:#444;}
.cmptable td .infocard p{color:#666;margin: 0;padding: 0;}
.cmptable td .infocard p em{color:#A00;margin:0 2px;}
.cmptable td  ol{list-style-type:decimal;margin: 0.5em 0 0.5em 1.5em;line-height:1.5em;}
.cmptable td  ul{list-style-type:disc;margin: 0.5em 0 0.5em 1.5em;line-height:1.5em;}

.QuestionHeader {
    height:34px;
    border-bottom:1px solid #40AA53;
    margin:0 0 15px 0;
}
.QuestionHeader #portrait {float:left;width:35px;}
.QuestionHeader #portrait img {width:24px;height:24px;}
.QuestionHeader #switcher {
    float:left;
    margin:5px 0 0 2px;
}
.QuestionHeader #switcher h1 {font-size:12pt;float:left;color:#666;}
.QuestionHeader #switcher h1 a {text-decoration:none;}
.QuestionHeader #switcher h1 em {font-style:normal;color:#40AA53;}

.QATip {margin:40px 0 50px 100px;}
.QATip h1 {font-size:13.5pt;}
.QATip h1 em {color:#A00;font-style:normal;}
.QATip .text {margin:20px 0 20px 20px;font-size: 11pt;}
.QATip .text p.hint{color: #A00;font-size: 10pt;margin-top: 10px;}
.QATip .text ul {margin:10px 0 0 0;list-style-type:disc;list-style-position: inside;line-height:24px;}
.QATip .btn_view {margin-left:20px;}

.AllTags{padding-bottom: 10px;}
.AllTags ul.tagList {margin:10px;}
.AllTags ul.tagList li {float:left; width:24%;}
.AllTags ul.tagList li .stat {color:#666;font-size:8pt;-webkit-text-size-adjust:none;}
.AllTags a.tag,.PopularTags a.tag {
    background-color: #E0EAF1;
    border-bottom: 1px solid #3E6D8E;
    border-right: 1px solid #7F9FB6;
    color: #3E6D8E;
    font-size: 8pt;
    -webkit-text-size-adjust:none;
    line-height: 2.4;
    margin: 2px 2px 2px 0;
    padding: 2px 4px;
    text-decoration: none;
    white-space: nowrap;
}
.AllTags a.tag em,.PopularTags a.tag em {font-style:normal;color:#666;font-size:7pt; margin-left:2px;}
.AllTags a.tag:hover,.PopularTags a.tag:hover {background-color:#3E6D8E;color:#fff;}
.AllTags a.tag:hover em,.PopularTags a.tag:hover em {color:#fff;}
.AllTags .pager {margin: 0 10px;}#OSC_Screen {width:99%;}
#OSC_NavTop{margin-bottom: 10px;}
</style>
<script type="text/javascript" src="/js/syntax-highlighter-2.1.382/scripts/brush.js"></script>
<link type="text/css" rel="stylesheet" href="/js/syntax-highlighter-2.1.382/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="/js/syntax-highlighter-2.1.382/styles/shThemeDefault.css"/>
<script type='text/javascript'><!--
$(document).ready(function(){
	SyntaxHighlighter.config.clipboardSwf = '/js/syntax-highlighter-2.1.382/scripts/clipboard.swf';
	SyntaxHighlighter.all();
});
//-->
</script>
<script type='text/javascript'>
$(document).ready(function(){
    scrolltotop.offset(100,120);
    scrolltotop.init();
	$('td.chs .infoicon').click(function(){
		var pos = $(this).offset();
		pos.top = pos.top + 30;
		$(this).next('.infocard').css({"right":"18px","top":pos.top+"px"}).toggle();
	});
	$('td.chs div.infocard h1 a.close').click(function(){
		$(this).parent().parent().hide();
	});
	$(document).click(function(event){
    	if(!$(event.srcElement || event.target).is('.infocard,.infocard *,.infoicon,.infoicon *'))
    		$('.infocard').hide();
    })
	$(window).resize(function(){
		$('.infocard').hide();
	});
});
function show(line, id){
	$('#tr_'+line+' td.chs').hide();
	$('#tr_'+line+' td.chs .infocard').hide();
	$('#tr_'+line+' #td_chs_'+id).fadeIn('slow');
}
function vote_block(id) {
		alert("必须登录后才能操作 :)");
	}
function ajax_post(the_url,the_param,succ_callback){
	jQuery.ajax({
		type	: 'POST',
		cache	: false,
		url		: the_url,
		data	: the_param,
		success	: succ_callback,
		error	: function(html){
			alert("提交数据失败，代码:" +html.status+ "，请稍候再试");
		}
	});
}
</script>
<div id='top_nav'>
    <strong>当前位置：</strong><a href='/translate'>技术翻译</a>&nbsp;&raquo;&nbsp;
    <a href='/translate/list/11'>编程语言技巧</a>&nbsp;&raquo;&nbsp;
    中英文对照
</div>
<div class="Article">
<div class='Top'>
    <h1>Python 调试工具</h1>
    <h3><a href='http://www.oschina.net/translate/python-debugging-tools' style='float:right;font-size:14px;'>返回原文</a>英文原文：<a href='http://blog.ionelmc.ro/2013/06/05/python-debugging-tools/' target='_blank'>Python debugging tools</a></h3>
</div>
<table width="100%" cellpadding="3" cellspacing="3" class="cmptable">
	        <tr id="tr_18054">
        <td width="50%" valign="top" class="eng"><p> This is an overview of tools I've used for debugging or profiling purposes. Not necessarily complete, if you know better tools, comment below. </p> 
<h2> Logging </h2> 
<p> Yes, really. Can't stress enough how important it is to have adequate logging in your application. You should log important stuff. If your logging is good enough, you can figure out the problem just from the logs. Lots of time saved right there. </p> 
<p> If you do ever litter your code withprintstatements stop now. Uselogging.debuginstead. You'll be able to reuse that later, disable it altogether and so on ... </p></td>
                        <td valign="top" class="chs" id="td_chs_18231">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/Garfielt' title='Garfielt' target='_blank'><img src="http://static.oschina.net/uploads/user/73/147631_50.jpg?t=1370742483000" align="absmiddle" alt="Garfielt" title="Garfielt" class="SmallPortrait" user="147631"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/Garfielt' target='_blank'>Garfielt</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18231'>0</em>人 <a href='javascript:vote_block(18231)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                            </div>
            <p> 这是一个我用于调试或分析工具概述，不一定是完整全面，如果你知道更好的工具，请在评论处标记。<br /> <br /> <strong><span style="font-size:18px;">日志</span></strong><br /> <br /> 是的，的确，不得不强调足够的日志记录对应用程序是多么的重要。您应该记录重要的东西，如果你的记录足够好的话，你可以<span style="font-family:Verdana, sans-serif, 宋体;">从日志中</span>找出问题从而节省大量的时间。<br /> <br /> 如果你曾经用print语句来调试代码现在停下吧，用logging.debug替代，开始可以慢慢来，以后完全禁用它... </p>
        </td>
                    </tr>
        <tr id="tr_18055">
        <td width="50%" valign="top" class="eng"><p> <br /> </p> 
<h2> Tracing </h2> 
<p> Sometimes it's better to see what gets executed. You could run step-by-step using some IDE's debugger but you would need to know what you're looking for, otherwise the process will be very slow. </p> 
<p> In the stdlib there's a <a href="http://docs.python.org/2/library/trace.html#cmdoption-trace-t" rel="nofollow">trace</a> module which can print all the executed lines amongst other this (like making <a href="http://docs.python.org/2/library/trace.html#cmdoption-trace-c" rel="nofollow">coverage reports</a>) </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">python -mtrace --trace script.py</pre> 
<p> <br /> </p> 
<p> This will make lots of output (every line executed will be printed so you might want to pipe it through grep to only see the interesting modules). Eg: </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">python -mtrace --trace script.py | egrep '^(mod1.py|mod2.py)' </pre> 
<p> <br /> </p> 
<p> ― </p> 
<p> If you're feeling adventurous then you could try <a href="https://github.com/dhellmann/smiley" rel="nofollow">smiley</a> - it shows you the variables and you can use it to trace programs remotely. </p></td>
                        <td valign="top" class="chs" id="td_chs_18234">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/Garfielt' title='Garfielt' target='_blank'><img src="http://static.oschina.net/uploads/user/73/147631_50.jpg?t=1370742483000" align="absmiddle" alt="Garfielt" title="Garfielt" class="SmallPortrait" user="147631"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/Garfielt' target='_blank'>Garfielt</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18234'>1</em>人 <a href='javascript:vote_block(18234)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                                <p>其它翻译版本：1(点击译者名切换)<br/>
                                                                                                    <a href="javascript:show(18055,18232)">Garfielt</a>
                                                        </p>
                            </div>
            <h3> 追踪 </h3> 有时看到程序如何被执行会很有帮助。你可以使用IDE的调试共轭ngn一步一步的运行程序，但你需要知道你要找的是什么，否则这将会是一个漫长的过程。 
<br /> 标准库中有一个 
<a href="http://docs.python.org/2/library/trace.html#cmdoption-trace-t" target="_blank" rel="nofollow">trace</a>模块，可以打印所有执行过程中的内容（像制作 
<a href="http://docs.python.org/2/library/trace.html#cmdoption-trace-c" target="_blank" rel="nofollow">覆盖率报告</a>）。 
<br /> 
<pre class="brush:shell; toolbar: true; auto-links: false;">python -mtrace --trace script.py</pre> 这将产生大量输出（每个行会被打印输出，所以你最好通过管道，用grep只看自己感兴趣的部分），例如： 
<br /> 
<pre class="brush:shell; toolbar: true; auto-links: false;">python -mtrace --trace script.py | egrep '^(mod1.py|mod2.py)' </pre> -&nbsp; 
<br /> 如果你喜欢新特性，那么你可以尝试 
<a href="https://github.com/dhellmann/smiley" target="_blank" rel="nofollow">smiley</a> - 它可以显示变量内容变化，还可以用它来远程追踪程序。 
<br />
        </td>
                <td valign="top" class="chs" id="td_chs_18232" style="display:none;">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/Garfielt' title='Garfielt' target='_blank'><img src="http://static.oschina.net/uploads/user/73/147631_50.jpg?t=1370742483000" align="absmiddle" alt="Garfielt" title="Garfielt" class="SmallPortrait" user="147631"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/Garfielt' target='_blank'>Garfielt</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18232'>0</em>人 <a href='javascript:vote_block(18232)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                                <p>其它翻译版本：1(点击译者名切换)<br/>
                                                            <a href="javascript:show(18055,18234)">Garfielt</a>
                                                                                                </p>
                            </div>
            <h2> 追踪 </h2> 
<p> <span style="font-family:Verdana, sans-serif, 宋体;font-size:14px;line-height:22px;background-color:#FFFFFF;">有时看到程序如何被执行会很有帮助。你可以使用IDE的调试共轭ngn一步一步的运行程序，但你需要知道你要找的是什么，否则这将会是一个漫长的过程。&nbsp;</span><br /> <span style="font-family:Verdana, sans-serif, 宋体;font-size:14px;line-height:22px;background-color:#FFFFFF;">标准库中有一个&nbsp;</span><a href="http://docs.python.org/2/library/trace.html#cmdoption-trace-t" target="_blank" rel="nofollow">trace</a><span style="font-family:Verdana, sans-serif, 宋体;font-size:14px;line-height:22px;background-color:#FFFFFF;">模块，可以打印所有执行过程中的内容（像制作&nbsp;</span><a href="http://docs.python.org/2/library/trace.html#cmdoption-trace-c" target="_blank" rel="nofollow">覆盖率报告</a><span style="font-family:Verdana, sans-serif, 宋体;font-size:14px;line-height:22px;background-color:#FFFFFF;">）。&nbsp;</span> </p> 
<div class="syntaxhighlighter  "> 
 <div class="lines"> 
  <div class="line alt1"> 
   <pre class="brush:shell; toolbar: true; auto-links: false;">python -mtrace --trace script.py</pre> 
  </div> 
 </div> 
</div> 
<span style="font-family:Verdana, sans-serif, 宋体;font-size:14px;line-height:22px;background-color:#FFFFFF;">这将产生大量输出（每个行会被打印输出，所以你最好通过管道，用grep只看自己感兴趣的部分），例如：&nbsp;</span> 
<br /> 
<div class="syntaxhighlighter  "> 
 <div class="lines"> 
  <div class="line alt1"> 
   <pre class="brush:shell; toolbar: true; auto-links: false;">python -mtrace --trace script.py | egrep '^(mod1.py|mod2.py)' </pre> 
  </div> 
 </div> 
</div> 
<span style="font-family:Verdana, sans-serif, 宋体;font-size:14px;line-height:22px;background-color:#FFFFFF;">-&nbsp;&nbsp;</span> 
<br /> 
<span style="font-family:Verdana, sans-serif, 宋体;font-size:14px;line-height:22px;background-color:#FFFFFF;">如果你喜欢新特性，那么你可以尝试&nbsp;</span> 
<a href="https://github.com/dhellmann/smiley" target="_blank" rel="nofollow">smiley</a> 
<span style="font-family:Verdana, sans-serif, 宋体;font-size:14px;line-height:22px;background-color:#FFFFFF;">&nbsp;- 它可以显示变量内容变化，还可以用它来远程追踪程序。&nbsp;</span> 
<p> <br /> </p> 
<p> <br /> </p>
        </td>
                    </tr>
        <tr id="tr_18056">
        <td width="50%" valign="top" class="eng"><p> <br /> </p> 
<h2> PDB </h2> 
<p> Very basic intro, everyone should know this by now: </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">import pdb
pdb.set_trace() # opens up pdb prompt</pre> 
<p> <br /> </p> 
<p> Or: </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">try:
    code
    that
    fails
except:
    import pdb
    pdb.pm() # or pdb.post_mortem()</pre> 
<p> <br /> </p> 
<p> Or (presscto start the script): </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">python -mpdb script.py</pre> 
<p> <br /> </p> 
<p> Once in the REPL do: </p> 
<ul> 
 <li> corcontinue </li> 
 <li> qorquit </li> 
 <li> lorlist, shows source at the current frame </li> 
 <li> worwhere, shows the traceback </li> 
 <li> dordown, goes down 1 frame on the traceback </li> 
 <li> uorup, goes up 1 frame on the traceback </li> 
 <li> &lt;enter&gt;, repeats last command </li> 
 <li> almost anything else, evaluates it as python code on the current frame (there are few more commands tho) </li> 
</ul> 
<p> <br /> </p></td>
                        <td valign="top" class="chs" id="td_chs_18235">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/Garfielt' title='Garfielt' target='_blank'><img src="http://static.oschina.net/uploads/user/73/147631_50.jpg?t=1370742483000" align="absmiddle" alt="Garfielt" title="Garfielt" class="SmallPortrait" user="147631"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/Garfielt' target='_blank'>Garfielt</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18235'>0</em>人 <a href='javascript:vote_block(18235)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                            </div>
            <span style="font-size:24px;"><strong>PDB</strong></span> 
<br /> 
<span style="font-size:10pt;line-height:1.5;"> <pre class="brush:python; toolbar: true; auto-links: false;">import pdb
pdb.set_trace() # opens up pdb prompt</pre> </span>或者： 
<br /> 
<pre class="brush:python; toolbar: true; auto-links: false;">try:
    code
    that
    fails
except:
    import pdb
    pdb.pm() # or pdb.post_mortem()</pre> 或（按键盘C键启动脚本）： 
<br /> 
<pre class="brush:shell; toolbar: true; auto-links: false;">python -mpdb script.py</pre> 
<p> 像在REPL中那样： </p> 
<ul> 
 <li> c or continue </li> 
 <li> q or quit </li> 
 <li> l or list, 在当前界面显示源码 </li> 
 <li> w or where, <span>显示回溯</span> </li> 
 <li> d or down, <span>显示回溯的下一界面</span> </li> 
 <li> u or up, <span style="font-family:Verdana, sans-serif, 宋体;">显示回溯的上一界面</span> </li> 
 <li> &lt;enter&gt;,&nbsp;<span>重复最后一个命令</span> </li> 
 <li> 其他任何东西，在当前界面评估源码&nbsp;(t还有其他的一些命令) </li> 
</ul> corcontinue 
<br /> qorquit 
<br /> lorlist，显示在当前帧的源 
<br /> worwhere，显示回溯 
<br /> dordown，下山1帧回溯 
<br /> uorup，上升1帧回溯 
<br /> 回车，重复最后一个命令 
<br /> 几乎任何东西，评估当前帧的Python代码（还有其他几个命令） 
<br />
        </td>
                    </tr>
        <tr id="tr_18057">
        <td width="50%" valign="top" class="eng"><p> <br /> </p> 
<h2> Better PDB </h2> 
<p> Drop in replacements forpdb: </p> 
<ul> 
 <li> ipdb (easy_install ipdb) - like ipython (autocomplete, colors etc) </li> 
 <li> pudb (easy_install pudb) - curses based (gui-like), good at browsing sourcecode </li> 
</ul> 
<h2> Remote PDB </h2> 
<p> <br /> </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">sudo apt-get install winpdb</pre> 
<p> <br /> </p> 
<p> instead of pdb.set_trace() do: </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">import rpdb2
rpdb2.start_embedded_debugger(&quot;secretpassword&quot;)</pre> 
<p> <br /> </p> 
<p> Now runwinpdband go toFile&gt;Attach with the password. </p> 
<div class="section"> 
 <h3> Don't like Winpdb ? Just wrap PDB to run over TCP </h3> 
 <p> Use this: </p> 
 <pre class="brush:python; toolbar: true; auto-links: false;">import loggging

class Rdb(pdb.Pdb):
    &quot;&quot;&quot;
    This will run pdb as a ephemeral telnet service. Once you connect no one
    else can connect. On construction this object will block execution till a
    client has connected.

    Based on https://github.com/tamentis/rpdb I think ...

    To use this::

        Rdb(4444).set_trace()

    Then run: telnet 127.0.0.1 4444
    &quot;&quot;&quot;
    def __init__(self, port=0):
        self.old_stdout = sys.stdout
        self.old_stdin = sys.stdin
        self.listen_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.listen_socket.bind(('0.0.0.0', port))
        if not port:
            logging.critical(&quot;PDB remote session open on: %s&quot;, self.listen_socket.getsockname())
            print &gt;&gt; sys.__stderr__, &quot;PDB remote session open on:&quot;, self.listen_socket.getsockname()
            sys.stderr.flush()
        self.listen_socket.listen(1)
        self.connected_socket, address = self.listen_socket.accept()
        self.handle = self.connected_socket.makefile('rw')
        pdb.Pdb.__init__(self, completekey='tab', stdin=self.handle, stdout=self.handle)
        sys.stdout = sys.stdin = self.handle

    def do_continue(self, arg):
        sys.stdout = self.old_stdout
        sys.stdin = self.old_stdin
        self.handle.close()
        self.connected_socket.close()
        self.listen_socket.close()
        self.set_continue()
        return 1

    do_c = do_cont = do_continue

def set_trace():
    &quot;&quot;&quot;
    Opens a remote PDB on first available port.
    &quot;&quot;&quot;
    rdb = Rdb()
    rdb.set_trace()</pre> 
 <p> <br /> </p> 
</div> 
<h3> Want just a REPL ? How about IPython ? </h3> 
<p> If you don't need a full blown debugger then just start a <a href="http://ipython.org/install.html" rel="nofollow">IPython</a> with: </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">import IPython
IPython.embed()</pre> 
<p> <br /> </p></td>
                        <td valign="top" class="chs" id="td_chs_18216">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/u/855201' title='蒋锴' target='_blank'><img src="http://static.oschina.net/uploads/user/427/855201_50.jpg?t=1381384334000" align="absmiddle" alt="蒋锴" title="蒋锴" class="SmallPortrait" user="855201"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/u/855201' target='_blank'>蒋锴</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18216'>1</em>人 <a href='javascript:vote_block(18216)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                                <p>其它翻译版本：1(点击译者名切换)<br/>
                                                                                                    <a href="javascript:show(18057,18238)">Garfielt</a>
                                                        </p>
                            </div>
            <h2> 更棒的 PDB </h2> 
<p> 可以替代pdb的: </p> 
<ul> 
 <li> ipdb (easy_install ipdb) - 像 ipython (自动补齐, 颜色等) </li> 
 <li> pudb (easy_install pudb) - 基于curses (类gui), 浏览源码有很好的表现。 </li> 
</ul> 
<h2> 远程 PDB </h2> 
<pre class="brush:shell; toolbar: true; auto-links: false;">sudo apt-get install winpdb</pre> 
<p> 替代 pdb.set_trace(): </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">import rpdb2
rpdb2.start_embedded_debugger(&quot;secretpassword&quot;)</pre> 
<p> 现在运行Winpdb ， 输入密码 到 File &gt; Attach。 </p> 
<div class="section"> 
 <h3> 不喜欢 Winpdb ? 只要<span style="font-size:10pt;font-weight:normal;line-height:1.5;"><strong>通过 TCP</strong></span>运行 PDB </h3> 
 <p> 使用下面代码: </p> 
 <pre class="brush:python; toolbar: true; auto-links: false;">import loggging

class Rdb(pdb.Pdb):
    &quot;&quot;&quot;
    This will run pdb as a ephemeral telnet service. Once you connect no one
    else can connect. On construction this object will block execution till a
    client has connected.

    Based on https://github.com/tamentis/rpdb I think ...

    To use this::

        Rdb(4444).set_trace()

    Then run: telnet 127.0.0.1 4444
    &quot;&quot;&quot;
    def __init__(self, port=0):
        self.old_stdout = sys.stdout
        self.old_stdin = sys.stdin
        self.listen_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.listen_socket.bind(('0.0.0.0', port))
        if not port:
            logging.critical(&quot;PDB remote session open on: %s&quot;, self.listen_socket.getsockname())
            print &gt;&gt; sys.__stderr__, &quot;PDB remote session open on:&quot;, self.listen_socket.getsockname()
            sys.stderr.flush()
        self.listen_socket.listen(1)
        self.connected_socket, address = self.listen_socket.accept()
        self.handle = self.connected_socket.makefile('rw')
        pdb.Pdb.__init__(self, completekey='tab', stdin=self.handle, stdout=self.handle)
        sys.stdout = sys.stdin = self.handle

    def do_continue(self, arg):
        sys.stdout = self.old_stdout
        sys.stdin = self.old_stdin
        self.handle.close()
        self.connected_socket.close()
        self.listen_socket.close()
        self.set_continue()
        return 1

    do_c = do_cont = do_continue

def set_trace():
    &quot;&quot;&quot;
    Opens a remote PDB on first available port.
    &quot;&quot;&quot;
    rdb = Rdb()
    rdb.set_trace()</pre> 
</div> 
<h3> 想要 REPL ? IPython 怎么样? </h3> 
<p> 如果你不需要一个整体的调试器，只要启动<a href="http://ipython.org/install.html" rel="nofollow">IPython</a>用下面的代码: </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">import IPython
IPython.embed()</pre>
        </td>
                <td valign="top" class="chs" id="td_chs_18238" style="display:none;">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/Garfielt' title='Garfielt' target='_blank'><img src="http://static.oschina.net/uploads/user/73/147631_50.jpg?t=1370742483000" align="absmiddle" alt="Garfielt" title="Garfielt" class="SmallPortrait" user="147631"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/Garfielt' target='_blank'>Garfielt</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18238'>0</em>人 <a href='javascript:vote_block(18238)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                                <p>其它翻译版本：1(点击译者名切换)<br/>
                                                            <a href="javascript:show(18057,18216)">蒋锴</a>
                                                                                                </p>
                            </div>
            <p> <span style="font-size:24px;"><strong>更好的PDB</strong></span> </p> 
<p> <span style="font-size:12px;"><strong></strong>可替代PDB的模块：</span> </p> 
<p> <span style="font-size:12px;"> </span> </p> 
<ul> 
 <li> ipdb (easy_install ipdb) - 类似ipython (代码提示, 语法高亮等) </li> 
 <li> pudb (easy_install pudb) - 基于curses(有界面的), 在代码浏览方面表现较好 </li> 
</ul> 
<span style="font-size:24px;"><strong>远程PDB </strong></span> 
<br /> 
<p> <span style="font-size:12px;"> </span> </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">sudo apt-get install winpdb</pre> 替代 
<span style="background-color:#F6F6F6;"><span><span style="line-height:21px;">pdb.set_trace()按如下操作：<br /> </span></span></span> 
<span style="font-size:12px;line-height:1.5;"> <pre class="brush:python; toolbar: true; auto-links: false;">import rpdb2
rpdb2.start_embedded_debugger(&quot;secretpassword&quot;)</pre> 现在运行 winpdb 然后<span style="font-size:12px;line-height:18px;">通过密码</span>执行 “文件”&gt;“附加”。<br /> 如果不喜欢winpdb，只要通过<span style="font-size:12px;line-height:18px;">TCP运行</span>PDB。<br /> </span> 
<span style="font-size:12px;line-height:1.5;">这样使用：<br /> <pre class="brush:python; toolbar: true; auto-links: false;">import loggging

class Rdb(pdb.Pdb):
    &quot;&quot;&quot;
    This will run pdb as a ephemeral telnet service. Once you connect no one
    else can connect. On construction this object will block execution till a
    client has connected.

    Based on https://github.com/tamentis/rpdb I think ...

    To use this::

        Rdb(4444).set_trace()

    Then run: telnet 127.0.0.1 4444
    &quot;&quot;&quot;
    def __init__(self, port=0):
        self.old_stdout = sys.stdout
        self.old_stdin = sys.stdin
        self.listen_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.listen_socket.bind(('0.0.0.0', port))
        if not port:
            logging.critical(&quot;PDB remote session open on: %s&quot;, self.listen_socket.getsockname())
            print &gt;&gt; sys.__stderr__, &quot;PDB remote session open on:&quot;, self.listen_socket.getsockname()
            sys.stderr.flush()
        self.listen_socket.listen(1)
        self.connected_socket, address = self.listen_socket.accept()
        self.handle = self.connected_socket.makefile('rw')
        pdb.Pdb.__init__(self, completekey='tab', stdin=self.handle, stdout=self.handle)
        sys.stdout = sys.stdin = self.handle

    def do_continue(self, arg):
        sys.stdout = self.old_stdout
        sys.stdin = self.old_stdin
        self.handle.close()
        self.connected_socket.close()
        self.listen_socket.close()
        self.set_continue()
        return 1

    do_c = do_cont = do_continue

def set_trace():
    &quot;&quot;&quot;
    Opens a remote PDB on first available port.
    &quot;&quot;&quot;
    rdb = Rdb()
    rdb.set_trace()</pre> 只希望使用REPL，试试IPython？<br /> 如果你不需要一个全调试的模式，这样启动IPython：<br /> <pre class="brush:python; toolbar: true; auto-links: false;">import IPython
IPython.embed()</pre> <br /> </span>
        </td>
                    </tr>
        <tr id="tr_18058">
        <td width="50%" valign="top" class="eng"><h2> Standard Linux tools </h2> 
<p> I'm always surprised of how underused they are. You can figure out a wide range of problems with these: from performance problems (too many syscalls, memory allocations etc) to deadlocks, network issues, disk issues etc </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">sudo apt-get install htop
sudo htop</pre> 
<p> <br /> </p> 
<p> The most useful is downrightstrace, just runsudo strace <span>-p</span> 12345orstrace <span>-f</span> command(<span>-f</span>means strace forked processes too) and you're set. Output is generally very large so you might want to redirect it to a file (just add&amp;&gt; somefile) for more analysis. </p> 
<p> Then there'sltrace, it's just likestracebut but library calls. Arguments are mostly the same. </p> 
<p> Andlsoffor figuring out what the handler numbers you see inltrace/straceare for. Eg:lsof <span>-p</span> 12345 </p></td>
                        <td valign="top" class="chs" id="td_chs_18240">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/Garfielt' title='Garfielt' target='_blank'><img src="http://static.oschina.net/uploads/user/73/147631_50.jpg?t=1370742483000" align="absmiddle" alt="Garfielt" title="Garfielt" class="SmallPortrait" user="147631"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/Garfielt' target='_blank'>Garfielt</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18240'>0</em>人 <a href='javascript:vote_block(18240)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                            </div>
            <h3> 标准Linux工具 </h3> 
<p> 他们未被充分利用很令我惊讶。通过这些工具集你能弄清楚诸如这些的很多问题：从性能问题（太多的系统调用，内存分配等）到死锁，网络，磁盘等问题。 </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">sudo apt-get install htop
sudo htop</pre> 
<p> 最有用的是降权运行strace，只需运行速冻 strace -P 12345 或strace-f 命令参数（-f表示strace分支进程）。 <span>通常有很多的</span>输出，你最好将输出重定向输出到一个文件（命令后添加 &amp;&gt; 文件名）来进行更深入的分析。 </p> 
<p> 然后就是ltrace，它和strace相似不过是通过库调用的，参数基本相同。 </p> lsof可以提供 
<span>你看过ltrace/ strace的</span>处理号，这样使用：lsof -P 12345 
<br /> 
<br />
        </td>
                    </tr>
        <tr id="tr_18059">
        <td width="50%" valign="top" class="eng"><p> <br /> </p> 
<h3> Better tracing </h3> 
<p> It's so easy to use and can do so many things - everyone should havehtopinstalled ! </p> 
<p> Now find the process you want, and press: </p> 
<ul> 
 <li> sfor system call trace (strace) </li> 
 <li> Lfor library call trace (ltrace) </li> 
 <li> lfor lsof </li> 
</ul> 
<h3> Monitoring </h3> 
<p> There's no replacement for good, continuous server monitoring but if you ever find yourself in that weird spot scrambling to find out why everything is slow and where are the resources going ... don't bother with <a href="http://linux.die.net/man/1/iotop" rel="nofollow">iotop</a>, <a href="http://linux.die.net/man/8/iftop" rel="nofollow">iftop</a>, <a href="http://linux.die.net/man/1/htop" rel="nofollow">htop</a>, <a href="http://linux.die.net/man/1/iostat" rel="nofollow">iostat</a>, <a href="http://linux.die.net/man/8/vmstat" rel="nofollow">vmstat</a> etc just yet, start with <a href="http://linux.die.net/man/1/dstat" rel="nofollow">dstat</a>. It can do most of the aforementioned tools do and maybe better ! </p> 
<p> It will show you data continuously, in a compact, colour-coded fashion (unlikeiostat,vmstat) and you can always see past data (unlikeiftop,iotop,htop). </p> 
<p> Just run this: </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">dstat --cpu --io --mem --net --load --fs --vm --disk-util --disk-tps --freespace --swap --top-io --top-bio-adv</pre> 
<p> <br /> </p> 
<p> There's probably a shorter way to write it but then again, shell history or aliases. </p></td>
                        <td valign="top" class="chs" id="td_chs_18255">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/swuly302' title='Lesus' target='_blank'><img src="http://static.oschina.net/uploads/user/437/874453_50.jpg?t=1370706813000" align="absmiddle" alt="Lesus" title="Lesus" class="SmallPortrait" user="874453"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/swuly302' target='_blank'>Lesus</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18255'>0</em>人 <a href='javascript:vote_block(18255)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                            </div>
            <p> <strong><span style="font-size:14px;font-family:NSimSun;">让跟踪更深点</span></strong> </p> 
<p> 它很容易使用以及可以做很多事，前提是大家都已经安装了htop！ </p> 
<p> 现在，找你所想的进程，仅仅需要按： </p> 
<ul> 
 <li> <span style="line-height:1.5;font-size:10pt;">s &nbsp;显示系统调用跟踪(strace)</span> </li> 
 <li> L &nbsp;显示库调用跟踪(ltrace) </li> 
 <li> l &nbsp; 显示lsof </li> 
</ul> 
<span style="line-height:1.5;font-size:10pt;"><span style="font-family:NSimSun;font-size:14px;"></span><strong><span style="font-family:NSimSun;font-size:14px;">监视</span></strong></span> 
<p> <span style="line-height:1.5;font-size:12px;font-family:'Courier New';"><span style="font-family:'Courier New';font-size:12px;">没有更好的替代品了，<span style="font-family:'Courier New';font-size:12px;line-height:18px;">服务器持续监视</span>，你曾经是否发现自己使用奇奇怪怪的跟踪方法去找出为什么哪里慢了以及资源怎么被消耗了，那么不要再被iotop, iftop, htop, iostat, vmstat等等烦扰了，赶快使用dstat吧，它可以做大多数上述的提到的工具能做的，而且可以做得更好！</span></span> </p> 
<p> <span style="line-height:1.5;font-size:12px;font-family:'Courier New';"><span style="font-family:'Courier New';font-size:12px;">它会以紧凑，时尚的代码着色（亲，不像iostat, vmstat哟）持续显示你的数据，而且你可以一直看到以往的数据（与iftop, iotop, htop不同哟）。</span></span> </p> 
<p> <span style="line-height:1.5;font-size:12px;font-family:'Courier New';"><span style="font-family:'Courier New';font-size:12px;">仅仅运行这个：</span></span> </p> 
<p> <span style="line-height:1.5;font-size:12px;font-family:'Courier New';"><span style="font-family:'Courier New';font-size:12px;"> </span></span> </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">dstat --cpu --io --mem --net --load --fs --vm --disk-util --disk-tps --freespace --swap --top-io --top-bio-adv</pre> 还有一点就是这里还有更简单的方式来写哟，如shell历史记录(shell history)或则重命名命令(aliases)
        </td>
                    </tr>
        <tr id="tr_18060">
        <td width="50%" valign="top" class="eng"><p> <br /> </p> 
<h3> GDB </h3> 
<p> This one is a rather complicated and powerful tool, but I'm only covering the basic stuff (setup and basic commands). </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">sudo apt-get install gdb python-dbg
zcat /usr/share/doc/python2.7/gdbinit.gz &gt; ~/.gdbinit
run app with python2.7-dbg
sudo gdb -p 12345</pre> 
<p> <br /> </p> 
<p> Now use: </p> 
<ul> 
 <li> bt- stacktrace (C level) </li> 
 <li> pystack- python stacktrace, you need to have <em>~/.gdbinit</em> and use<span>python-dbg</span>unfortunately </li> 
 <li> c(continue) </li> 
</ul> 
<h2> Having segfaults ? faulthandler ! </h2> 
<p> Rather awesome addition from Python 3.3, <a href="https://pypi.python.org/pypi/faulthandler/" rel="nofollow">backported</a> to Python 2.x </p> 
<p> Just do this and you'll get at least an idea of what's causing the segmentation fault. </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">&gt;&gt;&gt; import faulthandler
&gt;&gt;&gt; faulthandler.enable()</pre> 
<p> <br /> </p></td>
                        <td valign="top" class="chs" id="td_chs_18259">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/liuyuanyuangogo' title='媛媛小译' target='_blank'><img src="http://static.oschina.net/uploads/user/579/1158288_50.jpg?t=1389016069000" align="absmiddle" alt="媛媛小译" title="媛媛小译" class="SmallPortrait" user="1158288"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/liuyuanyuangogo' target='_blank'>媛媛小译</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18259'>0</em>人 <a href='javascript:vote_block(18259)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                            </div>
            <h3> GDB </h3> 
<p> 这是一个相当复杂和强大的工具，但我仅仅涉及到基础的东西（设置和基本命令）。 </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">sudo apt-get install gdb python-dbg
zcat /usr/share/doc/python2.7/gdbinit.gz &gt; ~/.gdbinit
run app with python2.7-dbg
sudo gdb -p 12345</pre> 现在请使用： 
<ul> 
 <li> bt- 堆栈轨迹(C 级) </li> 
 <li> pystack- python 堆栈轨迹,前提是你需要拥有<em>~/.gdbinit</em>&nbsp;并使用<span>python-dbg</span> </li> 
 <li> c(继续) </li> 
</ul> 
<h3> 有出现 segfaults 么 ?用 faulthandler ! </h3> 
<p> 除了Python 3.3其他的都会出现这个可怕的错误,&nbsp;<a href="https://pypi.python.org/pypi/faulthandler/" rel="nofollow">回到</a>Python 2.x </p> 
<p> 只要按照下面来做，你至少会找到一条导致段错误的原因。 </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">&gt;&gt;&gt; import faulthandler
&gt;&gt;&gt; faulthandler.enable()</pre>
        </td>
                    </tr>
        <tr id="tr_18061">
        <td width="50%" valign="top" class="eng"><h2> Memory leaks </h2> 
<p> Well, there's are plenty of tools here, some specialized on WSGI applications like <a href="https://pypi.python.org/pypi/Dozer" rel="nofollow">Dozer</a> but my favorite is definitely <a href="https://pypi.python.org/pypi/objgraph" rel="nofollow">objgraph</a>. It's so convenient and easy to use it's amazing. It's doesn't have any integration with WSGI or anything so you need to find yourself a way to run code like: </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">&gt;&gt;&gt; import objgraph
&gt;&gt;&gt; objs = objgraph.by_type(&quot;Request&quot;)[:15]
&gt;&gt;&gt; objgraph.show_backrefs(objs, max_depth=20, highlight=lambda v: v in objs, filename=&quot;/tmp/graph.png&quot;)
Graph written to /tmp/objgraph-zbdM4z.dot (107 nodes)
Image generated as /tmp/graph.png</pre> 
<p> <br /> </p> 
<p> And you get a nice diagram like <a href="http://blog.ionelmc.ro/static/images/objgraph-plot.png" rel="nofollow">this</a> (warning: it's very large). You can also get <a href="http://www.graphviz.org/content/dot-language" rel="nofollow">dot</a> output. </p></td>
                        <td valign="top" class="chs" id="td_chs_18262">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/liuyuanyuangogo' title='媛媛小译' target='_blank'><img src="http://static.oschina.net/uploads/user/579/1158288_50.jpg?t=1389016069000" align="absmiddle" alt="媛媛小译" title="媛媛小译" class="SmallPortrait" user="1158288"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/liuyuanyuangogo' target='_blank'>媛媛小译</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18262'>0</em>人 <a href='javascript:vote_block(18262)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                                <p>其它翻译版本：1(点击译者名切换)<br/>
                                                                                                    <a href="javascript:show(18061,18265)">Andy</a>
                                                        </p>
                            </div>
            <h2> 内存泄露 </h2> 
<p> 好的，这里有许多工具，其中有一些是专门用于WSGI 应用的，像<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;line-height:21px;background-color:#F6F6F6;"><a href="https://pypi.python.org/pypi/Dozer" rel="nofollow">Dozer</a></span><a href="https://pypi.python.org/pypi/Dozer" rel="nofollow"></a>，但是我最喜欢的无疑是<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;line-height:21px;background-color:#F6F6F6;">&nbsp;</span><a href="https://pypi.python.org/pypi/objgraph" rel="nofollow">objgraph</a>。它是如此惊人的方便和易于使用。它没有与WSGI或任何其他东西继承，所以你需要找到你自己的方式来运行以下代码： </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">&gt;&gt;&gt; import objgraph
&gt;&gt;&gt; objs = objgraph.by_type(&quot;Request&quot;)[:15]
&gt;&gt;&gt; objgraph.show_backrefs(objs, max_depth=20, highlight=lambda v: v in objs, filename=&quot;/tmp/graph.png&quot;)
Graph written to /tmp/objgraph-zbdM4z.dot (107 nodes)
Image generated as /tmp/graph.png</pre> 你会得到一个像 
<a href="http://blog.ionelmc.ro/static/images/objgraph-plot.png" rel="nofollow">这样</a>的图表（警告：这个图表非常大）。你也会得到 
<a href="http://www.graphviz.org/content/dot-language" rel="nofollow">dot</a>输出。
        </td>
                <td valign="top" class="chs" id="td_chs_18265" style="display:none;">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/hand' title='Andy' target='_blank'><img src="http://static.oschina.net/uploads/user/90/180342_50.jpg?t=1371619625000" align="absmiddle" alt="Andy" title="Andy" class="SmallPortrait" user="180342"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/hand' target='_blank'>Andy</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18265'>0</em>人 <a href='javascript:vote_block(18265)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                                <p>其它翻译版本：1(点击译者名切换)<br/>
                                                            <a href="javascript:show(18061,18262)">媛媛小译</a>
                                                                                                </p>
                            </div>
            <h3> <strong>内存泄漏</strong> </h3> 
<p> 有很多工具可以检测内存泄漏问题，有一些是专门针对WSGI应用的，如<a target="_blank" href="https://pypi.python.org/pypi/Dozer" rel="nofollow">Dozer</a>，但是我更喜欢的是<a href="https://pypi.python.org/pypi/objgraph" rel="nofollow">objgraph</a>，它非常的实用方便。但它没有和WSGI程序或者其他程序的内置集成，因此你必须手动运行你的代码，例如： </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">&gt;&gt;&gt; import objgraph
&gt;&gt;&gt; objs = objgraph.by_type(&quot;Request&quot;)[:15]
&gt;&gt;&gt; objgraph.show_backrefs(objs, max_depth=20, highlight=lambda v: v in objs, filename=&quot;/tmp/graph.png&quot;)
Graph written to /tmp/objgraph-zbdM4z.dot (107 nodes)
Image generated as /tmp/graph.png</pre> 运行完毕，你会输出一个很大的 
<a target="_blank" href="http://blog.ionelmc.ro/static/images/objgraph-plot.png" rel="nofollow">图</a>，你也可以输出 
<a target="_blank" href="http://www.graphviz.org/content/dot-language" rel="nofollow">Dot</a>格式的数据。
        </td>
                    </tr>
        <tr id="tr_18062">
        <td width="50%" valign="top" class="eng"><p> <br /> </p> 
<h2> Memory usage </h2> 
<p> Sometimes you want to use less memory. Less allocations usually make applications faster and well, users like them lean and mean :) </p> 
<p> There are lots of tools <a href="http://blog.ionelmc.ro/2013/06/05/python-debugging-tools/#id2" rel="nofollow">[1]</a> but the best one in my opinion is <a href="https://github.com/wyplay/pytracemalloc" rel="nofollow">pytracemalloc</a> - it has very little overhead (doesn't need to rely on the speed crippling <a href="http://docs.python.org/2/library/sys.html#sys.settrace" rel="nofollow">sys.settrace</a>) compared to other tools and it's output is very detailed. It's a pain to setup because you need to recompile python butaptmakes it very easy to do so. </p> 
<p> Just run these commands and go grab lunch or something: </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">apt-get source python2.7 cd python2.7-*
wget https://github.com/wyplay/pytracemalloc/raw/master/python2.7_track_free_list.patch
patch -p1 &lt; python2.7_track_free_list.patch
debuild -us -uc cd ..
sudo dpkg -i python2.7-minimal_2.7*.deb python2.7-dev_*.deb</pre> 
<p> <br /> </p> 
<p> And installpytracemalloc(note that if you're doing this in a virtualenv, you need to recreate it after the python re-install - just runvirtualenv myenv): </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">pip install pytracemalloc</pre> 
<p> <br /> </p> 
<p> Now wrap your application in code like this: </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">import tracemalloc, time
tracemalloc.enable()
top = tracemalloc.DisplayTop(
    5000, # log the top 5000 locations
    file=open('/tmp/memory-profile-%s' % time.time(), &quot;w&quot;)
)
top.show_lineno = True
try:
    # code that needs to be traced
finally:
    top.display()</pre> 
<p> <br /> </p> 
<p> And output is like this: </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">2013-05-31 18:05:07: Top 5000 allocations per file and line
#1: .../site-packages/billiard/_connection.py:198: size=1288 KiB, count=70 (+0), average=18 KiB
#2: .../site-packages/billiard/_connection.py:199: size=1288 KiB, count=70 (+0), average=18 KiB
#3: .../python2.7/importlib/__init__.py:37: size=459 KiB, count=5958 (+0), average=78 B
#4: .../site-packages/amqp/transport.py:232: size=217 KiB, count=6960 (+0), average=32 B
#5: .../site-packages/amqp/transport.py:231: size=206 KiB, count=8798 (+0), average=24 B
#6: .../site-packages/amqp/serialization.py:210: size=199 KiB, count=822 (+0), average=248 B
#7: .../lib/python2.7/socket.py:224: size=179 KiB, count=5947 (+0), average=30 B
#8: .../celery/utils/term.py:89: size=172 KiB, count=1953 (+0), average=90 B
#9: .../site-packages/kombu/connection.py:281: size=153 KiB, count=2400 (+0), average=65 B
#10: .../site-packages/amqp/serialization.py:462: size=147 KiB, count=4704 (+0), average=32 B

...</pre> 
<p> <br /> </p> 
<p> Beautiful, no? </p> 
<a href="http://blog.ionelmc.ro/2013/06/05/python-debugging-tools/#id1" rel="nofollow">[1]</a> 
<a href="https://github.com/wyplay/pytracemalloc#see-also" rel="nofollow">https://github.com/wyplay/pytracemalloc#see-also</a></td>
                        <td valign="top" class="chs" id="td_chs_18268">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/liuyuanyuangogo' title='媛媛小译' target='_blank'><img src="http://static.oschina.net/uploads/user/579/1158288_50.jpg?t=1389016069000" align="absmiddle" alt="媛媛小译" title="媛媛小译" class="SmallPortrait" user="1158288"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/liuyuanyuangogo' target='_blank'>媛媛小译</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18268'>0</em>人 <a href='javascript:vote_block(18268)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                                <p>其它翻译版本：1(点击译者名切换)<br/>
                                                                                                    <a href="javascript:show(18062,18269)">Andy</a>
                                                        </p>
                            </div>
            <h2> 内存利用 </h2> 
<p> 有时你想使用更少的内存。少分配内存通常会使程序运行的更快更好，用户们都喜欢精益求精:) </p> 
<p> 有许多工具可以拿来使用<span style="font-family:Palatino, 'Palatino Linotype', Georgia, serif;font-size:18px;line-height:25px;">&nbsp;</span><a href="http://blog.ionelmc.ro/2013/06/05/python-debugging-tools/#id2" rel="nofollow">[1]</a><span style="font-family:Palatino, 'Palatino Linotype', Georgia, serif;font-size:18px;line-height:25px;">&nbsp;</span>，但在我看来最好的是<a href="https://github.com/wyplay/pytracemalloc" rel="nofollow">pytracemalloc</a>&nbsp;- 与其他工具相比较，它的开销很小（不需要依赖于削弱速度的<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;line-height:21px;background-color:#F6F6F6;">&nbsp;</span><a href="http://docs.python.org/2/library/sys.html#sys.settrace" rel="nofollow">sys.settrace</a>）并且它的输出非常详尽。令人头疼的是它的配置，因为需要你重编译python，但是spt使其很容易做到。 </p> 
<p> 只要运行以下命令，然后你就可以去买午餐或者做其他事了： </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">apt-get source python2.7 cd python2.7-*
wget https://github.com/wyplay/pytracemalloc/raw/master/python2.7_track_free_list.patch
patch -p1 &lt; python2.7_track_free_list.patch
debuild -us -uc cd ..
sudo dpkg -i python2.7-minimal_2.7*.deb python2.7-dev_*.deb</pre> 然后安装pytracemalloc（请注意：如果你是在虚拟环境中做的这些操作，那么在python重新安装后，你需要重建它-仅运行virtualenv myenv即可）： 
<span style="line-height:1.5;font-size:10pt;"></span> 
<p> <br /> </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">pip install pytracemalloc</pre> 
<p> 现在，你就可以通过以下代码来封装你的应用程序： </p> 
<pre class="brush:python; toolbar: true; auto-links: false;">import tracemalloc, time
tracemalloc.enable()
top = tracemalloc.DisplayTop(
    5000, # log the top 5000 locations
    file=open('/tmp/memory-profile-%s' % time.time(), &quot;w&quot;)
)
top.show_lineno = True
try:
    # code that needs to be traced
finally:
    top.display()</pre> 会得到像下面这样的输出： 
<pre class="brush:shell; toolbar: true; auto-links: false;">2013-05-31 18:05:07: Top 5000 allocations per file and line
#1: .../site-packages/billiard/_connection.py:198: size=1288 KiB, count=70 (+0), average=18 KiB
#2: .../site-packages/billiard/_connection.py:199: size=1288 KiB, count=70 (+0), average=18 KiB
#3: .../python2.7/importlib/__init__.py:37: size=459 KiB, count=5958 (+0), average=78 B
#4: .../site-packages/amqp/transport.py:232: size=217 KiB, count=6960 (+0), average=32 B
#5: .../site-packages/amqp/transport.py:231: size=206 KiB, count=8798 (+0), average=24 B
#6: .../site-packages/amqp/serialization.py:210: size=199 KiB, count=822 (+0), average=248 B
#7: .../lib/python2.7/socket.py:224: size=179 KiB, count=5947 (+0), average=30 B
#8: .../celery/utils/term.py:89: size=172 KiB, count=1953 (+0), average=90 B
#9: .../site-packages/kombu/connection.py:281: size=153 KiB, count=2400 (+0), average=65 B
#10: .../site-packages/amqp/serialization.py:462: size=147 KiB, count=4704 (+0), average=32 B

...</pre> 漂亮吧？ 
<p> <a href="http://blog.ionelmc.ro/2013/06/05/python-debugging-tools/#id1" rel="nofollow">[1]</a><span style="font-size:10pt;font-family:微软雅黑, Verdana, sans-serif, 宋体;line-height:21px;background-color:#F6F6F6;">&nbsp;</span><a href="https://github.com/wyplay/pytracemalloc#see-also" rel="nofollow">https://github.com/wyplay/pytracemalloc#see-also</a><span style="line-height:1.5;font-size:10pt;"></span> </p>
        </td>
                <td valign="top" class="chs" id="td_chs_18269" style="display:none;">
            <span class="infoicon">译者信息<img src="/img/down.gif"/></span>
            <div class="infocard">
                <h1><a href='javascript:void(0);' class="close"><img src="/img/close1.png"/></a>译者信息</h1>
                <a href='http://my.oschina.net/hand' title='Andy' target='_blank'><img src="http://static.oschina.net/uploads/user/90/180342_50.jpg?t=1371619625000" align="absmiddle" alt="Andy" title="Andy" class="SmallPortrait" user="180342"/></a>
                <div class="text">
                    <h6><a href='http://my.oschina.net/hand' target='_blank'>Andy</a><br/>翻译于 9个月前</h6>
                    <p><em id='vote_count_18269'>0</em>人 <a href='javascript:vote_block(18269)'>顶</a> 此译文</p>
                </div>
				<div class="clear"></div>
                                <p>其它翻译版本：1(点击译者名切换)<br/>
                                                            <a href="javascript:show(18062,18268)">媛媛小译</a>
                                                                                                </p>
                            </div>
            <p> <strong>内存使用</strong> </p> 
<p> 有时你希望你应用程序使用更少的内存，这样通常会使你程序跑的更快更好。用户都喜欢“轻瘦”的程序 ：）。 </p> 
<p> 也有很多工具可以帮你检测内存使用<a href="http://blog.ionelmc.ro/2013/06/05/python-debugging-tools/#id2" rel="nofollow">[1]</a>，但我认为最好的是<a href="https://github.com/wyplay/pytracemalloc" rel="nofollow">pytracemalloc</a>,相对来说它的开销非常小（不依赖系统<a href="http://docs.python.org/2/library/sys.html#sys.settrace" rel="nofollow">sys.settrace</a>的速度），能输出很多细节。它的安装设置很复杂,需要重新编译python，幸好我们可以用apt搞定： </p> 
<p> 运行如下命令即可： </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">apt-get source python2.7 cd python2.7-*
wget https://github.com/wyplay/pytracemalloc/raw/master/python2.7_track_free_list.patch
patch -p1 &lt; python2.7_track_free_list.patch
debuild -us -uc cd ..
sudo dpkg -i python2.7-minimal_2.7*.deb python2.7-dev_*.deb</pre> 安装pytracemalloc： 
<p> (注意：如果你是在puython的virtualenv下做的上述操作，当python重新安装后，你需要运行下面的命令重新创建：virtualenv myenv) </p> 
<pre class="brush:shell; toolbar: true; auto-links: false;">pip install pytracemalloc</pre> 接下来就可以修改你代码了： 
<pre class="brush:python; toolbar: true; auto-links: false;">import tracemalloc, time
tracemalloc.enable()
top = tracemalloc.DisplayTop(
    5000, # log the top 5000 locations
    file=open('/tmp/memory-profile-%s' % time.time(), &quot;w&quot;)
)
top.show_lineno = True
try:
    # code that needs to be traced
finally:
    top.display()</pre> 运行之后会输入类似下面的结果： 
<pre class="brush:shell; toolbar: true; auto-links: false;">2013-05-31 18:05:07: Top 5000 allocations per file and line
#1: .../site-packages/billiard/_connection.py:198: size=1288 KiB, count=70 (+0), average=18 KiB
#2: .../site-packages/billiard/_connection.py:199: size=1288 KiB, count=70 (+0), average=18 KiB
#3: .../python2.7/importlib/__init__.py:37: size=459 KiB, count=5958 (+0), average=78 B
#4: .../site-packages/amqp/transport.py:232: size=217 KiB, count=6960 (+0), average=32 B
#5: .../site-packages/amqp/transport.py:231: size=206 KiB, count=8798 (+0), average=24 B
#6: .../site-packages/amqp/serialization.py:210: size=199 KiB, count=822 (+0), average=248 B
#7: .../lib/python2.7/socket.py:224: size=179 KiB, count=5947 (+0), average=30 B
#8: .../celery/utils/term.py:89: size=172 KiB, count=1953 (+0), average=90 B
#9: .../site-packages/kombu/connection.py:281: size=153 KiB, count=2400 (+0), average=65 B
#10: .../site-packages/amqp/serialization.py:462: size=147 KiB, count=4704 (+0), average=32 B

...</pre> 是不是不错？ 
<p> 参见：<a href="http://blog.ionelmc.ro/2013/06/05/python-debugging-tools/#id1" rel="nofollow">[1]</a> <a href="https://github.com/wyplay/pytracemalloc#see-also" rel="nofollow">https://github.com/wyplay/pytracemalloc#see-also</a><br /> <strong></strong> </p>
        </td>
                    </tr>
    </table>
<div class="clear"></div>
<div class="copyright">
    本文中的所有译文仅用于学习和交流目的，转载请务必注明文章译者、出处、和本文链接<br/>
    我们的翻译工作遵照 <a href='http://zh.wikipedia.org/wiki/Wikipedia:CC' target='_blank'>CC 协议</a>，如果我们的工作有侵犯到您的权益，请及时联系我们
</div>
	</div><div class='clear'></div></div>
	<div id="OSC_Footer" class='CenterDiv'><style>
.oscapp {text-align:left; width:220px;}
.oscapp span {float:left;width:140px;}
.oscapp a {float:left;text-indent:-9999em;width:16px;margin-left:8px;}
.oscapp a.android {background:url('/img/android.gif') no-repeat left center;}
.oscapp a.iphone {background:url('/img/iphone.gif') no-repeat left center;}
.oscapp a.wp7 {background:url('/img/wp7.gif') no-repeat left center;}
</style>
<table width='100%'><tr>
<td align='left'>&copy; 开源中国(OsChina.NET) | <a href="http://www.oschina.net/home/aboutosc">关于我们</a> | <a href="mailto:oschina.net@gmail.com">广告联系</a> | <a href="http://weibo.com/oschina2010" target="_blank">@新浪微博</a> | <a href="http://m.oschina.net/">开源中国手机版</a> | <a href='http://www.miitbeian.gov.cn/' target='_blank' style='color:#737573;text-decoration:none;'>粤ICP备12009483号-3</a></td>
<td class='oscapp'>
	<span>开源中国手机客户端：</span>
	<a href="http://www.oschina.net/app" class='android' title='Android客户端'>Android</a>
	<a href="http://www.oschina.net/app" class='iphone' title='iPhone 客户端'>iPhone</a>
	<a href="http://www.oschina.net/app" class='wp7' title='Windows Phone 客户端'>WP7</a>
</td>
</tr>
</table>
<script type='text/javascript'>
<!--
if (top.location != self.location)top.location=self.location;
//-->
</script></div>
</div>
</body>
</html>
<!-- Generated by OsChina.NET (init:0[ms],page:10[ms],ip:49.5.1.198) -->