<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8"/>
<title>Python多线程学习 - tqsummer - 博客园</title>
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=gdNkSiQMyBMkpTeO1ex9qW-60UbMszQItnCUpBAT3LQ1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="http://common.cnblogs.com/Skins/LessIsMoreRight/style.css?id=20140415"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/tqsummer/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/tqsummer/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/tqsummer/wlwmanifest.xml"/>
<script src="http://common.cnblogs.com/script/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'tqsummer', cb_enable_mathjax=false;</script>
<script src="/bundles/blog-common.js?v=15gzXd7pJ_PNpSlGpVykf0EBaNg79HWL7oD5vVw0NGA1" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<div id="home">
<div id="header">
	<div id="blogTitle">
		
<!--done-->
<div class="title"><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/tqsummer/">片片灵感</a></div>
<div class="subtitle">一个程序员的开发博客</div>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li id="nav_sitehome"><a id="MyLinks1_HomeLink" class="menu" href="http://www.cnblogs.com/">博客园</a></li>
<li id="nav_myhome"><a id="MyLinks1_MyHomeLink" class="menu" href="http://www.cnblogs.com/tqsummer/">首页</a></li>
<li id="nav_q"><a class="menu" href="http://q.cnblogs.com/">博问</a></li>
<li id="nav_ing"><a class="menu" href="http://home.cnblogs.com/ing/">闪存</a></li>
<li id="nav_newpost"><a id="MyLinks1_NewPostLink" class="menu" rel="nofollow" href="http://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li id="nav_contact"><a id="MyLinks1_ContactLink" class="menu" rel="nofollow" href="http://space.cnblogs.com/msg/send/tqsummer">联系</a></li>
<li id="nav_rss"><a id="MyLinks1_Syndication" class="menu" href="http://www.cnblogs.com/tqsummer/rss">订阅</a>
<!--<a id="MyLinks1_XMLLink" class="aHeaderXML" href="http://www.cnblogs.com/tqsummer/rss"><img src="http://www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li id="nav_admin"><a id="MyLinks1_Admin" class="menu" rel="nofollow" href="http://i.cnblogs.com/">管理</a></li>
</ul>

		<div class="blogStats">
			
			
<!--done-->
随笔-34&nbsp;
文章-0&nbsp;
评论-12&nbsp;

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		

<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/tqsummer/archive/2011/01/25/1944771.html">Python多线程学习</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body"><p><span style="font-family: verdana, sans-serif;">
</span></p>
<p style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;">&nbsp;一、<span lang="EN-US" style="line-height: 21px;">Python</span><span style="line-height: 21px;">中的线程使用：</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>Python</span><span style="line-height: 21px;">中使用线程有两种方式：函数或者用类来包装线程对象。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;">1、<span style="line-height: 21px;">&nbsp;&nbsp;</span></span></span><span style="line-height: 21px;">函数式：调用</span><span lang="EN-US" style="line-height: 21px;">thread</span><span style="line-height: 21px;">模块中的</span><span lang="EN-US" style="line-height: 21px;">start_new_thread()</span><span style="line-height: 21px;">函数来产生新线程。如下例：</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;">&nbsp;</p>
<div class="dp-highlighter " style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; background-color: #e7e5dc; width: 923px; overflow-x: auto; overflow-y: auto; margin-top: 18px !important; margin-right: 0px !important; margin-bottom: 18px !important; margin-left: 0px !important; padding-top: 1px;">
<div class="bar" style="padding-left: 45px;">
<div class="tools" style="padding-top: 3px; padding-right: 8px; padding-left: 10px; font: normal normal normal 9px/normal Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; padding-bottom: 10px; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c;"><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/04/3861844.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">view plain</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/04/3861844.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">copy to clipboard</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/04/3861844.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">print</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/04/3861844.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">?</a></div>
</div>
<ol start="1" class="dp-py" style="margin-top: 0px !important; margin-right: 0px !important; margin-bottom: 1px !important; margin-left: 45px !important; list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; padding: 0px; border: initial none initial;">
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;time&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;thread&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;timer(no,&nbsp;interval):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;cnt&nbsp;=&nbsp;<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">0</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">while</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;cnt&lt;</span><span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">10</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'Thread:(%d)&nbsp;Time:%s\n'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">%(no,&nbsp;time.ctime())&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(interval)&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cnt+=<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread.exit_thread()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;test():&nbsp;</span><span class="comment" style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">#Use&nbsp;thread.start_new_thread()&nbsp;to&nbsp;create&nbsp;2&nbsp;new&nbsp;threads</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread.start_new_thread(timer,&nbsp;(<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,</span><span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">))&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread.start_new_thread(timer,&nbsp;(<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">2</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,</span><span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">2</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">))&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__name__==</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'__main__'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;test()&nbsp;&nbsp;</span></li>
</ol></div>
&nbsp;
<p>&nbsp;</p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="line-height: 21px;">上面的例子定义了一个线程函数</span><span lang="EN-US" style="line-height: 21px;">timer,</span><span style="line-height: 21px;">它打印出</span><span lang="EN-US" style="line-height: 21px;">10</span><span style="line-height: 21px;">条时间记录后退出，每次打印的间隔由</span><span lang="EN-US" style="line-height: 21px;">interval</span><span style="line-height: 21px;">参数决定。</span><span lang="EN-US" style="line-height: 21px;">thread.start_new_thread(function, args[, kwargs])</span><span style="line-height: 21px;">的第一个参数是线程函数（本例中的</span><span lang="EN-US" style="line-height: 21px;">timer</span><span style="line-height: 21px;">方法），第二个参数是传递给线程函数的参数，它必须是</span><span lang="EN-US" style="line-height: 21px;">tuple</span><span style="line-height: 21px;">类型，</span><span lang="EN-US" style="line-height: 21px;">kwargs</span><span style="line-height: 21px;">是可选参数。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="line-height: 21px;">线程的结束可以等待线程自然结束，也可以在线程函数中调用</span><span lang="EN-US" style="line-height: 21px;">thread.exit()</span><span style="line-height: 21px;">或</span><span lang="EN-US" style="line-height: 21px;">thread.exit_thread()</span><span style="line-height: 21px;">方法。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;">2、<span style="line-height: 21px;">&nbsp;&nbsp;</span></span></span><span style="line-height: 21px;">创建</span><span lang="EN-US" style="line-height: 21px;">threading.Thread</span><span style="line-height: 21px;">的子类来包装一个线程对象，如下例：</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;">&nbsp;</p>
<div class="dp-highlighter " style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; background-color: #e7e5dc; width: 923px; overflow-x: auto; overflow-y: auto; margin-top: 18px !important; margin-right: 0px !important; margin-bottom: 18px !important; margin-left: 0px !important; padding-top: 1px;">
<div class="bar" style="padding-left: 45px;">
<div class="tools" style="padding-top: 3px; padding-right: 8px; padding-left: 10px; font: normal normal normal 9px/normal Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; padding-bottom: 10px; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c;"><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/04/3861844.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">view plain</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/04/3861844.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">copy to clipboard</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/04/3861844.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">print</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/04/3861844.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">?</a></div>
</div>
<ol start="1" class="dp-py" style="margin-top: 0px !important; margin-right: 0px !important; margin-bottom: 1px !important; margin-left: 45px !important; list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; padding: 0px; border: initial none initial;">
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;threading&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;time&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">class</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;timer(threading.Thread):&nbsp;</span><span class="comment" style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">#The&nbsp;timer&nbsp;class&nbsp;is&nbsp;derived&nbsp;from&nbsp;the&nbsp;class&nbsp;threading.Thread</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__init__(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;num,&nbsp;interval):&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threading.Thread.__init__(<span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.thread_num&nbsp;=&nbsp;num&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.interval&nbsp;=&nbsp;interval&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.thread_stop&nbsp;=&nbsp;</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">False</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;run(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;</span><span class="comment" style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">#Overwrite&nbsp;run()&nbsp;method,&nbsp;put&nbsp;what&nbsp;you&nbsp;want&nbsp;the&nbsp;thread&nbsp;do&nbsp;here</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">while</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">not</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.thread_stop:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'Thread&nbsp;Object(%d),&nbsp;Time:%s\n'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;%(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.thread_num,&nbsp;time.ctime())&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(<span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.interval)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;stop(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.thread_stop&nbsp;=&nbsp;</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">True</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;test():&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread1&nbsp;=&nbsp;timer(<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;</span><span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread2&nbsp;=&nbsp;timer(<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">2</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;</span><span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">2</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread1.start()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread2.start()&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">10</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread1.stop()&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread2.stop()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">return</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__name__&nbsp;==&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'__main__'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;test()&nbsp;&nbsp;</span></li>
</ol></div>
&nbsp;
<p>&nbsp;</p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;">&nbsp;&nbsp;&nbsp;</span></span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="line-height: 21px;">就我个人而言，比较喜欢第二种方式，即创建自己的线程类，必要时重写</span><span lang="EN-US" style="line-height: 21px;">threading.Thread</span><span style="line-height: 21px;">类的方法，线程的控制可以由自己定制。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">threading.Thread</span><span style="line-height: 21px;">类的使用：</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">1</span><span style="line-height: 21px;">，在自己的线程类的</span><span lang="EN-US" style="line-height: 21px;">__init__</span><span style="line-height: 21px;">里调用</span><span lang="EN-US" style="line-height: 21px;">threading.Thread.__init__(self, name = threadname)</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">Threadname</span><span style="line-height: 21px;">为线程的名字</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">2</span><span style="line-height: 21px;">，</span>&nbsp;<span lang="EN-US" style="line-height: 21px;">run()</span><span style="line-height: 21px;">，通常需要重写，编写代码实现做需要的功能。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">3</span><span style="line-height: 21px;">，</span><span lang="EN-US" style="line-height: 21px;">getName()</span><span style="line-height: 21px;">，获得线程对象名称</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">4</span><span style="line-height: 21px;">，</span><span lang="EN-US" style="line-height: 21px;">setName()</span><span style="line-height: 21px;">，设置线程对象名称</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">5</span><span style="line-height: 21px;">，</span><span lang="EN-US" style="line-height: 21px;">start()</span><span style="line-height: 21px;">，启动线程</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">6</span><span style="line-height: 21px;">，</span><span lang="EN-US" style="line-height: 21px;">jion([timeout])</span><span style="line-height: 21px;">，等待另一线程结束后再运行。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">7</span><span style="line-height: 21px;">，</span><span lang="EN-US" style="line-height: 21px;">setDaemon(bool)</span><span style="line-height: 21px;">，设置子线程是否随主线程一起结束，必须在</span><span lang="EN-US" style="line-height: 21px;">start()</span><span style="line-height: 21px;">之前调用。默认为</span><span lang="EN-US" style="line-height: 21px;">False</span><span style="line-height: 21px;">。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">8</span><span style="line-height: 21px;">，</span><span lang="EN-US" style="line-height: 21px;">isDaemon()</span><span style="line-height: 21px;">，判断线程是否随主线程一起结束。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;">9</span><span style="line-height: 21px;">，</span><span lang="EN-US" style="line-height: 21px;">isAlive()</span><span style="line-height: 21px;">，检查线程是否在运行中。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="line-height: 21px;">此外</span><span lang="EN-US" style="line-height: 21px;">threading</span><span style="line-height: 21px;">模块本身也提供了很多方法和其他的类，可以帮助我们更好的使用和管理线程。可以参看</span><span lang="EN-US" style="line-height: 21px;"><a href="http://www.python.org/doc/2.5.2/lib/module-threading.html" style="text-decoration: none; color: #34579c;">http://www.python.org/doc/2.5.2/lib/module-threading.html</a></span><span style="line-height: 21px;">。</span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span style="line-height: 21px;"><br /></span></p>
<p class="MsoNormal" style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;"><span style="line-height: 21px;">
</span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">假设两个线程对象</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t1</span></span><span style="line-height: 19px; font-family: 宋体;">和</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t2</span></span><span style="line-height: 19px; font-family: 宋体;">都要对</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num=0</span></span><span style="line-height: 19px; font-family: 宋体;">进行增</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">1</span></span><span style="line-height: 19px; font-family: 宋体;">运算，</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t1</span></span><span style="line-height: 19px; font-family: 宋体;">和</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t2</span></span><span style="line-height: 19px; font-family: 宋体;">都各对</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num</span></span><span style="line-height: 19px; font-family: 宋体;">修改</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">10</span></span><span style="line-height: 19px; font-family: 宋体;">次，</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num</span></span><span style="line-height: 19px; font-family: 宋体;">的最终的结果应该为</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">20</span></span><span style="line-height: 19px; font-family: 宋体;">。但是由于是多线程访问，有可能出现下面情况：在</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num=0</span></span><span style="line-height: 19px; font-family: 宋体;">时，</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t1</span></span><span style="line-height: 19px; font-family: 宋体;">取得</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num=0</span></span><span style="line-height: 19px; font-family: 宋体;">。系统此时把</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t1</span></span><span style="line-height: 19px; font-family: 宋体;">调度为</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">&rdquo;sleeping&rdquo;</span></span><span style="line-height: 19px; font-family: 宋体;">状态，把</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t2</span></span><span style="line-height: 19px; font-family: 宋体;">转换为</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">&rdquo;running&rdquo;</span></span><span style="line-height: 19px; font-family: 宋体;">状态，</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t2</span></span><span style="line-height: 19px; font-family: 宋体;">页获得</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num=0</span></span><span style="line-height: 19px; font-family: 宋体;">。然后</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t2</span></span><span style="line-height: 19px; font-family: 宋体;">对得到的值进行加</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">1</span></span><span style="line-height: 19px; font-family: 宋体;">并赋给</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num</span></span><span style="line-height: 19px; font-family: 宋体;">，使得</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num=1</span></span><span style="line-height: 19px; font-family: 宋体;">。然后系统又把</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t2</span></span><span style="line-height: 19px; font-family: 宋体;">调度为</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">&rdquo;sleeping&rdquo;</span></span><span style="line-height: 19px; font-family: 宋体;">，把</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t1</span></span><span style="line-height: 19px; font-family: 宋体;">转为</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">&rdquo;running&rdquo;</span></span><span style="line-height: 19px; font-family: 宋体;">。线程</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t1</span></span><span style="line-height: 19px; font-family: 宋体;">又把它之前得到的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">0</span></span><span style="line-height: 19px; font-family: 宋体;">加</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">1</span></span><span style="line-height: 19px; font-family: 宋体;">后赋值给</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num</span></span><span style="line-height: 19px; font-family: 宋体;">。这样，明明</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t1</span></span><span style="line-height: 19px; font-family: 宋体;">和</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">t2</span></span><span style="line-height: 19px; font-family: 宋体;">都完成了</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">1</span></span><span style="line-height: 19px; font-family: 宋体;">次加</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">1</span></span><span style="line-height: 19px; font-family: 宋体;">工作，但结果仍然是</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">num=1</span></span><span style="line-height: 19px; font-family: 宋体;">。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="line-height: 19px; font-family: 宋体;">上面的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">case</span></span><span style="line-height: 19px; font-family: 宋体;">描述了多线程情况下最常见的问题之一：数据共享。当多个线程都要去修改某一个共享数据的时候，我们需要对数据访问进行同步。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 18pt; text-indent: -18pt; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;"><span style="line-height: 21px; font-family: 'Times New Roman';"><span style="line-height: 19px; font-size: small;">1、</span><span style="line-height: normal; font: normal normal normal 7pt/normal 'Times New Roman';">&nbsp;&nbsp;</span></span></span></span><span style="line-height: 21px; font-family: 宋体;"><span style="line-height: 19px; font-size: small;">简单的同步</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">最简单的同步机制就是&ldquo;锁&rdquo;。锁对象由</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">threading.RLock</span></span><span style="line-height: 19px; font-family: 宋体;">类创建。线程可以使用锁的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire()</span></span><span style="line-height: 19px; font-family: 宋体;">方法获得锁，这样锁就进入&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">locked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态。每次只有一个线程可以获得锁。如果当另一个线程试图获得这个锁的时候，就会被系统变为&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">blocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态，直到那个拥有锁的线程调用锁的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">release()</span></span><span style="line-height: 19px; font-family: 宋体;">方法来释放锁，这样锁就会进入&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">unlocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态。&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">blocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态的线程就会收到一个通知，并有权利获得锁。如果多个线程处于&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">blocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态，所有线程都会先解除&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">blocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态，然后系统选择一个线程来获得锁，其他的线程继续沉默（&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">blocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;）。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Python</span></span><span style="line-height: 19px; font-family: 宋体;">中的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">thread</span></span><span style="line-height: 19px; font-family: 宋体;">模块和</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象是</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Python</span></span><span style="line-height: 19px; font-family: 宋体;">提供的低级线程控制工具，使用起来非常简单。如下例所示：</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">&nbsp;</span></span></p>
<div class="dp-highlighter " style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; background-color: #e7e5dc; width: 923px; overflow-x: auto; overflow-y: auto; margin-top: 18px !important; margin-right: 0px !important; margin-bottom: 18px !important; margin-left: 0px !important; padding-top: 1px;">
<div class="bar" style="padding-left: 45px;">
<div class="tools" style="padding-top: 3px; padding-right: 8px; padding-left: 10px; font: normal normal normal 9px/normal Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; padding-bottom: 10px; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c;"><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/09/3870145.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">view plain</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/09/3870145.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">copy to clipboard</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/09/3870145.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">print</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/09/3870145.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">?</a></div>
</div>
<ol start="1" class="dp-py" style="margin-top: 0px !important; margin-right: 0px !important; margin-bottom: 1px !important; margin-left: 45px !important; list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; padding: 0px; border: initial none initial;">
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;thread&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;time&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">mylock&nbsp;=&nbsp;thread.allocate_lock()&nbsp;&nbsp;<span class="comment" style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">#Allocate&nbsp;a&nbsp;lock</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">num=<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">0</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span><span class="comment" style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">#Shared&nbsp;resource</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;add_num(name):&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">global</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;num&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">while</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">True</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylock.acquire()&nbsp;<span class="comment" style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">#Get&nbsp;the&nbsp;lock&nbsp;</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">#&nbsp;Do&nbsp;something&nbsp;to&nbsp;the&nbsp;shared&nbsp;resource</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'Thread&nbsp;%s&nbsp;locked!&nbsp;num=%s'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">%(name,str(num))&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;num&nbsp;&gt;=&nbsp;</span><span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">5</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'Thread&nbsp;%s&nbsp;released!&nbsp;num=%s'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">%(name,str(num))&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylock.release()&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thread.exit_thread()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num+=<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'Thread&nbsp;%s&nbsp;released!&nbsp;num=%s'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">%(name,str(num))&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylock.release()&nbsp;&nbsp;<span class="comment" style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">#Release&nbsp;the&nbsp;lock.</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;test():&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread.start_new_thread(add_num,&nbsp;(<span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'A'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,))&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread.start_new_thread(add_num,&nbsp;(<span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'B'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,))&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__name__==&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'__main__'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;test()&nbsp;&nbsp;</span></li>
</ol></div>
<p>&nbsp;</p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Python&nbsp;</span></span><span style="line-height: 19px; font-family: 宋体;">在</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">thread</span></span><span style="line-height: 19px; font-family: 宋体;">的基础上还提供了一个高级的线程控制库，就是之前提到过的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">threading</span></span><span style="line-height: 19px; font-family: 宋体;">。</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Python</span></span><span style="line-height: 19px; font-family: 宋体;">的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">threading module</span></span><span style="line-height: 19px; font-family: 宋体;">是在建立在</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">thread module</span></span><span style="line-height: 19px; font-family: 宋体;">基础之上的一个</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">module</span></span><span style="line-height: 19px; font-family: 宋体;">，在</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">threading module</span></span><span style="line-height: 19px; font-family: 宋体;">中，暴露了许多</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">thread module</span></span><span style="line-height: 19px; font-family: 宋体;">中的属性。在</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">thread module</span></span><span style="line-height: 19px; font-family: 宋体;">中，</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">python</span></span><span style="line-height: 19px; font-family: 宋体;">提供了用户级的线程同步工具&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;对象。而在</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">threading module</span></span><span style="line-height: 19px; font-family: 宋体;">中，</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">python</span></span><span style="line-height: 19px; font-family: 宋体;">又提供了</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象的变种</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">: RLock</span></span><span style="line-height: 19px; font-family: 宋体;">对象。</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">RLock</span></span><span style="line-height: 19px; font-family: 宋体;">对象内部维护着一个</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象，它是一种可重入的对象。对于</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象而言，如果一个线程连续两次进行</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire</span></span><span style="line-height: 19px; font-family: 宋体;">操作，那么由于第一次</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire</span></span><span style="line-height: 19px; font-family: 宋体;">之后没有</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">release</span></span><span style="line-height: 19px; font-family: 宋体;">，第二次</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire</span></span><span style="line-height: 19px; font-family: 宋体;">将挂起线程。这会导致</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象永远不会</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">release</span></span><span style="line-height: 19px; font-family: 宋体;">，使得线程死锁。</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">RLock</span></span><span style="line-height: 19px; font-family: 宋体;">对象允许一个线程多次对其进行</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire</span></span><span style="line-height: 19px; font-family: 宋体;">操作，因为在其内部通过一个</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">counter</span></span><span style="line-height: 19px; font-family: 宋体;">变量维护着线程</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire</span></span><span style="line-height: 19px; font-family: 宋体;">的次数。而且每一次的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire</span></span><span style="line-height: 19px; font-family: 宋体;">操作必须有一个</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">release</span></span><span style="line-height: 19px; font-family: 宋体;">操作与之对应，在所有的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">release</span></span><span style="line-height: 19px; font-family: 宋体;">操作完成之后，别的线程才能申请该</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">RLock</span></span><span style="line-height: 19px; font-family: 宋体;">对象。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">下面来看看如何使用</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">threading</span></span><span style="line-height: 19px; font-family: 宋体;">的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">RLock</span></span><span style="line-height: 19px; font-family: 宋体;">对象实现同步。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">&nbsp;</span></span></p>
<div class="dp-highlighter " style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; background-color: #e7e5dc; width: 923px; overflow-x: auto; overflow-y: auto; margin-top: 18px !important; margin-right: 0px !important; margin-bottom: 18px !important; margin-left: 0px !important; padding-top: 1px;">
<div class="bar" style="padding-left: 45px;">
<div class="tools" style="padding-top: 3px; padding-right: 8px; padding-left: 10px; font: normal normal normal 9px/normal Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; padding-bottom: 10px; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c;"><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/09/3870145.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">view plain</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/09/3870145.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">copy to clipboard</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/09/3870145.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">print</a><a href="http://blog.csdn.net/lazy_tiger/archive/2009/02/09/3870145.aspx#" style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">?</a></div>
</div>
<ol start="1" class="dp-py" style="margin-top: 0px !important; margin-right: 0px !important; margin-bottom: 1px !important; margin-left: 45px !important; list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; padding: 0px; border: initial none initial;">
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;threading&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">mylock&nbsp;=&nbsp;threading.RLock()&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">num=<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">0</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">class</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;myThread(threading.Thread):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__init__(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;name):&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threading.Thread.__init__(<span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.t_name&nbsp;=&nbsp;name&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;run(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">global</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;num&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">while</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">True</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylock.acquire()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'\nThread(%s)&nbsp;locked,&nbsp;Number:&nbsp;%d'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">%(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.t_name,&nbsp;num)&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;num&gt;=</span><span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">4</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylock.release()&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'\nThread(%s)&nbsp;released,&nbsp;Number:&nbsp;%d'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">%(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.t_name,&nbsp;num)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">break</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num+=<span class="number" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'\nThread(%s)&nbsp;released,&nbsp;Number:&nbsp;%d'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">%(</span><span class="special" style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.t_name,&nbsp;num)&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylock.release()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;test():&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread1&nbsp;=&nbsp;myThread(<span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'A'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread2&nbsp;=&nbsp;myThread(<span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'B'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread1.start()&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;thread2.start()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt" style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span class="keyword" style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__name__==&nbsp;</span><span class="string" style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">'__main__'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;test()&nbsp;&nbsp;</span></li>
</ol></div>
<p>&nbsp;</p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">我们把修改共享数据的代码成为&ldquo;临界区&rdquo;。必须将所有&ldquo;临界区&rdquo;都封闭在同一个锁对象的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire</span></span><span style="line-height: 19px; font-family: 宋体;">和</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">release</span></span><span style="line-height: 19px; font-family: 宋体;">之间。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 18pt; text-indent: -18pt; padding: 0px;"><span lang="EN-US" style="line-height: 21px;"><span style="line-height: 21px;"><span style="line-height: 21px; font-family: 'Times New Roman';"><span style="line-height: 19px; font-size: small;">2、</span><span style="line-height: normal; font: normal normal normal 7pt/normal 'Times New Roman';">&nbsp;&nbsp;</span></span></span></span><span style="line-height: 21px; font-family: 宋体;"><span style="line-height: 19px; font-size: small;">条件同步</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">锁只能提供最基本的同步。假如只在发生某些事件时才访问一个&ldquo;临界区&rdquo;，这时需要使用条件变量</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Condition</span></span><span style="line-height: 19px; font-family: 宋体;">。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Condition</span></span><span style="line-height: 19px; font-family: 宋体;">对象是对</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象的包装，在创建</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Condition</span></span><span style="line-height: 19px; font-family: 宋体;">对象时，其构造函数需要一个</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象作为参数，如果没有这个</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象参数，</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Condition</span></span><span style="line-height: 19px; font-family: 宋体;">将在内部自行创建一个</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Rlock</span></span><span style="line-height: 19px; font-family: 宋体;">对象。在</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Condition</span></span><span style="line-height: 19px; font-family: 宋体;">对象上，当然也可以调用</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">acquire</span></span><span style="line-height: 19px; font-family: 宋体;">和</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">release</span></span><span style="line-height: 19px; font-family: 宋体;">操作，因为内部的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Lock</span></span><span style="line-height: 19px; font-family: 宋体;">对象本身就支持这些操作。但是</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">Condition</span></span><span style="line-height: 19px; font-family: 宋体;">的价值在于其提供的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">wait</span></span><span style="line-height: 19px; font-family: 宋体;">和</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">notify</span></span><span style="line-height: 19px; font-family: 宋体;">的语义。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">条件变量是如何工作的呢？首先一个线程成功获得一个条件变量后，调用此条件变量的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">wait()</span></span><span style="line-height: 19px; font-family: 宋体;">方法会导致这个线程释放这个锁，并进入&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">blocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态，直到另一个线程调用同一个条件变量的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">notify()</span></span><span style="line-height: 19px; font-family: 宋体;">方法来唤醒那个进入&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">blocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态的线程。如果调用这个条件变量的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">notifyAll()</span></span><span style="line-height: 19px; font-family: 宋体;">方法的话就会唤醒所有的在等待的线程。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;">如果程序或者线程永远处于&ldquo;</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">blocked</span></span><span style="line-height: 19px; font-family: 宋体;">&rdquo;状态的话，就会发生死锁。所以如果使用了锁、条件变量等同步机制的话，一定要注意仔细检查，防止死锁情况的发生。对于可能产生异常的临界区要使用异常处理机制中的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">finally</span></span><span style="line-height: 19px; font-family: 宋体;">子句来保证释放锁。等待一个条件变量的线程必须用</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">notify()</span></span><span style="line-height: 19px; font-family: 宋体;">方法显式的唤醒，否则就永远沉默。保证每一个</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">wait()</span></span><span style="line-height: 19px; font-family: 宋体;">方法调用都有一个相对应的</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">notify()</span></span><span style="line-height: 19px; font-family: 宋体;">调用，当然也可以调用</span><span lang="EN-US" style="line-height: 19px;"><span style="line-height: 19px; font-family: 'Times New Roman';">notifyAll()</span></span><span style="line-height: 19px; font-family: 宋体;">方法以防万一。</span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;"><br /></span></span></p>
<p class="MsoNormal" style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;"><span style="line-height: 19px; font-size: small;"><span style="line-height: 19px; font-family: 宋体;"><span style="font-family: verdana, sans-serif; line-height: 21px; font-size: 14px;">
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; padding: 0px;" class="MsoNormal"><span style="line-height: 21px; font-family: 宋体;">生产者与消费者问题是典型的同步问题。这里简单介绍两种不同的实现方法。</span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 18pt; text-indent: -18pt; padding: 0px;" class="MsoNormal"><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px;"><span style="line-height: 21px; font-family: 'Times New Roman';">1，<span style="line-height: normal; font: normal normal normal 7pt/normal 'Times New Roman';"><span style="line-height: 19px; font-size: small;">&nbsp;&nbsp;</span></span></span></span></span><span style="line-height: 21px; font-family: 宋体;">条件变量</span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; padding: 0px;" class="MsoNormal"><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">&nbsp;</span></span></p>
<div style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; background-color: #e7e5dc; width: 923px; overflow-x: auto; overflow-y: auto; margin-top: 18px !important; margin-right: 0px !important; margin-bottom: 18px !important; margin-left: 0px !important; padding-top: 1px;" class="dp-highlighter ">
<div style="padding-left: 45px;" class="bar">
<div style="padding-top: 3px; padding-right: 8px; padding-left: 10px; font: normal normal normal 9px/normal Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; padding-bottom: 10px; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c;" class="tools"><a style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;" href="http://blog.csdn.net/lazy_tiger/archive/2009/02/15/3893415.aspx#">view plain</a><a style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;" href="http://blog.csdn.net/lazy_tiger/archive/2009/02/15/3893415.aspx#">copy to clipboard</a><a style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;" href="http://blog.csdn.net/lazy_tiger/archive/2009/02/15/3893415.aspx#">print</a><a style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;" href="http://blog.csdn.net/lazy_tiger/archive/2009/02/15/3893415.aspx#">?</a></div>
</div>
<ol style="margin-top: 0px !important; margin-right: 0px !important; margin-bottom: 1px !important; margin-left: 45px !important; list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; padding: 0px; border: initial none initial;" class="dp-py" start="1">
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;threading&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;time&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">class</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;Producer(threading.Thread):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__init__(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;t_name):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threading.Thread.__init__(<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;name=t_name)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;run(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">global</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;x&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.acquire()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;x&nbsp;&gt;&nbsp;</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">0</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.wait()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">else</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">for</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;i&nbsp;</span><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">in</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;range(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">5</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x=x+<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">"producing..."</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;+&nbsp;str(x)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.notify()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;x&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.release()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">class</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;Consumer(threading.Thread):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__init__(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;t_name):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threading.Thread.__init__(<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;name=t_name)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;run(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">global</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;x&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.acquire()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;x&nbsp;==&nbsp;</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">0</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'consumer&nbsp;wait1'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.wait()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">else</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">for</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;i&nbsp;</span><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">in</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;range(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">5</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x=x-<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">1</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">"consuming..."</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;+&nbsp;str(x)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.notify()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;x&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.release()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">con&nbsp;=&nbsp;threading.Condition()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">x=<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">0</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'start&nbsp;consumer'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">c=Consumer(<span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'consumer'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'start&nbsp;producer'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">p=Producer(<span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'producer'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">p.start()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">c.start()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">p.join()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">c.join()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;x&nbsp;&nbsp;</span></span></li>
</ol></div>
&nbsp;&nbsp;</span>
<p>&nbsp;</p>
<p style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;">&nbsp;</p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; padding: 0px;" class="MsoNormal"><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px;"><span style="line-height: 21px; font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="line-height: 21px; font-family: 宋体;">上面的例子中，在初始状态下，</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">Consumer</span></span><span style="line-height: 21px; font-family: 宋体;">处于</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">wait</span></span><span style="line-height: 21px; font-family: 宋体;">状态，</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">Producer</span></span><span style="line-height: 21px; font-family: 宋体;">连续生产（对</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">x</span></span><span style="line-height: 21px; font-family: 宋体;">执行增</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">1</span></span><span style="line-height: 21px; font-family: 宋体;">操作）</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">5</span></span><span style="line-height: 21px; font-family: 宋体;">次后，</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">notify</span></span><span style="line-height: 21px; font-family: 宋体;">正在等待的</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">Consumer</span></span><span style="line-height: 21px; font-family: 宋体;">。</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">Consumer</span></span><span style="line-height: 21px; font-family: 宋体;">被唤醒开始消费（对</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">x</span></span><span style="line-height: 21px; font-family: 宋体;">执行减</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">1</span></span><span style="line-height: 21px; font-family: 宋体;">操作）</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">&nbsp;</span></span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 18pt; text-indent: -18pt; padding: 0px;" class="MsoNormal"><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px;"><span style="line-height: 21px; font-family: 'Times New Roman';">2，<span style="line-height: normal; font: normal normal normal 7pt/normal 'Times New Roman';"><span style="line-height: 19px; font-size: small;">&nbsp;&nbsp;</span></span></span></span></span><span style="line-height: 21px; font-family: 宋体;">同步队列</span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;" class="MsoNormal"><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">Python</span></span><span style="line-height: 21px; font-family: 宋体;">中的</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">Queue</span></span><span style="line-height: 21px; font-family: 宋体;">对象也提供了对线程同步的支持。使用</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">Queue</span></span><span style="line-height: 21px; font-family: 宋体;">对象可以实现多个生产者和多个消费者形成的</span><span style="line-height: 21px;" lang="EN-US"><span style="line-height: 21px; font-family: 'Times New Roman';">FIFO</span></span><span style="line-height: 21px; font-family: 宋体;">的队列。</span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;" class="MsoNormal"><span style="line-height: 21px; font-family: 宋体;">生产者将数据依次存入队列，消费者依次从队列中取出数据。</span></p>
<p style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;">&nbsp;</p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;" class="MsoNormal"><span style="line-height: 21px; font-family: 宋体;">&nbsp;</span></p>
<div style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; background-color: #e7e5dc; width: 923px; overflow-x: auto; overflow-y: auto; margin-top: 18px !important; margin-right: 0px !important; margin-bottom: 18px !important; margin-left: 0px !important; padding-top: 1px;" class="dp-highlighter ">
<div style="padding-left: 45px;" class="bar">
<div style="padding-top: 3px; padding-right: 8px; padding-left: 10px; font: normal normal normal 9px/normal Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; padding-bottom: 10px; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c;" class="tools"><a style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;" href="http://blog.csdn.net/lazy_tiger/archive/2009/02/15/3893415.aspx#">view plain</a><a style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;" href="http://blog.csdn.net/lazy_tiger/archive/2009/02/15/3893415.aspx#">copy to clipboard</a><a style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;" href="http://blog.csdn.net/lazy_tiger/archive/2009/02/15/3893415.aspx#">print</a><a style="text-decoration: none; color: #a0a0a0; background-image: none; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0px; margin-left: 0px; font-size: 9px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;" href="http://blog.csdn.net/lazy_tiger/archive/2009/02/15/3893415.aspx#">?</a></div>
</div>
<ol style="margin-top: 0px !important; margin-right: 0px !important; margin-bottom: 1px !important; margin-left: 45px !important; list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; padding: 0px; border: initial none initial;" class="dp-py" start="1">
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="comment">#&nbsp;producer_consumer_queue</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">from</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;Queue&nbsp;</span><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;Queue&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;random&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;threading&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">import</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;time&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="comment">#Producer&nbsp;thread</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">class</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;Producer(threading.Thread):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__init__(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;t_name,&nbsp;queue):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threading.Thread.__init__(<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;name=t_name)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.data=queue&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;run(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">for</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;i&nbsp;</span><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">in</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;range(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">5</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">"%s:&nbsp;%s&nbsp;is&nbsp;producing&nbsp;%d&nbsp;to&nbsp;the&nbsp;queue!\n"</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;%(time.ctime(),&nbsp;</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.getName(),&nbsp;i)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.data.put(i)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(random.randrange(<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">10</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)/</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">5</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">"%s:&nbsp;%s&nbsp;finished!"</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;%(time.ctime(),&nbsp;</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.getName())&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="comment">#Consumer&nbsp;thread</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">class</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;Consumer(threading.Thread):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__init__(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;t_name,&nbsp;queue):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threading.Thread.__init__(<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;name=t_name)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.data=queue&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;run(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">for</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;i&nbsp;</span><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">in</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;range(</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">5</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">):&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;=&nbsp;<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.data.get()&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">"%s:&nbsp;%s&nbsp;is&nbsp;consuming.&nbsp;%d&nbsp;in&nbsp;the&nbsp;queue&nbsp;is&nbsp;consumed!\n"</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;%(time.ctime(),&nbsp;</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.getName(),&nbsp;val)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(random.randrange(<span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="number">10</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">))&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">"%s:&nbsp;%s&nbsp;finished!"</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;%(time.ctime(),&nbsp;</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="special">self</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">.getName())&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #008200; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="comment">#Main&nbsp;thread</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">def</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;main():&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;queue&nbsp;=&nbsp;Queue()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;producer&nbsp;=&nbsp;Producer(<span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'Pro.'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;queue)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;consumer&nbsp;=&nbsp;Consumer(<span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'Con.'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">,&nbsp;queue)&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;producer.start()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;consumer.start()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;producer.join()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;consumer.join()&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">print</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'All&nbsp;threads&nbsp;terminate!'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;"><span style="line-height: 18px; color: #006699; background-color: inherit; font-weight: bold; padding: 0px; margin: 0px; border: initial none initial;" class="keyword">if</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;__name__&nbsp;==&nbsp;</span><span style="line-height: 18px; color: blue; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;" class="string">'__main__'</span><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">:&nbsp;&nbsp;</span></span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #f8f8f8; color: #5c5c5c; line-height: 14px; margin: 0px !important;"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;</span></li>
<li style="padding-top: 0px !important; padding-right: 3px !important; padding-bottom: 0px !important; padding-left: 10px !important; list-style-type: decimal-leading-zero; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; list-style-image: initial; list-style-position: outside !important; border-left-width: 3px; border-left-color: #6ce26c; background-color: #ffffff; color: inherit; line-height: 14px; margin: 0px !important;" class="alt"><span style="line-height: 18px; color: black; background-color: inherit; padding: 0px; margin: 0px; border: initial none initial;">&nbsp;&nbsp;&nbsp;&nbsp;main()&nbsp;&nbsp;</span></li>
</ol></div>
<p>&nbsp;</p>
<span lang="EN-US"><span style="font-size: small; font-family: 宋体;">
<p style="margin-top: 1em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; padding: 0px;">&nbsp;</p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;" class="MsoNormal"><span style="line-height: 19px; font-family: 宋体;">在上面的例子中，</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Producer</span></span><span style="line-height: 19px; font-family: 宋体;">在随机的时间内生产一个&ldquo;产品&rdquo;，放入队列中。</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Consumer</span></span><span style="line-height: 19px; font-family: 宋体;">发现队列中有了&ldquo;产品&rdquo;，就去消费它。本例中，由于</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Producer</span></span><span style="line-height: 19px; font-family: 宋体;">生产的速度快于</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Consumer</span></span><span style="line-height: 19px; font-family: 宋体;">消费的速度，所以往往</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Producer</span></span><span style="line-height: 19px; font-family: 宋体;">生产好几个&ldquo;产品&rdquo;后，</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Consumer</span></span><span style="line-height: 19px; font-family: 宋体;">才消费一个产品。</span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;" class="MsoNormal"><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Queue</span></span><span style="line-height: 19px; font-family: 宋体;">模块实现了一个支持多</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">producer</span></span><span style="line-height: 19px; font-family: 宋体;">和多</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">consumer</span></span><span style="line-height: 19px; font-family: 宋体;">的</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">FIFO</span></span><span style="line-height: 19px; font-family: 宋体;">队列。当共享信息需要安全的在多线程之间交换时，</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Queue</span></span><span style="line-height: 19px; font-family: 宋体;">非常有用。</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Queue</span></span><span style="line-height: 19px; font-family: 宋体;">的默认长度是无限的，但是可以设置其构造函数的</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">maxsize</span></span><span style="line-height: 19px; font-family: 宋体;">参数来设定其长度。</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Queue</span></span><span style="line-height: 19px; font-family: 宋体;">的</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">put</span></span><span style="line-height: 19px; font-family: 宋体;">方法在队尾插入，该方法的原型是：</span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;" class="MsoNormal"><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">put(<span style="line-height: 19px;">&nbsp;</span>item[, block[, timeout]])</span></span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;" class="MsoNormal"><span style="line-height: 19px; font-family: 宋体;">如果可选参数</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">block</span></span><span style="line-height: 19px; font-family: 宋体;">为</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">true</span></span><span style="line-height: 19px; font-family: 宋体;">并且</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">timeout</span></span><span style="line-height: 19px; font-family: 宋体;">为</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">None</span></span><span style="line-height: 19px; font-family: 宋体;">（缺省值），线程被</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">block</span></span><span style="line-height: 19px; font-family: 宋体;">，直到队列空出一个数据单元。如果</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">timeout</span></span><span style="line-height: 19px; font-family: 宋体;">大于</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">0</span></span><span style="line-height: 19px; font-family: 宋体;">，在</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">timeout</span></span><span style="line-height: 19px; font-family: 宋体;">的时间内，仍然没有可用的数据单元，</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Full exception</span></span><span style="line-height: 19px; font-family: 宋体;">被抛出。反之，如果</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">block</span></span><span style="line-height: 19px; font-family: 宋体;">参数为</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">false</span></span><span style="line-height: 19px; font-family: 宋体;">（忽略</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">timeout</span></span><span style="line-height: 19px; font-family: 宋体;">参数），</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">item</span></span><span style="line-height: 19px; font-family: 宋体;">被立即加入到空闲数据单元中，如果没有空闲数据单元，</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Full exception</span></span><span style="line-height: 19px; font-family: 宋体;">被抛出。</span></p>
<p style="margin-top: 0cm; margin-right: 0cm; margin-bottom: 0pt; margin-left: 0cm; text-indent: 21pt; padding: 0px;" class="MsoNormal"><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Queue</span></span><span style="line-height: 19px; font-family: 宋体;">的</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">get</span></span><span style="line-height: 19px; font-family: 宋体;">方法是从队首取数据，其参数和</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">put</span></span><span style="line-height: 19px; font-family: 宋体;">方法一样。如果</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">block</span></span><span style="line-height: 19px; font-family: 宋体;">参数为</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">true</span></span><span style="line-height: 19px; font-family: 宋体;">且</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">timeout</span></span><span style="line-height: 19px; font-family: 宋体;">为</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">None</span></span><span style="line-height: 19px; font-family: 宋体;">（缺省值），线程被</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">block</span></span><span style="line-height: 19px; font-family: 宋体;">，直到队列中有数据。如果</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">timeout</span></span><span style="line-height: 19px; font-family: 宋体;">大于</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">0</span></span><span style="line-height: 19px; font-family: 宋体;">，在</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">timeout</span></span><span style="line-height: 19px; font-family: 宋体;">时间内，仍然没有可取数据，</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Empty exception</span></span><span style="line-height: 19px; font-family: 宋体;">被抛出。反之，如果</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">block</span></span><span style="line-height: 19px; font-family: 宋体;">参数为</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">false</span></span><span style="line-height: 19px; font-family: 宋体;">（忽略</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">timeout</span></span><span style="line-height: 19px; font-family: 宋体;">参数），队列中的数据被立即取出。如果此时没有可取数据，</span><span style="line-height: 19px;" lang="EN-US"><span style="line-height: 19px; font-family: 'Times New Roman';">Empty exception</span></span><span style="line-height: 19px; font-family: 宋体;">也会被抛出。</span></p>
</span></span></span></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<div class = "postDesc">posted @ <span id="post-date">2011-01-25 17:16</span> <a href='http://www.cnblogs.com/tqsummer/'>tqsummer</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="http://i.cnblogs.com/EditPosts.aspx?postid=1944771" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(1944771);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=72876,cb_entryId=1944771,cb_blogApp=currentBlogApp,cb_blogUserGuid='7e1bbf02-e713-df11-ba8f-001cf0cd104b',cb_entryCreatedDate='2011/1/25 17:16:00';loadViewCount(cb_entryId);</script>
	
</div><!--end: topics 文章、评论容器-->
<a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.cnblogs.com/" target="_blank" title="程序员的网上家园">博客园首页</a><a href="http://q.cnblogs.com/" target="_blank" title="程序员问答社区">博问</a><a href="http://news.cnblogs.com/" target="_blank" title="IT新闻">新闻</a><a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a><a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a><a href="http://kb.cnblogs.com/" target="_blank">知识库</a></div>
<div id="ad_under_post_holder"></div>
<script type="text/javascript">
var enableGoogleAd = true;
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
fixPostBodyFormat();
loadAdUnderPost();
</script>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
loadBlogSignature();
LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
</script>
<script type="text/javascript">
    $.ajax({ url: 'http://counter.cnblogs.com/blog/post/' + cb_entryId, type: 'get', dataType: 'script', cache: true });
</script>
</div>

	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright &copy;2014 tqsummer
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
</body>
</html>
