               <!DOCTYPE html><html  id="customDoc"><!--STATUS OK--> <head> <meta http-equiv=Content-Type content="text/html; charset=utf-8"> <title> 虚拟化基础架构之使用openfiler搭建iSCSI网络共享存储（IPSAN）_IT终点站_百度空间</title> <link rel="shortcut icon" href="http://hi.bdimg.com/static/qbase/img/mod/16_favicon.ico?v=116ba471.ico" type=image/x-icon>   <meta name=keywords content="虚拟化基础架构之使用openfiler搭建iSCSI网络共享存储（IPSAN）,虚拟化"> <meta name=description content="IT知道学习,虚拟化基础架构之使用openfiler搭建iSCSI网络共享存储（IPSAN）"><script>window.wpo={start:new Date*1,pid:109,page:'qing'}</script><!--[if IE]><script type="text/javascript">(function(){var e="abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(","),t=e.length;while(t--)document.createElement(e[t])})();</script><![endif]--><script>window.qDomain={"qing":"http://hi.baidu.com","static":"http://hi.bdimg.com","passport":"https://passport.baidu.com","portrait":"http://tx.bdimg.com","hiup":"http://hi.baidu.com","photo":"http://hiphotos.baidu.com","message":"http://msg.baidu.com","friend":"http://frd.baidu.com","mp3":"http://mp3.baidu.com","ting":"http://ting.baidu.com","image":"http://img.baidu.com","qup":"http://upload.hi.baidu.com","www":"http://www.baidu.com"};window.qUserInfo={"userName":"zjltdz","nickname":"zjltdz","portrait":"a35069746779623030317300","qingUrl":"\/itgyb001","spaceName":"IT终点站","right":"0","avatarStatus":"1","flagNeedInvite":"0","flagNotInvited":"0","version":"2"};window.qVisitorInfo={"userName":"zhu__feng001","nickname":"zhu__feng001","portrait":"a0a27a68755f5f66656e673030314312","isHost": false,"isRandUrl": false,"isForceMoved": false,"loginStatus":"activated","isOldUser":0,"qingUrl":"\/zhu__feng001","right":"0","version":"2"};window.qPageInfo={"pageUrl":"http:\/\/hi.baidu.com\/ysljejvwbhbijnd\/item\/61eb15f2b762eab430c199eb","referUrl":"http:\/\/www.baidu.com\/s?wd=openfiler+iscsi&rsv_spt=1&issp=1&rsv_bp=0&ie=utf-8&tn=baiduhome_pg&rsv_sug3=8&rsv_sug1=7&rsv_sug4=5372&oq=openfiler+isc&rsp=0&f=3&rsv_sug5=0"};window.qUserAvatar={size20:"http://hiphotos.baidu.com/space/scrop=20;q=100/sign=29f898259e510fb37c4730c8a90efaa5/32fa828ba61ea8d3322aa298970a304e251f5826.jpg",size40:"http://hiphotos.baidu.com/space/scrop=40;q=100/sign=5164ec1f0f2442a7aa50bafaa17e997b/32fa828ba61ea8d3322aa298970a304e251f5826.jpg",size65:"http://hiphotos.baidu.com/space/scrop=65;q=100/sign=c011a10bd933c895a220df24a12e45c5/32fa828ba61ea8d3322aa298970a304e251f5826.jpg",size110:"http://hiphotos.baidu.com/space/scrop=110;q=100/sign=5f677b8e720e0cf3a4a909a47a7bc32e/32fa828ba61ea8d3322aa298970a304e251f5826.jpg",size160:"http://hiphotos.baidu.com/space/scrop=160;q=100/sign=5f677b8e720e0cf3a4a909a47a7bc329/32fa828ba61ea8d3322aa298970a304e251f5826.jpg"};window.qVisitorAvatar={size20:"http://hiphotos.baidu.com/space/scrop=20;q=100/sign=2d5c86b397dda144de572bedc28ae292/54fbb2fb43166d226ec13734462309f79152d2df.jpg",size40:"http://hiphotos.baidu.com/space/scrop=40;q=100/sign=b656b6d4ad345982c1d4a2cd7cc9059d/54fbb2fb43166d226ec13734462309f79152d2df.jpg",size65:"http://hiphotos.baidu.com/space/scrop=65;q=100/sign=8cbf4e12b2b7d0a27f9743c2bbd2403c/54fbb2fb43166d226ec13734462309f79152d2df.jpg",size110:"http://hiphotos.baidu.com/space/scrop=110;q=100/sign=f08bad31cd11728b3473cb7db8c1f2ff/54fbb2fb43166d226ec13734462309f79152d2df.jpg",size160:"http://hiphotos.baidu.com/space/scrop=160;q=100/sign=f08bad31cd11728b3473cb7db8c1f2f8/54fbb2fb43166d226ec13734462309f79152d2df.jpg"};window.qBdsToken="60ac965b2cea775b448a2b0bffbc4424";window.qErrorInfo={"no":"0","msg":""};window.qServerInfo={"timeStamp":"1388395884"};window.qLongPolling={"url":"http:\/\/m.hi.baidu.com\/i\/msg\/listen"}</script><!--[if (lt IE 8.0)]><link href="http://hi.bdimg.com/static/qbase/css/qbase.css?v=d097b2a7.css" type=text/css rel=stylesheet><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link href="http://hi.bdimg.com/static/qbase/css/qbase_datauri.css?v=c2391e47.css" type=text/css rel=stylesheet><!--<![endif]-->     <!--[if (lt IE 8.0)]><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/qcomment/css/qcomment.css?v=5ba753ab.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/qcomment/css/qcomment_datauri.css?v=a90beb01.css"><!--<![endif]--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/qhome/css/common/mod_userInfo.css?v=86bf4259.css">   <!--[if (lt IE 8.0)]><link type=text/css rel=stylesheet href="http://hi.bdimg.com/static/qhome/css/detail/20001/detail.css?v=635ae796.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link type=text/css rel=stylesheet href="http://hi.bdimg.com/static/qhome/css/detail/20001/detail_datauri.css?v=0f094a12.css"><!--<![endif]-->    <link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/qpublish/css/editor/shCoreDefault.css?v=79e715f0.css">     <script src="http://hi.bdimg.com/static/qbase/js/qing/qing.js?v=4d5f41d2.js"></script>  <script>
    /*最终页页面变量*/ 
    window.detailPage = {
        threadId : "61eb15f2b762eab430c199eb",
        blogTitle: "虚拟化基础架构之使用openfiler搭建iSCSI网络共享存储（IPSAN）" || "无标题",
        contentType : "text",
        originAuthorName : "",
        originPortrait : "",
        originThreadId : ""
    }; 
    </script><script>wpo.head=new Date*1;</script> </head> <body>  <header class=mod-topbar id=modTopbar><iframe class=mod-topbar-bgframe></iframe><div class=mod-topbar-pseudo-real><div class="wrapper-box clearfix"><div class=left-box><a href="http://hi.baidu.com" class=logo-box><span id=baiduSpaceLogo class=q-logo></span></a></div> <div class=center-box><ul class=q-menubox> <li class="q-menuitem "><a href="http://hi.baidu.com/home">首页</a><li class="q-menuitem "><a href="http://hi.baidu.com/zhu__feng001">我的主页</a><li class="q-menuitem q-newicon"><a target=_blank href="http://hi.baidu.com/zhu__feng001/albums">相册</a><li class="q-menuitem " id=qMenuRecommend><a href="http://hi.baidu.com/index/">广场</a><li class="q-menuitem q-newicon q-menu-item-game"><a href=http://youxi.baidu.com/yxpm/pm.jsp?pid=10106000091_970983 target=_blank>游戏</a><div class=q-game-frame><iframe src=about:blank frameborder=no border=0 scrolling=0></iframe></div></ul></div>  <div class=right-box><ul class=q-navbox>  <li class=q-navitem> <a href="http://hi.baidu.com/zhu__feng001/qfriend/show/follow#search">昵称搜索</a>  <li class="q-navitem q-nav-sp"><span></span> <li class=q-navitem> <div class=q-msg-unread-tips> <div class=left><a href="http://hi.baidu.com/qmsg" id=qNavRightMsg>消息<span id =qMsgUnReadTips>&nbsp</span></a></div> </div>  <li class="q-navitem q-nav-sp"><span></span> <li class=q-navitem> <a href="http://msg.baidu.com" id=qNavRightLetter target=_blank>私信<span id=qUnreadNumLetter></span></a>  <li class="q-navitem q-nav-sp"><span></span> <li class=q-navitem id=qThemeNav> <a href="http://hi.baidu.com/set/show/theme" id=qNavRightTheme>模板</a>  <li class="q-navitem q-nav-sp"><span></span> <li class=q-navitem> <a href="http://hi.baidu.com/set/show/profile" id=qNavRightSet>设置</a>  <li class="q-navitem q-nav-sp"><span></span> <li class=q-navitem><a href="https://passport.baidu.com?logout&bdstoken=60ac965b2cea775b448a2b0bffbc4424&u=http://hi.baidu.com/ysljejvwbhbijnd/item/61eb15f2b762eab430c199eb" id=qNavRightExit>退出</a> </ul><div class="right mod-qhome-follow-box"><a href="#" class="follow-btn a-btn-follow qing-stat-nsclick" data-nsclick=20121012follow_hdbtnaddcare>关注此空间</a></div> </div> </div></div></header>  <section class=mod-page-body> <div class="mod-page-main wordwrap clearfix">  <div class=x-page-container>    <section class="mod-topspaceinfo mod-cs-header"><div class=head-topbar></div><div class=container><h1><a class="space-name cs-header-spacename" href="/itgyb001">IT终点站</a></h1><p class="space-description cs-header-spacesummary">IT知道学习</p></div><div class=head-footer></div></section>   <div class=mod-blogpage-wraper> <div class="blog-bg-main-repeat hide"></div>  <div class="grid-80 mod-blogpage"> <div class="blog-bg-main hide"></div>    <div class="mod-text-content mod-post-content mod-cs-contentblock"> <div class=cs-contentblock-bg></div>   <div class="content-head clearfix">  <div class=content-other-info>  <span>2009-04-02 18:25</span>  </div>   <h2 class="title content-title">虚拟化基础架构之使用openfiler搭建iSCSI网络共享存储（IPSAN）</h2>  </div>  <div id=content class="content mod-cs-content text-content clearfix"> 随着虚拟化架构的不断完善与扩充，后台集中的网络存储已开始成为虚拟化整体解决方案中的一部分（尤其是对VDI、高可用性群集等架构），实现网络存储的方法有以下几种： <br />  &nbsp;&nbsp;   直接向EMC、NetApp等厂商购买存储设备：性能较好，价格高昂 <br />  &nbsp;&nbsp;   在Windows平台安装模拟器：配制简单，但性能一般，且由于商业软件的试用期限制较难以长期使用&nbsp;&nbsp;<br />  &nbsp;&nbsp;   使用FreeNAS、Openfiler等Linux核心的iSCSI Target端程序：基于Linux内核的裸金属服务器端，性能较为理想，免费可自由下载，比较适合于系统测试或评估使用。 <br />&nbsp;&nbsp;<br />&nbsp;&nbsp; 这里将介绍使用Openfiler2.3来搭建基于iSCSI的网络共享存储 <br />&nbsp;&nbsp; 首先来看下基本架构与一些基本概念，了解基本概念的请跳过。。。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="1.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300444ffc2ee33a8e96f63.jpg" width="300" /><a title="1.jpg" href="http://bbs.winos.cn/attachment.php?aid=34156&amp;k=f695cccdf437357f684eb18f913c5390&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (25.61 KB)<br />2009-1-30 04:44<br />&nbsp;&nbsp; 在整个架构中，所有的设备都通过以太网相连，两台需要连接存储的服务器分别为两个节点，称之为Initiator端（也可只有一个节点或多个节点），存储设备可以是专门的硬件存储设备，也可以由普通服务器充当，只需安装上述所说的模拟软件或者Openfiler等精简版Linux来充当，称之为Target端。 <br />&nbsp;&nbsp; 所以整个iSCSI架构其实也是类似于C/S架构，Target段为存储服务器，Initiator端为客户端，通过iSCSI协议将存储设备上的逻辑卷作为自己的存储设备使用。 <br /><br />    下面切入正题，整个配置过程分为三大步骤： <br />&nbsp;&nbsp; 在存储服务器上安装Openfiler <br />   通过Web方式远程配置Openfiler存储设备 <br />&nbsp;&nbsp; 配置客户端服务器连接Openfiler存储设备<br /><br />一、在存储服务器上安装Openfile（基本的只有下一步可按的页面就跳过了~） <br />首先在<a href="http://www.openfiler.com/community/download/" target="_blank">http://www.<strong>open</strong>filer.com/community/download/</a>中下载合适的版本，从光驱引导后是典型的Linux安装界面 <br />直接回车进入图形化安装界面 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="2.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300444f3f4f6ef1e349912.jpg" width="562" /><a title="2.jpg" href="http://bbs.winos.cn/attachment.php?aid=34157&amp;k=1f7105e0d20373a0fa5dc434a884d256&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (26.19 KB)<br />2009-1-30 04:44&nbsp;&nbsp;<br />在磁盘设置这里如果不熟悉Linux磁盘分区的话可以直接选择自动分区，但是为了增强对磁盘分区的可控性，这里选择手动分区。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="3.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004446de8c66a7fb43ce7.jpg" width="562" /><a title="3.jpg" href="http://bbs.winos.cn/attachment.php?aid=34158&amp;k=a93f4421f27a507e3de738fd7e95e0a6&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (41.64 KB)<br />2009-1-30 04:44<br />系统询问是否初始化磁盘并删除所有数据，选择YES，连续选择两次No的话则Restart。。。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="4.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004459a4ffe926cf52fc9.jpg" width="562" /><a title="4.jpg" href="http://bbs.winos.cn/attachment.php?aid=34159&amp;k=26eaacb1be065268e25da1349d8e957d&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (41.99 KB)<br />2009-1-30 04:45<br />进入磁盘分区页面，在这个系统中我有两个磁盘，我的规划是较小的磁盘安装Openfiler，并且划分一个区作为群集的仲裁磁盘，较大的磁盘作为共享数据磁盘（当然这是后话了，并且Linux系统的安装并不局限于一块物理磁盘，这里只是根据惯有的思路做一个预先规划） <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="5.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300445920920bf650025f3.jpg" width="562" /><a title="5.jpg" href="http://bbs.winos.cn/attachment.php?aid=34160&amp;k=ac794bde2f9cf1b9f6d08cf361c1c2b0&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (49.35 KB)<br />2009-1-30 04:45<br />安装Openfiler本身的推荐分区方法则根常规的Linux分区方法是一样的，需要一个引导分区，一个根分区，一个交换分区 <br />点击较小的磁盘的Free空间，选择新建，在挂载点中择/boot，文件类型为ext3，只选择较小的磁盘（还是那句话，根据惯有思维，实在不习惯将一个分区横跨两个无力磁盘），大小设为100M即可，确定下方为固定大小，勾选强制为主分区选项。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="6.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300445a03beb97f43f9c58.jpg" width="562" /><a title="6.jpg" href="http://bbs.winos.cn/attachment.php?aid=34161&amp;k=59113774b23cff7bb0a13586023a1b5d&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (47.72 KB)<br />2009-1-30 04:45<br />用同样的方法建立根分区，挂载点位/，文件格式为ext3,挂载在较小的物理磁盘，大小为1GB-2GB即可，因为是精简版的Linux，且以后也不大会安装其它软件，所以1GB足矣（又是那句话，按照惯性思维，我设了2G，被微软惯性坏了。。。），下面则同样是固定大小，强制为主分区。 <br />最后建立一个交换分区，不需要选择挂载点，文件类型为swap，第一块无力磁盘，大小为内存的两倍即可，其余设置一样，这里发现少截张图。。。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="7.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300445f8949221ec823935.jpg" width="562" /><a title="7.jpg" href="http://bbs.winos.cn/attachment.php?aid=34162&amp;k=9c6bf68321cf57d50c40d79de778fa49&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (52.15 KB)<br />2009-1-30 04:45<br />分区完成后最终的效果应该是这样的，其余的分区保持为Free状态，不然在Openfiler中可能无法分配。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="8.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300445dcb8fa75062968f7.jpg" width="562" /><a title="8.jpg" href="http://bbs.winos.cn/attachment.php?aid=34163&amp;k=45d981ea9fe30bab176a30b3a4eea50a&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (52.25 KB)<br />2009-1-30 04:45<br />配置网络属性，建议设为固定IP，因为Openfiler安装完成之后没有图形界面，所有的配置都通过web方式完成，没有固定的IP会给以后的配置造成不必要的麻烦。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="9.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004458e78475f5fbc5d06.jpg" width="562" /><a title="9.jpg" href="http://bbs.winos.cn/attachment.php?aid=34164&amp;k=9169ce7dcae821f054de26d6083ea6e1&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (48.07 KB)<br />2009-1-30 04:45<br />接下来是选择时区，设置Root帐户密码，然后光盘中的文件拷贝至硬盘中开始正式安装，都比较简单，安装完成后取出光盘，按下Restart，整个安装过程就算完成了，其实跟安装普通的Linux没有任何区别。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="10.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004451afd6fd16aa75f32.jpg" width="562" /><a title="10.jpg" href="http://bbs.winos.cn/attachment.php?aid=34165&amp;k=c1d7734556cbb1a7eaf17cb336213216&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (31.91 KB)<br />2009-1-30 04:45<br /><br />二、通过Web方式远程配置Openfiler存储设备 <br />启动Openfiler之后会显示他的Web管理的URL： <br />https://IP:446 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="11.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004450db5468644a1562a.jpg" width="562" /><a title="11.jpg" href="http://bbs.winos.cn/attachment.php?aid=34166&amp;k=daa1d6bfc3bad965d0bee71c1a4f4c4e&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (41.94 KB)<br />2009-1-30 04:45<br />通过远程客户端浏览器登录，用户名为<strong>open</strong>filer,密码为password <br />进入管理界面之后首先看到是一些常规设备信息，关系不大，在上方导航栏中选择system，拉到页面下方，在Network Access Configuration中添加Initiator客户端所在的网段地址，用以在之后选择是否授权这个网段的计算机能够连接本台存储，可以通过子网掩码进一步控制数量，类型保留为share，点击Update。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="12.jpg" src="http://bbs.winos.cn/attachments/month_0901/090130044541515af63e1dc2cd.jpg" width="562" /><a title="12.jpg" href="http://bbs.winos.cn/attachment.php?aid=34167&amp;k=d78001ffa52ae1a2022cf0862ab1d864&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (41.46 KB)<br />2009-1-30 04:45<br />在导航栏中选择Volumes，点击右侧的Block Devices，可以查看到当前存储服务器所拥有的物理磁盘，选择某一个物理磁盘的view，可以查看这块物理磁盘上已有的分区。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="13.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004459904f21fc8da178b.jpg" width="562" /><a title="13.jpg" href="http://bbs.winos.cn/attachment.php?aid=34168&amp;k=439eb9aaed0b17f76ec8601ce86b40ba&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (48.48 KB)<br />2009-1-30 04:45<br />下面就开始正式划分我们所需要的共享仲裁磁盘和数据磁盘。 <br />单击第一块物理磁盘:&nbsp;&nbsp; /dev/sda <br />拉到页面下方（如果要说Openfiler有什么很让人火大的地方就是这里了，很多页面都设计的很长，要拉到很下面才能进行设置），在这里划分一个物理分区出来，注意将PartitionType设置为物理卷，类型为主要，通过设置开始柱面和结束柱面，系统会计算出划分的区为多大，调整到满意的值后点击Creat <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="14.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004455f4adbe48ac8b927.jpg" width="562" /><a title="14.jpg" href="http://bbs.winos.cn/attachment.php?aid=34169&amp;k=6feefc9edbf60f930da4110edd556594&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (40.67 KB)<br />2009-1-30 04:45<br />接下来点击右侧的Volume Group，拉到页面下方，创建一个新的卷组，设置卷组名为Quorum，包含刚才创建的物理分区，点击Add Volume Group。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="15.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300445a17642251fcde9b9.jpg" width="562" /><a title="15.jpg" href="http://bbs.winos.cn/attachment.php?aid=34170&amp;k=0662c8ba4dbadeb2cf6ccc717d2fa5e0&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (41.31 KB)<br />2009-1-30 04:45<br />点击右侧的Add Volume，选择刚才创建的卷组，在这个卷组所包含的空间上创建一个真正的会挂接到Initiator客户端服务器上的逻辑卷（Lun），什么？你在这个页面中没看到创建？看到右侧的滚动条了么？对了。。。往下拉。。。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="16.jpg" src="http://bbs.winos.cn/attachments/month_0901/090130044540dab297837f48ed.jpg" width="562" /><a title="16.jpg" href="http://bbs.winos.cn/attachment.php?aid=34171&amp;k=9e6b041d6095aef1ebc3ce562b58ab40&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (43.09 KB)<br />2009-1-30 04:45<br />在创建逻辑Lun的时候可以选择所需要的大小，而不是选择整个卷组，Openfiler对磁盘的灵活性体现出来了，一个卷组可以划分多个逻辑Lun，卷组本身又可以来自多个物理磁盘，好了，被我说乱了？等下我来整理思路。这里定义完了卷名后在文件类型列表中选择iSCSI，点击Creat。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="17.jpg" src="http://bbs.winos.cn/attachments/month_0901/090130044542fb01fedf2915e5.jpg" width="562" /><a title="17.jpg" href="http://bbs.winos.cn/attachment.php?aid=34172&amp;k=d0cf23bd44f5c6c65b80f98f7793f2ae&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (35.61 KB)<br />2009-1-30 04:45<br />用同样的方法在第二块磁盘上创建一个物理分区，包含在data这个卷组中。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="18.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004453bf6f2d389ccf178.jpg" width="562" /><a title="18.jpg" href="http://bbs.winos.cn/attachment.php?aid=34173&amp;k=87040530d8cff3e57b977c63986f23b7&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (39.27 KB)<br />2009-1-30 04:45<br />点击右侧的Add Volume，注意选择需要在哪个卷组上创建逻辑卷，选择data卷组后需要点击change，才能在data这个卷组中操作，和上面一样，拉到页面下方，创建一个用于data的逻辑卷。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="19.jpg" src="http://bbs.winos.cn/attachments/month_0901/09013004466ec46013a42cba93.jpg" width="562" /><a title="19.jpg" href="http://bbs.winos.cn/attachment.php?aid=34174&amp;k=4454c5007832533296ac06d78113aeb7&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (43.84 KB)<br />2009-1-30 04:46<br />在导航栏中选择Service，将下方服务中的iSCSI Target Server修改为Enable状态。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="20.jpg" src="http://bbs.winos.cn/attachments/month_0901/090130044631ab5daea93be95b.jpg" width="562" /><a title="20.jpg" href="http://bbs.winos.cn/attachment.php?aid=34175&amp;k=bce2f3adb4902b850433e923a3cab190&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (44.38 KB)<br />2009-1-30 04:46&nbsp;&nbsp;<br />回到Volumes标签，点击右侧的iSCSI Targets，点击Add添加iSCSI Target。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="21.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300446b7fae42bd71cfd67.jpg" width="562" /><a title="21.jpg" href="http://bbs.winos.cn/attachment.php?aid=34176&amp;k=9fbaed9ee6ed18e2fd36f6153260e459&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (43.94 KB)<br />2009-1-30 04:46&nbsp;&nbsp;<br />单击导航栏下方的Lun Mapping，可以看到之前划出来可用于挂载的逻辑Lun，将两个逻辑卷全部Map至该Target。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="22.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300446cbc2c4eba1624c1a.jpg" width="562" /><a title="22.jpg" href="http://bbs.winos.cn/attachment.php?aid=34177&amp;k=9468f16e3f47cd3ffb93a014fd431325&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (49.96 KB)<br />2009-1-30 04:46&nbsp;&nbsp;<br />最后单击Network ACL，可以看到先前设置的Initiator端所在的网段，在Access下选择Allow，单击Update，大功告成。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="23.jpg" src="http://bbs.winos.cn/attachments/month_0901/090130044691301c15116e66f6.jpg" width="562" /><a title="23.jpg" href="http://bbs.winos.cn/attachment.php?aid=34178&amp;k=48a8cb69ae18dbc661e01db7cec5d8d4&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (43.18 KB)<br />2009-1-30 04:46&nbsp;&nbsp;<br /><br />三、配置客户端服务器连接Openfiler存储设备 <br /><br />这个步骤比较简单，跟所有的连接iSCSI设备客户端所需的操作一样（硬件HBA卡除外），安装微软的iSCSI Initiator 2.0（如果是Server08的话不需要安装，系统自带） <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="24.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300446df3390ef6a4c2053.jpg" width="562" /><a title="24.jpg" href="http://bbs.winos.cn/attachment.php?aid=34179&amp;k=5eeef3ab333f70d35f48bd9ce4a3af46&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (33.47 KB)<br />2009-1-30 04:46<br />在Discovery标签中，单击Add，填入Openfiler服务器的地址，端口默认，确认。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="25.jpg" src="http://bbs.winos.cn/attachments/month_0901/090130044681e04ba5f619abca.jpg" width="562" /><a title="25.jpg" href="http://bbs.winos.cn/attachment.php?aid=34180&amp;k=abe7fc877888f8038b2c3b6c311762a9&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (39.68 KB)<br />2009-1-30 04:46<br />在Targets标签，单击Log On，勾选系统启动时自动恢复连接，确定，Target中的信息会由Inactive变为Connected。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="26.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300446789557f95298193a.jpg" width="562" /><a title="26.jpg" href="http://bbs.winos.cn/attachment.php?aid=34181&amp;k=16cf0062a38bce2b313c68693716669b&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (38.75 KB)<br />2009-1-30 04:46<br />打开磁盘管理，系统发现新的可初始化的磁盘，网络存储配置完成，只需在第二台节点进行同样的操作即可（第一台节点最好关闭，但实际坐下来问题不大，反正最后是由群集控制）。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="27.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300456d2a28f3b532aea7c.jpg" width="562" /><a title="27.jpg" href="http://bbs.winos.cn/attachment.php?aid=34182&amp;k=7c7e8753096db99c6fe738803e44be9a&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (43.76 KB)<br />2009-1-30 04:56<br />在设备管理器中的磁盘驱动器下可以看到，有两个OpnFiler..SCSI的设备驱动器。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="28.jpg" src="http://bbs.winos.cn/attachments/month_0901/0901300456b9f41417acb8de3a.jpg" width="562" /><a title="28.jpg" href="http://bbs.winos.cn/attachment.php?aid=34183&amp;k=1728eb6fa31175b7cd83f628e7f43e99&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (45.74 KB)<br />2009-1-30 04:56<br />回到web控制台，进入Status标签，单击右侧的iSCSI Target，可以看到连上来的Initiator，选择View可以看到IP信息。 <br /><img src="http://bbs.winos.cn/images/winos/attachimg.gif" /> <img alt="29.jpg" src="http://bbs.winos.cn/attachments/month_0901/090130045632bf8cdbeee60027.jpg" width="562" /><a title="29.jpg" href="http://bbs.winos.cn/attachment.php?aid=34184&amp;k=67bea0fabfd0e79f45ce538e313ecca2&amp;t=1238667764&amp;nothumb=yes&amp;sid=750deuCQht82L6eJy3%2Fqld8VB54a5qeLqExjJbos1T3mZ6o" target="_blank"><strong>下载</strong></a> (46.77 KB)<br />2009-1-30 04:56<br /><br /><br /><br />    整个配置到这里算是全部完成了，最后简单整理下Openfiler创建逻辑卷的整个过程： <br />1.首先在物理磁盘上创建物理分区，不能跨越物理磁盘 <br />2.创建卷组，在卷组中可以包含任意的未被分配的物理分区，可以跨越物理磁盘，可以理解为将多个物理上的空间整合为一个可用的空间 <br />3.在卷组中创建用于被连接的逻辑Lun，一个卷组可以创建一个逻辑Lun，也可以创建多个逻辑Lun，一个逻辑Lun被连接到客户端服务器后在磁盘管理器中最终看到的即是一个物理磁盘。<br />   <br />    在这里容易搞混得是卷组的名字是Volume Group，逻辑Lun的名字是Volume，在创建过程中是先创建VolumeGroup，最后才在相应的VolumeGroup中Add Volume的。 </div>    <div class="mod-tagbox clearfix">   <a class="tag" href="/tag/%E8%99%9A%E6%8B%9F%E5%8C%96/feeds">#虚拟化</a>  </div> <div class="mod-post-info clearfix">  <div class=x-bdshare>  <div id=bdshare class="bdshare_t bds_tools get-codes-bdshare" data="{'wbuid':1727466295}"> <span class=bds_more>分享到：</span> <a class=bds_qzone></a> <a class=bds_tsina></a> <a class=bds_tqq></a> <a class=bds_renren></a> </div> <script id=bdshare_js data="type=tools&amp;uid=713670"></script> <script id=bdshell_js></script> <script>
        var bds_config = {'bdTop':240};
                    var all_img = qing.g('content').getElementsByTagName('img');
            if(all_img.length>0){
                bds_config.bdPic = all_img[0].src;
            }
                document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?v=72836429.js?cdnversion=" + Math.ceil(new Date()/3600000);
    </script> </div> <div class="op-box mod-cs-opBox">  <a class="report-btn hide" target=_blank href="#"> 举报 </a>  <span class=pv>浏览(5342)</span> <a class=comment-bnt id=commentBnt href="#" onclick="return false"> 评论<span class=comment-nub></span> </a>   <a href="#" id=shareBnt onclick="return false" class=share-bnt> 转载<span id=shareNub class=share-nub></span> </a>   </div> </div>   </div>    <div class=mod-share-detail id=shareDetail style=display:none></div>   <div class=mod-relate-blogs id=relateBlog> <h3 class=relate-title>你可能也喜欢</h3> <ul class="relate-blog-list clearfix">   <li  class=first > <a href="http://hi.baidu.com/19691123/item/64115a01c554d121a1312d37" target=_blank class=qing-stat-nsclick data-nsclick=m_20121105_detail_relates_img> <img src="http://d.hiphotos.baidu.com/space/scrop=90/sign=cde5e4623d6d55fbc19831791d1f767a/d009b3de9c82d15827cdd10d800a19d8bc3e423b.jpg" class=relate-img alt="老有所依——随想" title="老有所依——随想"> </a> <a href="http://hi.baidu.com/19691123/item/64115a01c554d121a1312d37" target=_blank class="relate-txt qing-stat-nsclick" data-nsclick=m_20121105_detail_relates_txt>老有所依——随想</a>    <li > <a href="http://hi.baidu.com/canyizhiyu/item/1cef8407f0b3123b4bc4a323" target=_blank class=qing-stat-nsclick data-nsclick=m_20121105_detail_relates_img> <img src="http://f.hiphotos.baidu.com/space/scrop=90/sign=1fa39642e850352ab53f6257237ec2c2/d53f8794a4c27d1ef74ba2311ad5ad6edcc438d1.jpg" class=relate-img alt="爸爸" title="爸爸"> </a> <a href="http://hi.baidu.com/canyizhiyu/item/1cef8407f0b3123b4bc4a323" target=_blank class="relate-txt qing-stat-nsclick" data-nsclick=m_20121105_detail_relates_txt>爸爸</a>    <li > <a href="http://hi.baidu.com/yjmyxj/item/dfd30cbbf7221971254b09d0" target=_blank class=qing-stat-nsclick data-nsclick=m_20121105_detail_relates_img> <img src="http://h.hiphotos.baidu.com/space/scrop=90/sign=c6f5e7635266d0167a47d977e716ed37/500fd9f9d72a6059da0385b42834349b033bba09.jpg" class=relate-img alt="遗憾的幸福" title="遗憾的幸福"> </a> <a href="http://hi.baidu.com/yjmyxj/item/dfd30cbbf7221971254b09d0" target=_blank class="relate-txt qing-stat-nsclick" data-nsclick=m_20121105_detail_relates_txt>遗憾的幸福</a>    <li > <a href="http://hi.baidu.com/glsxb/item/891491cc41afc11b0931c626" target=_blank class=qing-stat-nsclick data-nsclick=m_20121105_detail_relates_img> <img src="http://f.hiphotos.baidu.com/space/scrop=90/sign=24a235c739c79f3d8bbfa36fca9cf421/503d269759ee3d6db864f7f341166d224f4ade6c.jpg" class=relate-img alt="《空间管理社》年终特别策划：再见2013！你好2014！" title="《空间管理社》年终特别策划：再见2013！你好2014！"> </a> <a href="http://hi.baidu.com/glsxb/item/891491cc41afc11b0931c626" target=_blank class="relate-txt qing-stat-nsclick" data-nsclick=m_20121105_detail_relates_txt>《空间管理社》年终特别策划：再见2013！你好2014！</a>    <li > <a href="http://hi.baidu.com/zlrei/item/7ab4faf35cc7ec15fe35829b" target=_blank class=qing-stat-nsclick data-nsclick=m_20121105_detail_relates_img> <img src="http://e.hiphotos.baidu.com/space/scrop=90/sign=cf10035fd058ccbf1fe2f26569e5850e/29381f30e924b899d5cfd3d56f061d950b7bf668.jpg" class=relate-img alt="为宝宝守候一份思念——似又回到原初" title="为宝宝守候一份思念——似又回到原初"> </a> <a href="http://hi.baidu.com/zlrei/item/7ab4faf35cc7ec15fe35829b" target=_blank class="relate-txt qing-stat-nsclick" data-nsclick=m_20121105_detail_relates_txt>为宝宝守候一份思念——似又回到原初</a>    <li > <a href="http://hi.baidu.com/heavenlau/item/09a115e72b544bf9bbf37d17" target=_blank class=qing-stat-nsclick data-nsclick=m_20121105_detail_relates_img> <img src="http://f.hiphotos.baidu.com/space/scrop=90/sign=3796399cf0d3572c62bcdb83fa2e5a17/2cf5e0fe9925bc3161276fed5cdf8db1cb137048.jpg" class=relate-img alt="很想闭嘴" title="很想闭嘴"> </a> <a href="http://hi.baidu.com/heavenlau/item/09a115e72b544bf9bbf37d17" target=_blank class="relate-txt qing-stat-nsclick" data-nsclick=m_20121105_detail_relates_txt>很想闭嘴</a>    <li > <a href="http://hi.baidu.com/itgyb001/item/6626a59467826df0281647ea" target=_blank class=qing-stat-nsclick data-nsclick=m_20121105_detail_relates_img> <img src="http://h.hiphotos.baidu.com/space/scrop=90/sign=c6c273fe9822720e7f90a5a50bf63376/32fa828ba61ea8d3322aa298970a304e251f5826.jpg" class=relate-img alt="部署windows server 2008 RMS服务器" title="部署windows server 2008 RMS服务器"> </a> <a href="http://hi.baidu.com/itgyb001/item/6626a59467826df0281647ea" target=_blank class="relate-txt qing-stat-nsclick" data-nsclick=m_20121105_detail_relates_txt>部署windows server 2008 RMS服务器</a>   </ul> </div>   <div class="mod-detail-pager clearfix">  <div class=detail-nav-pre> <a href="http://hi.baidu.com/itgyb001/item/dd6ff9712bfdad2ad6a89ceb" hidefocus title="上一篇"></a> </div>   <div class=detail-nav-next> <a href="http://hi.baidu.com/itgyb001/item/42af55679dd736147cdecce7" hidefocus title="下一篇"></a> </div>  </div>   <div id=commentDetail class="mod-comment-detail clearfix mod-cs-comment">   <div class=mod-recent-readers> <h3 class=recent-readers-title>本文最近访客</h3> <ul class="readers-list clearfix">    <li  class=first > <a target=_blank href="http://hi.baidu.com/panghao0604"> <img src="http://hiphotos.baidu.com/space/scrop%3D65%3Bq%3D100/sign%3D409ed1047af0f736dca00b5e7a68852c/7e3e6709c93d70cfd03d4d76fadcd100bba12b82.jpg" title="panghao0604" alt="panghao0604" class=portrait> </a> <a target=_blank href="http://hi.baidu.com/panghao0604" class=user-name title="panghao0604"> panghao0604 </a> <div class=visit-time data-visit-time="1383008099"></div>      <li > <a target=_blank href="http://hi.baidu.com/rakeliujie"> <img src="http://hiphotos.baidu.com/space/scrop%3D65%3Bq%3D100/sign%3D6e7f3dcc352ac65c635b212c8bcf8424/63d9f2d3572c11dffd145e8f632762d0f603c251.jpg" title="rakeliujie" alt="rakeliujie" class=portrait> </a> <a target=_blank href="http://hi.baidu.com/rakeliujie" class=user-name title="rakeliujie"> rakeliujie </a> <div class=visit-time data-visit-time="1375326131"></div>      <li > <a target=_blank href="http://hi.baidu.com/gnkykvjhmbdvxze"> <img src="http://hiphotos.baidu.com/space/scrop%3D65%3Bq%3D100/sign%3D284aaa9aacaf2eddd0af0eb6fd2d37dc/08f790529822720e52b036667bcb0a46f21fab34.jpg" title="狂歌痛饮1" alt="狂歌痛饮1" class=portrait> </a> <a target=_blank href="http://hi.baidu.com/gnkykvjhmbdvxze" class=user-name title="狂歌痛饮1"> 狂歌痛饮1 </a> <div class=visit-time data-visit-time="1372131194"></div>      <li > <a target=_blank href="http://hi.baidu.com/jwvdhpmronakpqr"> <img src="http://hiphotos.baidu.com/space/scrop%3D65%3Bq%3D100/sign%3D6997856bb6fd5266a3757b4bdb25a11e/0823dd54564e925839550f6e9c82d158cdbf4ec9.jpg" title="heromaxcn" alt="heromaxcn" class=portrait> </a> <a target=_blank href="http://hi.baidu.com/jwvdhpmronakpqr" class=user-name title="heromaxcn"> heromaxcn </a> <div class=visit-time data-visit-time="1357030830"></div>      <li > <a target=_blank href="http://hi.baidu.com/saup007"> <img src="http://hiphotos.baidu.com/space/scrop%3D65%3Bq%3D100/sign%3D94fe2869d7ca7bcb79258070ce345d56/a8773912b31bb0511ee9a282367adab44bede04f.jpg" title="saup007" alt="saup007" class=portrait> </a> <a target=_blank href="http://hi.baidu.com/saup007" class=user-name title="saup007"> saup007 </a> <div class=visit-time data-visit-time="1350983880"></div>    </ul> </div>  <div class=comment-title>评论</div> <div class=comment-content></div> </div>   </div>  </div>  </div> </div> </section>  <footer class="mod-footer mod-cs-footer"><div class="clearfix hidden-box"></div><div class=footer-box><div class=inner-box><a href=http://help.baidu.com/question?prod_en=hi target=_blank>帮助中心</a><span>&nbsp;|&nbsp;</span><a href=http://tieba.baidu.com/p/1781683739 target=_blank>空间客服</a><span>&nbsp;|&nbsp;</span><a href=http://tousu.baidu.com/hi/add target=_blank>投诉中心</a><span>&nbsp;|&nbsp;</span><a href=http://www.baidu.com/search/hi_contract.html target=_blank>空间协议</a></div><div class=copy-box>&copy;2013&nbsp;Baidu</div></div></footer>  <script src="http://hi.bdimg.com/static/qbase/js/mod/mod_foot.js?v=382c615f.js"></script> <script>
        	qing.dom.ready(function(){
                if (qVisitorInfo.loginStatus == 'activated'){
                    qext.stat.ns('m_20121012_loga_num');
					qext.fn.setStoken();
				}
			});
        </script>        <script>qext.stat.ns('m_20120425_');</script>  <script src="http://hi.bdimg.com/static/qcomment/js/qcmt_import.js?v=ac96f988.js"></script>  <script src="http://hi.bdimg.com/static/qpublish/js/editor/shCore.js?v=805e084f.js"></script> <script>
        SyntaxHighlighter.highlight();
    </script>   <script src="http://hi.bdimg.com/static/qhome/js/detail/20001/detail.js?v=3d7781df.js"></script>   <!--[if (lt IE 8.0)]><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/qmessage/css/qmessage_mod_msg_bubble.css?v=a727011c.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/qmessage/css/qmessage_mod_msg_bubble_datauri.css?v=6ddd3ba9.css"><!--<![endif]--><script src="http://hi.bdimg.com/static/qmessage/js/boot_qmessage_mod_bubble.js?v=56fecbc3.js"></script><link href="http://hi.bdimg.com/static/qbase/css/yoyo/yoyo.css?v=4dd11df1.css" type=text/css rel=stylesheet><script src="http://hi.bdimg.com/static/qbase/js/yoyo/yoyo.js?v=4c5bc7ae.js"></script><script>wpo.tti=new Date*1;</script><script src="http://hi.baidu.com/cm/static/js/allsite.js?v=75674092.js?v=201312301731"></script><script src="http://hi.bdimg.com/static/qbase/js/mod/mod_bubble.js?v=a9273ef3.js"></script><script>document.write(unescape("%3Cscript src='http://hm.baidu.com/h.js%3F8c869b543955d43e496c2efee5b55823' type='text/javascript'%3E%3C/script%3E"));qext.stat.ns('m_20120713_qing_pv');</script>