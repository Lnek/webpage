<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head profile="http://gmpg.org/xfn/11">

<meta http-equiv="Content-Type" content="text/html;charset=utf-8;" />
<title> Live Ubuntu Backup V2.2，备份 ubuntu 为可启动的 squashfs 文件 - 沉默偶然 </title>
<link rel="stylesheet" href="/themes/default/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="沉默偶然 RSS Feed" href="http://www.chenmo.org/feed" />
<link href="/static/wlwmanifest.xml" type="application/wlwmanifest+xml" rel="wlwmanifest"/>
<script type="text/javascript" src="/themes/default/rounded_corners_lite.inc.js"></script>
<script type="text/javascript" src="/static/js/jquery-1.3.2.min.js"></script>

<script type="text/JavaScript">
window.onload = function()
{
settings = {
tl: { radius: 5 },
tr: { radius: 5 },
bl: { radius: 5 },
br: { radius: 5 },
antiAlias: true,
autoPad: true,
validTags: ["div"]
}
var myBoxObject = new curvyCorners(settings, "nifty");
myBoxObject.applyCornersToAll();
var myBoxObject = new curvyCorners(settings, "meta");
myBoxObject.applyCornersToAll();
var myBoxObject = new curvyCorners(settings, "sidebar");
myBoxObject.applyCornersToAll();
}
</script>

<meta name="generator" content="Micolog 0.74" />
</head>

<body>
<div id="main">
<div id="wrapper">

<div id="top">
<div id="logo"><h1><a href="http://www.chenmo.org/" title="沉默偶然">沉默偶然</a></h1>
</div>

<div id="menu">
<ul>
		<li class="page_item" >
			<a  href="http://www.chenmo.org"  >Home</a>
		</li>
		<li class="page_item"><a href="/红杏出墙" target="_self">红杏出墙</a></li><li class="page_item"><a href="/chat-room" target="_self">chat room</a></li>
    <li class="page_item" ><a href="http://www.chenmo.org/feed">(RSS)</a></li>
    

    
      <li>
     
       <a href="/admin">Login</a>

     
         </li>


<li id="searchbox">

<form method="get" id="searchform" action="http://www.google.com/search">
		<input type="text" value="Search..." onfocus="if (this.value == 'Search...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search...';}" name="as_q" id="s" />
		<input type="image" src="/themes/default/images/transparent.gif" id="go" alt="Search" title="Search" />
		<input name="as_sitesearch" value="www.chenmo.org" type="hidden">

		</form>

</li>

</ul>
</div>

</div>
<div id="content">
<div id="split">



<div class="ctop"></div>
<div class="box">



<div id="post-ag1tdWRhbmxpYW5tZW5ncg0LEgVFbnRyeRjDuwEM">
<div class="nifty"><h2><a href="/2010/10/19/Live-Ubuntu-Backup-V2.2.html" rel="bookmark" title="Permanent Link to Live Ubuntu Backup V2.2，备份 ubuntu 为可启动的 squashfs 文件">Live Ubuntu Backup V2.2，备份 ubuntu 为可启动的 squashfs 文件</a> <span class="date">2010/10/19 18:36</span></h2></div>
<div class="en_body">

<div id="blogDetailDiv" style="FONT-SIZE: 16px"><p>在UBACKUP脚本的基础上添加了一些功能，并重新命名为 lub ( Live Ubuntu Backup)。目前的版本是 2.2，新增支持 9.10 和 grub2。<br />下载 lub.zip 并解压，</p>下载地址: http://forum.ubuntu.org.cn/viewtopic.php?f=21&amp;t=206287 <p>然后拷贝到 /usr/local/bin 里面就可以了。（要用 sudo cp -R ～/desktop/lub /usr/local/bin）<br />只要拷贝此脚本到任何地方并赋予执行权限即可。<br />我喜欢把它放在 /usr/local/bin 里面, 这样每次运行的时候就不用写绝对路径了。</p><p><br />把需要备份的系统启动起来，然后在终端输入<br />sudo lub -b<br />按照指示进行就可以了。（注意要先安装 lupin-casper 等，脚本会提示你）<br />在备份目录会产生用于直接启动备份映像的内核和菜单文件等，看备份目录里的示例菜单就明白了。<br />恢复过程必须要先从备份文件引导到 live 环境里，然后在终端执行<br />sudo lub -r<br />按照指示进行就可以了。<br /><br />用 lub -h 可以查看帮助文档和版本信息。</p><p>示例代码：</p><p>　　<span style="color:#ff0000;">ubuntu@ubuntu-laptop:~$ lub -h</span></p><p>　　<span style="color:#ff0000;">live ubuntu backup, 作者 billbear<br />　　本程序将帮助你备份运行中的 ubuntu 系统为一个可启动的 squashfs 压缩备份文件。<br />　　要恢复的时候, 从备份文件启动并再次运行本程序。<br />　　可以把备份文件恢复到另一台机器。<br />　　可以把虚拟机里的 ubuntu 迁移到真机。<br />　　可以把 wubi 安装的系统迁移到真分区。<br /><br />　　安装:<br />　　只要拷贝此脚本到任何地方并赋予执行权限即可。<br />　　我喜欢把它放在 /usr/local/bin 里面, 这样每次运行的时候就不用写绝对路径了。<br /><br />　　使用:<br />　　sudo 到此脚本的路径 -b<br />　　是备份，而<br />　　sudo 到此脚本的路径 -r<br />　　是恢复。<br />　　也可以用<br />　　sudo bash 到此脚本的路径 -b<br />　　和<br />　　sudo bash 到此脚本的路径 -r<br /><br />　　注意不能用<br />　　sudo sh 到此脚本的路径 -b<br />　　和<br />　　sudo sh 到此脚本的路径 -r<br /><br />　　备份:<br />　　程序依赖 squashfs-tools 来工作。<br />　　另外必须安装 lupin-casper 才能做出可启动的备份来。<br />　　在终端用如下命令来安装它们:<br />　　sudo apt-get install squashfs-tools lupin-casper<br />　　而后就可以用这样的命令来备份运行中的 ubuntu 系统了:<br />　　sudo 到此脚本的路径 -b<br />　　如果这个脚本在 /usr/local/bin, 只要这样<br />　　sudo lub -b<br />　　然后根据提示进行就可以了。<br />　　你可以指定存放备份的路径, 以及需要排除的文件和目录。<br />　　不必卸载移动硬盘, windows 分区, 或任何你手动挂载了的分区。它们将会自动被忽略。<br />　　因此你可以直接存放备份到移动硬盘, windows 分区等等。<br />　　小心: 你必须确定有足够的空间来存放备份。<br />　　脚本将会生成启动所需的另外几个文件。<br />　　阅读在备份存放目录生成的 menu.lst，里面会详细告诉你如何从备份文件直接启动。<br /><br />　　恢复:<br />　　阅读在备份存放目录生成的 menu.lst，里面会详细告诉你如何从备份文件直接启动。<br />　　启动了 live ubuntu backup 之后, 打开一个终端输入<br />　　sudo 到此脚本的路径 -r<br />　　如果在备份时已经把此脚本放到了 /usr/local/bin, 现在只需敲入<br />　　sudo lub -r<br />　　并根据提示进行恢复就可以了。<br />　　注意:此脚本并不提供分区功能(只能格式化分区但不能创建,删除分区或调整分区大小)。<br />　　只能恢复备份到已有的分区。<br />　　因此建议在备份前安装 gparted，这样恢复时你就有分区工具可用了。<br />　　另外如果分区表有错误, 将不允许恢复备份，直到错误被修复。<br />　　你可以指定若干分区和它们的挂载点。<br />　　如果没有 swap 分区, 可以为你创建一个 swap 文件 (如果你这样要求的话)。<br />　　会自动生成新的 fstab 并安装 grub。<br />　　如果有必要, 还可以改变主机名, 用户名和密码。</span></p><p><br /></p>备份系统必须在系统正在运行的状态下。<br />输入 sudo lub -b 根据提示进行。<br />示例代码：<br /><span style="color:#ff0000;">ubuntu@ubuntu-laptop:~$ sudo lub -b<br />将要备份系统。建议退出其他程序。继续?(y/n)<br />y<br />指定一个空目录 (绝对路径) 来存放备份。可以从 Nautilus 文件管理器拖放目录至此。可以使用移动硬盘。<br />如果不指定, 将会存放到 /home/ubuntu/backup-20090524<br /><br />指定需要排除的文件/目录, 一行写一个。可以从 Nautilus 文件管理器拖放至此。以空行结束。<br /><br />开始备份?(y/n)<br />y<br />Parallel mksquashfs: Using 1 processor<br />Creating little endian 3.1 filesystem on /home/ubuntu/backup-20090524/backup20090524.squashfs, block size 131072.<br />[=========================================================== ] 92925/93032&nbsp; 99%File /tmp/bind/var/log/ConsoleKit/history changed size while reading filesystem, attempting to re-read<br />[=========================================================== ] 92930/93032&nbsp; 99%File /tmp/bind/var/log/auth.log changed size while reading filesystem, attempting to re-read<br />[=========================================================== ] 93001/93032&nbsp; 99%File /tmp/bind/var/log/messages changed size while reading filesystem, attempting to re-read<br />[=========================================================== ] 93006/93032&nbsp; 99%File /tmp/bind/var/log/syslog changed size while reading filesystem, attempting to re-read<br />[=========================================================== ] 93013/93032&nbsp; 99%File /tmp/bind/var/log/user.log changed size while reading filesystem, attempting to re-read<br />[============================================================] 93032/93032 100%<br />Exportable Little endian filesystem, data block size 131072, compressed data, compressed metadata, compressed fragments, duplicates are removed<br />Filesystem size 789719.00 Kbytes (771.21 Mbytes)<br />&nbsp; &nbsp;40.17% of uncompressed filesystem size (1966107.66 Kbytes)<br />Inode table size 1155385 bytes (1128.31 Kbytes)<br />&nbsp; &nbsp;29.20% of uncompressed inode table size (3957443 bytes)<br />Directory table size 1113938 bytes (1087.83 Kbytes)<br />&nbsp; &nbsp;46.99% of uncompressed directory table size (2370406 bytes)<br />Number of duplicate files found 8348<br />Number of inodes 115900<br />Number of files 87876<br />Number of fragments 6597<br />Number of symbolic links&nbsp; 14964<br />Number of device nodes 95<br />Number of fifo nodes 3<br />Number of socket nodes 35<br />Number of directories 12927<br />Number of uids 14<br />&nbsp; &nbsp;root (0)<br />&nbsp; &nbsp;syslog (101)<br />&nbsp; &nbsp;ubuntu (1000)<br />&nbsp; &nbsp;daemon (1)<br />&nbsp; &nbsp;polkituser (109)<br />&nbsp; &nbsp;libuuid (100)<br />&nbsp; &nbsp;lp (7)<br />&nbsp; &nbsp;man (6)<br />&nbsp; &nbsp;avahi-autoipd (104)<br />&nbsp; &nbsp;gdm (105)<br />&nbsp; &nbsp;news (9)<br />&nbsp; &nbsp;messagebus (108)<br />&nbsp; &nbsp;hplip (103)<br />&nbsp; &nbsp;klog (102)<br />Number of gids 29<br />&nbsp; &nbsp;video (44)<br />&nbsp; &nbsp;audio (29)<br />&nbsp; &nbsp;tty (5)<br />&nbsp; &nbsp;kmem (15)<br />&nbsp; &nbsp;disk (6)<br />&nbsp; &nbsp;adm (4)<br />&nbsp; &nbsp;daemon (1)<br />&nbsp; &nbsp;dip (30)<br />&nbsp; &nbsp;lp (7)<br />&nbsp; &nbsp;fuse (104)<br />&nbsp; &nbsp;shadow (42)<br />&nbsp; &nbsp;ssl-cert (105)<br />&nbsp; &nbsp;messagebus (117)<br />&nbsp; &nbsp;crontab (107)<br />&nbsp; &nbsp;mail (8)<br />&nbsp; &nbsp;lpadmin (106)<br />&nbsp; &nbsp;mlocate (108)<br />&nbsp; &nbsp;utmp (43)<br />&nbsp; &nbsp;ssh (109)<br />&nbsp; &nbsp;games (60)<br />&nbsp; &nbsp;polkituser (118)<br />&nbsp; &nbsp;root (0)<br />&nbsp; &nbsp;staff (50)<br />&nbsp; &nbsp;libuuid (101)<br />&nbsp; &nbsp;src (40)<br />&nbsp; &nbsp;admin (121)<br />&nbsp; &nbsp;avahi-autoipd (110)<br />&nbsp; &nbsp;gdm (111)<br />&nbsp; &nbsp;klog (103)<br />已备份至 /home/ubuntu/backup-20090524。请阅读里面的 menu.lst :)<br /></span><br />看看备份出来的东西。除了备份文件本身，还有内核等用于直接启动：<br /><div class="codetitle"><strong>示例代码:</strong></div><div class="codecontent"><span style="color:#ff0000;">ubuntu@ubuntu-laptop:~$ ls /home/ubuntu/backup-20090524/<br />backup20090524.squashfs&nbsp; &nbsp; &nbsp; &nbsp;menu.lst<br />initrd.img-2.6.28-11-generic&nbsp; vmlinuz-2.6.28-11-generic</span></div><br />看看怎么启动备份文件－都写在 menu.lst 的注释里了。<br />注：<br />可以把备份都放在内置硬盘启动；<br />可以把备份都放在移动硬盘，从移动硬盘启动；<br />也可以把内核放在内置硬盘，squashfs 放在移动硬盘，从内置硬盘引导内核启动移动硬盘的备份）<br /><div class="codetitle"><strong>代码:</strong></div><p><span style="color:#ff0000;">ubuntu@ubuntu-laptop:~$ cat /home/ubuntu/backup-20090524/menu.lst <br /># 这个 menu.lst 是给 grub4dos 用的。稍作修改才能用于 gnu grub<br /><br /></span><span style="color:#ffffff;DISPLAY: inline-block; FILTER: glow(color=#0000FF,strength=3)">注：不能把备份文件放在fat32分区内</span></p><p><span style="color:#ff0000;"><br /># 如何在 windows 机器上直接启动你的 backup20090524.squashfs:<br /># 从 http://download.gna.org/grub4dos 下载最新的 grub4dos<br /># 解压下载的 grub4dos, 并拷贝其中的 grldr 和 grldr.mbr 到 c: 盘根目录<br /># 把这个 menu.lst 也拷贝到 c: 盘根目录<br /># 然后在任意分区根目录建立一个 "casper" 目录并拷贝 backup20090524.squashfs, initrd.img-2.6.28-11-generic, vmlinuz-2.6.28-11-generic 到它里面<br /># 接着添加下面这行文字到 boot.ini 末尾 (不包含#号)<br /># c:\grldr.mbr="grub4dos"<br />##### 对于 Windows Vista, 可以自行建立一个 boot.ini 文件，写上:<br />##### [boot loader]<br />##### [operating systems]<br />##### c:\grldr.mbr="grub4dos"<br /># 重启选择 grub4dos 即可<br /><br /><br /># 如何在 linux 机器上直接启动你的 backup20090524.squashfs:<br /># 在任意分区根目录建立一个 "casper" 文件夹 (注意 gnu grub 不能读取 NTFS, 因此不能把 casper 放在那里) 并拷贝 backup20090524.squashfs, initrd.img-2.6.28-11-generic, vmlinuz-2.6.28-11-generic 到它里面<br /># 然后拷贝下面的两个 Live Ubuntu Backup 启动项到 /boot/grub/menu.lst 末尾并把 "find --set-root" 行改为 "root (hd?,?)" (你创建 "casper" 文件夹的那个分区)<br /><br /><br />default&nbsp; &nbsp;0<br />timeout 10<br /><br />title Live Ubuntu Backup 20090524<br />find --set-root /casper/vmlinuz-2.6.28-11-generic<br />kernel /casper/vmlinuz-2.6.28-11-generic boot=casper ro ignore_uuid<br />initrd /casper/initrd.img-2.6.28-11-generic<br /><br />title Live Ubuntu Backup 20090524, Recovery Mode<br />find --set-root /casper/vmlinuz-2.6.28-11-generic<br />kernel /casper/vmlinuz-2.6.28-11-generic boot=casper ro single ignore_uuid<br />initrd /casper/initrd.img-2.6.28-11-generic<br />ubuntu@ubuntu-laptop:~$ </span><br /><br />要恢复，最好应该先把备份文件启动起来。在其他环境恢复备份，不能预料可否成功。当然，用同版本的 livecd 引导恢复我们的备份理论上应该成功。下面是启动了备份文件之后进行的恢复操作（其实也可以叫做安装）<br /></p><div class="codetitle"><strong>代码:</strong></div><span style="color:#ff0000;">ubuntu@ubuntu:~$ sudo lub -r<br />将恢复你的备份。继续? (y/n)<br />y<br />指定 squashfs 备份文件 (绝对路径)。可以从 Nautilus 文件管理器拖放。如果你是从备份的 squashfs 启动的, 直接回车即可, 将会使用本次启动的 squashfs 文件。<br /><br />将哪个分区作为 / ?<br />1) /dev/sda1 ntfs&nbsp; 5198MB&nbsp; &nbsp; &nbsp; 5) /dev/sda7 swap&nbsp; 625MB<br />2) /dev/sda10 swap&nbsp; 280MB&nbsp; &nbsp; &nbsp; 6) /dev/sda8 jfs&nbsp; 1464MB<br />3) /dev/sda5 reiserfs&nbsp; 206MB&nbsp; &nbsp;7) /dev/sda9 ext2&nbsp; 1291MB<br />4) /dev/sda6 reiserfs&nbsp; 6087MB&nbsp; 8) /dev/sdb1 vfat&nbsp; 8015MB<br />#? 4<br />你选择的是 /dev/sda6, 里面现有这些文件/目录:<br />bin&nbsp; &nbsp;cdrom&nbsp; etc&nbsp; &nbsp;initrd.img&nbsp; media&nbsp; opt&nbsp; &nbsp;root&nbsp; selinux&nbsp; sys&nbsp; &nbsp;usr&nbsp; vmlinuz<br />boot&nbsp; dev&nbsp; &nbsp; home&nbsp; lib&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;mnt&nbsp; &nbsp; proc&nbsp; sbin&nbsp; srv&nbsp; &nbsp;&nbsp; &nbsp;tmp&nbsp; &nbsp;var<br />确定?(y/n)<br />y<br />是否格式化此分区?(y/n)<br />y<br />格式化 /dev/sda6 为:<br />1) ext2<br />2) ext3<br />3) ext4<br />4) reiserfs<br />5) jfs<br />6) xfs<br />#? 3<br />将哪个分区作为 swap ?<br />1) /dev/sda1 ntfs&nbsp; 5198MB&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;6) /dev/sda8 jfs&nbsp; 1464MB<br />2) /dev/sda10 swap&nbsp; 280MB&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;7) /dev/sda9 ext2&nbsp; 1291MB<br />3) /dev/sda5 reiserfs&nbsp; 206MB&nbsp; &nbsp;&nbsp; 8) /dev/sdb1 vfat&nbsp; 8015MB<br />4) &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;　　　　　　　　　　　9) 无<br />5) /dev/sda7 swap&nbsp; 625MB&nbsp; &nbsp;&nbsp; &nbsp;　 10) 无，并结束分区设定。<br />#? 7<br />你选择的是 /dev/sda9, 里面现有这些文件/目录:<br />lost+found<br />确定?(y/n)<br />y<br />/dev/sda9 将被格式化为 swap.<br />将哪个分区作为 /home ?<br />1) /dev/sda1 ntfs&nbsp; 5198MB&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;6) /dev/sda8 jfs&nbsp; 1464MB<br />2) /dev/sda10 swap&nbsp; 280MB&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;7) <br />3) /dev/sda5 reiserfs&nbsp; 206MB&nbsp; &nbsp;&nbsp; 8) /dev/sdb1 vfat&nbsp; 8015MB<br />4) &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;　　　　　　　　　　　9) 无<br />5) /dev/sda7 swap&nbsp; 625MB&nbsp; &nbsp;&nbsp; &nbsp; 　10) 无，并结束分区设定。<br />#? 6<br />你选择的是 /dev/sda8, 里面现有这些文件/目录:<br />billbear<br />确定?(y/n)<br />y<br />是否格式化此分区?(y/n)<br />y<br />格式化 /dev/sda8 为:<br />1) ext2<br />2) ext3<br />3) ext4<br />4) reiserfs<br />5) jfs<br />6) xfs<br />#? 6<br />将哪个分区作为 /boot ?<br />1) /dev/sda1 ntfs&nbsp; 5198MB&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;6) <br />2) /dev/sda10 swap&nbsp; 280MB&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;7) <br />3) /dev/sda5 reiserfs&nbsp; 206MB&nbsp; &nbsp;&nbsp; 8) /dev/sdb1 vfat&nbsp; 8015MB<br />4) &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;　　　　　　　　　　　9) 无<br />5) /dev/sda7 swap&nbsp; 625MB&nbsp; &nbsp;&nbsp; &nbsp;　 10) 无，并结束分区设定。<br />#? 3<br />你选择的是 /dev/sda5, 里面现有这些文件/目录:<br />abi-2.6.28-11-generic&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; memtest86+.bin<br />config-2.6.28-11-generic&nbsp; &nbsp; &nbsp; System.map-2.6.28-11-generic<br />grub&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; vmcoreinfo-2.6.28-11-generic<br />initrd.img-2.6.28-11-generic&nbsp; vmlinuz-2.6.28-11-generic<br />确定?(y/n)<br />y<br />是否格式化此分区?(y/n)<br />y<br />格式化 /dev/sda5 为:<br />1) ext2<br />2) ext3<br />3) ext4<br />4) reiserfs<br />5) jfs<br />6) xfs<br />#? 1<br />将哪个分区作为 /tmp ?<br />1) /dev/sda1 ntfs&nbsp; 5198MB&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;6) <br />2) /dev/sda10 swap&nbsp; 280MB&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;7) <br />3) &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 　　　　　8) /dev/sdb1 vfat&nbsp; 8015MB<br />4) &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;　　　　　　　　　　　9) 无<br />5) /dev/sda7 swap&nbsp; 625MB&nbsp; &nbsp;&nbsp; &nbsp; 　10) 无，并结束分区设定。<br />#? 10<br />开始格式化分区 (如果有需要格式化的分区的话)。继续? (y/n)<br />y<br />正在格式化 /dev/sda6<br />Done<br /><br />正在格式化 /dev/sda8<br />Done<br /><br />正在格式化 /dev/sda5<br />Done<br /><br />正在格式化 /dev/sda9<br />Setting up swapspace version 1, size = 1261064 KiB<br />no label, UUID=a3491a9c-8226-4a29-bcf7-608b5a4e553f<br />Done<br /><br />如果你为目标系统安排了其他分区, 现在打开另一个终端并挂载它们在 /tmp/target 下合适的地方。完成后回车。<br /><br />把 GRUB stage1 安装到哪里?<br />建议安装到 /dev/sda 或 /dev/sda5<br />1) /dev/sda,MBR&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;6) /dev/sda7,swap<br />2) /dev/sdb,MBR&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;7) /dev/sda8,xfs<br />3) /dev/sda10,swap&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8) /dev/sda9,swap<br />4) /dev/sda5,ext2&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 9) /dev/sdb1,vfat<br />5) /dev/sda6,ext4&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 10) 不安装（不推荐）<br />#? 1<br />将马上开始恢复。继续?(y/n)<br />y<br />......<br />输入新的主机名。留空将使用旧的主机名。<br />旧的主机名: ubuntu-laptop<br />新的主机名:<br />billbear-pc<br />是否改变用户名 ubuntu? (y/n)<br />y<br />新的用户名:<br />billbear<br />是否改变用户 billbear 的密码? (y/n)<br />y<br />输入新的 UNIX 口令： <br />重新输入新的 UNIX 口令： <br />passwd：已成功更新密码<br />如果刚才的密码改变不成功, 你还有机会。是否再次改变用户 billbear 的密码? (y/n)<br />n<br />搞定了 :)<br />ubuntu@ubuntu:~$&nbsp;</span><br /></div>


	
                <h4>Relate Posts:</h4>
                  <ul>
                
                  <li><a href="/2012/04/18/mb860解锁刷机教程献给小白机友.html">motorola mb860 atrix 4G解锁刷机教程献给小白机友</a></li>
                
                  <li><a href="/2012/04/15/解不去的疑惑.html">解不去的疑惑</a></li>
                
                  <li><a href="/2012/04/15/记忆的时光，是否可以称量？.html">记忆的时光，是否可以称量？</a></li>
                
                  <li><a href="/2012/03/21/宽容是否纵容？.html">宽容是否纵容？</a></li>
                
                  <li><a href="/2012/02/26/距离产生美，真的吗？.html">距离产生美，真的吗？</a></li>
                
                </ul>
                
</div>
<div class="meta">
  Posted in  <a href="/category/ubuntu">ubuntu</a>  | 

<div style="padding:2px 0">
Trackback:<a href='http://www.chenmo.org/2010/10/19/Live-Ubuntu-Backup-V2.2.html?code=ag1tdWRhbmxpYW5tZW5ncg0LEgVFbnRyeRjDuwEM'>http://www.chenmo.org/2010/10/19/Live-Ubuntu-Backup-V2.2.html?code=ag1tdWRhbmxpYW5tZW5ncg0LEgVFbnRyeRjDuwEM</a>
</div>

</div>

</div>
</div>
<div class="cbottom"></div>
<div class="space"></div>


<div class="ctop"></div>
<div class="box">

<!-- You can start editing here. -->






<h3 id="respond">Leave a Reply</h3>
<form action="/post_comment" method="post" id="commentform">

<p><input type="text" name="author" id="author" value="" size="22" tabindex="1" />
<label for="author">Name <span style="color:red">(*)</span></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2" />
<label for="email">Mail(will not be published) <span style="color:red">(*)</span></small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3" />
<label for="url">Website</label></p>



<div id="checkarea" style="padding-bottom:15px">

<div style="float:left;margin-right:8px;"><label for="checkret"><small>Checkcode:</small></label>
<input type="text" name="checkret" id="checkret" value="" size="5" tabindex="4" />
</div>
<img id='checkimg' src='/checkimg/' style="border:0px;padding:0px;" title='Click to change image' onclick="reloadCheckImage();"/>
</div>


<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" type="submit"  id="submit" tabindex="5" value="Submit Comment" />
</p>
<input type="hidden" name="key" value="ag1tdWRhbmxpYW5tZW5ncg0LEgVFbnRyeRjDuwEM" />
</form>
<script type="text/javascript" src="/static/js/jquery.cookie.js"></script>
<script>
    commentuser=$.cookie('comment_user');
       if (commentuser)
       {
         //[user,email,url]=commentuser.split('#@#');
         var tuple=commentuser.split('#@#');
        var user,email,url;
        user=tuple[0];
        email=tuple[1];
        url=tuple[2];
         $('#author').val(user);
         $('#email').val(email);
         $('#url').val(url);
       }

  $('#commentform').submit(function(){
         var form = this;
           if (form.author)
  		   {

      			 if (!form.author.value)
          		 {
          		  alert('Please input your name.');
          		  form.author.focus();
          		  return false;
          		 }
          		 if (!form.email.value)
          		 {
          		 	alert('Please input the email address.');
          		 	form.email.focus();
          		 	return false;
          		 }
	       }

      		 if (!form.comment.value)
      		 {
      		 	alert('Please leave some reply message.');
      		 	form.comment.focus();
      		 	return false;
      		 }

      		 return true;
  });
</script>



</div>
<div class="cbottom"></div>
<div class="space"></div>


</div>
<div class="sidebar">
<ul>
<li>
<h2>Gtalk</h2>
        <ul>
					<li>--------------------------------</li>
						<iframe src="http://www.google.com/talk/service/badge/Show?tk=z01q6amlqc5frjedmijvhotk4lupnu6inhc0vm5moeliob3lu46jg70a8l56skcumv3ktve9gkmnm4ttgm1al0o1jv4c1p6tlg4okh8lun2i15jhdse3b00reac55t0hkv3las6vcej84l614gl1j6vor70b0n4mrls5n3g3c&amp;w=158&amp;h=60" frameborder="0" allowtransparency="true" width="158" height="60"></iframe>
					<li>--------------------------------</li>
        </ul>
</li>

<li>
        <ul>
					<li>--------------------------------</li>
					<iframe frameborder="0" scrolling="no" src="http://show.v.t.qq.com/index.php?c=show&a=index&n=chenmo-org&w=158&h=348&fl=2&l=4&o=9&co=1" width="158" height="348"></iframe>
					<li>--------------------------------</li>
        </ul>
</li>

<li>
<h2>New Posts</h2>
        <ul>
			<li>--------------------------------</li>
             
                 <li><a href="/2012/04/18/mb860解锁刷机教程献给小白机友.html">motorola mb860 atrix 4G解锁刷机教程献给小白机友(18)</a></li>
             
                 <li><a href="/2012/04/15/解不去的疑惑.html">解不去的疑惑(14)</a></li>
             
                 <li><a href="/2012/04/15/记忆的时光，是否可以称量？.html">记忆的时光，是否可以称量？(12)</a></li>
             
                 <li><a href="/2012/03/21/宽容是否纵容？.html">宽容是否纵容？(82)</a></li>
             
                 <li><a href="/2012/02/26/距离产生美，真的吗？.html">距离产生美，真的吗？(58)</a></li>
             
                 <li><a href="/2012/02/19/一纸相思，尽飘零.html">一纸相思，尽飘零(94)</a></li>
             
                 <li><a href="/2012/01/22/无语年终.html">无语年终(136)</a></li>
             
                 <li><a href="/2012/01/13/难念的经，春运版。.html">难念的经，春运版。(191)</a></li>
             
			<li>--------------------------------</li>
        </ul>
</li>

<li>
 <h2>Categories</h2>
  <ul>
	<li>--------------------------------</li>
 	
  <li>	<a href="/category/GAE">GAE(24)</a></li>
 	
  <li>	<a href="/category/Mobile">Mobile(19)</a></li>
 	
  <li>	<a href="/category/ubuntu">ubuntu(23)</a></li>
 	
  <li>	<a href="/category/Mood">Mood(52)</a></li>
 	
  <li>	<a href="/category/Domain">Domain(11)</a></li>
 	
  <li>	<a href="/category/Wireless%20Safety">Wireless Safety(18)</a></li>
 	
	<li>--------------------------------</li>
 	</ul>
</li>

<li>
 <h2>Archives</h2>
  <ul>
	<li>--------------------------------</li>
			
				<li><a href="/2012/04" title = "2012 - 04">2012 - 04 - 3</a>
				</li>
			
				<li><a href="/2012/03" title = "2012 - 03">2012 - 03 - 1</a>
				</li>
			
				<li><a href="/2012/02" title = "2012 - 02">2012 - 02 - 2</a>
				</li>
			
				<li><a href="/2012/01" title = "2012 - 01">2012 - 01 - 7</a>
				</li>
			
				<li><a href="/2011/12" title = "2011 - 12">2011 - 12 - 3</a>
				</li>
			
				<li><a href="/2011/11" title = "2011 - 11">2011 - 11 - 6</a>
				</li>
			
				<li><a href="/2011/10" title = "2011 - 10">2011 - 10 - 6</a>
				</li>
			
				<li><a href="/2011/09" title = "2011 - 09">2011 - 09 - 1</a>
				</li>
			
				<li><a href="/2011/08" title = "2011 - 08">2011 - 08 - 2</a>
				</li>
			
				<li><a href="/2011/07" title = "2011 - 07">2011 - 07 - 1</a>
				</li>
			
				<li><a href="/2011/06" title = "2011 - 06">2011 - 06 - 1</a>
				</li>
			
				<li><a href="/2011/05" title = "2011 - 05">2011 - 05 - 1</a>
				</li>
			
			<li>--------------------------------</li>
 	</ul>
</li>

<li>
 <h2>Music</h2>
  <ul>
  <li>--------------------------------</li>
<script type="text/javascript">
        <!--
        var FlashHelper =
        {
        movieIsLoaded : function (theMovie)
        {
        if (typeof(theMovie) != "undefined") return theMovie.PercentLoaded() == 100;
        else return
        false;
        },
        getMovie : function (movieName)
        {
        if (navigator.appName.indexOf ("Microsoft") !=-1) return window[movieName];
        else return document[movieName];
        }
        };
        function niftyplayer(name)
        {
        this.obj = FlashHelper.getMovie(name);
        if (!FlashHelper.movieIsLoaded(this.obj)) return;
        this.play = function () {
        this.obj.TCallLabel('/','play');
        };
        this.stop = function () {
        this.obj.TCallLabel('/','stop');
        };
        this.pause = function () {
        this.obj.TCallLabel('/','pause');
        };
        this.playToggle = function () {
        this.obj.TCallLabel('/','playToggle');
        };
        this.reset = function () {
        this.obj.TCallLabel('/','reset');
        };
        this.load = function (url) {
        this.obj.SetVariable('currentSong', url);
        this.obj.TCallLabel('/','load');
        };
        this.loadAndPlay = function (url) {
        this.load(url);
        this.play();
        };
        this.getState = function () {
        var ps = this.obj.GetVariable('playingState');
        var ls = this.obj.GetVariable('loadingState');
        if (ps == 'playing')
            if (ls == 'loaded') return ps;
            else return ls;
        if (ps == 'stopped')
            if (ls == 'empty') return ls;
            if (ls == 'error') return ls;
            else return ps;
        return ps;
        };
        this.getPlayingState = function () {
        // returns 'playing', 'paused', 'stopped' or 'finished'
        return this.obj.GetVariable('playingState');
        };
        this.getLoadingState = function () {
        // returns 'empty', 'loading', 'loaded' or 'error'
        return this.obj.GetVariable('loadingState');
        };
        this.registerEvent = function (eventName, action) {
        // eventName is a string with one of the following values: onPlay, onStop, onPause, onError, onSongOver, onBufferingComplete, onBufferingStarted
        // action is a string with the javascript code to run.
        //
        // example: niftyplayer('niftyPlayer1').registerEvent('onPlay', 'alert("playing!")');

        this.obj.SetVariable(eventName, action);
        };
        return this;
        }
        -->
        </script>
        <li><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="165" height="37" id="niftyPlayer1" align="">
         <param name=movie value="/static/music_player.swf?file=http://120.196.211.50/wap/454294.mp3&as=1">
         <param name=quality value=high>
         <param name=bgcolor value=#FFFFFF>
         <embed src="/static/music_player.swf?file=http://120.196.211.50/wap/454294.mp3&as=1" quality=high bgcolor=#FFFFFF width="165" height="37" name="niftyPlayer1" align="" type="application/x-shockwave-flash" swLiveConnect="true" pluginspage="http://www.macromedia.com/go/getflashplayer">
        </embed>
        </object></li><li><a href="javascript:niftyplayer('niftyPlayer1').loadAndPlay('http://120.196.211.50/wap/454294.mp3')" style="color:#91B24F;"><img src="http://lambert-scape.appspot.com/media/ag1sYW1iZXJ0LXNjYXBlcgwLEgVNZWRpYRijHww/tunein.png" border="0" width="14" height="14" />不</a></li><li><a href="javascript:niftyplayer('niftyPlayer1').loadAndPlay('http://bu.sheldons.info/COFFdD0xMzI2MDQyOTM3Jmk9MTgyLjEyNC4yMDkuMTI5JnU9U29uZ3MvdjIvZmFpbnRRQy8yYS9kYS9jMzlkMDQ0YTExN2ZiMWEyNzE1YzcyZDAxMTE3ZGEyYS5tcDMmbT1hNTBjZGRjNGMyNzZhODFjMjc5YTFhMGE0MzljOWFkYyZ2PWxpc3RlbiZuPXNheSUyMHllYWghgWCC4ILBgsa/69mxg06Di4Npg0Mmcz3U57CyydnFrtfpJTIwJnA9bg==.mp3')" style="color:#91B24F;"><img src="http://lambert-scape.appspot.com/media/ag1sYW1iZXJ0LXNjYXBlcgwLEgVNZWRpYRijHww/tunein.png" border="0" width="14" height="14" />提</a></li><li><a href="javascript:niftyplayer('niftyPlayer1').loadAndPlay('http://i.chenmo.org/123.mp3')" style="color:#91B24F;"><img src="http://lambert-scape.appspot.com/media/ag1sYW1iZXJ0LXNjYXBlcgwLEgVNZWRpYRijHww/tunein.png" border="0" width="14" height="14" />供</a></li><li><a href="javascript:niftyplayer('niftyPlayer1').loadAndPlay('http://parkmyab.dothost.co.kr/100055.mp3 ')" style="color:#91B24F;"><img src="http://lambert-scape.appspot.com/media/ag1sYW1iZXJ0LXNjYXBlcgwLEgVNZWRpYRijHww/tunein.png" border="0" width="14" height="14" />歌</a></li><li><a href="javascript:niftyplayer('niftyPlayer1').loadAndPlay('http://i.chenmo.org/123.mp3')" style="color:#91B24F;"><img src="http://lambert-scape.appspot.com/media/ag1sYW1iZXJ0LXNjYXBlcgwLEgVNZWRpYRijHww/tunein.png" border="0" width="14" height="14" />曲</a></li>
        
	<li>--------------------------------</li>
 	</ul>
</li>

<li>
 <h2>Hot Posts</h2>
  <ul>
  <li>--------------------------------</li>
             
                 <li><a href="/2010/10/30/Ubuntu下安装spoonwep2.html">Ubuntu下安装spoonwep2进行WEP密码破解(2063)</a></li>
             
                 <li><a href="/?p=115001">笔记本做手机wifi热点超详细图文之【XP本地连接教程】(1992)</a></li>
             
                 <li><a href="/2010/11/6/Mail-for-Exchange.html">Mail for Exchange: E63谷歌同步联系人、日历和电邮(1879)</a></li>
             
                 <li><a href="/2010/12/10/Google域名邮箱POP和SMTP设置(附手机端收发).html">Google域名邮箱POP和SMTP设置(附手机端收发)(1846)</a></li>
             
                 <li><a href="/2010/10/19/Android-x86-1.6-可在虚拟机中安装.html">Android-x86 1.6 可在虚拟机中安装(1612)</a></li>
             
                 <li><a href="/2010/10/17/GAE绑定域名的方法.html">GAE绑定域名的方法(1600)</a></li>
             
                 <li><a href="/2010/10/19/Ubuntu-9.10-Intel-X3100.html">Ubuntu 9.10 Intel X3100显卡(GM965芯片)驱动过程(1573)</a></li>
             
                 <li><a href="/2010/12/17/全世界随机视频聊天网站-18禁.html">全世界随机视频聊天网站-18禁(1567)</a></li>
             
	<li>--------------------------------</li>
 	</ul>
</li>

<li>
 <h2>Tag</h2>
  <ul>
	<li>--------------------------------</li>
		
		<a title="1 pages" href="/tag/Error10054"><span style='font-size:10px;'>Error10054</span></a>
		
		<a title="1 pages" href="/tag/Error400"><span style='font-size:10px;'>Error400</span></a>
		
		<a title="1 pages" href="/tag/Error403"><span style='font-size:10px;'>Error403</span></a>
		
		<a title="1 pages" href="/tag/Error409"><span style='font-size:10px;'>Error409</span></a>
		
		<li>--------------------------------</li>
 	</ul>
</li>

<li>
<h2>Blog roll</h2>
<ul>
<li>--------------------------------</li>

<li><a href="http://xuming.net">徐明博客</a></li>

<li><a href="http://www.wolizhi.com/">大学生励志网</a></li>

<li><a href="blog.onlybird.com/免费ssh代理">免费SSH代理 | Onlybird</a></li>

<li><a href="hiapk.com/bbs/">安卓BBS</a></li>

<li><a href="http://bbs.malshenzu.com">MAL神族</a></li>

<li>--------------------------------</li>
</ul>
</li>


</ul>
</div>



</div>
</div>
</div>


<div id="push"></div>
<div id="footer">

	<div class="footer">
			<p class="fooleft">沉默偶然 is proudly powered by <a href="http://xuming.net">Micolog</a>. Theme Designed by <a href="http://bob.my/" title="Simple">Bob</a>. and late stage by <a href="http://www.chenmo.org/" title="chenmo.org">chenmo</a> | Based  On <a href="http://code.google.com/appengine/" title="google gae">GAE</a> . .
		</p>
		<p class="fooleft"><script src="http://s17.cnzz.com/stat.php?id=2697125&web_id=2697125" language="JavaScript"></script>. .</p>
		<p class="fooright"><a href="#top" title="Top">top</a></p>
	</div>

<script type="text/javascript">
if ($('pre[class^=brush:]').length > 0)
{
	$.getScript("/syntaxhighlighter/scripts/shCore.js", function() {
		SyntaxHighlighter.boot("/syntaxhighlighter/", {theme : "Default", stripBrs : true}, {});
	});
}
</script>
<!--Powered by micolog 0.74-->
</div>
</body>
</html>