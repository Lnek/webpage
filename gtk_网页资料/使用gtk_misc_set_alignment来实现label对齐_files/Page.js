require("core::util::jQuery","app::widgets::template","core::util",function(c,d,a){function b(e,f){this[0]=a.parseHTML(d.page())[0];this[0].wrapped=this;this.length=1;this.btns=this.find("a");this.list=this.find(".page-num p");this.curr=this.find(".cpage span");this.setPages(e||1);arguments.length>=2&&this.showPage(f||1)}b.prototype=new c.fn.init();b.prototype.showPage=function(l){if(l==="prev"){l=this.current-1}else{if(l==="next"){l=this.current+1}else{if(l==="tail"){l=this.pages}else{l=parseInt(l)}}}var k=this.pages;if(l<1||l>k){return undefined}var h=a.range(1,k,l,10),g=h[0],f=h[1];this.btns[0].className=g===1?"none":"txt";this.btns[1].className=l===1?"null":"txt";this.btns[2].className=l===k?"null":"txt";this.btns[3].className=f===k?"none":"txt";this.curr.html(l);for(var j=g,e=[];j<=f;j++){e.push('<a href="javascript:;"',j==l?' class="curt"':"",' action="page" data-page="',j,'">第',j,"页</a>")}this.list.html(e.join(""));return this.current=l};b.prototype.hidePages=function(){this.list.hide().parent().removeClass("page-num-active")};b.prototype.setPages=function(e){this.list.hide()[0].parentNode.className="page-num";if(e===this.pages){return}this.pages=e;this.btns[3].title="第"+e+"页";this.showPage(this.current)};define("plugins::hijacker::page",function(h){var g=c(a.getParentByClassName(h.actionTarget,"page-handler")),f=g.data("page");if(!f){return}var i=f.showPage(h.actionTarget.getAttribute("data-page"));f.hidePages();i&&f.handler.setPage&&f.handler.setPage(i)});define("core::ui::Page",b)});