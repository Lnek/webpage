<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=gbk" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<title> GTK+2.0-----容器构件GtkContainer_yandaren_1220-ChinaUnix博客</title>
<meta name="description" content="事件盒构件GtkEventBox一些G T K构件没有与之相关联的X窗口，所以它们只在其父构件上显示其外观。由于这个原因，它们不能接收任何事件，并且，如果它们尺寸设置不正确，它们也不会自动剪裁，这样可能会把界面弄得乱糟糟的。如果要想构件接收事件， 可以使用事" /><script language="javascript" type="text/javascript" src="/source/script_cookie.js"></script>
<script language="javascript" type="text/javascript" src="/source/script_common.js"></script>
<script language="javascript" type="text/javascript" src="/source/script_menu.js"></script>
<script language="javascript" type="text/javascript" src="/source/script_ajax.js"></script>
<script language="javascript" type="text/javascript" src="/source/script_face.js"></script>
<script language="javascript" type="text/javascript" src="/source/script_manage.js"></script>
<link rel="StyleSheet" href="/theme/t20/style.css" type="text/css" media="screen" />
 
<link rel="StyleSheet" href="/css/default.css" type="text/css" media="screen" />
</head>
<body>

<style type="text/css">
@import url(http://blog.chinaunix.net/css/nav.css);
</style>

<div class="login">
<div class="Content">
<div class="l1" id="ll">

<a href="http://www.chinaunix.net" target="_blank">CU首页</a>
<a href="/link.php?url=http://bbs.chinaunix.net" title="CU论坛" target="_blank">CU论坛首页</a>
<a href="/link.php?url=http://blog.chinaunix.net" title="CU博客" target="_blank">CU博客首页</a>   ┊ 
<a href="/do.php?ac=wuxingzypcw213">登录</a>
<a href="/do.php?ac=8f442ba1e0c79cd3efcd1fd42b8aad8e">注册</a>
   ┊    
<a href="/network.php">随便看看</a>
</div>
<div class="r1">
<form action="/cp.php" method="get">
    <input type="hidden"  name="ac" id="ac" value="search"/>
<input type="submit" class="btn1" style="margin-bottom:0px;" value=""/>
<select name="searchType" id="searchType" style="line-height: 13px;margin-bottom:0px;padding:0px;height:21px;">
<option value="blog" >博文</option>
<option value="friend" >博主</option>
<option value="album" >相册</option>
<option value="poll" >投票</option>
<option value="event" >活动</option>
</select>
<input type="text" class="inp1" name="searchkey" id="searchkey" style="margin-bottom:0px;"/>
<a href="/cp.php?ac=blog" class="a1">发博文</a>
</form>
</div>
</div>
</div>

<ul id="ucappmenu_menu" class="dropmenu_drop" style="display:none;">
<li><a href="/link.php?url=http://bbs.chinaunix.net" title="CU论坛" target="_blank">CU论坛首页</a></li>
<li><a href="/link.php?url=http://blog.chinaunix.net" title="CU博客" target="_blank">CU博客首页</a></li>
</ul>


<div id="append_parent" style="z-index:99999;"></div>
<div id="ajaxwaitid" ></div>
<span id="pageSet"></span>
<div class="Content" id="Content">
<div class="top" id="top" style=" position:relative;">
    <div class="tm"><a href="/link.php?url=http%3A%2F%2Fblog.chinaunix.net%2Fuid-24789255-id-3157388.html%26stats%3Dclick" target="_blank">公告：4月博客评选：欢迎参与提交您的原创作品</a></div>
<div class="addr">
       			<b id="home_title">yandaren</b>
   	 <p>
<a href="/uid/25808509.html">yandaren.blog.chinaunix.net</a>
</p>
<span id="blog_brief">
<span id="blog_b">给自己一个目标</span>&nbsp;&nbsp;&nbsp;
</span>
<div id="blog_brief_form" style="display:none; height:auto;">
 		<form id="brief_form" method="post" action="/do.php?ac=ajax&op=blog_brief">
              			<input type="text" id="blog_brief" name="blog_brief" value="给自己一个目标" size="50" style="margin-bottom:0px;"></input>
             			<input type="button" onclick="checkBbrief();" value="提交" class="submit" style="height:20px;margin-bottom:0px;"/>&nbsp;
            			<input type="hidden" name="formhash" value="afbe2f4a" />
              			<input type="button"  value="取消" class="submit" style="height:20px;margin-bottom:0px;" onclick="s('blog_brief');h('blog_brief_form');"  />
             		 </form>
</div>
             
<!-- 徽章定位3 -->
</div>
<div class="daoh">
<a href="/uid/25808509.html" >首页</a> | 
<a href="/uid/25808509/frmd/-1.html" class='here';>博文目录</a>  |  
<a href="/space.php?do=album&view=me&uid=25808509" >相册</a>  |  
<a href="/group.php" target="_blank">博客圈</a>  |
<a href="/space.php?do=profile&uid=25808509" >关于我</a>  |
<a href="/space.php?do=profile&uid=25808509#comment" >留言</a>
</div>
</div>
<link href="/blog/image/editor/code/css/fck_editorarea.css" rel="stylesheet" type="text/css" />
<div class="l2 " >	
<!-- 个人资料 -->
<div class="bor1 mt10" id="profile">
<div class="tit1">个人资料</div>
<div class="Img dingwei_img1"><a href="/uid/25808509.html"><img src="http://passport.ixpub.net/data/avatar/025/80/85/09_avatar_big.jpg" onerror="this.onerror=null;this.src='http://passport.ixpub.net/images/noavatar_big.gif'"></a>
</div>
<div class="Text">
<div class="p1">
<a href="/uid/25808509.html">yandaren_1220</a>
   		   		</div>
<div class="p3" style="height:38px;">
 <a href="/space.php?do=doing&view=me&uid=25808509" target="_blank">微博</a>
 <a href="http://bbs.chinaunix.net/" target="_blank">论坛</a>
</div>
<div class="p3"> 
 <a href="/cp.php?ac=pm&uid=25808509" id="a_pm" onclick="ajaxmenu(event, this.id, 1)">发纸条</a> 
 <a href="/cp.php?ac=poke&op=send&uid=25808509" id="a_poke" onclick="ajaxmenu(event, this.id, 1)">打招呼</a>
 <span id="attention"><a href="javascript:;" onclick="attention(25808509 , 'add');">加关注</a></span>
   <a href="/cp.php?ac=friend&op=add&uid=25808509" id="a_friend_li" onclick="ajaxmenu(event, this.id, 1)">加好友</a>
 </div>

<div class="list1">
<ul>
<li>博客访问：30096</li>
<li>博文数量：173</li>
<li>博客积分：3605</li>
<li>博客等级：<a href="/cp.php?ac=credit&op=usergroup">中校</a> </li>
<li>关注人气： 5</li>
<li>注册时间：2011-05-15 16:29:08</li>
</ul>
</div>
</div>
</div>

<!-- 文章分类 -->
<div class="bor1 mt10" id="blist">
<div class="tit1">文章分类</div>
<div class="allla">
<div class="alll"><a href="/uid/25808509/frmd/-1.html">全部博文<b>(173)</b></a></div>
<div class="alll1"><img src="/image/list41.gif" id="151184" onclick="opDIV(this.id);" style="cursor:pointer;"><a href="/uid/25808509/frmd/151184.html"   title="数据结构">数据结构(1)</a></div>
<div style="display:none;" id="DIV_151184" class="alll3">
<div class="alll4"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/151184/fup/151187.html" title="数据结构">排序(1)</a></div>
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/149796.html"   title="http">http(0)</a></div>
<div style="display:none;" id="DIV_149796" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/147896.html"   title="设计模式">设计模式(4)</a></div>
<div style="display:none;" id="DIV_147896" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/143112.html"   title="effective c++">effective c++(5)</a></div>
<div style="display:none;" id="DIV_143112" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/142587.html"   title="SQL">SQL(1)</a></div>
<div style="display:none;" id="DIV_142587" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/140153.html"   title="Linux的一些有用命令">Linux的一些有用命令(1)</a></div>
<div style="display:none;" id="DIV_140153" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/85674.html"   title="线程同步">线程同步(3)</a></div>
<div style="display:none;" id="DIV_85674" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/48221.html"   title="XML">XML(8)</a></div>
<div style="display:none;" id="DIV_48221" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/48220.html"   title="VC++">VC++(9)</a></div>
<div style="display:none;" id="DIV_48220" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/29436.html"   title="Python">Python(13)</a></div>
<div style="display:none;" id="DIV_29436" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/27894.html"   title="心情日记">心情日记(0)</a></div>
<div style="display:none;" id="DIV_27894" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/27213.html"   title="Qt编程">Qt编程(13)</a></div>
<div style="display:none;" id="DIV_27213" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/25543.html"   title="反思">反思(0)</a></div>
<div style="display:none;" id="DIV_25543" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/24724.html"   title="感悟">感悟(2)</a></div>
<div style="display:none;" id="DIV_24724" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/23884.html"   title="GDB调试">GDB调试(6)</a></div>
<div style="display:none;" id="DIV_23884" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/21615.html"   title="常见C/C++面试题">常见C/C++面试题(1)</a></div>
<div style="display:none;" id="DIV_21615" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/21614.html"   title="算法">算法(4)</a></div>
<div style="display:none;" id="DIV_21614" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/21613.html"   title="shell编程">shell编程(0)</a></div>
<div style="display:none;" id="DIV_21613" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/21612.html"   title="网络编程">网络编程(5)</a></div>
<div style="display:none;" id="DIV_21612" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/21611.html"   title="GTK+编程">GTK+编程(2)</a></div>
<div style="display:none;" id="DIV_21611" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/21610.html"   title="C#">C#(3)</a></div>
<div style="display:none;" id="DIV_21610" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/21609.html"   title="C/C++">C/C++(60)</a></div>
<div style="display:none;" id="DIV_21609" class="alll3">
</div>
<div class="alll1"><img src="/image/list3.gif"><a href="/uid/25808509/frmd/21608.html"   title="Linux">Linux(19)</a></div>
<div style="display:none;" id="DIV_21608" class="alll3">
</div>
<div class="alll"><a href="/uid/25808509/frmd/0.html">未分类博文(13)</a></div>
</div>
</div>
<script>
function opDIV(id){
if(document.getElementById('DIV_'+id).style.display=='none'){
document.getElementById('DIV_'+id).style.display='block';
document.getElementById(id).src="/image/list4.gif";
}else{
document.getElementById('DIV_'+id).style.display='none';
document.getElementById(id).src="/image/list41.gif";
}
}
</script>


<!-- 订阅我的博客 -->
<div class="bor1 mt10" id="rss">
<div class="tit1">订阅我的博客</div>
<ul class="list3">
<li><a href="/rss.php?uid=25808509" ><img alt="订阅" src="/image/feedsky.gif" width="49" height="16"  /></a></li>
<li><a target="_blank" href="http://www.xianguo.com/subscribe.php?url=http://home.chinaunix.com/rss.php?uid=25808509"><img border="0" alt="订阅到鲜果" src="/image/d2.png"  /></a></li>
<li><a target="_blank" href="http://www.zhuaxia.com/add_channel.php?url=http://home.chinaunix.com/rss.php?uid=25808509"><img src="/image/d3.png" width="103" height="16" border="0" alt="订阅到抓虾" /></a></li>
<li><a target="_blank" href="http://fusion.google.com/add?feedurl=http://home.chinaunix.com/rss.php?uid=25808509"><img src="/image/d4.png" width="103" height="16" border="0" alt="订阅到Google"/></a></li>
</ul>
</div>


<!-- 好友 -->

<!-- 最近来访 -->
</div>
<div class="r2"  id="blog_center" style="position:relative">
<!-- 博文 -->
<div class="bor1 mt10">
<div class="tit5"><span>字体大小：<a href="javascript:;" onclick="doZoom('16');" id="font_16">大</a> <a  href="javascript:;" onclick="doZoom('14');" id="font_14">中</a> <a  href="javascript:;" onclick="doZoom('12');" id="font_12">小</a></span>博文</div>
<div class="text">
<div class="tit6">
<a href="javascript:;">GTK+2.0-----容器构件GtkContainer</a> 
(2011-06-08 22:07)
	
</div>
<div class="tit7">
<a href="/space.php?uid=25808509&do=tag">标签</a>:&nbsp;
<a href="/space.php?uid=25808509&do=tag&id=3843">GTK</a>&nbsp;
<a href="/space.php?uid=25808509&do=tag&id=164">容器</a>&nbsp;
<a href="/space.php?uid=25808509&do=tag&id=10712"></a>&nbsp;
分类： <a href="/space.php?uid=25808509&do=blog&frmd=0&classid=21611&view=me">GTK+编程</a>
</div>
<br/>
<br/>
<div id="detail" class="detail" style="line-height: 1.3;"><p><span class="Apple-style-span" style="font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 22px; "><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; ">事件盒构件GtkEventBox</font></strong><br style="line-height: 22px; ">一些G T K构件没有与之相关联的X窗口，所以它们只在其父构件上显示其外观。由于这个原因，它们不能接收任何事件，并且，如果它们尺寸设置不正确，它们也不会自动剪裁，这样可能会把界面弄得乱糟糟的。如果要想构件接收事件， 可以使用事件盒构件（G t k E v e n t B o x）。<br style="line-height: 22px; ">初一看，G t k E v e n t B o x构件好像完全没有什么用。它在屏幕上什么也不画，并且对事件也不做响应。但是，它有一个功能：为它的子构件提供一个X窗口。因为许多G T K构件并没有相关联的X窗口，所以这一点很重要。虽然没有X窗口会节省内存，提高系统性能，但它也有一些弱点。没有X窗口的构件不能接收事件，并且对它的任何内容不实施剪裁。事件盒构件的名称强调它的事件处理功能，同时，它也能用于剪裁构件。<br style="line-height: 22px; ">用以下函数创建一个新的事件盒构件：<br style="line-height: 22px; ">GtkWidget *gtk_event_box_new( void );<br style="line-height: 22px; ">然后子构件就可以添加到G t k E v e n t B o x里面：<br style="line-height: 22px; ">gtk_container_add( GTK_CONTAINER(event_box), child_widget );<br style="line-height: 22px; ">下面的示例演示了事件盒的用途：创建一个标签，将它剪裁，放到一个小盒子里面，然后设置让鼠标点击时程序退出。改变窗口的尺寸会使标签构件的尺寸发生变化。<br style="line-height: 22px; ">/* 事件盒构件示例开始eventbox.c */<br style="line-height: 22px; ">#include &lt;gtk/gtk.h&gt;<br style="line-height: 22px; ">int main (int argc, char *argv[])<br style="line-height: 22px; ">{<br style="line-height: 22px; ">GtkWidget *window;<br style="line-height: 22px; ">GtkWidget *event_box;<br style="line-height: 22px; ">GtkWidget *label;<br style="line-height: 22px; ">gtk_init (&amp;argc, &amp;argv);<br style="line-height: 22px; ">window = gtk_window_new (GTK_WINDOW_TOPLEVEL);<br style="line-height: 22px; ">gtk_window_set_title (GTK_WINDOW (window), "Event Box");<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (window), "destroy",<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (gtk_exit), NULL);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (window), 10);<br style="line-height: 22px; ">/* 创建一个事件盒，然后将它加到顶级窗口上* /<br style="line-height: 22px; ">event_box = gtk_event_box_new ();<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER(window), event_box);<br style="line-height: 22px; ">gtk_widget_show (event_box);<br style="line-height: 22px; ">/* 创建一个长标签* /<br style="line-height: 22px; ">label = gtk_label_new ("Click here to quit, quit, quit, quit, quit");<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (event_box), label);<br style="line-height: 22px; ">gtk_widget_show (label);<br style="line-height: 22px; ">/* 将标签剪裁短* /<br style="line-height: 22px; ">gtk_widget_set_usize (label, 110, 20);<br style="line-height: 22px; ">/* 为它绑定一个动作* /<br style="line-height: 22px; ">gtk_widget_set_events (event_box, GDK_BUTTON_PRESS_MASK);<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT(event_box), "button_press_event",GTK_SIGNAL_FUNC (gtk_exit), NULL);<br style="line-height: 22px; ">/* 为事件盒创建一个X窗口* /<br style="line-height: 22px; ">gtk_widget_realize (event_box);<br style="line-height: 22px; ">gdk_window_set_cursor (event_box-&gt;window, gdk_cursor_new (GDK_HAND1));<br style="line-height: 22px; ">gtk_widget_show (window);<br style="line-height: 22px; ">gtk_main ();<br style="line-height: 22px; ">r e t u r n ( 0 ) ;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 示例结束* /<br style="line-height: 22px; ">将上面的代码保存为e v e n t b o x . c，然后写一个下面这样的M a k e f i l e：<br style="line-height: 22px; ">CC = gcc<br style="line-height: 22px; ">eventbox: eventbox.c<br style="line-height: 22px; ">$(CC) `gtk-config --cflags` eventbox.c -o eventbox \<br style="line-height: 22px; ">`gtk-config --libs`<br style="line-height: 22px; ">clean:<br style="line-height: 22px; ">rm -f *.o eventbox<br style="line-height: 22px; ">编译之后，运行结果如图1 0 - 1所示。改变窗口大小时，标签所显示的文本数量也会改变。<br style="line-height: 22px; ">点击标签，应用程序会退出。</p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><a href="http://img.blog.163.com/photo/rbnj8gPyw2eAbffEbccgeg==/891994201197183676.jpg" target="_blank" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank"><img alt="GTK+2.0-----容器构件GtkContainer - 垒 - jiangbowen1_qd的博客" src="http://img.blog.163.com/photo/rbnj8gPyw2eAbffEbccgeg==/891994201197183676.jpg" style="line-height: 22px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; max-width: 100%; "></a><br style="line-height: 22px; ">图10-1 使用事件盒，可以让标签构件对点击进行响应<br style="line-height: 22px; "></p><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; "><p style="line-height: 38px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p></font></strong><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; ">对齐构件GtkAlignment</font></strong><br style="line-height: 22px; ">G t k A l i g n m e n t (对齐构件)允许将一个构件放在相对于对齐构件窗口的某个位置和尺寸上。<br style="line-height: 22px; ">例如，将一个构件放在窗口的正中间时，就要使用对齐构件。<br style="line-height: 22px; ">只有如下两个函数与对齐构件相关联：<br style="line-height: 22px; ">GtkWidget* gtk_alignment_new( gfloat xalign,<br style="line-height: 22px; ">gfloat yalign,<br style="line-height: 22px; ">gfloat xscale,<br style="line-height: 22px; ">gfloat yscale );<br style="line-height: 22px; ">void gtk_alignment_set( GtkAlignment *alignment,<br style="line-height: 22px; ">gfloat xalign,<br style="line-height: 22px; ">gfloat yalign,<br style="line-height: 22px; ">gfloat xscale,<br style="line-height: 22px; ">gfloat yscale );<br style="line-height: 22px; ">第一个函数用指定的参数创建新的对齐构件。第二个函数用于改变对齐构件的参数。<br style="line-height: 22px; ">上面函数的所有四个参数都是介于0 . 0与1 . 0间的浮点数。xalign 和y a l i g n参数影响对齐构件内部的构件位置。x s c a l e和yscale 参数影响分配给构件的空间总数。<br style="line-height: 22px; ">使用以下函数可以将子构件添加到对齐构件中：<br style="line-height: 22px; ">gtk_container_add( GTK_CONTAINER(alignment), child_widget );<br style="line-height: 22px; ">要看关于对齐构件的例子，请看进度条构件的示例。</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><font color="#0000ff" size="5" style="line-height: 38px; "><strong style="line-height: 38px; ">框架构件GtkFrame</strong></font><br style="line-height: 22px; ">G t k F r a m e (框架构件)可以用于在盒子中封装一个或一组构件，框架本身还可以有一个标签。标签的位置和风格可以灵活改变。用下面函数可以创建新框架构件：<br style="line-height: 22px; ">GtkWidget *gtk_frame_new( const gchar *label );<br style="line-height: 22px; ">其中，l a b e l参数是框架构件的标签。<br style="line-height: 22px; ">缺省设置时，标签放在框架的左上角。传递N U L L时，框架不显示标签。标签文本可以用下面的函数改变。<br style="line-height: 22px; ">void gtk_frame_set_label( GtkFrame *frame,const gchar *label );<br style="line-height: 22px; ">标签的位置可以用下面的函数改变：<br style="line-height: 22px; ">void gtk_frame_set_label_align( GtkFrame *frame,gfloat xalign,gfloat yalign );<br style="line-height: 22px; ">x a l i g n和y a l i g n参数取值范围介于0 . 0和1 . 0之间。x a l i g n指定标签在框架构件上部水平线上的位置。y a l i g n参数目前还没有使用。x a l i g n的缺省值是0 . 0，它将标签放在框架构件的左上角处。下面的函数用于改变f r a m e的轮廓框的风格。<br style="line-height: 22px; ">void gtk_frame_set_shadow_type( GtkFrame *frame,GtkShadowType type);<br style="line-height: 22px; ">Ty p e参数可以取以下值：<br style="line-height: 22px; ">G T K _ S H A D O W _ N O N E<br style="line-height: 22px; ">G T K _ S H A D O W _ I N<br style="line-height: 22px; ">G T K _ S H A D O W _ O U T<br style="line-height: 22px; ">GTK_SHADOW_ETCHED_IN (缺省值)<br style="line-height: 22px; ">G T K _ S H A D O W _ E T C H E D _ O U T<br style="line-height: 22px; ">下面的例子演示了怎样使用框架构件。<br style="line-height: 22px; ">/* 框架构件示例开始frame.c */<br style="line-height: 22px; ">#include &lt;gtk/gtk.h&gt;<br style="line-height: 22px; ">int main( int argc,<br style="line-height: 22px; ">char *argv[] )<br style="line-height: 22px; ">{<br style="line-height: 22px; ">/* 构件的存储类型是GtkWidget */<br style="line-height: 22px; ">GtkWidget *window;<br style="line-height: 22px; ">GtkWidget *frame;<br style="line-height: 22px; ">GtkWidget *button;<br style="line-height: 22px; ">gint i;<br style="line-height: 22px; ">/* 初始化GTK */<br style="line-height: 22px; ">gtk_init(&amp;argc, &amp;argv);<br style="line-height: 22px; ">/* 创建一个新窗口* /<br style="line-height: 22px; ">window = gtk_window_new (GTK_WINDOW_TOPLEVEL);<br style="line-height: 22px; ">gtk_window_set_title(GTK_WINDOW(window), "Frame Example");<br style="line-height: 22px; ">/* 为窗口的" d e s t o r y "事件设置一个回调函数*/<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (window), "destroy",<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (gtk_main_quit), NULL);<br style="line-height: 22px; ">gtk_widget_set_usize(window, 300, 300);<br style="line-height: 22px; ">/* 设置窗口的边框宽度* /<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (window), 10);<br style="line-height: 22px; ">/* 创建一个框架构件* /<br style="line-height: 22px; ">frame = gtk_frame_new(NULL);<br style="line-height: 22px; ">gtk_container_add(GTK_CONTAINER(window), frame);<br style="line-height: 22px; ">/* 设置框架的标签* /<br style="line-height: 22px; ">gtk_frame_set_label( GTK_FRAME(frame), "GTK Frame Widget" );<br style="line-height: 22px; ">/* 将标签在框架构件的右边对齐* /<br style="line-height: 22px; ">gtk_frame_set_label_align( GTK_FRAME(frame), 1.0, 0.0);<br style="line-height: 22px; ">/* 设置框架构件的风格* /<br style="line-height: 22px; ">gtk_frame_set_shadow_type( GTK_FRAME(frame), GTK_SHADOW_ETCHED_OUT);<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( f r a m e ) ;<br style="line-height: 22px; ">/* 显示窗口* /<br style="line-height: 22px; ">gtk_widget_show (window);<br style="line-height: 22px; ">/* 进入主循环* /<br style="line-height: 22px; ">gtk_main ();<br style="line-height: 22px; ">r e t u r n ( 0 ) ;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 示例结束* /<br style="line-height: 22px; ">将上述代码保存为f r a m e . c，然后编写一个像下面这样的M a k e f i l e文件。<br style="line-height: 22px; ">CC = gcc<br style="line-height: 22px; ">frame: frame.c<br style="line-height: 22px; ">$(CC) `gtk-config --cflags` frame.c -o frame \<br style="line-height: 22px; ">`gtk-config --libs`<br style="line-height: 22px; ">clean:<br style="line-height: 22px; ">rm -f *.o frame<br style="line-height: 22px; ">运行结果如图1 0 - 2所示。请注意，框架构件的标题在构件的右上角。</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><a href="http://img.blog.163.com/photo/VRlIf_qE4HsiEQ5MBIZ2cg==/891994201197183679.jpg" target="_blank" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank"><img alt="GTK+2.0-----容器构件GtkContainer - 垒 - jiangbowen1_qd的博客" src="http://img.blog.163.com/photo/VRlIf_qE4HsiEQ5MBIZ2cg==/891994201197183679.jpg" style="line-height: 22px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; max-width: 100%; display: block; text-align: center; "></a></p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">图10-2 框架构件</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; ">比例框架构件GtkAspectFrame<br style="line-height: 38px; "></font></strong>G t k A s p e c t F r a m e (比例框架构件)和框架构件差不多，差别在于它会保持子构件的长宽比例，如果需要，还会在构件中增加额外的可用空间。例如，想预览一个大的图片。当用户改变窗口的尺寸时，预览的尺寸会随之改变，但是纵横比例要与原来的尺寸保持一致。<br style="line-height: 22px; ">用以下函数创建新比例框架构件：<br style="line-height: 22px; ">GtkWidget *gtk_aspect_frame_new( const gchar *label,<br style="line-height: 22px; ">gfloat xalign,<br style="line-height: 22px; ">gfloat yalign,<br style="line-height: 22px; ">gfloat ratio,<br style="line-height: 22px; ">gint obey_child);<br style="line-height: 22px; ">x a l i g n和y a l i g n参数指定对齐构件的调整值。如果o b e y _ c h i l d参数设置为T R U E，子构件的长宽比例会和它所请求的理想长宽比例相匹配。否则，比例值由r a t i o参数指定。<br style="line-height: 22px; ">用以下函数可以改变已有比例框架构件的选项：<br style="line-height: 22px; ">void gtk_aspect_frame_set( GtkAspectFrame *aspect_frame,<br style="line-height: 22px; ">gfloat xalign,<br style="line-height: 22px; ">gfloat yalign,<br style="line-height: 22px; ">gfloat ratio,<br style="line-height: 22px; ">gint obey_child);<br style="line-height: 22px; ">在下面的示例中，程序用一个比例框架构件显示一个绘图区，纵横比例总是2 : 1，而不管用户如何改变顶级窗口的尺寸。<br style="line-height: 22px; ">/* 比例框架构件示例开始aspectframe.c */<br style="line-height: 22px; ">#include &lt;gtk/gtk.h&gt;<br style="line-height: 22px; ">i n t<br style="line-height: 22px; ">main (int argc, char *argv[])<br style="line-height: 22px; ">{<br style="line-height: 22px; ">GtkWidget *window;<br style="line-height: 22px; ">GtkWidget *aspect_frame;<br style="line-height: 22px; ">GtkWidget *drawing_area;<br style="line-height: 22px; ">gtk_init (&amp;argc, &amp;argv);<br style="line-height: 22px; ">window = gtk_window_new (GTK_WINDOW_TOPLEVEL);<br style="line-height: 22px; ">gtk_window_set_title (GTK_WINDOW (window), "Aspect Frame");<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (window), "destroy",<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (gtk_main_quit), NULL);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (window), 10);<br style="line-height: 22px; ">/* 创建一个比例框架构件，将它添加到顶级窗口中* /<br style="line-height: 22px; ">aspect_frame = gtk_aspect_frame_new× 1("",2 /* 标签* /<br style="line-height: 22px; ">0.5, /* x方向居中* /<br style="line-height: 22px; ">0.5, /* y方向居中* /<br style="line-height: 22px; ">2, /* xsize/ysize = 2 */<br style="line-height: 22px; ">FALSE /* 忽略子构件的比例* / ) ;<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER(window), aspect_frame);<br style="line-height: 22px; ">gtk_widget_show (aspect_frame);<br style="line-height: 22px; ">/* 添加一个子构件到比例框架构件中* /</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">drawing_area = gtk_drawing_area_new ();<br style="line-height: 22px; ">/* 要求画一个2 0 0×2 0 0的窗口，但是比例框架构件会给出一个2 0 0×1 0 0<br style="line-height: 22px; ">* 的窗口，因为我们已经指定了2×1的比例值* /<br style="line-height: 22px; ">gtk_widget_set_usize (drawing_area, 200, 200);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER(aspect_frame), drawing_area);<br style="line-height: 22px; ">gtk_widget_show (drawing_area);<br style="line-height: 22px; ">gtk_widget_show (window);<br style="line-height: 22px; ">gtk_main ();<br style="line-height: 22px; ">return 0;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 示例结束* /<br style="line-height: 22px; ">将上面的代码保存为a s p e c t f r a m e . c，然后编写一个如下所示的M a k e f i l e文件。<br style="line-height: 22px; ">CC = gcc<br style="line-height: 22px; ">aspectframe: aspectframe.c<br style="line-height: 22px; ">$(CC) `gtk-config --cflags` aspectframe.c \<br style="line-height: 22px; ">-o aspectframe `gtk-config --libs`<br style="line-height: 22px; ">clean:<br style="line-height: 22px; ">rm -f *.o aspectframe<br style="line-height: 22px; ">编译后，执行结果见图1 0 - 3。试着调整窗口的尺寸，看一看框架构件如何变化。</p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><a href="http://img.blog.163.com/photo/zp7kMcZh4FlJspARW2nn5w==/891994201197183682.jpg" target="_blank" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank"><img alt="GTK+2.0-----容器构件GtkContainer - 垒 - jiangbowen1_qd的博客" src="http://img.blog.163.com/photo/zp7kMcZh4FlJspARW2nn5w==/891994201197183682.jpg" style="line-height: 22px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; max-width: 100%; "></a><br style="line-height: 22px; ">图10-3 比例框架构件</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><font color="#0000ff" size="5" style="line-height: 38px; "><strong style="line-height: 38px; ">分栏窗口构件GtkPanedWindow</strong></font><br style="line-height: 22px; ">如果想要将一个窗口分成两个部分，可以使用G t k P a n e d Wi n d o w (分栏窗口构件)。窗口两部分的尺寸由用户控制，它们之间有一个凹槽，上面有一个手柄，用户可以拖动此手柄改变两部分的比例。窗口划分可以是水平( H P a n e d )或垂直的( V P a n e d )。有两种分栏窗口构件：<br style="line-height: 22px; ">G t k H P a n e d（水平分栏窗口构件）和G t k V P a n e d（垂直分栏窗口构件）。<br style="line-height: 22px; ">用以下函数创建新的分栏窗口构件：<br style="line-height: 22px; ">GtkWidget *gtk_hpaned_new (void); 水 平 /分*栏窗口构件* /<br style="line-height: 22px; ">GtkWidget *gtk_vpaned_new (void); 垂 直 /分*栏窗口构件* /<br style="line-height: 22px; ">创建了分栏窗口构件后，可以在它的两边添加子构件。用下面的函数完成：<br style="line-height: 22px; ">void gtk_paned_add1 (GtkPaned *paned,GtkWidget *child);<br style="line-height: 22px; ">void gtk_paned_add2 (GtkPaned *paned,GtkWidget *child);<br style="line-height: 22px; ">gtk_paned_add1() 将子构件添加到分栏窗口构件的左边或顶部。<br style="line-height: 22px; ">gtk_paned_add2() 将子构件添加到分栏窗口构件的右边或下部。<br style="line-height: 22px; ">如果希望在分栏窗口构件上设置很复杂的界面，可以将该构件和组装盒（ G t k H B o x和G t k V B o x）或表格构件结合使用。<br style="line-height: 22px; ">分栏窗口构件的视觉外观可以用以下函数改变：<br style="line-height: 22px; ">void gtk_paned_set_handle_size( GtkPaned *paned,guint16 size);<br style="line-height: 22px; ">void gtk_paned_set_gutter_size( GtkPaned *paned,guint16 size);<br style="line-height: 22px; ">第一个函数设置手柄的尺寸，第二个函数设置两部分之间的凹槽的尺寸。<br style="line-height: 22px; ">在下面的例子中，创建了一个假想的用户E m a i l程序的用户界面。窗口被垂直划分为两个部分，上面部分显示一个E m a i l信息列表，下部显示E m a i l文本信息。所有的程序都是相当直接的。有几点要注意：在文本构件显现前文本不能加到文本构件中，但你可以调用g t k _ w i d g e t _ r e a l i z e ( )函数完成，不过，作为一个技巧，我们可以为构件的“ r e a l i z e”信号设置一个信号处理函数，并在这个函数里面添加文本；还有，我们需要为包含文本窗口和它的滚动条的表格构件（ G t k Ta b l e）设置G T K _ S H R I N K选项，以便当窗口的底部变小时，能够正确显示，而不是将下部的构件压到窗口的底部去。<br style="line-height: 22px; ">/* 分栏窗口构件示例paned.c */<br style="line-height: 22px; ">#include &lt;gtk/gtk.h&gt;<br style="line-height: 22px; ">/* 创建一个"信息"列表* /<br style="line-height: 22px; ">GtkWidget *<br style="line-height: 22px; ">create_list (void)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">GtkWidget *scrolled_window;<br style="line-height: 22px; ">GtkWidget *list;<br style="line-height: 22px; ">GtkWidget *list_item;<br style="line-height: 22px; ">int i;<br style="line-height: 22px; ">char buffer[16];<br style="line-height: 22px; ">/* 创建一个新的分栏窗口构件，只有需要时，滚动条才出现* /<br style="line-height: 22px; ">scrolled_window = gtk_scrolled_window_new (NULL, NULL);<br style="line-height: 22px; ">gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolled_window),GTK_POLICY_AUTOMATIC,<br style="line-height: 22px; ">G T K _ P O L I C Y _ A U T O M A T I C ) ;<br style="line-height: 22px; ">/ *创建一个新的列表框，将它放在分栏窗口构件中* /<br style="line-height: 22px; ">list = gtk_list_new ();<br style="line-height: 22px; ">gtk_scrolled_window_add_with_viewport (<br style="line-height: 22px; ">GTK_SCROLLED_WINDOW (scrolled_window), list);<br style="line-height: 22px; ">gtk_widget_show (list);<br style="line-height: 22px; ">/ *在列表中添加一些列表项* /<br style="line-height: 22px; ">for (i=0; i&lt;10; i++) {<br style="line-height: 22px; ">sprintf(buffer,"Message #%d",i);<br style="line-height: 22px; ">list_item = gtk_list_item_new_with_label (buffer);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER(list), list_item);<br style="line-height: 22px; ">gtk_widget_show (list_item);<br style="line-height: 22px; ">}<br style="line-height: 22px; ">return scrolled_window;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 向文本构件中添加一些文本时必须先用一个回调函数实现文本构件。<br style="line-height: 22px; ">* 添加文本时，先将构件冻结，添加完成后，将构件解冻* /<br style="line-height: 22px; ">void realize_text (GtkWidget *text, gpointer data)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">gtk_text_freeze (GTK_TEXT (text));<br style="line-height: 22px; ">gtk_text_insert (GTK_TEXT (text), NULL, &amp;text-&gt;style-&gt;black, NULL,<br style="line-height: 22px; ">"From:&nbsp;<a href="mailto:pathfinder@nasa.govn" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank">pathfinder@nasa.gov\n</a>"<br style="line-height: 22px; ">"To:&nbsp;<a href="mailto:mom@nasa.govn" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank">mom@nasa.gov\n</a>"<br style="line-height: 22px; ">"Subject: Made it!\n"<br style="line-height: 22px; ">" \ n "<br style="line-height: 22px; ">"We just got in this morning. The weather has been\n"<br style="line-height: 22px; ">"great - clear but cold, and there are lots of fun sights.\n"<br style="line-height: 22px; ">"Sojourner says hi. See you soon.\n"<br style="line-height: 22px; ">" -Path\n", -1);<br style="line-height: 22px; ">gtk_text_thaw (GTK_TEXT (text));<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/ *创建一个滚动文本区域，用于显示添加的信息* /<br style="line-height: 22px; ">GtkWidget *<br style="line-height: 22px; ">create_text (void)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">GtkWidget *table;<br style="line-height: 22px; ">GtkWidget *text;<br style="line-height: 22px; ">GtkWidget *hscrollbar;<br style="line-height: 22px; ">GtkWidget *vscrollbar;<br style="line-height: 22px; ">/* 创建一个t a b l e构件，用于容纳文本构件和滚动条* /<br style="line-height: 22px; ">table = gtk_table_new (2, 2, FALSE);<br style="line-height: 22px; ">/* 将文本构件放在t a b l e的左角，注意在<br style="line-height: 22px; ">* y方向设为GTK_SHRINK */<br style="line-height: 22px; ">text = gtk_text_new (NULL, NULL);<br style="line-height: 22px; ">gtk_table_attach (GTK_TABLE (table), text, 0, 1, 0, 1,GTK_FILL | GTK_EXPAND,<br style="line-height: 22px; ">GTK_FILL | GTK_EXPAND | GTK_SHRINK, 0, 0);<br style="line-height: 22px; ">gtk_widget_show (text);<br style="line-height: 22px; ">/* 将一个水平滚动条放在左下角* /<br style="line-height: 22px; ">hscrollbar = gtk_hscrollbar_new (GTK_TEXT (text)-&gt;hadj);<br style="line-height: 22px; ">gtk_table_attach (GTK_TABLE (table), hscrollbar, 0, 1, 1, 2,GTK_EXPAND | GTK_FILL, GTK_FILL, 0, 0);<br style="line-height: 22px; ">gtk_widget_show (hscrollbar);<br style="line-height: 22px; ">/ *将一个垂直滚动条放在右上角* /<br style="line-height: 22px; ">vscrollbar = gtk_vscrollbar_new (GTK_TEXT (text)-&gt;vadj);<br style="line-height: 22px; ">gtk_table_attach (GTK_TABLE (table), vscrollbar, 1, 2, 0, 1,<br style="line-height: 22px; ">GTK_FILL, GTK_EXPAND | GTK_FILL | GTK_SHRINK, 0, 0);<br style="line-height: 22px; ">gtk_widget_show (vscrollbar);<br style="line-height: 22px; ">/ *将一个处理函数添加到文本构件，当它实现时在文本构件上显示一段信息* /<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (text), "realize",<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (realize_text), NULL);<br style="line-height: 22px; ">return table;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">int main (int argc, char *argv[])<br style="line-height: 22px; ">{<br style="line-height: 22px; ">GtkWidget *window;<br style="line-height: 22px; ">GtkWidget *vpaned;<br style="line-height: 22px; ">GtkWidget *list;<br style="line-height: 22px; ">GtkWidget *text;<br style="line-height: 22px; ">gtk_init (&amp;argc, &amp;argv);<br style="line-height: 22px; ">window = gtk_window_new (GTK_WINDOW_TOPLEVEL);<br style="line-height: 22px; ">gtk_window_set_title (GTK_WINDOW (window), "Paned Windows");<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (window), "destroy",<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (gtk_main_quit), NULL);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (window), 10);<br style="line-height: 22px; ">gtk_widget_set_usize (GTK_WIDGET(window), 450, 400);<br style="line-height: 22px; ">/ *在顶级窗口上添加一个垂直分栏窗口构件* /<br style="line-height: 22px; ">vpaned = gtk_vpaned_new ();<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER(window), vpaned);<br style="line-height: 22px; ">gtk_paned_set_handle_size (GTK_PANED(vpaned),1 0 ) ;<br style="line-height: 22px; ">gtk_paned_set_gutter_size (GTK_PANED(vpaned),<br style="line-height: 22px; ">15);<br style="line-height: 22px; ">gtk_widget_show (vpaned);<br style="line-height: 22px; ">/ *在分格窗口的两边添加一些构件* /<br style="line-height: 22px; ">list = create_list ();<br style="line-height: 22px; ">gtk_paned_add1 (GTK_PANED(vpaned), list);<br style="line-height: 22px; ">gtk_widget_show (list);<br style="line-height: 22px; ">text = create_text ();<br style="line-height: 22px; ">gtk_paned_add2 (GTK_PANED(vpaned), text);<br style="line-height: 22px; ">gtk_widget_show (text);<br style="line-height: 22px; ">gtk_widget_show (window);<br style="line-height: 22px; ">gtk_main ();<br style="line-height: 22px; ">return 0;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 示例结束* /<br style="line-height: 22px; ">编译后的运行结果如图1 0 - 4所示。尝试改变窗口尺寸，观察上下两部分是怎么变的，再试着改变一下上下两部分的相对比例，看看其效果。</p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><a href="http://img.blog.163.com/photo/3wdwlnfIdds6GCZjLEXdbw==/891994201197183685.jpg" target="_blank" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank"><img alt="GTK+2.0-----容器构件GtkContainer - 垒 - jiangbowen1_qd的博客" src="http://img.blog.163.com/photo/3wdwlnfIdds6GCZjLEXdbw==/891994201197183685.jpg" style="line-height: 22px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; max-width: 100%; "></a><br style="line-height: 22px; ">图10-4 分栏窗口示例</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; ">视角构件GtkViewport<br style="line-height: 38px; "></font></strong>一般很少直接使用G t k Vi e w p o r t (视角构件)。多数情况下是使用分栏窗口构件，由分栏窗口构件使用视角构件。视角构件允许在其中放置一个较大的构件，这样可以一次只看到构件的一部分。它用调整对象定义要显示的区域。用以下函数创建视角构件。<br style="line-height: 22px; ">GtkWidget *gtk_viewport_new( GtkAdjustment *hadjustment,GtkAdjustment *vadjustment );<br style="line-height: 22px; ">可以看到，创建构件时能够指定构件使用的水平和垂直调整对象。如果给函数传递一个N U L L参数，构件会自己创建一个调整对象。<br style="line-height: 22px; ">创建构件后，可以用以下函数设置和取得它的调整对象：<br style="line-height: 22px; ">GtkAdjustment *gtk_viewport_get_hadjustment (GtkViewport *viewport );<br style="line-height: 22px; ">GtkAdjustment *gtk_viewport_get_vadjustment (GtkViewport *viewport );<br style="line-height: 22px; ">void gtk_viewport_set_hadjustment( GtkViewport *viewport,GtkAdjustment *adjustment );<br style="line-height: 22px; ">void gtk_viewport_set_vadjustment( GtkViewport *viewport,GtkAdjustment *adjustment );<br style="line-height: 22px; ">下面的函数可用于改变视角构件的外观：<br style="line-height: 22px; ">void gtk_viewport_set_shadow_type( GtkViewport *viewport,GtkShadowType type );<br style="line-height: 22px; ">Ty p e参数可以取以下值：<br style="line-height: 22px; ">G T K _ S H A D O W _ N O N E ,<br style="line-height: 22px; ">G T K _ S H A D O W _ I N ,<br style="line-height: 22px; ">G T K _ S H A D O W _ O U T,<br style="line-height: 22px; ">G T K _ S H A D O W _ E T C H E D _ I N ,<br style="line-height: 22px; ">G T K _ S H A D O W _ E T C H E D _ O U T</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; ">滚动窗口构件GtkScrolledWindow</font></strong><br style="line-height: 22px; ">G t k S c r o l l e d Wi n d o w (滚动窗口构件)用于创建一个可滚动区域，并将其他构件放入其中。<br style="line-height: 22px; ">可以在滚动窗口中插入任何其他构件，在其内部的构件不论尺寸大小都可以通过滚动条访问到。<br style="line-height: 22px; ">用下面的函数创建新的滚动窗口构件。<br style="line-height: 22px; ">GtkWidget *gtk_scrolled_window_new( GtkAdjustment *hadjustment,GtkAdjustment *vadjustment );<br style="line-height: 22px; ">第一个参数是水平方向的调整对象，第二个参数是垂直方向的调整对象。它们总是设置为N U L L。<br style="line-height: 22px; ">void gtk_scrolled_window_set_policy( GtkScrolledWindow *scw ir no dl ol we ,d_<br style="line-height: 22px; ">GtkPolicyType hscrollbar_policy,<br style="line-height: 22px; ">GtkPolicyType vscrollbar_policy );<br style="line-height: 22px; ">这个函数可以设置滚动条出现的方式。第一个参数是要设置的滚动窗口构件，第二个设置水平滚动条出现的方式，第三个参数设置垂直滚动条的方式。<br style="line-height: 22px; ">滚动条的方式取值可以为G T K _ P O L I C Y _ A U TO M AT I C或G T K _ P O L I C Y _ A LWAY S。当要求滚动条根据需要自动出现时， 可设为G T K _ P O L I C Y _ A U TO M AT I C ；若设为G T K _ P O L I C Y _ A LWAY S，滚动条会一直出现在滚动窗口构件上。<br style="line-height: 22px; ">可以用以下函数将构件放在滚动窗口构件上：<br style="line-height: 22px; ">void gtk_scrolled_window_add_with_viewport(<br style="line-height: 22px; ">GtkScrolledWindow *scrolled_window,<br style="line-height: 22px; ">GtkWidget *child);<br style="line-height: 22px; ">下面是一个简单例子：在滚动窗口构件中放置一个表格构件，并在表格中放1 0 0个开关按钮。<br style="line-height: 22px; ">/* 滚动窗口示例开始scrolledwin.c */<br style="line-height: 22px; ">#include &lt;gtk/gtk.h&gt;<br style="line-height: 22px; ">void destroy(GtkWidget *widget, gpointer data)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">g t k _ m a i n _ q u i t ( ) ;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">int main (int argc, char *argv[])<br style="line-height: 22px; ">{<br style="line-height: 22px; ">static GtkWidget *window;<br style="line-height: 22px; ">GtkWidget *scrolled_window;<br style="line-height: 22px; ">GtkWidget *table;<br style="line-height: 22px; ">GtkWidget *button;<br style="line-height: 22px; ">char buffer[32];<br style="line-height: 22px; ">int i, j;<br style="line-height: 22px; ">gtk_init (&amp;argc, &amp;argv);<br style="line-height: 22px; ">/* 创建一个新的对话框构件，滚动窗口构件就放在这个窗口上* /<br style="line-height: 22px; ">window = gtk_dialog_new ();<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (window), "destroy",<br style="line-height: 22px; ">(GtkSignalFunc) destroy, NULL);<br style="line-height: 22px; ">gtk_window_set_title (GTK_WINDOW (window), "GtkScrolledWindow example");<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (window), 0);<br style="line-height: 22px; ">gtk_widget_set_usize(window, 300, 300);<br style="line-height: 22px; ">/* 创建一个新的滚动窗口构件* /<br style="line-height: 22px; ">scrolled_window = gtk_scrolled_window_new (NULL, NULL);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (scrolled_window), 10);<br style="line-height: 22px; ">/* 滚动条的出现方式可以是GTK_POLICY AUTOMAT或ICG T K _ P O L I C Y _ A L W A Y S。<br style="line-height: 22px; ">* 设为G T K _ P O L I C Y _ A U T O M A T I C将自动决定是否需要出现滚动条<br style="line-height: 22px; ">* 而设为G T K _ P O L I C Y _ A L W A Y S，将一直显示一个滚动条<br style="line-height: 22px; ">* 第一个是水平滚动条，第二个是垂直滚动条<br style="line-height: 22px; ">* */<br style="line-height: 22px; ">gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolled_window),<br style="line-height: 22px; ">GTK_POLICY_AUTOMATIC,G T K _ P O L I C Y _ A L W A Y S ) ;<br style="line-height: 22px; ">/* 对话框窗口内部包含一个v b o x构件*/<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (GTK_DIALOG(window)-&gt;vbox), scrolled_window,TRUE, TRUE, 0);<br style="line-height: 22px; ">gtk_widget_show (scrolled_window);<br style="line-height: 22px; ">/* 创建一个包含1 0×1 0个方格的表格GtkTable */<br style="line-height: 22px; ">table = gtk_table_new (10, 10, FALSE);<br style="line-height: 22px; ">/* 设置x和y方向的行间间距为1 0像素* /<br style="line-height: 22px; ">gtk_table_set_row_spacings (GTK_TABLE (table), 10);<br style="line-height: 22px; ">gtk_table_set_col_spacings (GTK_TABLE (table), 10);<br style="line-height: 22px; ">/* 将表格组装到滚动窗口构件中* /<br style="line-height: 22px; ">gtk_scrolled_window_add_with_viewport (<br style="line-height: 22px; ">GTK_SCROLLED_WINDOW (scrolled_window), table);<br style="line-height: 22px; ">gtk_widget_show (table);<br style="line-height: 22px; ">/* 在表格中添加切换按钮以展示滚动窗口构件* /<br style="line-height: 22px; ">for (i = 0; i &lt; 10; i++)<br style="line-height: 22px; ">for (j = 0; j &lt; 10; j++) {<br style="line-height: 22px; ">sprintf (buffer, "button (%d,%d)\n", i, j);<br style="line-height: 22px; ">button = gtk_toggle_button_new_with_label (buffer);<br style="line-height: 22px; ">gtk_table_attach_defaults (GTK_TABLE (table), button,<br style="line-height: 22px; ">i, i+1, j, j+1);<br style="line-height: 22px; ">gtk_widget_show (button);<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 在对话框的底部添加一个" c l o s e "按钮* /<br style="line-height: 22px; ">button = gtk_button_new_with_label ("close");<br style="line-height: 22px; ">gtk_signal_connect_object (GTK_OBJECT (button), "clicked",<br style="line-height: 22px; ">(GtkSignalFunc) gtk_widget_destroy,<br style="line-height: 22px; ">GTK_OBJECT (window));<br style="line-height: 22px; ">/* 让按钮成为缺省按钮* /<br style="line-height: 22px; ">GTK_WIDGET_SET_FLAGS (button, GTK_CAN_DEFAULT);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (GTK_DIALOG (window)-&gt;action_area),button, TRUE, TRUE, 0);<br style="line-height: 22px; ">/* 让按钮固定为缺省按钮，只要按回车键就相当于点击了这个按钮* /<br style="line-height: 22px; ">gtk_widget_grab_default (button);<br style="line-height: 22px; ">gtk_widget_show (button);<br style="line-height: 22px; ">gtk_widget_show (window);<br style="line-height: 22px; ">g t k _ m a i n ( ) ;<br style="line-height: 22px; ">r e t u r n ( 0 ) ;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 示例结束* /<br style="line-height: 22px; ">编译后，示例的运行结果如图1 0 - 5所示。尝试改变窗口的大小，可以看到滚动条是如何起作用的。还可以用g t k _ w i d g e t_set_usize() 函数设置窗口或构件的缺省尺寸。</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; ">按钮盒构件GtkButtonBox</font></strong><br style="line-height: 22px; ">G t k B u t t o n B o x (按钮盒构件)可以很方便地快速布置一组按钮。它有水平和垂直两种样式。<br style="line-height: 22px; ">你可以用以下函数创建垂直或水平按钮盒：<br style="line-height: 22px; ">GtkWidget *gtk_hbutton_box_new( void );<br style="line-height: 22px; ">GtkWidget *gtk_vbutton_box_new( void );<br style="line-height: 22px; ">与按钮盒相关的唯一属性是按钮如何放置。可以用以下函数改变按钮间的间距：<br style="line-height: 22px; ">void gtk_hbutton_box_set_spacing_default( gint spacing );<br style="line-height: 22px; ">void gtk_vbutton_box_set_spacing_default( gint spacing );<br style="line-height: 22px; ">与此相似，可以用下面的函数取得当前的间距值：<br style="line-height: 22px; ">gint gtk_hbutton_box_get_spacing_default( void );<br style="line-height: 22px; ">gint gtk_vbutton_box_get_spacing_default( void );<br style="line-height: 22px; ">我们能访问的第二个属性会影响按钮在按钮盒中的布局。可以用下面的函数设置它：<br style="line-height: 22px; ">void gtk_hbutton_box_set_layout_default( GtkButtonBoxStyle layout );<br style="line-height: 22px; ">void gtk_vbutton_box_set_layout_default( GtkButtonBoxStyle layout );<br style="line-height: 22px; ">l a y o u t参数可以取以下值：<br style="line-height: 22px; ">G T K _ B U T TO N B O X _ D E FA U LT _ S T Y L E<br style="line-height: 22px; ">G T K _ B U T TO N B O X _ S P R E A D<br style="line-height: 22px; ">G T K _ B U T TO N B O X _ E D G E<br style="line-height: 22px; ">G T K _ B U T TO N B O X _ S TA RT<br style="line-height: 22px; ">G T K _ B U T TO N B O X _ E N D</p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><a href="http://img.blog.163.com/photo/uN07vMP5CxyIGP0hiBUyXQ==/891994201197183688.jpg" target="_blank" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank"><img alt="GTK+2.0-----容器构件GtkContainer - 垒 - jiangbowen1_qd的博客" src="http://img.blog.163.com/photo/uN07vMP5CxyIGP0hiBUyXQ==/891994201197183688.jpg" style="line-height: 22px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; max-width: 100%; "></a></p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">图10-5 滚动窗口构件</p><p align="left" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><br style="line-height: 22px; "><br style="line-height: 22px; ">当前的布局设置可以用以下函数取得：<br style="line-height: 22px; ">GtkButtonBoxStyle gtk_hbutton_box_get_layout_default( void );<br style="line-height: 22px; ">GtkButtonBoxStyle gtk_vbutton_box_get_layout_default( void );<br style="line-height: 22px; ">用以下函数可以将按钮添加到按钮盒中：<br style="line-height: 22px; ">gtk_container_add( GTK_CONTAINER(button_box), child_widget );<br style="line-height: 22px; ">下面的例子演示了按钮盒的不同布局设置。<br style="line-height: 22px; ">/* 按钮盒示例开始buttonbox.c */<br style="line-height: 22px; ">#include &lt;gtk/gtk.h&gt;<br style="line-height: 22px; ">/* 用指定的参数创建一个按钮盒* /<br style="line-height: 22px; ">GtkWidget *create_bbox (gint horizontal,<br style="line-height: 22px; ">char* title,<br style="line-height: 22px; ">gint spacing,<br style="line-height: 22px; ">gint child_w,<br style="line-height: 22px; ">gint child_h,<br style="line-height: 22px; ">gint layout)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">GtkWidget *frame;<br style="line-height: 22px; ">GtkWidget *bbox;<br style="line-height: 22px; ">GtkWidget *button;<br style="line-height: 22px; ">frame = gtk_frame_new (title);<br style="line-height: 22px; ">if (horizontal)<br style="line-height: 22px; ">bbox = gtk_hbutton_box_new ();<br style="line-height: 22px; ">e l s e<br style="line-height: 22px; ">bbox = gtk_vbutton_box_new ();<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (bbox), 5);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (frame), bbox);<br style="line-height: 22px; ">/* 设置按钮盒的外观* /<br style="line-height: 22px; ">gtk_button_box_set_layout (GTK_BUTTON_BOX (bbox), layout);<br style="line-height: 22px; ">gtk_button_box_set_spacing (GTK_BUTTON_BOX (bbox), spacing);<br style="line-height: 22px; ">gtk_button_box_set_child_size (GTK_BUTTON_BOX (bbox), child_w, child_h);<br style="line-height: 22px; ">button = gtk_button_new_with_label ("OK");<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (bbox), button);<br style="line-height: 22px; ">button = gtk_button_new_with_label ("Cancel");<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (bbox), button);<br style="line-height: 22px; ">button = gtk_button_new_with_label ("Help");<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (bbox), button);<br style="line-height: 22px; ">r e t u r n ( f r a m e ) ;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">int main( int argc,<br style="line-height: 22px; ">char *argv[] )<br style="line-height: 22px; ">{<br style="line-height: 22px; ">static GtkWidget* window = NULL;<br style="line-height: 22px; ">GtkWidget *main_vbox;<br style="line-height: 22px; ">GtkWidget *vbox;<br style="line-height: 22px; ">GtkWidget *hbox;<br style="line-height: 22px; ">GtkWidget *frame_horz;<br style="line-height: 22px; ">GtkWidget *frame_vert;<br style="line-height: 22px; ">/* 初始化GTK */<br style="line-height: 22px; ">gtk_init( &amp;argc, &amp;argv );<br style="line-height: 22px; ">window = gtk_window_new (GTK_WINDOW_TOPLEVEL);<br style="line-height: 22px; ">gtk_window_set_title (GTK_WINDOW (window), "Button Boxes");<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (window), "destroy",<br style="line-height: 22px; ">G T K _ S I G N A L _ F U N C ( g t k _ m a i n _ q u i t ) ,<br style="line-height: 22px; ">N U L L ) ;<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (window), 10);<br style="line-height: 22px; ">main_vbox = gtk_vbox_new (FALSE, 0);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (window), main_vbox);<br style="line-height: 22px; ">frame_horz = gtk_frame_new ("Horizontal Button Boxes");<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (main_vbox), frame_horz, TRUE, TRUE, 10);<br style="line-height: 22px; ">vbox = gtk_vbox_new (FALSE, 0);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (vbox), 10);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (frame_horz), vbox);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (vbox),create_bbox (TRUE, "Spread (spacing 40)",<br style="line-height: 22px; ">40, 85, 20, GTK_BUTTONBOX_SPREAD),TRUE, TRUE, 0);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (vbox),create_bbox (TRUE, "Edge (spacing 30)",<br style="line-height: 22px; ">30, 85, 20, GTK_BUTTONBOX_EDGE),TRUE, TRUE, 5);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (vbox),create_bbox (TRUE, "Start (spacing 20)",<br style="line-height: 22px; ">20, 85, 20, GTK_BUTTONBOX_START),TRUE, TRUE, 5);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (vbox),create_bbox (TRUE, "End (spacing 10)",10, 85, 20, GTK_BUTTONBOX_END),TRUE, TRUE, 5);<br style="line-height: 22px; "><br style="line-height: 22px; ">frame_vert = gtk_frame_new ("Vertical Button Boxes");<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (main_vbox), frame_vert, TRUE, TRUE, 10);<br style="line-height: 22px; ">hbox = gtk_hbox_new (FALSE, 0);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (hbox), 10);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (frame_vert), hbox);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (hbox),<br style="line-height: 22px; ">create_bbox (FALSE, "Spread (spacing 5)",5, 85, 20, GTK_BUTTONBOX_SPREAD),TRUE, TRUE, 0);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (hbox),create_bbox (FALSE, "Edge (spacing 30)",30, 85, 20, GTK_BUTTONBOX_EDGE),TRUE, TRUE, 5);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (hbox),create_bbox (FALSE, "Start (spacing 20)",20, 85, 20, GTK_BUTTONBOX_START),TRUE, TRUE, 5);<br style="line-height: 22px; ">gtk_box_pack_start (GTK_BOX (hbox),create_bbox (FALSE, "End (spacing 20)",<br style="line-height: 22px; ">20, 85, 20, GTK_BUTTONBOX_END),TRUE, TRUE, 5);<br style="line-height: 22px; ">gtk_widget_show_all (window);<br style="line-height: 22px; ">/* 进入事件循环* /<br style="line-height: 22px; ">gtk_main ();<br style="line-height: 22px; ">r e t u r n ( 0 ) ;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 示例结束* /<br style="line-height: 22px; ">以上代码的执行效果如图1 0 - 6所示。其中演示了按钮盒的各种组织方式。</p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><a href="http://img.blog.163.com/photo/rnW1E9KmmZVFdBIUAkdD4Q==/2576058986856977509.jpg" target="_blank" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank"><img alt="GTK+2.0-----容器构件GtkContainer - 垒 - jiangbowen1_qd的博客" src="http://img.blog.163.com/photo/rnW1E9KmmZVFdBIUAkdD4Q==/2576058986856977509.jpg" style="line-height: 22px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; max-width: 100%; "></a><br style="line-height: 22px; ">图10-6 按钮盒</p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; ">工具条构件GtkToolbar</font></strong><br style="line-height: 22px; ">G t k To o l b a r (工具条构件)是非常常见的构件。它实际上是一个容器，你在上面可以添加各种各样的其他构件。最常见的情况是在上面添加普通按钮构件、开关按钮构件、无线按钮构件等。当然，也可以添加G t k Tr e e等构件。不过，这样可能会使工具条看起来有点古怪。<br style="line-height: 22px; ">应用程序的图形用户接口一般都会向同一个功能或者操作提供多种访问方式。例如，打开文件的功能可以通过“文件/打开”菜单项完成，或者通过快捷键C t r l＋O（同时按下C t r l键和字母O键），或者通过点击工具条上的“打”按钮。工具条将一些构件分组，这样能够简化定制它们的外观和布局。典型情况下工具条由带图标和标签以及工具提示的按钮组成，不过，其他构件也可以放在工具条里面。按钮可以水平或垂直排列，还可以显示图标或标签，或者两者都显示。<br style="line-height: 22px; ">一般情况下，在普通G t k Wi n d o w构件上创建的工具条是不能浮动的，也就是说，它不能脱离窗口。如果使用G n o m e A p p构件作为应用程序的主窗口，在G n o m e A p p上就以一个G t k H a n d l e B o x作为容器容纳工具条，这样创建的工具条可以拖动离开主窗口，浮动在桌面上，可以给人非常新颖的感觉。另外，用下面的方法创建工具条比较复杂。G n o m e库提供了一种G n o m e U I I n f o模板，用于创建工具条和菜单非常方便。请参看后面的相关章节。用以下函数创建工具条：<br style="line-height: 22px; ">GtkWidget *gtk_toolbar_new( GtkOrientation orientation,GtkToolbarStyle style );<br style="line-height: 22px; ">O r i e n t a t i o n参数可以取以下值：<br style="line-height: 22px; ">G T K _ O R I E N TAT I O N _ H O R I Z O N TAL<br style="line-height: 22px; ">G T K _ O R I E N TAT I O N _ V E RT I C A L<br style="line-height: 22px; ">S t y l e参数可以取以下值：<br style="line-height: 22px; ">G T K _ TO O L B A R _ T E X T<br style="line-height: 22px; ">G T K _ TO O L B A R _ I C O N S<br style="line-height: 22px; ">G T K _ TO O L B A R _ B O T H<br style="line-height: 22px; ">s t y l e参数适用于所有用与“ i t e m”相关的函数创建的按钮(不包括作为分离构件插入到工具条的按钮)。<br style="line-height: 22px; ">创建工具条以后，可以向其中追加、前插和插入工具条项（这里意指简单文本字符串或元素（这里意指任何构件类型）。要想描述一个工具条上的对象，需要一个标签文本、一个工具提示文本、一个私有工具提示文本、一个图标和一个回调函数。例如，要前插或追加一个按钮，应该使用下面的函数。<br style="line-height: 22px; ">向工具条上追加（添加在其他所有构件的后面）构件：<br style="line-height: 22px; ">GtkWidget *gtk_toolbar_append_item( GtkToolbar *toolbar,<br style="line-height: 22px; ">const char *text,<br style="line-height: 22px; ">const char *tooltip_text,<br style="line-height: 22px; ">const char *tooltip_private_text,<br style="line-height: 22px; ">GtkWidget *icon,<br style="line-height: 22px; ">GtkSignalFunc callback,<br style="line-height: 22px; ">gpointer user_data );<br style="line-height: 22px; ">向工具条上前插（添加在其他所有构件的前面）构件：<br style="line-height: 22px; ">GtkWidget *gtk_toolbar_prepend_item( GtkToolbar *toolbar,<br style="line-height: 22px; ">const char *text,<br style="line-height: 22px; ">const char *tooltip_text,<br style="line-height: 22px; ">const char *tooltip_private_text,<br style="line-height: 22px; ">GtkWidget *icon,<br style="line-height: 22px; ">GtkSignalFunc callback,<br style="line-height: 22px; ">gpointer user_data );<br style="line-height: 22px; ">如果要使用g t k _ t o o l b a r _ i n s e r t _ i t e m函数，除上面函数中要指定的参数以外，还要指定插入对象的位置，形式如下：<br style="line-height: 22px; ">GtkWidget *gtk_toolbar_insert_item( GtkToolbar *toolbar,<br style="line-height: 22px; ">const char *text,<br style="line-height: 22px; ">const char *tooltip_text,<br style="line-height: 22px; ">const char *tooltip_private_text,<br style="line-height: 22px; ">GtkWidget *icon,<br style="line-height: 22px; ">GtkSignalFunc callback,<br style="line-height: 22px; ">gpointer user_data,<br style="line-height: 22px; ">gint position );<br style="line-height: 22px; ">要简化在工具条项之间添加空白区域，可以使用下面的函数。<br style="line-height: 22px; ">在工具条上追加空白区域：<br style="line-height: 22px; ">void gtk_toolbar_append_space( GtkToolbar *toolbar );<br style="line-height: 22px; ">在工具条上前插空白区域：<br style="line-height: 22px; ">void gtk_toolbar_prepend_space( GtkToolbar *toolbar );<br style="line-height: 22px; ">在工具条上的p o s i t i o n位置插入空白区域：<br style="line-height: 22px; ">void gtk_toolbar_insert_space( GtkToolbar *toolbar,<br style="line-height: 22px; ">gint position );<br style="line-height: 22px; ">可以用下面的函数设置整个工具条上的空白区域的大小：<br style="line-height: 22px; ">void gtk_toolbar_set_space_size( GtkToolbar *toolbar,<br style="line-height: 22px; ">gint space_size) ;<br style="line-height: 22px; ">如果需要，工具条的放置方向和它的式样可以在运行时用下面的函数设置。<br style="line-height: 22px; ">设置工具条的放置方向：<br style="line-height: 22px; ">void gtk_toolbar_set_orientation( GtkToolbar *toolbar,<br style="line-height: 22px; ">GtkOrientation orientation );<br style="line-height: 22px; ">设置工具条的样式：<br style="line-height: 22px; ">void gtk_toolbar_set_style( GtkToolbar *toolbar,<br style="line-height: 22px; ">GtkToolbarStyle style );<br style="line-height: 22px; ">启用或者禁用工具条的工具提示文本：<br style="line-height: 22px; ">void gtk_toolbar_set_tooltips( GtkToolbar *toolbar,<br style="line-height: 22px; ">gint enable );<br style="line-height: 22px; ">其中，e n a b l e设为T R U E则启用工具提示文本，否则，禁止显式工具提示文本。<br style="line-height: 22px; ">上面第一个函数中的o r i e n t a t i o n参数是枚举值，可以取G T K _ O R I E N TAT I O N _ H O R I Z O N TA L<br style="line-height: 22px; ">或G T K _ O R I E N TAT I O N _ V E RT I C A L。s t y l e参数用于设置工具条项的外观，可以取<br style="line-height: 22px; ">G T K _ TO O L B A R _ I C O N S（只显示图标）， G T K _ TO O L B A R _ T E X T（只显示文本）或<br style="line-height: 22px; ">G T K _ TO O L B A R _ B O T H（同时显示图标和文本）。<br style="line-height: 22px; ">要想了解工具条能做什么，看一看下面的程序(在代码之间我们插入了一些解释):<br style="line-height: 22px; ">#include &lt;gtk/gtk.h&gt;<br style="line-height: 22px; ">#include "gtk.xpm"<br style="line-height: 22px; ">/* 这个函数连接到" c l o s e "按钮或者从窗口管理器关闭窗口的事件上* /<br style="line-height: 22px; ">void delete_event (GtkWidget *widget, GdkEvent *event, gpointer data)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">gtk_main_quit ();<br style="line-height: 22px; ">}<br style="line-height: 22px; ">上面的代码和其他的G T K应用程序差别不大，有一点不同的是：我们包含了一个漂亮的X P M图片，用作所有按钮的图标。<br style="line-height: 22px; ">GtkWidget* close_button; 按/*钮 ，引发一个信号以关闭应用程序* /<br style="line-height: 22px; ">GtkWidget* tooltips_button; 启/用* /禁用工具提示* /<br style="line-height: 22px; ">GtkWidget* text_button,<br style="line-height: 22px; ">* icon_button,<br style="line-height: 22px; ">* both_button; /无* 线按钮* /<br style="line-height: 22px; ">GtkWidget* entry; /一*个 文本输入构件，用于显示组装到工具条上的构件* /<br style="line-height: 22px; ">事实上，不是上面所有的构件都是必须的，我把它们放在一起，是为了让事情更清晰。<br style="line-height: 22px; ">/* 当按钮进行状态切换时，我们检查哪一个按钮是活动的，依此设置工具条的式样<br style="line-height: 22px; ">* 注意，工具条是作为用户数据传递到回调函数的* /<br style="line-height: 22px; ">void radio_event (GtkWidget *widget, gpointer data)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">if (GTK_TOGGLE_BUTTON (text_button)-&gt;active)<br style="line-height: 22px; ">gtk_toolbar_set_style(GTK_TOOLBAR ( data ), GTK_TOOLBAR_TEXT);<br style="line-height: 22px; ">else if (GTK_TOGGLE_BUTTON (icon_button)-&gt;active)<br style="line-height: 22px; ">gtk_toolbar_set_style(GTK_TOOLBAR ( data ), GTK_TOOLBAR_ICONS);<br style="line-height: 22px; ">else if (GTK_TOGGLE_BUTTON (both_button)-&gt;active)<br style="line-height: 22px; ">gtk_toolbar_set_style(GTK_TOOLBAR ( data ), GTK_TOOLBAR_BOTH);<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 检查给定开关按钮的状态，依此启用或禁用工具提示* /<br style="line-height: 22px; ">void toggle_event (GtkWidget *widget, gpointer data)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">gtk_toolbar_set_tooltips (GTK_TOOLBAR ( data ),<br style="line-height: 22px; ">GTK_TOGGLE_BUTTON (widget)-&gt;active );<br style="line-height: 22px; ">}<br style="line-height: 22px; ">上面是当工具条上的一个按钮被按下时要调用的两个回调函数。<br style="line-height: 22px; ">int main (int argc, char *argv[])<br style="line-height: 22px; ">{<br style="line-height: 22px; ">/* 下面创建主窗口（一个对话框）和一个G t k H a n d l e构件* /<br style="line-height: 22px; ">GtkWidget* dialog;<br style="line-height: 22px; ">GtkWidget* handlebox;<br style="line-height: 22px; ">GtkWidget * toolbar;<br style="line-height: 22px; ">GdkPixmap * icon;<br style="line-height: 22px; ">GdkBitmap * mask;<br style="line-height: 22px; ">GtkWidget * iconw;<br style="line-height: 22px; ">/* 初始化GTK */<br style="line-height: 22px; ">gtk_init (&amp;argc, &amp;argv);<br style="line-height: 22px; ">/* 用给定的标题和尺寸创建一个新窗口* /<br style="line-height: 22px; ">dialog = gtk_dialog_new ();<br style="line-height: 22px; ">gtk_window_set_title ( GTK_WINDOW ( dialog ) , "GTKToolbar Tutorial");<br style="line-height: 22px; ">gtk_widget_set_usize( GTK_WIDGET ( dialog ) , 600 , 300 );<br style="line-height: 22px; ">GTK_WINDOW ( dialog ) -&gt;allow_shrink = TRUE;<br style="line-height: 22px; ">/* 在关闭窗口时退出* /<br style="line-height: 22px; ">gtk_signal_connect ( GTK_OBJECT ( dialog ), "delete_event",<br style="line-height: 22px; ">GTK_SIGNAL_FUNC ( delete_event ), NULL);<br style="line-height: 22px; ">/* 需要显现窗口，因为我们要在它的环境中为工具条设置图片* /<br style="line-height: 22px; ">gtk_widget_realize ( dialog );<br style="line-height: 22px; ">/* 我们将工具条放在一个手柄构件（ G t k H a n d l e）上，<br style="line-height: 22px; ">* 这样它可以从主窗口上移开* /<br style="line-height: 22px; ">handlebox = gtk_handle_box_new ();<br style="line-height: 22px; ">gtk_box_pack_start ( GTK_BOX ( GTK_DIALOG(dialog)-&gt;vbox ),<br style="line-height: 22px; ">handlebox, FALSE, FALSE, 5 );<br style="line-height: 22px; ">上面的代码和任何其他G t k应用程序都差不多。它们进行G T K初始化，创建主窗口等。唯<br style="line-height: 22px; ">一需要解释的是： G t k H a n d l e b o x (手柄盒构件)。手柄盒构件只是一个可以在其中组装构件的盒子。它和普通盒子的区别在于它能从一个父窗口移开(事实上，手柄盒构件保留在父窗口上，但是它缩小为一个非常小的矩形，同时它的所有内容重新放在一个新的可自由移动的浮动窗口上)。拥有一个可浮动工具条给人感觉非常好，所以这两种构件经常同时使用。<br style="line-height: 22px; ">/* 工具条设置为水平的，同时带有图标和文本<br style="line-height: 22px; ">* 在每个项之间有5像素的间距，<br style="line-height: 22px; ">* 并且，我们将它们全部放在手柄盒构件上* /<br style="line-height: 22px; ">toolbar = gtk_toolbar_new ( GTK_ORIENTATION_HORIZONTAL,GTK_TOOLBAR_BOTH );<br style="line-height: 22px; ">gtk_container_set_border_width ( GTK_CONTAINER ( toolbar ) , 5 );<br style="line-height: 22px; ">gtk_toolbar_set_space_size ( GTK_TOOLBAR ( toolbar ), 5 );<br style="line-height: 22px; ">gtk_container_add ( GTK_CONTAINER ( handlebox ) , toolbar );<br style="line-height: 22px; ">icon = gdk_pixmap_create_from_xpm_d ( dialog-&gt;window, &amp;mask,&amp;dialog-&gt;style-&gt;white, gtk_xpm );<br style="line-height: 22px; ">上面的代码初始化工具条，并创建了一个G D K P i x m a p图片。<br style="line-height: 22px; ">/* 工具条上第一项是" c l o s e "按钮* /<br style="line-height: 22px; ">iconw = gtk_pixmap_new ( icon, mask );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*图标构件* /<br style="line-height: 22px; ">close_button =<br style="line-height: 22px; ">gtk_toolbar_append_item ( GTK_TOOLBAR (toolbar),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;/*工具条/* /<br style="line-height: 22px; ">"Close",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*按钮标签* /<br style="line-height: 22px; ">"Closes this app",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; /*按钮的工具提示* /<br style="line-height: 22px; ">"Private",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;/*工具提示私有信息* /<br style="line-height: 22px; ">iconw,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*图标构件* /<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (delete_event),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*一个信号* /<br style="line-height: 22px; ">NULL );<br style="line-height: 22px; ">gtk_toolbar_append_space ( GTK_TOOLBAR ( toolbar ) );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*按钮之间的空白* /<br style="line-height: 22px; ">在上面的代码中，可以看到最简单的情况：在工具条上增加一个按钮。在追加一个新的工具条项前，必须构造一个p i x m a p构件用作该项的图标，这个步骤我们要对每一个工具条项重复一次。在工具条项之间还要增加分隔空间，这样后面的工具条项就不会一个接一个紧挨着。可以看到，g t k _ t o o l b a r _ a p p e n d _ i t e m返回一个指向新创建的按钮构件的指针，所以我们可以用正常的方式使用它。<br style="line-height: 22px; ">/* 现在，我们创建无线按钮组* /<br style="line-height: 22px; ">iconw = gtk_pixmap_new ( icon, mask );<br style="line-height: 22px; ">icon_button = gtk_toolbar_append_element(<br style="line-height: 22px; ">G T K _ T O O L B A R ( t o o l b a r ) ,<br style="line-height: 22px; ">GTK_TOOLBAR_CHILD_RADIOBUTTON,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*元素的类型* /<br style="line-height: 22px; ">NULL,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*指向构件的指针* /<br style="line-height: 22px; ">"Icon",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*标签* /<br style="line-height: 22px; ">"Only icons in toolbar",&nbsp;&nbsp;/* 工具提示* /<br style="line-height: 22px; ">"Private",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*工具提示私有字符串* /<br style="line-height: 22px; ">iconw,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*图标 * /<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (radio_event),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*信号 * /<br style="line-height: 22px; ">toolbar);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*信号传递的数据* /<br style="line-height: 22px; ">gtk_toolbar_append_space ( GTK_TOOLBAR ( toolbar ) );<br style="line-height: 22px; ">这里我们通过使用g t k _ t o o l b a r _ a p p e n d _ e l e m e n t函数创建了一个无线按钮组。事实上，使用这个函数，我们能够添加简单的工具条项，或者设置添加按钮间的分隔条(type = GTK_ TO O L B A R _ C H I L D _ S PACE 或G T K _ TO O L B A R _ C H I L D _ B U T TO N )。在上面的例子中，我们先创建了一个无线按钮组。要为这个组创建其他按钮，需要一个指向前一个按钮的指针，以便可以很容易地创建一列按钮。<br style="line-height: 22px; ">/* 下面引用的无线按钮就是前面创建的按钮* /<br style="line-height: 22px; ">iconw = gtk_pixmap_new ( icon, mask );<br style="line-height: 22px; ">text_button =<br style="line-height: 22px; ">g t k _ t o o l b a r _ a p p e n d _ e l e m e n t ( G T K _ T O O L B A R ( t o o l b a r ) ,<br style="line-height: 22px; ">G T K _ T O O L B A R _ C H I L D _ R A D I O B U T T O N ,<br style="line-height: 22px; ">i c o n _ b u t t o n ,<br style="line-height: 22px; ">" T e x t " ,<br style="line-height: 22px; ">"Only texts in toolbar",<br style="line-height: 22px; ">" P r i v a t e " ,<br style="line-height: 22px; ">i c o n w ,<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (radio_event),<br style="line-height: 22px; ">t o o l b a r ) ;<br style="line-height: 22px; ">gtk_toolbar_append_space ( GTK_TOOLBAR ( toolbar ) );<br style="line-height: 22px; ">iconw = gtk_pixmap_new ( icon, mask );<br style="line-height: 22px; ">both_button =<br style="line-height: 22px; ">g t k _ t o o l b a r _ a p p e n d _ e l e m e n t ( G T K _ T O O L B A R ( t o o l b a r ) ,<br style="line-height: 22px; ">G T K _ T O O L B A R _ C H I L D _ R A D I O B U T T O N ,<br style="line-height: 22px; ">t e x t _ b u t t o n ,<br style="line-height: 22px; ">" B o t h " ,<br style="line-height: 22px; ">"Icons and text in toolbar",<br style="line-height: 22px; ">" P r i v a t e " ,<br style="line-height: 22px; ">i c o n w ,<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (radio_event),<br style="line-height: 22px; ">t o o l b a r ) ;<br style="line-height: 22px; ">gtk_toolbar_append_space ( GTK_TOOLBAR ( toolbar ) );<br style="line-height: 22px; ">g t k _ t o g g l e _ b u t t o n _ s e t _ a c t i v e ( G T K _ T O G G L E _ B U T T O N ( b o t h _ b u t t o n ) , T R U E ) ;<br style="line-height: 22px; ">最后，我们必须手工设置其中一个按钮的状态(否则它们全部保留为活动状态，并阻止我们在它们之间进行状态切换)。<br style="line-height: 22px; ">/* 下面只是一个简单的开关按钮* /<br style="line-height: 22px; ">iconw = gtk_pixmap_new ( icon, mask );<br style="line-height: 22px; ">tooltips_button =<br style="line-height: 22px; ">g t k _ t o o l b a r _ a p p e n d _ e l e m e n t ( G T K _ T O O L B A R ( t o o l b a r ) ,<br style="line-height: 22px; ">G T K _ T O O L B A R _ C H I L D _ T O G G L E B U T T O N ,<br style="line-height: 22px; ">N U L L ,<br style="line-height: 22px; ">" T o o l t i p s " ,<br style="line-height: 22px; ">"Toolbar with or without tips",<br style="line-height: 22px; ">" P r i v a t e " ,<br style="line-height: 22px; ">i c o n w ,<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (toggle_event),<br style="line-height: 22px; ">t o o l b a r ) ;<br style="line-height: 22px; ">gtk_toolbar_append_space ( GTK_TOOLBAR ( toolbar ) );<br style="line-height: 22px; ">g t k _ t o g g l e _ b u t t o n _ s e t _ a c t i v e ( G T K _ T O G G L E _ B U T T O N ( t o o l t i p s _ b u t t o n ) , T R U E ) ;<br style="line-height: 22px; ">/* 要将一个构件组装到工具条上，只需创建它，然后将它追 加到工具条上，同时设置合适的工具提示* /<br style="line-height: 22px; ">entry = gtk_entry_new ();<br style="line-height: 22px; ">gtk_toolbar_append_widget( GTK_TOOLBAR (toolbar),<br style="line-height: 22px; ">entry,<br style="line-height: 22px; ">"This is just an entry",<br style="line-height: 22px; ">"Private" );<br style="line-height: 22px; ">/* 因为它不是在工具条上创建的，所以我们必须显示它* /<br style="line-height: 22px; ">gtk_widget_show ( entry );<br style="line-height: 22px; ">可以看到，将任何构件添加到工具条上都是非常简单的。唯一要记住的是，这个构件必须手工显示(与此相反，在工具条内创建的工具条项随工具条一起显示)。<br style="line-height: 22px; ">/* 好了，现在可以显示所有的东西了* /<br style="line-height: 22px; ">gtk_widget_show ( toolbar );<br style="line-height: 22px; ">gtk_widget_show (handlebox);<br style="line-height: 22px; ">gtk_widget_show ( dialog );<br style="line-height: 22px; ">/* 进入主循环，等待用户的操作* /<br style="line-height: 22px; ">gtk_main ();<br style="line-height: 22px; ">return 0;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">上面就是工具条教程的全部代码。当然，还需要一个漂亮的X P M图片。下面就是一个：<br style="line-height: 22px; ">/* XPM */<br style="line-height: 22px; ">static char * gtk_xpm[] = {<br style="line-height: 22px; ">"32 39 5 1",<br style="line-height: 22px; ">". c none",<br style="line-height: 22px; ">"+ c black",<br style="line-height: 22px; ">"@ c #3070E0",<br style="line-height: 22px; ">"# c #F05050",<br style="line-height: 22px; ">"$ c #35E035",<br style="line-height: 22px; ">" . . . . . . . . . . . . . . . . + . . . . . . . . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . . . . . . . . + + + + + . . . . . . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . . . . . . + + + + + @ @ + + . . . . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . . . . + + + + + @ @ @ @ @ @ + + . . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . . + + + + @ @ @ @ @ @ @ @ @ @ + + . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . + + + + @ @ + + + + + + + + @ @ @ + + . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . + + + @ @ @ + + + + + + + + + + + @ @ @ + + . . . . . " ,<br style="line-height: 22px; ">" . . . + + + @ @ @ @ + + + @ @ @ @ @ @ + + + + @ @ @ @ + . . . . " ,<br style="line-height: 22px; ">" . . + + + @ @ @ @ + + + @ @ @ @ @ @ @ @ + + + @ @ @ @ @ + + . . " ,<br style="line-height: 22px; ">" . + + @ @ @ @ @ @ + + + @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ + + " ,<br style="line-height: 22px; ">" . + # + @ @ @ @ @ @ + + @ @ @ @ + + + @ @ @ @ @ @ @ @ @ @ @ @ + " ,<br style="line-height: 22px; ">" . + # # + + @ @ @ @ + + + @ @ @ + + + + + @ @ @ @ @ @ @ @ $ @ . " ,<br style="line-height: 22px; ">" . + # # # + + @ @ @ @ + + + @ @ @ + + + @ @ @ @ @ + + $ $ $ @ . " ,<br style="line-height: 22px; ">" . + # # # # + + + @ @ @ + + + + + + + @ @ @ @ @ + @ $ $ $ $ @ . " ,<br style="line-height: 22px; ">" . + # # # # # + + + @ @ @ @ + + + @ @ @ @ + + @ $ $ $ $ $ $ + . " ,<br style="line-height: 22px; ">" . + # # # # # # + + + + @ @ @ @ @ @ @ + + @ $ $ $ $ $ $ $ $ + . " ,<br style="line-height: 22px; ">" . + # # # # # # # + # # + @ @ @ @ + + + $ $ $ $ $ $ @ @ $ $ + . " ,<br style="line-height: 22px; ">" . + # # # + + + # # + # # + @ @ + + @ $ $ $ $ $ $ + + $ $ $ + . " ,<br style="line-height: 22px; ">" . + # # # + + + + # # + # # + @ @ $ $ $ $ $ $ $ @ + @ $ $ @ + . " ,<br style="line-height: 22px; ">" . + # # # + + + + + + # + + + @ $ $ @ + @ $ $ @ + + $ $ $ @ + . " ,<br style="line-height: 22px; ">" . + # # # # + + + + + + + # + + $ $ @ + @ $ $ + + $ $ $ $ + . . " ,<br style="line-height: 22px; ">" . + + # # # # + + + + + + # + + $ $ @ + @ $ + + @ $ $ $ $ + . . " ,<br style="line-height: 22px; ">" . + # # # # # + + + + + # # + + $ $ + + @ + + + $ $ $ $ $ + . . " ,<br style="line-height: 22px; ">" . + + # # # # + + + # # + # + + $ $ + + + + + @ $ $ $ $ $ + . . " ,<br style="line-height: 22px; ">" . + + # # # # + + + # # # # + + $ $ + + + + + + @ $ $ $ @ + . . " ,<br style="line-height: 22px; ">" . + # # # # # + + # # # # # + + $ $ + + + @ + + + + @ $ @ + . . " ,<br style="line-height: 22px; ">" . + # # # # # + + # # # # # + + $ $ + + @ $ $ @ + + + $ @ @ . . " ,<br style="line-height: 22px; ">" . + + # # # # + + # # # # # + + $ $ + + $ $ $ $ $ + @ $ @ + + . " ,<br style="line-height: 22px; ">" . + + # # # # + + # # # # # + + $ $ + + $ $ $ $ $ $ $ $ + + + . " ,<br style="line-height: 22px; ">" . + + + # # # # + # # # # # + + $ $ + + $ $ $ $ $ $ $ @ + + + . " ,<br style="line-height: 22px; ">" . . + + + # # # # # # # # # + @ $ $ + @ $ $ $ $ $ $ + + + . . . " ,<br style="line-height: 22px; ">" . . . + + + # # # # # # # # + @ $ $ $ $ $ $ $ $ @ + + + . . . . " ,<br style="line-height: 22px; ">" . . . . . + + + # # # # # # + @ $ $ $ $ $ $ $ + + + . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . + + + # # # # # + @ $ $ $ $ $ @ + + . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . + + + # # # # + @ $ $ $ $ + + + . . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . . . + + # # # + $ $ $ @ + + . . . . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . . . . + + # # + $ @ + + + . . . . . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . . . . . + + + + + + + . . . . . . . . . . . . . . " ,<br style="line-height: 22px; ">" . . . . . . . . . . . . . + + + + . . . . . . . . . . . . . . . " } ;<br style="line-height: 22px; "></p><strong style="line-height: 22px; "><font color="#0000ff" size="5" style="line-height: 38px; "></font></strong><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "></p><p style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">笔记本构件GtkNotebook<br style="line-height: 22px; ">G t k N o t e b o o k (笔记本构件)是互相重叠的页面集合，每一页都包含不同的信息，且一次只有一个页面是可见的。该构件在G U I (图形用户接口)编程中很常用。要说明大量的相似信息，同时把它们分别显示时，使用这种构件是一个很好的方法。许多应用程序的“选项”对话框都使用了这个构件。<br style="line-height: 22px; ">用下面的函数可以创建新笔记本构件。<br style="line-height: 22px; ">GtkWidget *gtk_notebook_new( void );<br style="line-height: 22px; ">一旦创建了笔记本构件，就可以使用一系列的函数操作该构件。下面将对它们进行分别讨论。<br style="line-height: 22px; ">先看一下怎样定位页面指示器―或称页标签，可以有四种位置：<br style="line-height: 22px; ">void gtk_notebook_set_tab_pos( GtkNotebook *notebook,GtkPositionType pos );<br style="line-height: 22px; ">G t k P o s i t i o n Ty p e参数可以取以下几个值，从字面上很容易理解它们的含义：<br style="line-height: 22px; ">GTK_POS_LEFT 将标签页放在左边<br style="line-height: 22px; ">GTK_POS_RIGHT 将标签页放在右边<br style="line-height: 22px; ">G T K _ P O S _ TOP 将标签页放在顶部<br style="line-height: 22px; ">G T K _ P O S _ B O T TOM 将标签页放在底部<br style="line-height: 22px; ">它的缺省值是G T K _ P O S _ TO P。<br style="line-height: 22px; ">下面看一下怎样向笔记本中添加页面。有三种方法向笔记本中添加页面。前两种方法是非常相似的。<br style="line-height: 22px; ">在笔记本构件中追加页面：<br style="line-height: 22px; ">void gtk_notebook_append_page( GtkNotebook *notebook,<br style="line-height: 22px; ">GtkWidget *child,<br style="line-height: 22px; ">GtkWidget *tab_label );<br style="line-height: 22px; ">在笔记本中前插页面：<br style="line-height: 22px; ">void gtk_notebook_prepend_page( GtkNotebook *notebook,<br style="line-height: 22px; ">GtkWidget *child,<br style="line-height: 22px; ">GtkWidget *tab_label );<br style="line-height: 22px; ">child 参数是放在笔记本上的子构件， t a b _ l a b e l是要添加的页面的标签。子构件必须分别创建，一般是一个容器构件，比如说表格构件。<br style="line-height: 22px; ">最后一个函数与前两个函数类似，不过允许指定页面加入的位置。<br style="line-height: 22px; ">void gtk_notebook_insert_page( GtkNotebook *notebook,<br style="line-height: 22px; ">GtkWidget *child,<br style="line-height: 22px; ">GtkWidget *tab_label,<br style="line-height: 22px; ">gint position );<br style="line-height: 22px; ">其中的参数与_append_ and _prepend_函数一样，还包含一个额外参数―插入位置。该参数指定页面应该插入到哪一页。注意，第一页位置为0。<br style="line-height: 22px; ">前面介绍了怎样添加页面，下面介绍怎样删除页面。<br style="line-height: 22px; ">void gtk_notebook_remove_page( GtkNotebook *notebook,gint page_num );<br style="line-height: 22px; ">这个函数从笔记本中删除由p a g e _ n u m参数指定的页面。<br style="line-height: 22px; ">用以下函数寻找笔记本构件的当前标签页：<br style="line-height: 22px; ">gint gtk_notebook_get_current_page( GtkNotebook *notebook );<br style="line-height: 22px; ">下面两个函数将笔记本构件的页面向前或向后移动。对要操作的笔记本构件使用以下函数就可以了。<br style="line-height: 22px; ">注意当笔记本构件在最后一页时，调用gtk_notebook_next_page 函数，笔记本构件会跳到第一页。同样，如果笔记本构件在第一页，调用了函数g t k _ n o t e b o o k _ p r e v _ p a g e，笔记本构件会跳到最后一页。<br style="line-height: 22px; ">void gtk_notebook_next_page( GtkNoteBook *notebook );<br style="line-height: 22px; ">void gtk_notebook_prev_page( GtkNoteBook *notebook );<br style="line-height: 22px; ">下面的函数设置“活动”页面。缺省状态下，笔记本显示第一页。<br style="line-height: 22px; ">void gtk_notebook_set_page( GtkNotebook *notebook,gint page_num );<br style="line-height: 22px; ">下面的函数显示或隐藏笔记本构件的页标签以及它的边框。<br style="line-height: 22px; ">void gtk_notebook_set_show_tabs( GtkNotebook *notebook,gboolean show_tabs);<br style="line-height: 22px; ">void gtk_notebook_set_show_border( GtkNotebook *notebook,gboolean show_border );<br style="line-height: 22px; ">第一个函数中的s h o w _ t a b s为T R U E则显示页标签，FA L S E不显示页标签。<br style="line-height: 22px; ">第二个函数中的s h o w _ b o r d e r为T R U E则显示边框，为FA L S E不显示边框。<br style="line-height: 22px; ">如果页面较多，标签页在页面上排列不下时，可以用下面的函数。它允许标签页用两个按钮箭头滚动。<br style="line-height: 22px; ">void gtk_notebook_set_scrollable( GtkNotebook *notebook,gboolean scrollable );<br style="line-height: 22px; ">show_tabs, show_border 和s c r o l l a b l e参数可以是T R U E或FA L S E。<br style="line-height: 22px; ">下面是一个关于G t k B o o k n o t e构件的示例。这个程序创建了一个带一个笔记本构件和6个按钮的窗口。笔记本构件包含11页，你可以用三种方式对它们进行添加：追加、前插、插入。<br style="line-height: 22px; ">点击按钮可以改变标签的位置，添加、删除标签和边框，删除一页，向前或向后改变标签页，以及退出程序。<br style="line-height: 22px; ">/* 笔记本构件示例开始notebook.c */<br style="line-height: 22px; ">#include &lt;gtk/gtk.h&gt;<br style="line-height: 22px; ">/* 这个函数旋转标签页的位置* /<br style="line-height: 22px; ">void rotate_book (GtkButton *button, GtkNotebook *notebook)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">gtk_notebook_set_tab_pos (notebook, (notebook-&gt;tab_pos +1) %4);<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 添加/删除页标签和边框* /<br style="line-height: 22px; ">void tabsborder_book (GtkButton *button, GtkNotebook *notebook)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">gint tval = FALSE;<br style="line-height: 22px; ">gint bval = FALSE;<br style="line-height: 22px; ">if (notebook-&gt;show_tabs == 0)<br style="line-height: 22px; ">tval = TRUE;<br style="line-height: 22px; ">if (notebook-&gt;show_border == 0)<br style="line-height: 22px; ">bval = TRUE;<br style="line-height: 22px; ">gtk_notebook_set_show_tabs (notebook, tval);<br style="line-height: 22px; ">gtk_notebook_set_show_border (notebook, bval);<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 从笔记本构件上删除页面* /<br style="line-height: 22px; ">void remove_book (GtkButton *button, GtkNotebook *notebook)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">gint page;<br style="line-height: 22px; ">page = gtk_notebook_get_current_page(notebook);<br style="line-height: 22px; ">gtk_notebook_remove_page (notebook, page);<br style="line-height: 22px; ">/* 必须刷新构件―<br style="line-height: 22px; ">这会迫使构件重绘自身* /<br style="line-height: 22px; ">gtk_widget_draw(GTK_WIDGET(notebook), NULL);<br style="line-height: 22px; ">}<br style="line-height: 22px; ">void delete (GtkWidget *widget, GtkWidget *event, gpointer data)<br style="line-height: 22px; ">{<br style="line-height: 22px; ">gtk_main_quit ();<br style="line-height: 22px; ">}<br style="line-height: 22px; ">int main (int argc, char *argv[])<br style="line-height: 22px; ">{<br style="line-height: 22px; ">GtkWidget *window;<br style="line-height: 22px; ">GtkWidget *button;<br style="line-height: 22px; ">GtkWidget *table;<br style="line-height: 22px; ">GtkWidget *notebook;<br style="line-height: 22px; ">GtkWidget *frame;<br style="line-height: 22px; ">GtkWidget *label;<br style="line-height: 22px; ">GtkWidget *checkbutton;<br style="line-height: 22px; ">int i;<br style="line-height: 22px; ">char bufferf[32];<br style="line-height: 22px; ">char bufferl[32];<br style="line-height: 22px; ">gtk_init (&amp;argc, &amp;argv);<br style="line-height: 22px; ">window = gtk_window_new (GTK_WINDOW_TOPLEVEL);<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (window), "delete_event",<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (delete), NULL);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (window), 10);<br style="line-height: 22px; ">table = gtk_table_new(3,6,FALSE);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (window), table);<br style="line-height: 22px; ">/* 创建一个新的笔记本构件，将标签页放在顶部* /<br style="line-height: 22px; ">notebook = gtk_notebook_new ();<br style="line-height: 22px; ">gtk_notebook_set_tab_pos (GTK_NOTEBOOK (notebook), GTK_POS_TOP);<br style="line-height: 22px; ">gtk_table_attach_defaults(GTK_TABLE(table), notebook, 0,6,0,1);<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( n o t e b o o k ) ;<br style="line-height: 22px; ">/* 在笔记本构件后面追加几个页面* /<br style="line-height: 22px; ">for (i=0; i &lt; 5; i++) {<br style="line-height: 22px; ">sprintf(bufferf, "Append Frame %d", i+1);<br style="line-height: 22px; ">sprintf(bufferl, "Page %d", i+1);<br style="line-height: 22px; ">frame = gtk_frame_new (bufferf);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (frame), 10);<br style="line-height: 22px; ">gtk_widget_set_usize (frame, 100, 75);<br style="line-height: 22px; ">gtk_widget_show (frame);<br style="line-height: 22px; ">label = gtk_label_new (bufferf);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (frame), label);<br style="line-height: 22px; ">gtk_widget_show (label);<br style="line-height: 22px; ">label = gtk_label_new (bufferl);<br style="line-height: 22px; ">gtk_notebook_append_page (GTK_NOTEBOOK (notebook), frame, label);<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 在指定位置添加页面* /<br style="line-height: 22px; ">checkbutton = gtk_check_button_new_with_label ("Check me please!");<br style="line-height: 22px; ">gtk_widget_set_usize(checkbutton, 100, 75);<br style="line-height: 22px; ">gtk_widget_show (checkbutton);<br style="line-height: 22px; ">label = gtk_label_new ("Add page");<br style="line-height: 22px; ">gtk_notebook_insert_page (GTK_NOTEBOOK (notebook), checkbutton, label, 2);<br style="line-height: 22px; ">/* 向笔记本构件前插标签页* /<br style="line-height: 22px; ">for (i=0; i &lt; 5; i++) {<br style="line-height: 22px; ">sprintf(bufferf, "Prepend Frame %d", i+1);<br style="line-height: 22px; ">sprintf(bufferl, "PPage %d", i+1);<br style="line-height: 22px; ">frame = gtk_frame_new (bufferf);<br style="line-height: 22px; ">gtk_container_set_border_width (GTK_CONTAINER (frame), 10);<br style="line-height: 22px; ">gtk_widget_set_usize (frame, 100, 75);<br style="line-height: 22px; ">gtk_widget_show (frame);<br style="line-height: 22px; ">label = gtk_label_new (bufferf);<br style="line-height: 22px; ">gtk_container_add (GTK_CONTAINER (frame), label);<br style="line-height: 22px; ">gtk_widget_show (label);<br style="line-height: 22px; ">label = gtk_label_new (bufferl);<br style="line-height: 22px; ">gtk_notebook_prepend_page (GTK_NOTEBOOK(notebook), frame, label);<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 设置起始页(第4页) */<br style="line-height: 22px; ">gtk_notebook_set_page (GTK_NOTEBOOK(notebook), 3);<br style="line-height: 22px; ">/* 创建一排按钮* /<br style="line-height: 22px; ">button = gtk_button_new_with_label ("close");<br style="line-height: 22px; ">gtk_signal_connect_object (GTK_OBJECT (button), "clicked",<br style="line-height: 22px; ">GTK_SIGNAL_FUNC (delete), NULL);<br style="line-height: 22px; ">gtk_table_attach_defaults(GTK_TABLE(table), button, 0,1,1,2);<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( b u t t o n ) ;<br style="line-height: 22px; ">button = gtk_button_new_with_label ("next page");<br style="line-height: 22px; ">gtk_signal_connect_object (GTK_OBJECT (button), "clicked",<br style="line-height: 22px; ">(GtkSignalFunc) gtk_notebook_next_page,<br style="line-height: 22px; ">GTK_OBJECT (notebook));<br style="line-height: 22px; ">gtk_table_attach_defaults(GTK_TABLE(table), button, 1,2,1,2);<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( b u t t o n ) ;<br style="line-height: 22px; ">button = gtk_button_new_with_label ("prev page");<br style="line-height: 22px; ">gtk_signal_connect_object (GTK_OBJECT (button), "clicked",<br style="line-height: 22px; ">(GtkSignalFunc) gtk_notebook_prev_page,<br style="line-height: 22px; ">GTK_OBJECT (notebook));<br style="line-height: 22px; ">gtk_table_attach_defaults(GTK_TABLE(table), button, 2,3,1,2);<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( b u t t o n ) ;<br style="line-height: 22px; ">button = gtk_button_new_with_label ("tab position");<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (button), "clicked",<br style="line-height: 22px; ">(GtkSignalFunc) rotate_book,<br style="line-height: 22px; ">G T K _ O B J E C T ( n o t e b o o k ) ) ;<br style="line-height: 22px; ">gtk_table_attach_defaults(GTK_TABLE(table), button, 3,4,1,2);<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( b u t t o n ) ;<br style="line-height: 22px; ">button = gtk_button_new_with_label ("tabs/border on/off");<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (button), "clicked",<br style="line-height: 22px; ">(GtkSignalFunc) tabsborder_book,<br style="line-height: 22px; ">GTK_OBJECT (notebook));<br style="line-height: 22px; ">gtk_table_attach_defaults(GTK_TABLE(table), button, 4,5,1,2);<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( b u t t o n ) ;<br style="line-height: 22px; ">button = gtk_button_new_with_label ("remove page");<br style="line-height: 22px; ">gtk_signal_connect (GTK_OBJECT (button), "clicked",<br style="line-height: 22px; ">(GtkSignalFunc) remove_book,<br style="line-height: 22px; ">G T K _ O B J E C T ( n o t e b o o k ) ) ;<br style="line-height: 22px; ">gtk_table_attach_defaults(GTK_TABLE(table), button, 5,6,1,2);<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( b u t t o n ) ;<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( t a b l e ) ;<br style="line-height: 22px; ">g t k _ w i d g e t _ s h o w ( w i n d o w ) ;<br style="line-height: 22px; ">gtk_main ();<br style="line-height: 22px; ">r e t u r n ( 0 ) ;<br style="line-height: 22px; ">}<br style="line-height: 22px; ">/* 示例结束* /<br style="line-height: 22px; ">运行效果见图1 0 - 7。请尝试一下添加、删除页面，切换页标签的位置，以及显示、隐藏页标签等功能。</p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><a href="http://img.blog.163.com/photo/s5m70TVq9QuE4UYQC4js6w==/2889622110912688693.jpg" target="_blank" style="color: rgb(51, 102, 204); line-height: 22px; text-decoration: none; " target="_blank"><img alt="GTK+2.0-----容器构件GtkContainer - 垒 - jiangbowen1_qd的博客" src="http://img.blog.163.com/photo/s5m70TVq9QuE4UYQC4js6w==/2889622110912688693.jpg" style="line-height: 22px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; max-width: 100%; "></a><br style="line-height: 22px; ">图10-7 笔记本构件</p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><br></p><p align="center" style="line-height: 22px; margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">转载地址：<span class="Apple-style-span" style="line-height: 18px; font-family: 'AR PL UKai CN'; "><a href="http://blog.163.com/jiangbowen1_qd/blog/static/613957622008111311713423/" target="_blank">http://blog.163.com/jiangbowen1_qd/blog/static/613957622008111311713423/</a></span></p></span></p></div>
</div>
<div class="cont5">
<div class="t">博客推荐文章</div>
<ul>
<li><a href="/uid-23506752-id-2977171.html">GTK</a>  (2011-10-21 22:24:07)</li>
<li><a href="/uid-22785134-id-291598.html"> GTK入门</a>  (2011-04-27 16:47:46)</li>
<li><a href="/uid-25318628-id-193678.html">Gtk+的裁剪</a>  (2011-03-28 12:12:47)</li>
<li><a href="/uid-20712702-id-1888218.html">GTK+ FAQ</a>  (2011-01-12 11:02:25)</li>
<li><a href="/uid-25318628-id-247893.html">gtk+的中文手册</a>  (2011-04-17 20:45:13)</li>
	
</ul>
</div>

<div class="cont6">
<!-- 分享 -->
<div class="fx">
<div class="icon">										 
<!-- JiaThis Button BEGIN -->
<div id="ckepop">
<a href="http://www.jiathis.com/share/" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank">分享到：</a>
<a class="jiathis_button_tsina">新浪微博</a>
<a class="jiathis_button_qzone">QQ空间</a>
<a class="jiathis_button_kaixin001">开心网</a>
<a class="jiathis_button_douban">豆瓣</a>
<a class="jiathis_button_renren">人人网</a>
<a class="jiathis_button_twitter">twitter</a>
<a class="jiathis_button_fb">fb</a>
</div>
<script type="text/javascript" src="http://v2.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->
</div>

<span  style="cursor:pointer;">
<a id="support">0</a>
<br />
<a onclick="ajaxmenu(event, this.id,0, 2000, 'doSupport')" id="click_blogid_361349" href="/cp.php?ac=click&op=add&clickid=4&idtype=blogid&id=361349&hash=8360fb74387c042700b62fa575df6327">
&nbsp;&nbsp;&nbsp;<b>顶</b>
</a>
</span>
<div class="clear"></div>
</div>

                <DIV class=clear></DIV>
<style>
.bor0223{ width:708px; margin:0 auto 20px; height:90px;}
.bor0223_tit{ height:28px; line-height:28px; border-bottom:1px dashed #ccc; font-size:14px; font-weight:bold; padding-left:12px;}
.list0223{ width:698px; margin:10px 0 0 12px;}
.list0223 li{ float:left; width:174px; line-height:20px; height:20px;}
</style><div class="bor0223"><div class="bor0223_tit">热门产品推荐</div><ul class="list0223"><li><a href="http://product.it168.com/detail/doc/464314/index.shtml"target="_blank" title="索尼 LT26i Xperia S">索尼 LT26i Xperia S</a></li><li><a href="http://product.it168.com/detail/doc/458189/index.shtml"target="_blank" title="三星 i9100(白色)">三星 i9100(白色)</a></li><li><a href="http://product.it168.com/detail/doc/442205/index.shtml"target="_blank" title="苹果 iPad2 WiFi(16GB)">苹果 iPad2 WiFi(16GB)...</a></li><li><a href="http://product.it168.com/detail/doc/423684/index.shtml"target="_blank" title="HTC G10 Desire HD">HTC G10 Desire HD</a></li><li><a href="http://product.it168.com/detail/doc/461051/index.shtml"target="_blank" title="HTC G21 Sensation XL(X315e)">HTC G21 Sensation XL...</a></li><li><a href="http://product.it168.com/detail/doc/460649/index.shtml"target="_blank" title="索尼爱立信 ST18i">索尼爱立信 ST18i</a></li><li><a href="http://product.it168.com/detail/doc/453075/index.shtml"target="_blank" title="三星 i9108">三星 i9108</a></li><li><a href="http://product.it168.com/detail/doc/455247/index.shtml"target="_blank" title="酷派 8013 ">酷派 8013 </a></li></ul></div><!-- 阅读 -->

<div class="read">
<a href="javascript:;">阅读<b>(224)</b></a>┊ <a href="/space.php?uid=25808509&do=blog&id=361349#comment">评论 <b>(<span id="comm_num">0</span>)</b></a>┊<a href="/cp.php?ac=favorites&op=addfavorites&blogid=361349" id="a_favorite" onclick="ajaxmenu(event, this.id, 1)">收藏(0)</a>┊<a href="/cp.php?ac=common&op=report&idtype=blogid&id=361349" id="a_report" onclick="ajaxmenu(event, this.id, 1)">举报</a>┊<a href="javascript:window.print();">打印</a>
</div>

<div class="next1">前一篇：<a href="/uid-25808509-id-359007.html">c++ 设计模式</a></div>

<!-- 评论 -->
<div class="tit8" id="comment_dv"  style="display: none;" >
<span><a href="#comment">[发评论]</a></span>
<b>评论</b>&nbsp;重要提示：警惕虚假中奖信息!
</div>
<div id="comment" class="comments_list">
<div class="box_content">
<ul class="post_list a_list justify_list" id="comment_ul">
</ul>
</div>
</div>
<div class="clear"></div>

<!-- 发评论 -->
<div class="logins">亲，您还没有登录,请<a href="/do.php?ac=wuxingzypcw213">[登录]</a>或<a href="/do.php?ac=8f442ba1e0c79cd3efcd1fd42b8aad8e">[注册]</a>后再进行评论</div>
</div>
</div>
 <!-- 徽章定位1 -->
 </div>

<div class="clear"></div>
</div>
<script type="text/javascript">
<!--
var blogid = 361349;
var bloguid = 0;
function doSupport(){
var x = new Ajax();
x.get('do.php?ac=ajax&op=support&id='+blogid , function(s){
document.getElementById('support').innerHTML = s;
});
}

function code_hide(id){
var code = document.getElementById(id).style.display;
if(code == 'none'){
document.getElementById(id).style.display = 'block';
}else{
document.getElementById(id).style.display = 'none';
}
}


function checkComment(id){

//	if(bloguid < 1 &&  ($('nim').checked == false) ){
//		alert('请选择匿名发表评论！');
//		return false;
//	}
if(trim($('seccode').value) == ''){
alert('验证码不能为空！');
return false;
}
s('comment_dv');
ajaxpost('quickcommentform_'+id, 'comment_add');
$('seccode').value = '';

var img = '/do.php?ac=seccode&rand='+Math.random();
$('img_seccode').src = img;
}
$('font_14').style.fontWeight='bold';
function doZoom(s){
$('font_12').style.fontWeight='normal';
$('font_14').style.fontWeight='normal';
$('font_16').style.fontWeight='normal';
$('font_'+s).style.fontWeight='bold';
s = s + 'px';
$('detail').style.fontSize = s;
}
function setTop(t , id)
{
var x = new Ajax();
x.get('/admin.php?ac=blog&op='+ t +'&id='+id , function(s){
if(t == 'retop'){
document.getElementById('top_' + id).innerHTML = "<a href=\"javascript:;\" onclick=\"setTop('top', '"+id+"');\">&nbsp;置顶首页</a>";
}else{
document.getElementById('top_' + id).innerHTML = "<a href=\"javascript:;\" onclick=\"setTop('retop', '"+id+"');\">&nbsp;取消置顶</a>";
}
});
}

var FmId = 2;

function attention(uid , t){
if(uid){
var x = new Ajax();
x.get('/cp.php?ac=attention&op='+ t +'&uid=' + uid , function(s){
if(t == 'add'){

var h = "<a href='javascript:;' onclick='attention(\""+ uid +"\" , \"delete\");'>取消关注</a>";
document.getElementById('attention').innerHTML = h;
}else{
var h = "<a href='javascript:;' onclick='attention(\""+ uid +"\" , \"add\");'>加关注</a>";
document.getElementById('attention').innerHTML = h;
}
});
}
}
//-->
</script>
<div id="footer">
<div class="l">
<a href="http://www.chinaunix.net/about/index.shtml" rel="nofollow">关于我们</a> | 
<a href="http://www.it168.com/bottomfile/it168.shtml" rel="nofollow">关于IT168</a> | 
<a href="http://www.chinaunix.net/about/connect.html" rel="nofollow">联系方式</a> | 
<a href="http://www.chinaunix.net/about/service.html" rel="nofollow">广告合作</a> | 
<a href="http://blog.chinaunix.net/about/fl.html" rel="nofollow">法律声明</a> | 
<a href="http://blog.chinaunix.net/register.php" rel="nofollow">免费注册</a> 
<address>
Copyright &copy; 2001-2010 ChinaUnix.net All Rights Reserved 北京皓辰网域网络信息技术有限公司. 版权所有 
</address>
</div>
<div class="r">
感谢所有关心和支持过ChinaUnix的朋友们<br />京ICP证041476号 京ICP证060528号
</div>
<div class="clear"></div>
</div>
<div id="dialogBoxShadow" style="display:none;z-index:49;"></div>
<input id="dot" value="" type="hidden"></input>
<script type="text/javascript">

<!--
if($('dot').value == 'theme')  getPageSet();
function checkHtitle(){
var tt = $('spacetitle').value;
if(ttlen(trim(tt)) > 48){
alert('博客宣言不能超过48个字符！');
return false;
}
ajaxpost('home_from','homeTitle');
}
function checkBbrief(){
var tt = $('blog_brief').value;
if(ttlen(trim(tt)) > 200){
alert('个性签名不能超过200个字符！');
return false;
}
ajaxpost('brief_form','blogBrief');
}
function homeTitle()
{
var spacetitle_value = $('spacetitle').value;
if(!spacetitle_value){
spacetitle_value = '还没有博客宣言';
}
var x = new Ajax();
x.get('/do.php?ac=ajax&op=htl', function(s){
document.getElementById('home_t').innerHTML = s
});
s('home_title');
h('home_title_form');
}
function blogBrief()
{
var spacetitle_value = $('blog_brief').value;
if(!spacetitle_value){
spacetitle_value = '还没有个性签名';
}
var x = new Ajax();
x.get('/do.php?ac=ajax&op=bbf', function(s){
document.getElementById('blog_b').innerHTML = s
});
s('blog_brief');
h('blog_brief_form');
}
//-->
</script>
<script language="javascript" src="http://stat.it168.com/pv.js"></script>
<script type="text/javascript">
    function sendPV(){
        var pvTrack = new PvTrack();
        pvTrack.type = 35; // 频道类别ID
        pvTrack.channel = 189; // 频道ID
        pvTrack.pageType = 0;
        pvTrack.track();
    }
    window.setTimeout("sendPV()", 0); 

</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20237423-2']);
  _gaq.push(['_setDomainName', '.chinaunix.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<div style='display:none'>
<script type="text/javascript"> 
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F0ee5e8cdc4d43389b3d1bfd76e83216b' type='text/javascript'%3E%3C/script%3E"));
</script>
</div>

 </body>
</html>
