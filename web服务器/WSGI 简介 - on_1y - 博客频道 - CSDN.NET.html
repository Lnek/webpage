<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
     
    <html xmlns="http://www.w3.org/1999/xhtml">
    
<head>    
    <script type="text/javascript" src="http://c.csdnimg.cn/pubfooter/js/tracking.js" charset="utf-8"></script>  

    <script type="text/javascript">
        var protocol = window.location.protocol;
        document.write('<script type="text/javascript" src="' + protocol + '//csdnimg.cn/pubfooter/js/repoAddr2.js?v=' + Math.random() + '"></' + 'script>');
    </script>

     <script id="allmobilize" charset="utf-8" src="http://a.yunshipei.com/46aae4d1e2371e4aa769798941cef698/allmobilize.min.js"></script>
 <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

    <title>WSGI 简介 - on_1y
        - 博客频道 - CSDN.NET</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="介绍了Python Web 开发中，服务器及框架实现中需要了解的标准：WSGI。" />
    <script src="http://static.blog.csdn.net/scripts/jquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://static.blog.csdn.net/scripts/ad.js?v=1.1"></script>
        <!--new top-->
               <link rel="stylesheet" href="http://static.csdn.net/public/common/toolbar/css/index.css">        <!--new top-->

    <link rel="Stylesheet" type="text/css" href="http://static.blog.csdn.net/skin/default/css/style.css?v=1.1" />
    <link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="/on_1y/rss/list" />
    <link rel="shortcut icon" href="http://c.csdnimg.cn/public/favicon.ico" />
    <link type="text/css" rel="stylesheet" href="http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/default.css" />
 


</head>
<body>
    
   
      <!--new top-->
    <script id="toolbar-tpl-scriptId" fixed="true" prod="blog" skin="black" src="http://static.csdn.net/public/common/toolbar/js/html.js" type="text/javascript"></script>
     <!--new top-->
    <div id="container">
        <div id="header">
    <div class="header">
        <div id="blog_title">
            <h2>
                <a href="http://blog.csdn.net/on_1y">on_1y</a></h2>
            <h3>只有那些有目标，有爱， 有激情，能坚持到底的灵魂，才能走出一路不断的生机盎然，活出一个越来越大的世界</h3>
            <div class="clear">
            </div>
        </div>
        <div class="clear">
        </div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg">
    </div>
    <div class="navigator">
        <ul>
            
                <li id="btnContents"><a href="http://blog.csdn.net/on_1y?viewmode=contents"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_mulu'])">
                    <img src="http://static.blog.csdn.net/images/ico_list.gif">目录视图</span></a></li>
                <li id="btnView"><a href="http://blog.csdn.net/on_1y?viewmode=list"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_zhaiyao'])">
                    <img src="http://static.blog.csdn.net/images/ico_summary.gif">摘要视图</span></a></li>
                <li id="btnRss"><a href="http://blog.csdn.net/on_1y/rss/list"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_RSS'])">
                    <img src="http://static.blog.csdn.net/images/ico_rss.gif">订阅</span></a></li>                

            </ul>
    </div>
</div>
<script type="text/javascript">
    var username = "on_1y";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/on_1y";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";  
</script>

        <div id="body">
            <div id="main">
                <div class="main">
                        <div class="ad_class">
<div class="notice tracking-ad" data-mod='popu_3' > 

<a href="http://blog.csdn.net/csdnedu/article/details/43306129">
<font color=blue>CSDN学院讲师招募，诚邀您加入！</font></a>
&nbsp;&nbsp;&nbsp;&nbsp;


<a href="http://blog.csdn.net/csdnproduct/article/details/43561659">
<font color=red>博客Markdown编辑器上线啦</font></a>
&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://edu.csdn.net/lecturer/lecturer_detail?lecturer_id=95">
<font color=red>PMBOK第五版精讲视频教程
</font></a>
&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://edu.csdn.net/course/detail/443">
<font color=blue>火星人敏捷开发1001问
</font></a>


</div>                        </div>
                        

  
<link href="http://static.blog.csdn.net/css/comment1.css" type="text/css" rel="stylesheet" />
<link href="http://static.blog.csdn.net/css/style1.css" type="text/css" rel="stylesheet" />
<script language='JavaScript' type='text/javascript' src='http://download.csdn.net/js/jquery.cookie.js'></script>
<script type="text/javascript" src="http://c.csdnimg.cn/rabbit/search-service/main.js"></script>


<link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0" />

<script type="text/javascript" src="http://static.blog.csdn.net/public/res/bower-libs/MathJax/MathJax.js?config=TeX-AMS_HTML"></script>









  <script type="text/ecmascript">
      window.quickReplyflag = true;
    </script>
<div id="article_details" class="details">
    <div class="article_title">   
         <span class="ico ico_type_Original"></span>


    <h1>
        <span class="link_title"><a href="/on_1y/article/details/18803563">
        WSGI 简介
        </a></span>
    </h1>
</div>

    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="/on_1y/article/category/1349346" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_fenlei']);">Python</a> 
            <a href="/on_1y/article/category/1633469" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_fenlei']);">Web</a> 
            <a href="/on_1y/article/category/1912583" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_fenlei']);">计算机网络</a> 
        </span>
    <span class="link_postdate">2014-01-26 23:13</span>
    <span class="link_view" title="阅读次数">5084人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_pinglun'])">评论</a>(3)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shoucang']);collectArticle('WSGI 简介','18803563');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report"  onclick="javascript:_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_jubao']);report(18803563,2);return false;" title="举报">举报</a></span>
    
</div>
<div class="tag2box"><a href='http://www.csdn.net/tag/python' target=_blank onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">python</a><a href='http://www.csdn.net/tag/web' target=_blank onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">web</a><a href='http://www.csdn.net/tag/framework' target=_blank onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">framework</a><a href='http://www.csdn.net/tag/wsgi' target=_blank onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">wsgi</a></div>

  
    
<div id="article_content" class="article_content">

<h1 style="font-size:2.5em; margin:1em 0px 15px; line-height:1.7; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(221,221,221); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
WSGI 简介</h1>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E8%83%8C%E6%99%AF" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E8%83%8C%E6%99%AF" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>背景</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
Python Web 开发中，服务端程序可以分为两个部分，一是服务器程序，二是应用程序。前者负责把客户端请求接收，整理，后者负责具体的逻辑处理。为了方便应用程序的开发，我们把常用的功能封装起来，成为各种Web开发框架，例如 Django, Flask, Tornado。不同的框架有不同的开发方式，但是无论如何，开发出的应用程序都要和服务器程序配合，才能为用户提供服务。这样，服务器程序就需要为不同的框架提供不同的支持。这样混乱的局面无论对于服务器还是框架，都是不好的。对服务器来说，需要支持各种不同框架，对框架来说，只有支持它的服务器才能被开发出的应用使用。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这时候，标准化就变得尤为重要。我们可以设立一个标准，只要服务器程序支持这个标准，框架也支持这个标准，那么他们就可以配合使用。一旦标准确定，双方各自实现。这样，服务器可以支持更多支持标准的框架，框架也可以使用更多支持标准的服务器。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
Python Web开发中，这个标准就是&nbsp;<span style="">The Web Server Gateway Interface</span>, 即&nbsp;<span style="">WSGI</span>. 这个标准在<a target="_blank" target="_blank" href="http://www.python.org/dev/peps/pep-0333/" style="color:rgb(65,131,196); text-decoration:none">PEP 333</a>中描述，后来，为了支持
 Python 3.x, 并且修正一些问题，新的版本在<a target="_blank" target="_blank" href="http://www.python.org/dev/peps/pep-3333/" style="color:rgb(65,131,196); text-decoration:none">PEP 3333</a>中描述。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="wsgi-%E6%98%AF%E4%BB%80%E4%B9%88" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#wsgi-%E6%98%AF%E4%BB%80%E4%B9%88" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>WSGI
 是什么</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
WSGI 是服务器程序与应用程序的一个约定，它规定了双方各自需要实现什么接口，提供什么功能，以便二者能够配合使用。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
WSGI 不能规定的太复杂，否则对已有的服务器来说，实现起来会困难，不利于WSGI的普及。同时WSGI也不能规定的太多，例如cookie处理就没有在WSGI中规定，这是为了给框架最大的灵活性。要知道WSGI最终的目的是为了方便服务器与应用程序配合使用，而不是成为一个Web框架的标准。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
另一方面，WSGI需要使得middleware（是中间件么？）易于实现。middleware处于服务器程序与应用程序之间，对服务器程序来说，它相当于应用程序，对应用程序来说，它相当于服务器程序。这样，对用户请求的处理，可以变成多个 middleware 叠加在一起，每个middleware实现不同的功能。请求从服务器来的时候，依次通过middleware，响应从应用程序返回的时候，反向通过层层middleware。我们可以方便地添加，替换middleware，以便对用户请求作出不同的处理。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="wsgi-%E5%86%85%E5%AE%B9%E6%A6%82%E8%A6%81" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#wsgi-%E5%86%85%E5%AE%B9%E6%A6%82%E8%A6%81" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>WSGI
 内容概要</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
WSGI主要是对应用程序与服务器端的一些规定，所以，它的主要内容就分为两个部分。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>应用程序</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
WSGI规定：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">1. 应用程序需要是一个可调用的对象
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
在Python中:</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">可以是函数</li><li style="">可以是一个实例，它的类实现了<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">__call__</code>方法</li><li style="">可以是一个类，这时候，用这个类生成实例的过程就相当于调用这个类</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
同时，WSGI规定：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">2. 可调用对象接收两个参数
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这样，如果这个对象是函数的话，它看起来要是这个样子：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal"># callable function
def application(environ, start_response):
    pass
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
如果这个对象是一个类的话，它看起来是这个样子：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal"># callable class
class Application:
    def __init__(self, environ, start_response):
        pass
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
如果这个对象是一个类的实例，那么，这个类看起来是这个样子：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal"># callable object
class ApplicationObj:
    def __call__(self, environ, start_response):
        pass
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
最后，WSGI还规定:</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">3.可调用对象要返回一个&#20540;，这个&#20540;是可迭代的。
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这样的话，前面的三个例子就变成：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">HELLO_WORLD = b&quot;Hello world!\n&quot;


# callable function
def application(environ, start_response):
    return [HELLO_WORLD]


# callable class
class Application:
    def __init__(self, environ, start_response):
        pass

    def __iter__(self):
        yield HELLO_WORLD


# callable object
class ApplicationObj:
    def __call__(self, environ, start_response):
        return [HELLO_WORLD]
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
你可能会说，不是啊，我们平时写的web程序不是这样啊。 比如如果使用web.py框架的话，一个典型的应用可能是这样的:</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">class hello:
    def GET(self):
        return 'Hello, world!'
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这是由于框架已经把WSGI中规定的一些东西封装起来了，我们平时用框架时，看不到这些东西，只需要直接实现我们的逻辑，再返回一个&#20540;就好了。其它的东西框架帮我们做好了。这也是框架的价&#20540;所在，把常用的东西封装起来，让使用者只需要关注最重要的东西。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
当然，<span style="">WSGI关于应用程序的规定不只这些</span>，但是现在，我们只需要知道这些就足够了。下面，再介绍服务器程序。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>服务器程序</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
服务器程序会在每次客户端的请求传来时，调用我们写好的应用程序，并将处理好的结果返回给客户端。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
WSGI规定：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">4.服务器程序需要调用应用程序
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
服务器程序看起来大概是这个样子的：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">def run(application):
    environ = {}

    def start_response(status, response_headers, exc_info=None):
        pass

    result = application(environ, start_response)

    def write(data):
        pass

    for data in result:
        write(data)
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这里可以看出服务器程序是如何与应用程序配合完成用户请求的。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
WSGI规定了应用程序需要一个可调用对象，有两个参数，返回一个可迭代对象。在服务器 程序中，针对这几个规定，做了以下几件事：</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">把应用程序需要的两个参数设置好</li><li style="">调用应用程序</li><li style="">迭代访问应用程序的返回结果，并将其传回客户端</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
你可以从中发现，应用程序需要的两个参数，一个是一个dict对象，一个是函数。它们到底有什么用呢？这都不是我们现在应该关心的，现在只需要知道，服务器程序大概做了什么事情就好了，后面，我们会深入讨论这些细节。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="middleware" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#middleware" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>middleware</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
另外，有些功能可能介于服务器程序和应用程序之间，例如，服务器拿到了客户端请求的URL, 不同的URL需要交由不同的函数处理，这个功能叫做 URL Routing，这个功能就可以放在二者中间实现，这个中间层就是 middleware。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
middleware对服务器程序和应用是透明的，也就是说，服务器程序以为它就是应用程序，而应用程序以为它就是服务器。这就告诉我们，middleware需要把自己伪装成一个服务器，接受应用程序，调用它，同时middleware还需要把自己伪装成一个应用程序，传给服务器程序。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
其实无论是服务器程序，middleware 还是应用程序，都在服务端，为客户端提供服务，之所以把他们抽象成不同层，就是为了控制复杂度，使得每一次都不太复杂，各司其职。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
下面，我们看看middleware大概是什么样子的。</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal"># URL Routing middleware
def urlrouting(url_app_mapping):
    def midware_app(environ, start_response):
        url = environ['PATH_INFO']
        app = url_app_mapping[url]

        result = app(environ, start_response)

        return result

    return midware_app
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
函数&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">midware_app</code>就是一个简单的middleware：对服务器而言，它是一个应用程序，是一个可调用对象，
 有两个参数，返回一个可调用对象。对应用程序而言，它是一个服务器，为应用程序提供了参数，并且调用了应用程序。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
另外，这里的<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">urlrouting</code>函数，相当于一个函数生成器，你给它不同的 url-app
 映射关系，它会生成相应的具有 url routing功能的 middleware。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
如果你仅仅想简单了解一下WSGI是什么，相信到这里，你差不多明白了，下面会介绍WSGI的细节，这些细节来自&nbsp;<a target="_blank" target="_blank" href="http://www.python.org/dev/peps/pep-3333/" style="color:rgb(65,131,196); text-decoration:none">PEP3333</a>， 如果没有兴趣，到这里&nbsp;<span style="">可以停止</span>了。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="wsgi%E8%AF%A6%E8%A7%A3" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#wsgi%E8%AF%A6%E8%A7%A3" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>WSGI详解</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
注意：以 点 开始的解释是WSGI规定&nbsp;<span style="">必须满足</span>&nbsp;的。</p>
<h3 style="margin:1em 0px 15px; line-height:1.7; font-size:1.5em; padding:0px; position:relative; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F-1" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F-1" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>应用程序</h3>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">应用程序是可调用对象</li><li style="">可调用对象有两个位置参数<br style="">
所谓位置参数就是调用的时候，依靠位置来确定参数的语义，而不是参数名，也就是说服务 器调用应用程序时，应该是这样：</li></ul>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">application(env, start_response)
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
而不是这样：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">application(start_response=start_response, environ=env)
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
所以，参数名其实是可以随便起的，只不过为了表义清楚，我们起了<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">environ</code>&nbsp;和&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">start_response</code>。</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">第一个参数environ是Python内置的dict对象，应用程序可以对这个参数任意修改。</li><li style="">environ参数必须包含 WSGI 需要的一些变量(详见后文)<br style="">
也可以包含一些扩展参数，命名规范见后文</li><li style="">start_response参数是一个可调用对象。接受两个位置参数，一个可选参数。 例如：<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">start_response(status,
 response_headers, exc_info=None)&nbsp;</code>status参数是状态码，例如&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">200
 OK</code>&nbsp;。</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
response_headers参数是一个列表，列表项的形式为(header_name, header_value)。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
exc_info参数在错误处理的时候使用。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
status和response_headers的具体内容可以参考&nbsp;<a target="_blank" target="_blank" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html#sec6" style="color:rgb(65,131,196); text-decoration:none">HTTP 协议 Response部分</a>。</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">start_response必须返回一个可调用对象：&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">write(body_data)</code></li><li style="">应用程序必须返回一个可迭代对象。</li><li style="">应用程序不应假设返回的可迭代对象被遍历至终止，因为遍历过程可能出现错误。</li><li style="">应用程序必须在第一次返回可迭代数据之前调用 start_response 方法。<br style="">
这是因为可迭代数据是 返回数据的&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">body</code>&nbsp;部分，在它返回之前，需要使用&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">start_response</code>&nbsp;返回
 response_headers 数据。</li></ul>
<h3 style="margin:1em 0px 15px; line-height:1.7; font-size:1.5em; padding:0px; position:relative; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F-1" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F-1" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>服务器程序</h3>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">服务器必须将可迭代对象的内容传递给客户端，可迭代对象会产生bytestrings，必须完全完成每个bytestring后才能请求下一个。</li><li style="">假设result 为应用程序的返回的可迭代对象。如果len(result) 调用成功，那么result必须是可累积的。</li><li style="">如果result有<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">close</code>方法，那么每次完成对请求的处理时，必须调用它，无论这次请求正常完成，还是遇到了错误。</li><li style="">服务器程序禁止使用可迭代对象的其它属性，除非这个可迭代对象是一个特殊类的实例，这个类会被&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">wsgi.file_wrapper</code>定义。</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
根据上述内容，我们的服务器程序看起来会是这个样子：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">def run(application):
    environ = {}

    # set environ
    def write(data):
        pass

    def start_response(status, response_headers, exc_info=None):
        return write

    try:
        result = application(environ, start_response)
    finally:
        if hasattr(result, 'close'):
            result.close()

    if hasattr(result, '__len__'):
        # result must be accumulated
        pass


    for data in result:
        write(data)
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
应用程序看起来是这个样子：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">HELLO_WORLD = b&quot;Hello world!\n&quot;


# callable function
def application(environ, start_response):
    status = '200 OK'
    response_headers = [('Content-type', 'text/plain')]
    start_response(status, response_headers)

    return [HELLO_WORLD]

</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
下面我们再详细介绍之前提到的一些数据结构</p>
<h3 style="margin:1em 0px 15px; line-height:1.7; font-size:1.5em; padding:0px; position:relative; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="environ-%E5%8F%98%E9%87%8F" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#environ-%E5%8F%98%E9%87%8F" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>environ
 变量</h3>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
environ 变量需要包含 CGI 环境变量，它们在<a target="_blank" target="_blank" href="http://tools.ietf.org/html/draft-robinson-www-interface-00" style="color:rgb(65,131,196); text-decoration:none">The Common Gateway Interface Specification</a>&nbsp;中定义，下面列出的变量<span style="">必须</span>包含在
 enciron变量中：</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">REQUEST_METHOD<br style="">
HTTP 请求方法，例如 &quot;GET&quot;, &quot;POST&quot;</li><li style="">SCRIPT_NAME<br style="">
URL 路径的起始部分对应的应用程序对象，如果应用程序对象对应服务器的根，那么这个&#20540;可以为空字符串</li><li style="">PATH_INFO<br style="">
URL 路径除了起始部分后的剩余部分，用于找到相应的应用程序对象，如果请求的路径就是根路径，这个&#20540;为空字符串</li><li style="">QUERY_STRING<br style="">
URL路径中&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">?</code>&nbsp;后面的部分</li><li style="">CONTENT_TYPE<br style="">
HTTP 请求中的&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">Content-Type</code>&nbsp;部分</li><li style="">CONTENT_LENGTH<br style="">
HTTP 请求中的<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">Content-Lengh</code>&nbsp;部分</li><li style="">SERVER_NAME, SERVER_PORT<br style="">
与 SCRIPT_NAME，PATH_INFO 共同构成完整的 URL，它们永远不会为空。但是，如果 HTTP_HOST 存在的话，当构建 URL 时， HTTP_HOST优先于SERVER_NAME。</li><li style="">SERVER_PROTOCOL<br style="">
客户端使用的协议，例如 &quot;HTTP/1.0&quot;, &quot;HTTP/1.1&quot;, 它决定了如何处理 HTTP 请求的头部。这个名字其实应该叫<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">REQUEST_PROTOCOL</code>，因为它表示的是客户端请求的协议，而不是服务端响应的协议。但是为了和CGI兼容，我们只好叫这个名字了。
 *HTTP_ Variables<br style="">
这个是一个系列的变量名，都以<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">HTTP</code>开头，对应客户端支持的HTTP请求的头部信息。</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
WSGI 有一个参考实现，叫 wsgiref，里面有一个示例，我们这里引用这个示例的结果，展现一下这些变量，以便有一个直观的体会，这个示例访问的 URL 为&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">http://localhost:8000/xyz?abc</code></p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
上面提到的变量&#20540;为：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">REQUEST_METHOD = 'GET'
SCRIPT_NAME = ''
PATH_INFO = '/xyz'
QUERY_STRING = 'abc'
CONTENT_TYPE = 'text/plain'
CONTENT_LENGTH = ''
SERVER_NAME = 'minix-ubuntu-desktop'
SERVER_PORT = '8000'
SERVER_PROTOCOL = 'HTTP/1.1'

HTTP_ACCEPT = 'text/html,application/xhtml&#43;xml,application/xml;q=0.9,image/webp,*/*;q=0.8'
HTTP_ACCEPT_ENCODING = 'gzip,deflate,sdch'
HTTP_ACCEPT_LANGUAGE = 'en-US,en;q=0.8,zh;q=0.6,zh-CN;q=0.4,zh-TW;q=0.2'
HTTP_CONNECTION = 'keep-alive'
HTTP_HOST = 'localhost:8000'
HTTP_USER_AGENT = 'Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1700.77 Safari/537.36'
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
另外，服务器还应该（非必须）提供尽可能多的CGI变量，如果支持SSL的话，还应该提供<a target="_blank" target="_blank" href="http://www.modssl.org/docs/2.8/ssl_reference.html#ToC25" style="color:rgb(65,131,196); text-decoration:none">Apache SSL 环境变量</a>。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
服务器程序应该在文档中对它提供的变量进行说明，应用程序应该检查它需要的变量是否存在。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
除了 CGI 定义的变量外，服务器程序还可以包含和操作系统相关的环境变量，但这并非必须。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
但是，下面列出的这些 WSGI 相关的变量必须要包含：</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">wsgi.version<br style="">
&#20540;的形式为 (1, 0) 表示 WSGI 版本 1.0</li><li style="">wsgi.url_scheme<br style="">
表示 url 的模式，例如 &quot;https&quot; 还是 &quot;http&quot;</li><li style="">wsgi.input<br style="">
输入流，HTTP请求的 body 部分可以从这里读取</li><li style="">wsgi.erros<br style="">
输出流，如果出现错误，可以写往这里</li><li style="">wsgi.multithread<br style="">
如果应用程序对象可以被同一进程中的另一线程同时调用，这个&#20540;为True</li><li style="">wsgi.multiprocess<br style="">
如果应用程序对象可以同时被另一个进程调用，这个&#20540;为True</li><li style="">wsgi.run_once<br style="">
如果服务器希望应用程序对象在包含它的进程中只被调用一次，那么这个&#20540;为True</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这些&#20540;在 wsgiref示例中的&#20540;为：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">wsgi.errors = &lt;open file '&lt;stderr&gt;', mode 'w' at 0xb735f0d0&gt;
wsgi.file_wrapper = &lt;class wsgiref.util.FileWrapper at 0xb70525fc&gt;
wsgi.input = &lt;socket._fileobject object at 0xb7050e6c&gt;
wsgi.multiprocess = False
wsgi.multithread = True
wsgi.run_once = False
wsgi.url_scheme = 'http'
wsgi.version = (1, 0)
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
另外，environ中还可以包含服务器自己定义的一些变量，这些变量应该只包含</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">小写字母</li><li style="">数字</li><li style="">点</li><li style="">下划线</li><li style="">独立的前缀</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
例如，mod_python定义的变量名应该为mod_python.var_name的形式。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E8%BE%93%E5%85%A5%E6%B5%81%E5%8F%8A%E9%94%99%E8%AF%AF%E6%B5%81input-and-error-streams" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E8%BE%93%E5%85%A5%E6%B5%81%E5%8F%8A%E9%94%99%E8%AF%AF%E6%B5%81input-and-error-streams" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>输入流及错误流(Input
 and Error Streams)</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
服务器程序提供的输入流及错误流必须包含以下方法：</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">read(size)</li><li style="">readline()</li><li style="">readlines(hint)</li><li style=""><span style="">iter</span>()</li><li style="">flush()</li><li style="">write()</li><li style="">writelines(seq)</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
应用程序使用输入流对象及错误流对象时，只能使用这些方法，禁止使用其它方法，特别是， 禁止应用程序关闭这些流。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="start_response" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#start_response" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>start_response()</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
start_response是HTTP响应的开始，它的形式为：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">start_response(status, response_headers, exc_info=None)
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
返回一个可调用对象，这个可调用对象形式为：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">write(body_data)
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
status 表示 HTTP 状态码，例如 &quot;200 OK&quot;, &quot;404 Not Found&quot;，它们在&nbsp;<a target="_blank" target="_blank" href="http://www.faqs.org/rfcs/rfc2616.html" style="color:rgb(65,131,196); text-decoration:none">RFC 2616</a>中定义，status禁止包含控制字符。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
response_headers 是一个列表，列表项是一个二元组： (header_name, heaer_value) ， 每个 header_name 都必须是&nbsp;<a target="_blank" target="_blank" href="http://www.faqs.org/rfcs/rfc2616.html" style="color:rgb(65,131,196); text-decoration:none">RFC 2616</a>&nbsp;4.2 节中定义的HTTP 头部名。header_value
 禁止包含控制字符。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
另外，服务器程序必须保证正确的headers 被返回给客户端，如果应用程序没有返回headers，服务器必须添加它。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
应用程序和middleware禁止使用 HTTP/1.1 中的 &quot;hop-by-hop&quot;特性，以及其它可能影响客户端与服务器永久连接的特性。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
start_response 被调用时，服务器应该检查 headers 中的错误，另外，禁止 start_response直接将 response_headers传递给客户端，它必须把它们存储起来，一直到应用程序第一次迭代返回一个非空数据后，才能将response_headers传递给客户端。这其实是在说，HTTP响应body部分必须有数据，不能只返回一个header。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
start_response的第三个参数是一个可选参数，exc_info，它必须和Python的 sys.exc_info()返回的数据有相同类型。当处理请求的过程遇到错误时，这个参数会被设置，同时调用 start_response。如果提供了exc_info，但是HTTP headers 还没有输出，那么 start_response需要将当前存储的 HTTP response headers替换成一个新&#20540;。但是，如果提供了exc_info，同时 HTTP headers已经输出了，那么 start_response
 必须 raise 一个 error。禁止应用程序处理 start_response raise出的 exceptions，应该交给服务器程序处理。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
当且仅当提供 exc_info参数时，start_response才可以被调用多于一次。换句话说，要是没提供这个参数，start_response在当前应用程序中调用后，禁止再调用。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
为了避免循环引用，start_response实现时需要保证 exc_info在函数调用后不再包含引用。 也就是说start_response用完 exc_info后，需要保证执行一句</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">exc_info = None
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这可以通过 try/finally实现。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E5%A4%84%E7%90%86-content-length-header" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E5%A4%84%E7%90%86-content-length-header" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>处理
 Content-Length Header</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
如果应用程序支持 Content-Length，那么服务器程序传递的数据大小不应该超过 Content-Length，当发送了足够的数据后，应该停止迭代，或者 raise 一个 error。当然，如果应用程序返回的数据大小没有它指定的Content-Length那么多，那么服务器程序应该关闭连接，使用Log记录，或者报告错误。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
如果应用程序不支持Content-Length,那么服务器程序应该选择一种方法处理这种情况。最简单的方法就是当响应完成后，关闭与客户端的连接。</p>
<h3 style="margin:1em 0px 15px; line-height:1.7; font-size:1.5em; padding:0px; position:relative; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E7%BC%93%E5%86%B2%E4%B8%8E%E6%B5%81buffering-and-streaming" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E7%BC%93%E5%86%B2%E4%B8%8E%E6%B5%81buffering-and-streaming" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>缓冲与流(Buffering
 and Streaming)</h3>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
一般情况下，应用程序会把需要返回的数据放在缓冲区里，然后一次性发送出去。之前说的应用程序会返回一个可迭代对象，多数情况下，这个可迭代对象，都只有一个元素，这个元素包含了HTML内容。但是在有些情况下，数据太大了，无法一次性在内存中存储这些数据，所以就需要做成一个可迭代对象，每次迭代只发送一块数据。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
禁止服务器程序延迟任何一块数据的传送，要么把一块数据完全传递给客户端，要么保证在产生下一块数据时，继续传递这一块数据。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="middleware-%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#middleware-%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>middleware
 处理数据</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
如果 middleware调用的应用程序产生了数据，那么middleware至少要产生一个数据，即使它想等数据积累到一定程度再返回，它也需要产生一个空的bytestring。 注意，这也意味着只要middleware调用的应用程序产生了一个可迭代对象，middleware也必须返回一个可迭代对象。 同时，禁止middleware使用可调用对象write传递数据，write是middleware调用的应用程序使用的。</p>
<h3 style="margin:1em 0px 15px; line-height:1.7; font-size:1.5em; padding:0px; position:relative; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="write-%E5%8F%AF%E8%B0%83%E7%94%A8%E5%AF%B9%E8%B1%A1" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#write-%E5%8F%AF%E8%B0%83%E7%94%A8%E5%AF%B9%E8%B1%A1" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>write
 可调用对象</h3>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
一些已经存在的应用程序框架使用了write函数或方法传递数据，并且没有使用缓冲区。不幸的是，根据WSGI中的要求，应用程序需要返回可迭代对象，这样就无法实现这些API,为了允许这些API 继续使用，WSGI要求 start_response 返回一个 write 可调用对象，这样应用程序就能使用这个 write 了。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
但是，如果能避免使用这个 write，最好避免使用，这是为兼容以前的应用程序而设计的。这个write的参数是HTTP response body的一部分，这意味着在write()返回前，必须保证传给它的数据已经完全被传送了，或者已经放在缓冲区了。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
应用程序必须返回一个可迭代对象，即使它使用write产生HTTP response body。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这里可以发现，有两中传递数据的方式，一种是直接使用write传递，一种是应用程序返回可迭代对象后，再将这个可迭代对象传递，如果同时使用这两种方式，前者的数据必须在后者之前传递。</p>
<h3 style="margin:1em 0px 15px; line-height:1.7; font-size:1.5em; padding:0px; position:relative; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="unicode" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#unicode" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>Unicode</h3>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
HTTP 不支持 Unicode, 所有编码/解码都必须由应用程序完成，所有传递给或者来自server的字符串都必须是&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">str</code>&nbsp;或者<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">bytes</code>类型，而不是<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">unicode</code>。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
注意传递给start_response的数据，其编码都必须遵循&nbsp;<a target="_blank" target="_blank" href="http://www.faqs.org/rfcs/rfc2616.html" style="color:rgb(65,131,196); text-decoration:none">RFC 2616</a>， 即使用 ISO-8859-1 或者&nbsp;<a target="_blank" target="_blank" href="http://www.faqs.org/rfcs/rfc2047.html" style="color:rgb(65,131,196); text-decoration:none">RFC
 2047</a>&nbsp;MIME 编码。</p>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
WSGI 中据说的&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">bytestrings</code>&nbsp;， 在Python3中指&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">bytes</code>，在以前的Python版本中，指&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">str</code>。</p>
<h3 style="margin:1em 0px 15px; line-height:1.7; font-size:1.5em; padding:0px; position:relative; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86error-handling" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86error-handling" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>错误处理(Error
 Handling)</h3>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
应用程序应该捕获它们自己的错误，internal erros， 并且将相关错误信息返回给浏览器。 WSGI 提供了一种错误处理的方式，这就是之前提到的 exc_info参数。下面是 PEP 3333中提供的一段示例：</p>
<pre style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:13px; margin-top:15px; margin-bottom:15px; background-color:rgb(248,248,248); border:1px solid rgb(221,221,221); line-height:19px; overflow:auto; padding:6px 10px; word-wrap:normal; color:rgb(51,51,51)"><code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px; padding:0px; border:none; background-color:transparent; word-wrap:normal">try:
    # regular application code here
    status = &quot;200 Froody&quot;
    response_headers = [(&quot;content-type&quot;, &quot;text/plain&quot;)]
    start_response(status, response_headers)
    return [&quot;normal body goes here&quot;]
except:
    # XXX should trap runtime issues like MemoryError, KeyboardInterrupt
    #     in a separate handler before this bare 'except:'...
    status = &quot;500 Oops&quot;
    response_headers = [(&quot;content-type&quot;, &quot;text/plain&quot;)]
    start_response(status, response_headers, sys.exc_info())
    return [&quot;error body goes here&quot;]
</code></pre>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
当出现异常时，start_response的exc_info参数被设置成 sys.exc_info()，这个函数会返回当前的异常。</p>
<h3 style="margin:1em 0px 15px; line-height:1.7; font-size:1.5em; padding:0px; position:relative; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="http-11-expectcontinue" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#http-11-expectcontinue" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>HTTP
 1.1 Expect/Continue</h3>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
如果服务器程序要实现 HTTP 1.1，那么它必须提供对 HTTP 1.1&nbsp;<code style="font-family:Consolas,'Liberation Mono',Courier,monospace; font-size:12px; margin:0px 2px; padding:0px 5px; border:1px solid rgb(221,221,221); background-color:rgb(248,248,248); white-space:nowrap">expect/continue</code>机制的支持。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E5%85%B6%E5%AE%83%E5%86%85%E5%AE%B9" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E5%85%B6%E5%AE%83%E5%86%85%E5%AE%B9" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>其它内容</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
在 PEP 3333 中，还包含了其它内容，例如：</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style="">HTTP 特性</li><li style="">线程支持</li><li style="">实现时需要注意的地方：包括，扩展API，应用程序配置，URL重建等</li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这里就不作过多介绍了。</p>
<h2 style="margin:1em 0px 15px; line-height:1.7; font-size:2em; padding:0px; position:relative; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif">
<a target="_blank" target="_blank" name="%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB" class="anchor" href="https://github.com/minixalpha/StrayBirds/blob/gh-pages/_posts/2014-01-26-wsgi-intro.md#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB" style="color:rgb(65,131,196); text-decoration:none; display:block; padding-right:6px; padding-left:30px; margin-left:-30px; position:absolute; top:0px; left:0px; bottom:0px"></a>扩展阅读</h2>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
这篇文章主要是我阅读 PEP 3333 后的理解和记录，有些地方可能没有理解正确或者没有写全，下面提供一些资源供扩展阅读。</p>
<ul style="padding:0px 0px 0px 30px; margin:15px 0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
<li style=""><a target="_blank" target="_blank" href="http://www.python.org/dev/peps/pep-3333/" style="color:rgb(65,131,196); text-decoration:none">PEP 3333</a><br style="">
不解释</li><li style=""><a target="_blank" target="_blank" href="http://wsgi.readthedocs.org/en/latest/" style="color:rgb(65,131,196); text-decoration:none">WSGI org</a><br style="">
看起来好像官方网站的样子，覆盖了关于WSGI的方方面面，包含学习资源，支持WSGI的框架列表，服务器列表，应用程序列表，middleware和库等等。</li><li style=""><a target="_blank" target="_blank" href="https://pypi.python.org/pypi/wsgiref" style="color:rgb(65,131,196); text-decoration:none">wsgiref</a><br style="">
WSGI的参考实现，阅读源代码后有利于对WSGI的理解。我在GitHub上有自己阅读后的注释版本，并且作了一些图，有需要可以看这里：<a target="_blank" target="_blank" href="https://github.com/minixalpha/SourceLearning/tree/master/wsgiref-0.1.2" style="color:rgb(65,131,196); text-decoration:none">wsgiref 源代码阅读</a></li></ul>
<p style="margin-top:15px; margin-bottom:15px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px">
另外，还有一些文章介绍了一些基本概念和一些有用的实例，非常不错。</p>
<ul style="padding:0px 0px 0px 30px; margin-top:15px; margin-right:0px; margin-left:0px; color:rgb(51,51,51); font-family:Helvetica,arial,freesans,clean,sans-serif; font-size:15.199999809265137px; line-height:20.399999618530273px; margin-bottom:0px!important">
<li style=""><a target="_blank" target="_blank" href="http://blog.kenshinx.me/blog/wsgi-research/" style="color:rgb(65,131,196); text-decoration:none">Wsgi研究</a></li><li style=""><a target="_blank" target="_blank" href="http://linluxiang.iteye.com/blog/799163" style="color:rgb(65,131,196); text-decoration:none">wsgi初探</a></li></ul>
</div>




<!-- Baidu Button BEGIN -->

<div class="bdsharebuttonbox" style="float: right;">
<a href="#" class="bds_more" data-cmd="more" style="background-position:0 0 !important; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png) !important"></a>
<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"  style="background-position:0 -52px !important"></a>
<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"style="background-position:0 -104px !important"></a>
<a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"style="background-position:0 -260px !important"></a>
<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"style="background-position:0 -208px !important"></a>
<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"style="background-position:0 -1612px !important" ></a>
</div>
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
<!-- Baidu Button END -->

<!--192.168.100.35-->
<ul class="article_next_prev">
            <li class="prev_article"><span  onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shangyipian']);location.href='/on_1y/article/details/18238851';">上一篇</span><a href="/on_1y/article/details/18238851" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shangyipian'])">如何编写高质量的程序</a></li>
            <li class="next_article"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_xiayipian']);location.href='/on_1y/article/details/18818081';">下一篇</span><a href="/on_1y/article/details/18818081" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_xiayipian'])">wsgiref 源代码分析</a></li>
</ul>

<!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->


        <div id="digg" ArticleId="18803563">
            <dl id="btnDigg" class="digg digg_disable">
                <dt onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_ding'])">顶</dt>
                <dd>7</dd>
            </dl>
            <dl id="btnBury" class="digg digg_disable">
                <dt onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_cai'])">踩</dt>
                <dd>0</dd>
            </dl>
        </div>
</div>
      <dl class="blog-associat-tag">
        <dt>主题推荐</dt>
        <dd>
                <a href="http://www.csdn.net/tag/操作系统相关" target="_blank" class="blog-tage-red" >操作系统相关</a> 
                <a href="http://www.csdn.net/tag/web开发" target="_blank" class="blog-tage-red" >web开发</a> 
                <a href="http://www.csdn.net/tag/web框架" target="_blank" class="blog-tage-red" >web框架</a> 
                <a href="http://www.csdn.net/tag/数据结构" target="_blank" class="blog-tage-red" >数据结构</a> 
                <a href="http://www.csdn.net/tag/源代码" target="_blank" class="blog-tage-red" >源代码</a> 
        </dd>
    </dl> 


<dl class="blog-ass-articl tracking-ad"  data-mod="popu_36" id="res-relatived"> 
     <dt><span>猜你在找</span></dt>    
</dl>
<div id="job_blog_reco">
<script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   
     <script type="text/javascript">
         csdn.position.show({
         sourceType: "blog",
         tplType: "blogDetail",
         searchType: "detail",
         searchKey: "18803563",
             username: "",
         containerId: "job_blog_reco"
        }); 
    </script>

</div>

<script type="text/javascript">
    var searchtitletags = 'WSGI 简介' + ',' + '操作系统相关,web开发,web框架,数据结构,源代码';
    searchService({
        index: 'blog',
        query: searchtitletags,
        from: 10,
        size: 10,
        appendTo: '#res-relatived',
        url: 'recommend',
        his: 2,
        client: "blog_cf_enhance",
        tmpl: '<dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="#{ url }" title="#{ title }" strategy="#{ strategy }">#{ title }</a></dd>'
    });

 </script>   



    <div id="ad_cen">
   
          <script type="text/javascript">
              new Ad(4, 'ad_cen');
          </script>
    </div>
<div class="comment_class">
    <div id="comment_title" class="panel_head">
        <span class="see_comment">查看评论</span><a name="comments"></a></div>
    <div id="comment_list">
    </div>
    <div id="comment_bar">
    </div>
    <div id="comment_form">
    </div>

    <div class="announce">
        * 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
</div>

<script type="text/javascript">
    var fileName = '18803563';
    var commentscount = 3;
    var islock = false
</script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/comment.js"></script>
    <div id="ad_bot">
    </div>
    <script type="text/javascript">
    new Ad(5, 'ad_bot');
    </script>
<div id="report_dialog">
</div>

<div id="d-top"  style="bottom:60px;">
        <a id="quick-reply" class="btn btn-top q-reply" title="快速回复" style="display:none;">
            <img src="http://static.blog.csdn.net/images/blog-icon-reply.png" alt="快速回复">
        </a>    

    <a id="d-top-a" class="btn btn-top backtop"  style="display: none;" title="返回顶部" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_huidaodingbu'])" style="">         
         <img src="http://static.blog.csdn.net/images/top.png" alt="TOP">
    </a>
</div>
<script type="text/javascript">
    $(function ()
    {
        $("#ad_frm_0").height("90px");
        
        setTimeout(function(){
            $("#ad_frm_2").height("200px");
        },1000);
        
        /*
        if($("#comment_content").length>0)
        {
            $("#quick-reply").show();

            $("#quick-reply").click(function(){
                setEditorFocus();
            });
        }       
     
        var d_top = $('#d-top-a');

        document.onscroll = function ()
        {
            var scrTop = (document.body.scrollTop || document.documentElement.scrollTop);
            if (scrTop > 500)
            {
                d_top.show();
            } else
            {
                d_top.hide();
            }
        }
        $('#d-top-a').click(function ()
        {
            scrollTo(0, 0);
            this.blur();
            return false;
        });
        */
    });
  
</script>
<style type="text/css">
    .tag_list
    {
        background: none repeat scroll 0 0 #FFFFFF;
        border: 1px solid #D7CBC1;
        color: #000000;
        font-size: 12px;
        line-height: 20px;
        list-style: none outside none;
        margin: 10px 2% 0 1%;
        padding: 1px;
    }
    .tag_list h5
    {
        background: none repeat scroll 0 0 #E0DBD3;
        color: #47381C;
        font-size: 12px;
        height: 24px;
        line-height: 24px;
        padding: 0 5px;
        margin: 0;
    }
    .tag_list h5 a
    {
        color: #47381C;
    }
    .classify
    {
        margin: 10px 0;
        padding: 4px 12px 8px;
    }
    .classify a
    {
        margin-right: 20px;
        white-space: nowrap;
    }
</style>
<div class="tag_list">
    <h5>
        <a href="http://www.csdn.net/tag/" target="_blank">核心技术类目</a></h5>
    <div class="classify">
<a title="全部主题" href="http://www.csdn.net/tag" target="_blank" onclick="LogClickCount(this,336);">全部主题</a>
<a title="Hadoop" href="http://g.csdn.net/5272865" target="_blank" onclick="LogClickCount(this,336);">Hadoop</a>
<a title="AWS" href="http://g.csdn.net/5272866" target="_blank" onclick="LogClickCount(this,336);">AWS</a>
<a title="移动游戏" href="http://g.csdn.net/5272870" target="_blank" onclick="LogClickCount(this,336);">移动游戏</a>
<a title="Java" href="http://g.csdn.net/5272871" target="_blank" onclick="LogClickCount(this,336);">Java</a>
<a title="Android" href="http://g.csdn.net/5272872" target="_blank" onclick="LogClickCount(this,336);">Android</a>
<a title="iOS" href="http://g.csdn.net/5272873" target="_blank" onclick="LogClickCount(this,336);">iOS</a>
<a title="Swift" href="http://g.csdn.net/5272868" target="_blank" onclick="LogClickCount(this,336);">Swift</a>
<a title="智能硬件" href="http://g.csdn.net/5272869" target="_blank" onclick="LogClickCount(this,336);">智能硬件</a>
<a title="Docker" href="http://g.csdn.net/5272867" target="_blank" onclick="LogClickCount(this,336);">Docker</a>
<a title="OpenStack" href="http://g.csdn.net/5272925" target="_blank" onclick="LogClickCount(this,336);">OpenStack</a>
<a title="VPN" href="http://www.csdn.net/tag/vpn" target="_blank" onclick="LogClickCount(this,336);">VPN</a>
<a title="Spark" href="http://g.csdn.net/5272924" target="_blank" onclick="LogClickCount(this,336);">Spark</a>
<a title="ERP" href="http://www.csdn.net/tag/erp" target="_blank" onclick="LogClickCount(this,336);">ERP</a>
<a title="IE10" href="http://www.csdn.net/tag/ie10" target="_blank" onclick="LogClickCount(this,336);">IE10</a>
<a title="Eclipse" href="http://www.csdn.net/tag/eclipse" target="_blank" onclick="LogClickCount(this,336);">Eclipse</a>
<a title="CRM" href="http://www.csdn.net/tag/crm" target="_blank" onclick="LogClickCount(this,336);">CRM</a>
<a title="JavaScript" href="http://www.csdn.net/tag/javascript" target="_blank" onclick="LogClickCount(this,336);">JavaScript</a>
<a title="数据库" href="http://www.csdn.net/tag/数据库" target="_blank" onclick="LogClickCount(this,336);">数据库</a>
<a title="Ubuntu" href="http://www.csdn.net/tag/ubuntu" target="_blank" onclick="LogClickCount(this,336);">Ubuntu</a>
<a title="NFC" href="http://www.csdn.net/tag/nfc" target="_blank" onclick="LogClickCount(this,336);">NFC</a>
<a title="WAP" href="http://www.csdn.net/tag/wap" target="_blank" onclick="LogClickCount(this,336);">WAP</a>
<a title="jQuery" href="http://www.csdn.net/tag/jquery" target="_blank" onclick="LogClickCount(this,336);">jQuery</a>
<a title="BI" href="http://www.csdn.net/tag/bi" target="_blank" onclick="LogClickCount(this,336);">BI</a>
<a title="HTML5" href="http://www.csdn.net/tag/html5" target="_blank" onclick="LogClickCount(this,336);">HTML5</a>
<a title="Spring" href="http://www.csdn.net/tag/spring" target="_blank" onclick="LogClickCount(this,336);">Spring</a>
<a title="Apache" href="http://www.csdn.net/tag/apache" target="_blank" onclick="LogClickCount(this,336);">Apache</a>
<a title=".NET" href="http://www.csdn.net/tag/.net" target="_blank" onclick="LogClickCount(this,336);">.NET</a>
<a title="API" href="http://www.csdn.net/tag/api" target="_blank" onclick="LogClickCount(this,336);">API</a>
<a title="HTML" href="http://www.csdn.net/tag/html" target="_blank" onclick="LogClickCount(this,336);">HTML</a>
<a title="SDK" href="http://www.csdn.net/tag/sdk" target="_blank" onclick="LogClickCount(this,336);">SDK</a>
<a title="IIS" href="http://www.csdn.net/tag/iis" target="_blank" onclick="LogClickCount(this,336);">IIS</a>
<a title="Fedora" href="http://www.csdn.net/tag/fedora" target="_blank" onclick="LogClickCount(this,336);">Fedora</a>
<a title="XML" href="http://www.csdn.net/tag/xml" target="_blank" onclick="LogClickCount(this,336);">XML</a>
<a title="LBS" href="http://www.csdn.net/tag/lbs" target="_blank" onclick="LogClickCount(this,336);">LBS</a>
<a title="Unity" href="http://www.csdn.net/tag/unity" target="_blank" onclick="LogClickCount(this,336);">Unity</a>
<a title="Splashtop" href="http://www.csdn.net/tag/splashtop" target="_blank" onclick="LogClickCount(this,336);">Splashtop</a>
<a title="UML" href="http://www.csdn.net/tag/uml" target="_blank" onclick="LogClickCount(this,336);">UML</a>
<a title="components" href="http://www.csdn.net/tag/components" target="_blank" onclick="LogClickCount(this,336);">components</a>
<a title="Windows Mobile" href="http://www.csdn.net/tag/windowsmobile" target="_blank" onclick="LogClickCount(this,336);">Windows Mobile</a>
<a title="Rails" href="http://www.csdn.net/tag/rails" target="_blank" onclick="LogClickCount(this,336);">Rails</a>
<a title="QEMU" href="http://www.csdn.net/tag/qemu" target="_blank" onclick="LogClickCount(this,336);">QEMU</a>
<a title="KDE" href="http://www.csdn.net/tag/kde" target="_blank" onclick="LogClickCount(this,336);">KDE</a>
<a title="Cassandra" href="http://www.csdn.net/tag/cassandra" target="_blank" onclick="LogClickCount(this,336);">Cassandra</a>
<a title="CloudStack" href="http://www.csdn.net/tag/cloudstack" target="_blank" onclick="LogClickCount(this,336);">CloudStack</a>
<a title="FTC" href="http://www.csdn.net/tag/ftc" target="_blank" onclick="LogClickCount(this,336);">FTC</a>
<a title="coremail" href="http://www.csdn.net/tag/coremail" target="_blank" onclick="LogClickCount(this,336);">coremail</a>
<a title="OPhone " href="http://www.csdn.net/tag/ophone " target="_blank" onclick="LogClickCount(this,336);">OPhone </a>
<a title="CouchBase" href="http://www.csdn.net/tag/couchbase" target="_blank" onclick="LogClickCount(this,336);">CouchBase</a>
<a title="云计算" href="http://www.csdn.net/tag/云计算" target="_blank" onclick="LogClickCount(this,336);">云计算</a>
<a title="iOS6" href="http://www.csdn.net/tag/iOS6" target="_blank" onclick="LogClickCount(this,336);">iOS6</a>
<a title="Rackspace " href="http://www.csdn.net/tag/rackspace " target="_blank" onclick="LogClickCount(this,336);">Rackspace </a>
<a title="Web App" href="http://www.csdn.net/tag/webapp" target="_blank" onclick="LogClickCount(this,336);">Web App</a>
<a title="SpringSide" href="http://www.csdn.net/tag/springside" target="_blank" onclick="LogClickCount(this,336);">SpringSide</a>
<a title="Maemo" href="http://www.csdn.net/tag/maemo" target="_blank" onclick="LogClickCount(this,336);">Maemo</a>
<a title="Compuware" href="http://www.csdn.net/tag/compuware" target="_blank" onclick="LogClickCount(this,336);">Compuware</a>
<a title="大数据" href="http://www.csdn.net/tag/大数据" target="_blank" onclick="LogClickCount(this,336);">大数据</a>
<a title="aptech" href="http://www.csdn.net/tag/aptech" target="_blank" onclick="LogClickCount(this,336);">aptech</a>
<a title="Perl" href="http://www.csdn.net/tag/perl" target="_blank" onclick="LogClickCount(this,336);">Perl</a>
<a title="Tornado" href="http://www.csdn.net/tag/tornado" target="_blank" onclick="LogClickCount(this,336);">Tornado</a>
<a title="Ruby" href="http://www.csdn.net/tag/ruby" target="_blank" onclick="LogClickCount(this,336);">Ruby</a>
<a title="Hibernate" href="http://www.csdn.net/hibernate" target="_blank" onclick="LogClickCount(this,336);">Hibernate</a>
<a title="ThinkPHP" href="http://www.csdn.net/tag/thinkphp" target="_blank" onclick="LogClickCount(this,336);">ThinkPHP</a>
<a title="HBase" href="http://www.csdn.net/tag/hbase" target="_blank" onclick="LogClickCount(this,336);">HBase</a>
<a title="Pure" href="http://www.csdn.net/tag/pure" target="_blank" onclick="LogClickCount(this,336);">Pure</a>
<a title="Solr" href="http://www.csdn.net/tag/solr" target="_blank" onclick="LogClickCount(this,336);">Solr</a>
<a title="Angular" href="http://www.csdn.net/tag/angular" target="_blank" onclick="LogClickCount(this,336);">Angular</a>
<a title="Cloud Foundry" href="http://www.csdn.net/tag/cloudfoundry" target="_blank" onclick="LogClickCount(this,336);">Cloud Foundry</a>
<a title="Redis" href="http://www.csdn.net/tag/redis" target="_blank" onclick="LogClickCount(this,336);">Redis</a>
<a title="Scala" href="http://www.csdn.net/tag/scala" target="_blank" onclick="LogClickCount(this,336);">Scala</a>
<a title="Django" href="http://www.csdn.net/tag/django" target="_blank" onclick="LogClickCount(this,336);">Django</a>
<a title="Bootstrap" href="http://www.csdn.net/tag/bootstrap" target="_blank" onclick="LogClickCount(this,336);">Bootstrap</a>
    </div>
</div>

<div id="pop_win" style="display:none ;position: absolute; z-index: 10000; border: 1px solid rgb(220, 220, 220); top: 222.5px; left: 630px; opacity: 1; background: none 0px 0px repeat scroll rgb(255, 255, 255);">
    
</div>
<div id="popup_mask"></div>
<style>
    #popup_mask
    {
        position: absolute;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 9999;
        left: 0px;
        top: 0px;
        opacity: 0.3;
        filter: alpha(opacity=30);
        display: none;
    }

</style>




<script type="text/javascript">
    $(function(){
        setTimeout(function(){
            $(".comment_body:contains('回复')").each(function(index,item){
                var u=$(this).text().split('：')[0].toString().replace("回复","")
                var thisComment=$(this);
                if(u)
                {
                    $.getJSON("https://passport.csdn.net/get/nick?callback=?", {users: u}, function(a) {
                        if(a!=null&&a.data!=null&&a.data.length>0)
                        {
                            nick=a.data[0].n; 
                            if(u!=nick)
                            {
                                thisComment.text(thisComment.text().replace(u,nick));  
                            }
                        }       
                    });  
                }
            });
        },200);  
        
        setTimeout(function(){
            $("a img[src='http://js.tongji.linezing.com/stats.gif']").parent().css({"position":"absolute","left":"50%"});
        },300);
    });

    function loginbox(){
        var $logpop=$("#pop_win");
        $logpop.html('<iframe src="https://passport.csdn.net/account/loginbox?service=http://static.blog.csdn.net/callback.htm" frameborder="0" height="600" width="400" scrolling="no"></iframe>');

        $('#popup_mask').css({
            opacity: 0.5,
            width: $( document ).width() + 'px',
            height:  $( document ).height() + 'px'
        });
        $('#popup_mask').css("display","block");
 
        $logpop.css( {
            top: ($( window ).height() - $logpop.height())/ 2  + $( window 
       ).scrollTop() + 'px',
            left:($( window ).width() - $logpop.width())/ 2
        } );
 
        setTimeout( function () {
            $logpop.show();
            $logpop.css( {
                opacity: 1
            } );
        }, 200 );
 
        $('#popup_mask').unbind("click");
        $('#popup_mask').bind("click", function(){
            $('#popup_mask').hide();
            var $clopop = $("#pop_win");
            $("#common_ask_div_sc").css("display","none");
            $clopop.css( {
                opacity: 0
            } );
            setTimeout( function () {
                $clopop.hide();
            }, 350 );
            return false;
        });
    }    

</script>
                        <div class="clear">
                        </div>
                    </div>                   
                
            </div>
            <div id="side">
    <div class="side">
<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/on_1y" target="_blank">
    <img src="http://avatar.csdn.net/1/C/2/1_on_1y.jpg" title="访问我的空间" style="max-width:90%"/>
    </a>
    <br />
    <span><a href="http://my.csdn.net/on_1y" class="user_name" target="_blank">on_1y</a></span>
</div>
<div class="interact">
<a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_guanzhu'])"></a>

 <a href="javascript:void(0);" class="letter"  title="[发私信]" onclick="window.open('http://msg.csdn.net/letters/model?receiver=on_1y','_blank','height=350,width=700');_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_sixin'])"></a>  
</div>
<div id="blog_medal">
                <div id="bms_box">
                                            <a  target="_blank">
                                                    <img src="http://c.csdnimg.cn/jifen/images/xunzhang/xunzhang/zhuanlandaren.png" onmouseover="m_over_m(this,2)" onmouseout="m_out_m()" alt="1" >
                                            </a>
               </div>
</div>
<ul id="blog_rank">
    <li>访问：<span>151725次</span></li>
    <li>积分：<span>2583</span> </li>    
    <li >等级： <span style="position:relative;display:inline-block;z-index:1" >
            <img src="http://c.csdnimg.cn/jifen/images/xunzhang/jianzhang/blog5.png" alt="" style="vertical-align: middle;" id="leveImg">
            <div id="smallTittle" style=" position: absolute;  left: -24px;  top: 25px;  text-align: center;  width: 101px;  height: 32px;  background-color: #fff;  line-height: 32px;  border: 2px #DDDDDD solid;  box-shadow: 0px 2px 2px rgba (0,0,0,0.1);  display: none;   z-index: 999;">
            <div style="left: 42%;  top: -8px;  position: absolute;  width: 0;  height: 0;  border-left: 10px solid transparent;  border-right: 10px solid transparent;  border-bottom: 8px solid #EAEAEA;"></div>
            积分：2583 </div>
        </span>  </li>
    <li>排名：<span>第6041名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>88篇</span></li>
    <li>转载：<span>0篇</span></li>
    <li>译文：<span>11篇</span></li>
    <li>评论：<span>61条</span></li>
</ul>
</ul>
</div>




<div id="custom_column_22773588" class="panel">
<ul class="panel_head"><span>GitHub</span></ul>
<ul class="panel_body">

https://github.com/minixalpha

</ul>
</div><div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字" /></span>
        <input id="btnSubmit" type="button" value="搜索" title="search in blog" />
        <input type="hidden" name="q" id="inputQ" />
        <input type="hidden" name="t" value="blog" />
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div>

<script type="text/javascript">
    $(function () {
        $("#btnSubmit").click(function () {           
            search();
        });

        $("#frmSearch").submit(function () {
            search();
            return false;
        });

        function search()
        {
            var url = "http://so.csdn.net/so/search/s.do?q=" + encodeURIComponent($("#inputSearch").val()) + "&u=" + username + "&t=blog";
            window.location.href = url;
        }   
    });
</script><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>博客专栏</span></ul>
    <ul class="panel_body" id="sp_column">
    <table cellpadding="0" cellspacing="0"><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/openjdk-src-reading.html" target="_blank"><img src="http://avatar.csdn.net/blogpic/20140607195540046.jpg" style="width:75px;height:75px;" /></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/openjdk-src-reading.html" target="_blank">OpenJDK源代码阅读</a>
    <p>文章：13篇</p>
    <span>阅读：8055</span>
    </td>
    </tr></table>
    </ul>
</div>
<div id="panel_Category" class="panel">
<ul class="panel_head"><span>文章分类</span></ul>
<ul class="panel_body">
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1296273" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">数学</a><span>(3)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1296272" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">计算机科学</a><span>(6)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1128018" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">算法</a><span>(4)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1128019" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">编程语言</a><span>(46)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1128103" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">工具</a><span>(8)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1128104" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">生活感悟</a><span>(3)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1241556" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Linux</a><span>(19)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1296249" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Haskell</a><span>(10)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1349346" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Python</a><span>(19)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1370993" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">自然语言处理</a><span>(2)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1559953" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">数据结构</a><span>(6)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1633469" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Web</a><span>(4)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1643691" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">深入理解计算机系统</a><span>(4)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1856475" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">软件工程</a><span>(1)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1912583" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">计算机网络</a><span>(2)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/1919383" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">C语言</a><span>(5)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/2228091" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Java</a><span>(21)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/2228093" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">虚拟机</a><span>(7)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/2293761" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">源代码阅读</a><span>(13)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/2439839" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">设计模式</a><span>(3)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/2492899" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">内存模型</a><span>(3)</span>
            </li>
             <li>
                <a href="http://blog.csdn.net/on_1y/article/category/2843079" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">SICP</a><span>(3)</span>
            </li>
</ul>
</div><div id="panel_Archive" class="panel">
<ul class="panel_head"><span>文章存档</span></ul>
<ul class="panel_body">
<div id="archive_list">
<!--归档统计-->
<li><a href="http://blog.csdn.net/on_1y/article/month/2015/03">2015年03月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2015/01">2015年01月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/12">2014年12月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/09">2014年09月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/08">2014年08月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/07">2014年07月</a><span>(5)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/06">2014年06月</a><span>(5)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/05">2014年05月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/04">2014年04月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/03">2014年03月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/02">2014年02月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2014/01">2014年01月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2013/11">2013年11月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2013/10">2013年10月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2013/09">2013年09月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2013/08">2013年08月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2013/03">2013年03月</a><span>(11)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2013/02">2013年02月</a><span>(29)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2013/01">2013年01月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2012/12">2012年12月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2012/10">2012年10月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2012/09">2012年09月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2012/07">2012年07月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2012/05">2012年05月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/on_1y/article/month/2012/04">2012年04月</a><span>(4)</span></li>
</div>
</ul>
</div>
<div id="hotarticls" class="panel">
<ul class="panel_head">
    <span>       
阅读排行    </span>
</ul>

<ul class="panel_body itemlist">
<li>
<a href="/on_1y/article/details/19259435" title="使用 GitHub, Jekyll 打造自己的免费独立博客">使用 GitHub, Jekyll 打造自己的免费独立博客</a><span>(14022)</span>
</li>
<li>
<a href="/on_1y/article/details/8577913" title="【学习笔记——Linux】Linux下正确关机方法">【学习笔记——Linux】Linux下正确关机方法</a><span>(7382)</span>
</li>
<li>
<a href="/on_1y/article/details/18803563" title="WSGI 简介">WSGI 简介</a><span>(5072)</span>
</li>
<li>
<a href="/on_1y/article/details/7582347" title="SetWindowsHookEx 失败的一个隐晦的错误原因（思路为主，解决为辅）">SetWindowsHookEx 失败的一个隐晦的错误原因（思路为主，解决为辅）</a><span>(3482)</span>
</li>
<li>
<a href="/on_1y/article/details/8039298" title="Haskell Platform安装过程">Haskell Platform安装过程</a><span>(3393)</span>
</li>
<li>
<a href="/on_1y/article/details/7572522" title="SetWindowsHookEx 的资料整理 与 内部机理 的深入分析">SetWindowsHookEx 的资料整理 与 内部机理 的深入分析</a><span>(3280)</span>
</li>
<li>
<a href="/on_1y/article/details/8631204" title="「学习笔记——Python」Python 的错误和异常处理">「学习笔记——Python」Python 的错误和异常处理</a><span>(2904)</span>
</li>
<li>
<a href="/on_1y/article/details/8625728" title="从如何解决问题到如何学习算法">从如何解决问题到如何学习算法</a><span>(2174)</span>
</li>
<li>
<a href="/on_1y/article/details/8286289" title="线性规划工具　GLPK 的安装及基本使用">线性规划工具　GLPK 的安装及基本使用</a><span>(2138)</span>
</li>
<li>
<a href="/on_1y/article/details/20203963" title="控制台，终端，虚拟终端，tty，shell等概念的区别">控制台，终端，虚拟终端，tty，shell等概念的区别</a><span>(2118)</span>
</li>
</ul>
</div>
<div id="hotarticls2" class="panel">
<ul class="panel_head"><span>评论排行</span></ul>
<ul class="panel_body itemlist">
<li>
<a href="/on_1y/article/details/19259435" title="使用 GitHub, Jekyll 打造自己的免费独立博客">使用 GitHub, Jekyll 打造自己的免费独立博客</a><span>(16)</span>
</li>
<li>
<a href="/on_1y/article/details/18818081" title="wsgiref 源代码分析">wsgiref 源代码分析</a><span>(7)</span>
</li>
<li>
<a href="/on_1y/article/details/7477211" title="开篇：为什么开始写博客">开篇：为什么开始写博客</a><span>(5)</span>
</li>
<li>
<a href="/on_1y/article/details/30109975" title="OpenJDK 源代码阅读之 TimSort">OpenJDK 源代码阅读之 TimSort</a><span>(5)</span>
</li>
<li>
<a href="/on_1y/article/details/13760403" title="理解数据结构">理解数据结构</a><span>(5)</span>
</li>
<li>
<a href="/on_1y/article/details/8561371" title="「学习总结-Haskell-1」Haskell 基础知识">「学习总结-Haskell-1」Haskell 基础知识</a><span>(4)</span>
</li>
<li>
<a href="/on_1y/article/details/8577913" title="【学习笔记——Linux】Linux下正确关机方法">【学习笔记——Linux】Linux下正确关机方法</a><span>(3)</span>
</li>
<li>
<a href="/on_1y/article/details/18803563" title="WSGI 简介">WSGI 简介</a><span>(3)</span>
</li>
<li>
<a href="/on_1y/article/details/11602763" title="Cookie 路径在本机测试及服务器部署，在浏览器处理方式上的不同">Cookie 路径在本机测试及服务器部署，在浏览器处理方式上的不同</a><span>(2)</span>
</li>
<li>
<a href="/on_1y/article/details/27699513" title="OpenJDK 源代码阅读之 LinkedList">OpenJDK 源代码阅读之 LinkedList</a><span>(2)</span>
</li>
</ul>
</div>
<div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
   
         <a href="/on_1y/article/details/19259435#comments">使用 GitHub, Jekyll 打造自己的免费独立博客</a>
    <p style="margin:0px;"><a href="/u012203889" class="user_name">u012203889</a>:
@u012203889:现在问题解决了。。
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/19259435#comments">使用 GitHub, Jekyll 打造自己的免费独立博客</a>
    <p style="margin:0px;"><a href="/u012203889" class="user_name">u012203889</a>:
您好，，请问一下，我将`disqus_shortname ` 修改成你的博客短名，但是出现下面的问题...
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/19259435#comments">使用 GitHub, Jekyll 打造自己的免费独立博客</a>
    <p style="margin:0px;"><a href="/draem0507" class="user_name">draem0507</a>:
没有用jekyll-bootstrap?
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/18818081#comments">wsgiref 源代码分析</a>
    <p style="margin:0px;"><a href="/on_1y" class="user_name">on_1y</a>:
@liguo_jia:你提到的这个问题，我之前也没注意到，self._headers =  ， 这种...
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/7477211#comments">开篇：为什么开始写博客</a>
    <p style="margin:0px;"><a href="/liguo_jia" class="user_name">liguo_jia</a>:
很高兴您的回复如此迅速。您说的很有道理，不能急于求成，慢工出细活，功到自成。学习、思考、总结，然后脑...
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/7477211#comments">开篇：为什么开始写博客</a>
    <p style="margin:0px;"><a href="/liguo_jia" class="user_name">liguo_jia</a>:
很高兴您的回复如此迅速。您说的很有道理，不能急于求成，慢工出细活，功到自成。学习、思考、总结，然后脑...
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/7477211#comments">wsgiref 源代码分析</a>
    <p style="margin:0px;"><a href="/liguo_jia" class="user_name">liguo_jia</a>:
No pain, no gain. 花3个多小时照着此文研读代码，debug走查代码执行，画流程图和...
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/7477211#comments">wsgiref 源代码分析</a>
    <p style="margin:0px;"><a href="/liguo_jia" class="user_name">liguo_jia</a>:
大侠，请教个问题，wsgiref/headers.py/class Headersdef __del...
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/18803563#comments">WSGI 简介</a>
    <p style="margin:0px;"><a href="/liguo_jia" class="user_name">liguo_jia</a>:
文章写的言简意赅，条理清楚。我结合wsgiref做了详细认真的研读，很有收获。十分感谢博主。请教个小...
    </p>
    </li>
    <li>
   
         <a href="/on_1y/article/details/18803563#comments">开篇：为什么开始写博客</a>
    <p style="margin:0px;"><a href="/on_1y" class="user_name">on_1y</a>:
@liguo_jia:可能正是因为你说的“理清思路要花好多时间”，才需要多表达来锻炼吧，这又是一个进...
    </p>
    </li>
</ul>
</div>
    </div>
    <div class="clear">
    </div>
</div>

            <div class="clear">
            </div>
        </div>
        

<script type="text/javascript" src="http://csdnimg.cn/rabbit/cnick/cnick.js"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/newblog.min.js"></script>


<script type="text/javascript" src="http://medal.blog.csdn.net/showblogmedal.ashx?blogid=1114899"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/JavaScript1.js"></script>

    <script type="text/javascript" src="http://passport.csdn.net/content/loginbox/login.js"></script>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script>
<script type="text/javascript" src="http://www.csdn.net/ui/scripts/Csdn/counter.js"></script>
<script type="text/javascript" src="http://ad.csdn.net/scripts/ad-blog.js"></script>
<script type="text/javascript" src="http://zz.csdn.net/js/count.js"></script>
<script type="text/javascript">
    $(function () {
        function __get_code_toolbar(snippet_id) {
            return $("<a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "' target='_blank' title='在CODE上查看代码片' style='text-indent:0;'><img src='https://code.csdn.net/assets/CODE_ico.png' width=12 height=12 alt='在CODE上查看代码片' style='position:relative;top:1px;left:2px;'/></a>"
                    + "<a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "/fork' target='_blank' title='派生到我的代码片'  style='text-indent:0;'><img src='https://code.csdn.net/assets/ico_fork.svg' width=12 height=12 alt='派生到我的代码片' style='position:relative;top:2px;left:2px;'/></a>");
        }
        
        $("[code_snippet_id]").each(function () {
            __s_id = $(this).attr("code_snippet_id");
            if (__s_id != null && __s_id != "" && __s_id != 0 && parseInt(__s_id) > 70020) {
                __code_tool = __get_code_toolbar(__s_id);
                $(this).prev().find(".tools").append(__code_tool);
            }
        });
    });
</script>

    </div>
      <!--new top-->
    
    <script id="csdn-toolbar-id" btnId="header_notice_num" wrapId="note1" count="5" subCount="5" type="text/javascript" src="http://static.csdn.net/public/common/toolbar/js/toolbar.js"></script>     <!--new top-->
   
    <link href="http://c.csdnimg.cn/comm_ask/css/ask_float_block.css" type="text/css" rel="stylesheet" />
    <script language='JavaScript' type='text/javascript' src='http://c.csdnimg.cn/comm_ask/js/libs/wmd.js'></script>
    <script language='JavaScript' type='text/javascript' src='http://c.csdnimg.cn/comm_ask/js/libs/showdown.js'></script>
    <script language='JavaScript' type='text/javascript' src='http://c.csdnimg.cn/comm_ask/js/libs/prettify.js'></script>
    <script language='JavaScript' type='text/javascript' src='http://c.csdnimg.cn/comm_ask/js/apps/ask_float_block.js'></script>

</body>
</html>
