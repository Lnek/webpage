
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>[SOLVED] virt-manager opening backend socket failed (Page 1) / System Administration / Arch Linux Forums</title>
<link rel="stylesheet" type="text/css" href="style/ArchLinux.css" />
<!--[if lte IE 6]><script type="text/javascript" src="style/imports/minmax.js"></script><![endif]-->
<link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=177483&amp;type=atom" title="Atom topic feed" />
<link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=2" />
<link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" />
<link rel="shortcut icon" href="style/ArchLinux/favicon.ico" />
</head>

<body>
<div id="archnavbar" class="anb-forum">
	<div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div>
	<div id="archnavbarmenu">
		<ul id="archnavbarlist">
			<li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li>		</ul>
	</div>
</div>


<div id="punviewtopic" class="pun">
<div class="top-box"><div><!-- Top Corners --></div></div>
<div class="punwrap">

<div id="brdheader" class="block">
	<div class="box">
		<div id="brdmenu" class="inbox">
			<ul>
				<li id="navindex" class="isactive"><a href="index.php">Index</a></li>
				<li id="navsearch"><a href="search.php">Search</a></li>
				<li id="navregister"><a href="register.php">Register</a></li>
				<li id="navlogin"><a href="login.php">Login</a></li>
			</ul>
		</div>
		<div id="brdwelcome" class="inbox">
			<p class="conl">You are not logged in.</p>
			<ul class="conr">
				<li><span>Topics: <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li>
			</ul>
			<div class="clearer"></div>
		</div>
	</div>
</div>



<div id="brdmain">
<div class="linkst">
	<div class="inbox crumbsplus">
		<ul class="crumbs">
			<li><a href="index.php">Index</a></li>
			<li><span>»&#160;</span><a href="viewforum.php?id=50">System Administration</a></li>
			<li><span>»&#160;</span><strong><a href="viewtopic.php?id=177483">[SOLVED] virt-manager opening backend socket failed</a></strong></li>
		</ul>
		<div class="pagepost">
			<p class="pagelink conl"><span class="pages-label">Pages: </span><strong class="item1">1</strong></p>
		</div>
		<div class="clearer"></div>
	</div>
</div>

<div id="p1384262" class="blockpost rowodd firstpost blockpost1">
	<h2><span><span class="conr">#1</span> <a href="viewtopic.php?pid=1384262#p1384262">2014-02-21 23:13:40</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong>syamajala</strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
						<dd><span>From: here, there, everywhere</span></dd>
						<dd><span>Registered: 2005-01-25</span></dd>
						<dd><span>Posts: 587</span></dd>
						<dd class="usercontacts"><span class="website"><a href="http://genesis.blogdns.net" rel="nofollow">Website</a></span></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>[SOLVED] virt-manager opening backend socket failed</h3>
					<div class="postmsg">
						<p>I&#039;m trying to install fedora using virt-manager. I get the following error when I click finish in the create a new virtual machine dialog. </p><div class="codebox"><pre><code>Unable to complete install: &#039;internal error: process exited while connecting to monitor: qemu-system-x86_64: -chardev socket,id=charchannel0,path=/var/lib/libvirt/qemu/channel/target/fedora20.org.qemu.guest_agent.0,server,nowait: Failed to bind socket: Permission denied
qemu-system-x86_64: -chardev socket,id=charchannel0,path=/var/lib/libvirt/qemu/channel/target/fedora20.org.qemu.guest_agent.0,server,nowait: chardev: opening backend &quot;socket&quot; failed
&#039;

Traceback (most recent call last):
  File &quot;/usr/share/virt-manager/virtManager/asyncjob.py&quot;, line 91, in cb_wrapper
    callback(asyncjob, *args, **kwargs)
  File &quot;/usr/share/virt-manager/virtManager/create.py&quot;, line 1781, in do_install
    guest.start_install(meter=meter)
  File &quot;/usr/share/virt-manager/virtinst/guest.py&quot;, line 400, in start_install
    noboot)
  File &quot;/usr/share/virt-manager/virtinst/guest.py&quot;, line 464, in _create_guest
    dom = self.conn.createLinux(start_xml or final_xml, 0)
  File &quot;/usr/lib/python2.7/site-packages/libvirt.py&quot;, line 3199, in createLinux
    if ret is None:raise libvirtError(&#039;virDomainCreateLinux() failed&#039;, conn=self)
libvirtError: internal error: process exited while connecting to monitor: qemu-system-x86_64: -chardev socket,id=charchannel0,path=/var/lib/libvirt/qemu/channel/target/fedora20.org.qemu.guest_agent.0,server,nowait: Failed to bind socket: Permission denied
qemu-system-x86_64: -chardev socket,id=charchannel0,path=/var/lib/libvirt/qemu/channel/target/fedora20.org.qemu.guest_agent.0,server,nowait: chardev: opening backend &quot;socket&quot; failed</code></pre></div>
						<p class="postedit"><em>Last edited by syamajala (2014-03-31 12:55:29)</em></p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p1386246" class="blockpost roweven">
	<h2><span><span class="conr">#2</span> <a href="viewtopic.php?pid=1386246#p1386246">2014-02-26 18:16:27</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong>zosodk69</strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
						<dd><span>Registered: 2005-01-30</span></dd>
						<dd><span>Posts: 27</span></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: [SOLVED] virt-manager opening backend socket failed</h3>
					<div class="postmsg">
						<p>I see the same thing when I choose Fedora 20 as my guest OS type.&#160; All other guest types appear to work.</p>
					</div>
					<div class="postsignature postmsg"><hr /><p>-=[dave]=-</p></div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p1386543" class="blockpost rowodd">
	<h2><span><span class="conr">#3</span> <a href="viewtopic.php?pid=1386543#p1386543">2014-02-27 14:37:28</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong>zosodk69</strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
						<dd><span>Registered: 2005-01-30</span></dd>
						<dd><span>Posts: 27</span></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: [SOLVED] virt-manager opening backend socket failed</h3>
					<div class="postmsg">
						<p>RHEL 7 appears to exhibit the same problem.</p>
					</div>
					<div class="postsignature postmsg"><hr /><p>-=[dave]=-</p></div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p1387597" class="blockpost roweven">
	<h2><span><span class="conr">#4</span> <a href="viewtopic.php?pid=1387597#p1387597">2014-03-01 23:42:16</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong>ktdassoff</strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
						<dd><span>Registered: 2013-09-09</span></dd>
						<dd><span>Posts: 1</span></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: [SOLVED] virt-manager opening backend socket failed</h3>
					<div class="postmsg">
						<p>I was having this problem (with Fedora 20 too, as it happens). What I tried, and has worked so far was that I noticed in /etc/libvirt/qemu.conf, there are the lines</p><div class="codebox"><pre><code>#user = &quot;root&quot;
group = &quot;kvm&quot;</code></pre></div><p>It seems then QEMU is being started by libvirtd under user &#039;nobody&#039; (since the user line is commented out, &#039;nobody&#039; seems to be the default) and group &#039;kvm&#039;. In /var/lib/libvirt, the qemu subdirectory and its subdirectories are all owned by nobody:kvm <strong>except</strong> for the <em>channel</em> and <em>dump</em> directories on my system. So I changed the ownership of those directories with</p><div class="codebox"><pre><code>$ cd /var/lib/libvirt/qemu
$ sudo chown -R nobody:kvm channel dump</code></pre></div><p>And after that I was able to create and run the VM just fine!</p><p>Just did this, so I haven&#039;t had a chance to check that libvirtd doesn&#039;t modify the permissions on startup, but hopefully this will stick.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p1398867" class="blockpost rowodd">
	<h2><span><span class="conr">#5</span> <a href="viewtopic.php?pid=1398867#p1398867">2014-03-31 12:53:41</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong>maevius</strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
						<dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/28897.jpg?m=1347175336" width="80" height="78" alt="" /></dd>
						<dd><span>From: Greece</span></dd>
						<dd><span>Registered: 2009-09-10</span></dd>
						<dd><span>Posts: 129</span></dd>
						<dd class="usercontacts"><span class="website"><a href="http://axilleas.me" rel="nofollow">Website</a></span></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: [SOLVED] virt-manager opening backend socket failed</h3>
					<div class="postmsg">
						<p>Exact same problem with a Fedora machine. I can confirm what ktdassoff posted. This can be marked as SOLVED <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p1398869" class="blockpost roweven">
	<h2><span><span class="conr">#6</span> <a href="viewtopic.php?pid=1398869#p1398869">2014-03-31 12:55:17</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong>syamajala</strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
						<dd><span>From: here, there, everywhere</span></dd>
						<dd><span>Registered: 2005-01-25</span></dd>
						<dd><span>Posts: 587</span></dd>
						<dd class="usercontacts"><span class="website"><a href="http://genesis.blogdns.net" rel="nofollow">Website</a></span></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: [SOLVED] virt-manager opening backend socket failed</h3>
					<div class="postmsg">
						<p>I haven&#039;t tried the solution, but if you say it works, I&#039;ll mark it solved.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p1403453" class="blockpost rowodd">
	<h2><span><span class="conr">#7</span> <a href="viewtopic.php?pid=1403453#p1403453">2014-04-12 09:36:24</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong>carepack</strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
						<dd><span>Registered: 2014-02-14</span></dd>
						<dd><span>Posts: 7</span></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: [SOLVED] virt-manager opening backend socket failed</h3>
					<div class="postmsg">
						<div class="quotebox"><cite>ktdassoff wrote:</cite><blockquote><div><p>I was having this problem (with Fedora 20 too, as it happens). What I tried, and has worked so far was that I noticed in /etc/libvirt/qemu.conf, there are the lines</p><div class="codebox"><pre><code>#user = &quot;root&quot;
group = &quot;kvm&quot;</code></pre></div><p>It seems then QEMU is being started by libvirtd under user &#039;nobody&#039; (since the user line is commented out, &#039;nobody&#039; seems to be the default) and group &#039;kvm&#039;. In /var/lib/libvirt, the qemu subdirectory and its subdirectories are all owned by nobody:kvm <strong>except</strong> for the <em>channel</em> and <em>dump</em> directories on my system. So I changed the ownership of those directories with</p><div class="codebox"><pre><code>$ cd /var/lib/libvirt/qemu
$ sudo chown -R nobody:kvm channel dump</code></pre></div><p>And after that I was able to create and run the VM just fine!</p><p>Just did this, so I haven&#039;t had a chance to check that libvirtd doesn&#039;t modify the permissions on startup, but hopefully this will stick.</p></div></blockquote></div><br /><br /><p>thx. this did the trick to me..... magic <img src="https://bbs.archlinux.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div class="postlinksb">
	<div class="inbox crumbsplus">
		<div class="pagepost">
			<p class="pagelink conl"><span class="pages-label">Pages: </span><strong class="item1">1</strong></p>
		</div>
		<ul class="crumbs">
			<li><a href="index.php">Index</a></li>
			<li><span>»&#160;</span><a href="viewforum.php?id=50">System Administration</a></li>
			<li><span>»&#160;</span><strong><a href="viewtopic.php?id=177483">[SOLVED] virt-manager opening backend socket failed</a></strong></li>
		</ul>
		<div class="clearer"></div>
	</div>
</div>
</div>

<div id="brdfooter" class="block">
	<h2><span>Board footer</span></h2>
	<div class="box">
		<div id="brdfooternav" class="inbox">
			<div class="conl">
				<form id="qjump" method="get" action="viewforum.php">
					<div><label><span>Jump to<br /></span>
					<select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)">
						<optgroup label="Technical Issues and Assistance">
							<option value="23">Newbie Corner</option>
							<option value="17">Installation</option>
							<option value="22">Kernel &amp; Hardware</option>
							<option value="18">Applications &amp; Desktop Environments</option>
							<option value="31">Laptop Issues</option>
							<option value="8">Networking, Server, and Protection</option>
							<option value="32">Multimedia and Games</option>
							<option value="50" selected="selected">System Administration</option>
							<option value="35">Other Architectures</option>
						</optgroup>
						<optgroup label="Arch-centric">
							<option value="24">Announcements, Package &amp; Security Advisories</option>
							<option value="1">Arch Discussion</option>
							<option value="13">Forum &amp; Wiki discussion</option>
						</optgroup>
						<optgroup label="Pacman Upgrades, Packaging &amp; AUR">
							<option value="44">Pacman &amp; Package Upgrade Issues</option>
							<option value="49">[testing] Repo Forum</option>
							<option value="4">Creating &amp; Modifying Packages</option>
							<option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option>
						</optgroup>
						<optgroup label="Contributions &amp; Discussion">
							<option value="20">GNU/Linux Discussion</option>
							<option value="27">Community Contributions</option>
							<option value="33">Programming &amp; Scripting</option>
							<option value="30">Other Languages</option>
							<option value="47">Artwork and Screenshots</option>
						</optgroup>
					</select></label>
					<input type="submit" value=" Go " accesskey="g" />
					</div>
				</form>
			</div>
			<div class="conr">
				<p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=177483&amp;type=atom">Atom topic feed</a></span></p>
				<p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p>
			</div>
			<div class="clearer"></div>
		</div>
	</div>
</div>

</div>
<div class="end-box"><div><!-- Bottom corners --></div></div>
</div>

</body>
</html>
