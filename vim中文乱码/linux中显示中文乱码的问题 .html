<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>linux中显示中文乱码的问题 - seuxiaoqi的专栏 - 博客频道 - CSDN.NET</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="由于在windows下默认是gb编码，而我的vim默认是utf-8（gedit默认也是utf-8），所以打开会成乱码。修改了一下配置文件，使vi支持gb编码就好了。$vi&#160;~/.vimrclet &amp;termencoding=&amp;encodingset fileencodings=utf-8,gbk$:wq再次打开vi，显示就正常了。如果" />
<script src="http://static.blog.csdn.net/scripts/jquery.js" type="text/javascript"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/ad.js?v=1.1"></script>
<link rel="Stylesheet" type="text/css" href="http://static.blog.csdn.net/skin/default/css/style.css?v=1.1" />
<link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="/seuxiaoqi/rss/list" />
<link rel="shortcut icon" href="/favicon.ico" />
<link type="text/css" rel="stylesheet" href="http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/default.css" />
</head>
<body>
<script src="http://csdnimg.cn/pubnav/js/pub_topnav_2011.js?v=1.1" type="text/javascript"></script>
<div id="container">
<div id="header">
    <div class="header">
        <div id="blog_title">
            <h1><a href="/seuxiaoqi">seuxiaoqi的专栏</a></h1>
            <h2>my^_^qiu</h2>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg"></div>
    <div class="navigator">
        <ul>
            <li id="btnContents"><a href="/seuxiaoqi?viewmode=contents"><span><img src="http://static.blog.csdn.net/images/ico_list.gif">目录视图</span></a></li>
            <li id="btnView"><a href="/seuxiaoqi?viewmode=list"><span><img src="http://static.blog.csdn.net/images/ico_summary.gif">摘要视图</span></a></li>
            <li id="btnRss"><a href="/seuxiaoqi/rss/list"><span><img src="http://static.blog.csdn.net/images/ico_rss.gif">订阅</span></a></li>
</ul>
    </div>
</div>
<script type="text/javascript">
    var username = "seuxiaoqi";
    var blog_address = "http://blog.csdn.net/seuxiaoqi";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";
</script>
        
<div id="body">
<div id="main">
<div class="main">
<div class="notice"> 

<a href="http://blog.csdn.net/blogdevteam/article/details/8687376
" target="_blank">
<font color=blue>2013年7月微软MVP申请开始啦！ 
   </font></a>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/8664620" target="_blank"><font color=blue>CSDN博客移动开发排行榜 
</font></a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/8699892" target="_blank"><font color=blue>有奖征集活动系列—《iOS游戏编程之旅》 


</font></a>

<br />





<a href="http://bbs.csdn.net/topics/390397409
"target="_blank">
<font color=red>【有奖提问】CSDN论坛第1期专家问答开始


 </font></a>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/8717564"target="_blank">
<font color=red>来极客头条，赢下载积分
 </font></a>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://bbs.csdn.net/topics/390393217"target="_blank">
<font color=red>下载频道3月领任务~赚下载分！ 
  </font></a>


</div><div id="article_details" class="details">
    <div class="article_title">
    <span class="ico ico_type_Repost"></span>
    <h3>
        <span class="link_title"><a href="/seuxiaoqi/article/details/5577195">
        linux中显示中文乱码的问题
        </a></span>
    </h3>
</div>

        
    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="/seuxiaoqi/article/category/624639">linux</a> 
        </span>
    <span class="link_postdate">2010-05-11 09:15</span>
    <span class="link_view" title="阅读次数">12724人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments">评论</a>(1)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:collectArticle('linux中显示中文乱码的问题','5577195');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report"  onclick="javascript:report(5577195,2);return false;" title="举报">举报</a></span>
    
</div>
<div class="tag2box"><a href='http://blog.csdn.net/tag/details.html?tag=linux' target=_blank>linux</a><a href='http://blog.csdn.net/tag/details.html?tag=encoding' target=_blank>encoding</a><a href='http://blog.csdn.net/tag/details.html?tag=vim' target=_blank>vim</a><a href='http://blog.csdn.net/tag/details.html?tag=windows' target=_blank>windows</a><a href='http://blog.csdn.net/tag/details.html?tag=%e7%bb%88%e7%ab%af' target=_blank>终端</a><a href='http://blog.csdn.net/tag/details.html?tag=%e6%96%87%e6%a1%a3' target=_blank>文档</a></div>


    
<div id="article_content" class="article_content">
<p>由于在windows下默认是gb编码，而我的vim默认是utf-8（gedit默认也是utf-8），所以打开会成乱码。修改了一下配置文件，
使<strong>vi</strong>
支持gb编码就好了。<br />
<br />
$<strong>vi</strong>
&nbsp;~/.vimrc<br />
<br />
let
 &amp;termencoding=&amp;encoding<br />
set fileencodings=utf-8,gbk<br />
<br />
$:wq<br />
<br />
再
次打开<strong>vi</strong>
，显示就正常了。</p>
<p>如果你需要在linux下面用到windows下的文件，拷贝上去后经常发现中文显示乱码。。原因是Windows中默认的文件格式是
GBK(gb2312)，而Linux一般都是UTF-8。比较繁琐的方法是在windows下用程序把内容转换为utf-8编码格式的，但是相当麻烦，
而且遇到一个文件转一回。下面介绍一下，在Linux中如何一劳永逸的解决这个问题，查看文件的编码及如何进行对文件进行编码转换。<br />
 <br />
查看文件编码<br />
在Linux中查看文件编码可以通过以下几种方式：<br />
1.在<br />
<a href="http://www.linuxsong.org/search/label/vim" target="_blank"><span style="color: #0000ff;">Vim</span>
</a>
<br />
中可以直接查看文件编码<br />
:set fileencoding<br />
即可显示文件编码格式。<br />
文件编码转换<br />
1.如果你只是想查看其它编码格式的文件或者想解决用Vim查看文件乱码的问题，那么你可以在<br />
~/.vimrc（在/etc目录下面） 文件中添加以下内容：<br />
set encoding=utf-8 fileencodings=ucs-bom,utf-8,cp936<br />
其中encoding是vim的默认显示编码格式，fileencodings是vim打开文件时检测的编码格式，存在这种类型的编码即转换为utf-8
编码。<br />
这样，就可以让vim自动识别文件编码（可以自动识别UTF-8或者GBK编码的文件），其实就是依照fileencodings提供的编码列表尝试，如
果没有找到合适的编码，就用latin-1(ASCII)编码打开。<br />
2.在Vim中直接进行转换文件编码,比如将一个文件转换成utf-8格式（不好用）<br />
:set fileencoding=utf-8<br />
 <br />
3.iconv 转换，iconv的命令格式如下：（未用）<br />
iconv -f encoding -t encoding inputfile<br />
比如将一个UTF-8 编码的文件转换成GBK编码<br />
iconv -f GBK -t UTF-8 file1 -o file2<br />
 <br />
文件名编码转换:<br />
从<br />
<a href="http://www.linuxsong.org/search/label/linux" target="_blank"><span style="color: #0000ff;">Linux</span>
</a>
<br />
往 
windows拷贝文件或者从windows往Linux拷贝文件，有时会出现中文文件名乱码的情况，出现这种问题的原因是因为，windows的文件名
中文编码默认为GBK,而Linux中默认文件名编码为UTF8,由于编码不一致，所以导致了文件名乱码的问题，解决这个问题需要对文件名进行转码。<br />
在Linux中专门提供了一种工具convmv进行文件名编码的转换，可以将文件名从GBK转换成UTF-8编码,或者从UTF-8转换到GBK。<br />
 <br />
首先看一下你的系统上是否安装了convmv,如果没安装的话用在<br />
<a href="http://www.j3e.de/linux/convmv/convmv-1.14.tar.gz" target="_blank"><span style="color: #0000ff;">http://www.j3e.de/linux/convmv/convmv-1.14.tar.gz</span>
</a>
<br />
下载，然后在windows下面解压缩用winscp上传真个目录，之后进入此目录执行make 
install命令，之后用convmv命令测试是否安装成功，若显示一些命令提示则表示成功了。<br />
安装。<br />
 <br />
下面看一下convmv的具体用法：<br />
convmv -f 源编码 -t 新编码 [选项] 文件名<br />
常用参数：<br />
-r 递归处理子文件夹<br />
--notest 真正进行操作，请注意在默认情况下是不对文件进行真实操作的，而只是试验。<br />
--list 显示所有支持的编码<br />
--unescap 可以做一下转义，比如把%20变成空格<br />
比如我们有一个utf8编码的文件名，转换成GBK编码，命令如下：<br />
convmv -f UTF-8 -t GBK --notest utf8编码的文件名<br />
 <br />
这样转换以后&quot;utf8编码的文件名&quot;会被转换成GBK编码（只是文件名编码的转换，文件内容不会发生变化）<br />
vim 编码方式的设置<br />
和所有的流行文本编辑器一样，Vim 可以很好的编辑各种字符编码的文件，这当然包括UCS-2、UTF-8 等流行的 Unicode 
编码方式。然而不幸的是，和很多来自 Linux 世界的软件一样，这需要你自己动手设置。 <br />
Vim 有四个跟字符编码方式有关的选项，encoding、fileencoding、fileencodings、termencoding 
(这些选项可能的取值请参考 Vim 在线帮助 :help encoding-names)，它们的意义如下: <br />
* encoding: Vim 内部使用的字符编码方式，包括 Vim 的 buffer 
(缓冲区)、菜单文本、消息文本等。默认是根据你的locale选择.用户手册上建议只在 .vimrc 中改变它的值，事实上似乎也只有在.vimrc
 
中改变它的值才有意义。你可以用另外一种编码来编辑和保存文件，如你的vim的encoding为utf-8,所编辑的文件采用cp936编码,vim会
自动将读入的文件转成utf-8(vim的能读懂的方式），而当你写入文件时,又会自动转回成cp936（文件的保存编码). <br />
* fileencoding: Vim 中当前编辑的文件的字符编码方式，Vim 保存文件时也会将文件保存为这种字符编码方式 
(不管是否新文件都如此)。 <br />
* fileencodings: Vim自动探测fileencoding的顺序列表， 
启动时会按照它所列出的字符编码方式逐一探测即将打开的文件的字符编码方式，并且将 fileencoding 
设置为最终探测到的字符编码方式。因此最好将Unicode 编码方式放到这个列表的最前面，将拉丁语系编码方式 latin1 放到最后面。 <br />
* termencoding: Vim 所工作的终端 (或者 Windows 的 Console 窗口) 
的字符编码方式。如果vim所在的term与vim编码相同，则无需设置。如其不然，你可以用vim的termencoding选项将自动转换成term
的编码.这个选项在 Windows 下对我们常用的 GUI 模式的 gVim 无效，而对 Console 模式的Vim 而言就是 Windows
 控制台的代码页，并且通常我们不需要改变它。 <br />
好了，解释完了这一堆容易让新手犯糊涂的参数，我们来看看 Vim 的多字符编码方式支持是如何工作的。 <br />
1. Vim 启动，根据 .vimrc 中设置的 encoding 的值来设置 buffer、菜单文本、消息文的字符编码方式。 <br />
2. 读取需要编辑的文件，根据 fileencodings 中列出的字符编码方式逐一探测该文件编码方式。并设置 fileencoding 
为探测到的，看起来是正确的 (注1) 字符编码方式。 <br />
3. 对比 fileencoding 和 encoding 的值，若不同则调用 iconv 将文件内容转换为encoding 
所描述的字符编码方式，并且把转换后的内容放到为此文件开辟的 buffer 
里，此时我们就可以开始编辑这个文件了。注意，完成这一步动作需要调用外部的 iconv.dll(注2)，你需要保证这个文件存在于 
$VIMRUNTIME 或者其他列在 PATH 环境变量中的目录里。 <br />
4. 编辑完成后保存文件时，再次对比 fileencoding 和 encoding 的值。若不同，再次调用 iconv 将即将保存的 
buffer 中的文本转换为 fileencoding 所描述的字符编码方式，并保存到指定的文件中。同样，这需要调用 iconv.dll由于 
Unicode 能够包含几乎所有的语言的字符，而且 Unicode 的 UTF-8 编码方式又是非常具有性价比的编码方式 (空间消耗比 
UCS-2 小)，因此建议 encoding 的值设置为utf-8。这么做的另一个理由是 encoding 设置为 utf-8 时，Vim 
自动探测文件的编码方式会更准确 (或许这个理由才是主要的 ;)。我们在中文 Windows 
里编辑的文件，为了兼顾与其他软件的兼容性，文件编码还是设置为 GB2312/GBK 比较合适，因此 fileencoding 建议设置为 
chinese (chinese 是个别名，在 Unix 里表示 gb2312，在 Windows 里表示cp936，也就是 GBK 
的代码页)。 </p>
<p>vim中编辑不同编码的文件时需要注意的一些地方</p>
<p>此文讲解的是vim编辑多字节编码文档（中文）所要了解的一些基础知识，注意其没有涉及gvim，纯指字符终端下的vim。</p>
<p>vim编码方面的基础知识：</p>
<p>1，存在3个变量：</p>
<p>encoding&mdash;-该选项使用于缓冲的文本(你正在编辑的文件)，寄存器，Vim 脚本文件等等。你可以把 &lsquo;encoding&rsquo; 选项当作是对
 Vim 内部运行机制的设定。</p>
<p>fileencoding&mdash;-该选项是vim写入文件时采用的编码类型。</p>
<p>termencoding&mdash;-该选项代表输出到客户终端（Term）采用的编码类型。</p>
<p>2，此3个变量的默认值：</p>
<p>encoding&mdash;-与系统当前locale相同，所以编辑文件的时候要考虑当前locale，否则要设置的东西就比较多了。</p>
<p>fileencoding&mdash;-vim打开文件时自动辨认其编码，fileencoding就为辨认的值。为空则保存文件时采用encoding的编
码，如果没有修改encoding，那值就是系统当前locale了。</p>
<p>termencoding&mdash;-默认空值，也就是输出到终端不进行编码转换。</p>
<p>由此可见，编辑不同编码文件需要注意的地方不仅仅是这3个变量，还有系统当前locale和、文件本身编码以及自动编码识别、客户运行vim的终端
所使用的编码类型3个关键点，这3个关键点影响着3个变量的设定。</p>
<p>如果有人问：为什么我用vim打开中文文档的时候出现乱码？</p>
<p>答案是不确定的，原因上面已经讲了，不搞清楚这3个关键点和这3个变量的设定值，出现乱码是正常的，倒是不出现乱码那反倒是凑巧的。</p>
<p>再来看一下常见情况下这三个关键点的值以及在这种情况下这3个变量的值：</p>
<p>1，locale&mdash;-目前大部分Linux系统已经将utf-8作为默认locale了，不过也有可能不是，例如有些系统使用中文locale 
zh_CN.GB18030。在locale为utf-8的情况下，启动vim后encoding将会设置为utf-8，这是兼容性最好的方式，因为内部
 处理使用utf-8的话，无论外部存储编码为何都可以进行无缺损转换。locale决定了vim内部处理数据的编码，也就是encoding。</p>
<p>2，文件的编码以及自动编码识别&mdash;-这方面牵扯到各种编码的规则，就不一一细讲了。但需要明白的是，文件编码类型并不是保存在文件内的，也就是说没
有任何 
描述性的字段来记录文档是何种编码类型的。因此我们在编辑文档的时候，要么必须知道这文档保存时是以什么编码保存的，要么通过另外的一些手段来断定编码类
 型，这另外的手段，就是通过某些编码的码表特征来断定，例如每个字符占用的字节数，每个字符的ascii值是否都大于某个字段来断定这个文件属于何种编
 码。这种方式vim也使用了，这就是vim的自动编码识别机制了。但这种机制由于编码各式各样，不可能每种编码都有显著的特征来辨别，所以是不可能 
100%准确的。对于我们GB2312编码，由于其中文是使用了2个acsii值高于127的字符组成汉字字符的，因此不可能把gb2312编码的文件与
 
latin1编码区分开来，因此自动识别编码的机制对于gb2312是不成功的，它只会将文件辨识为latin1编码。此问题同样出现在gbk，big5
 
上等。因此我们在编辑此类文档时，需要手工设定encoding和fileencoding。如果文档编码为utf-8时，一般vim都能自动识别正确的
 编码。</p>
<p>3，客户运行vim的终端所使用的编码类型&mdash;-同第二条一样，这也是一个比较难以断定的关键点。第二个关键点决定着从文件读取内容和写入内容到文件
 时使用的编码，而此关键点则决定vim输出内容到终端时使用的编码，如果此编码类型和终端认为它收到的数据的编码类型不同，则又会产生乱码问题。在 
linux本地X环境下，一般终端都认为其接收的数据的编码类型和系统locale类型相符，因此不需关心此方面是否存在问题。但如果牵涉到远程终端，例
 
如ssh登录服务器，则问题就有可能出现了。例如从1台locale为GB2310的系统（称作客户机）ssh到locale为utf-8的系统（称作服
 务器）并开启vim编辑文档，在不加任何改动的情况下，服务器返回的数据为utf-8的，但客户机认为服务器返回的数据是gb2312的，按照 
gb2312来解释数据，则肯定就是乱码了，这时就需要设置termencoding为gb2312来解决这个问题。此问题更多出现在我们的 
windows 
desktop机远程ssh登录服务器的情况下，这里牵扯到不同系统的编码转换问题。所以又与windows本身以及ssh客户端有很大相关性。在 
windows下存在两种编码类型的软件，一种是本身就为unicode编码方式编写的软件，一种是ansi软件，也就是程序处理数据直接采用字节流，不
 
关心编码。前一种程序可以在任何语言的windows上正确显示多国语言，而后一种则编写在何种语言的系统上则只能在何种语言的系统上显示正确的文字。对
 于这两种类型的程序，我们需要区别对待。以ssh客户端为例，我们使用的putty是unicode软件，而secure CRT则是ansi 
软件。对于前者，我们要正确处理中文，只要保证vim输出到终端的编码为utf-8即可，就是termencoding=utf-8。但对于后者，一方面
 我们要确认我们的windows系统默认代码页为cp936（中文windows默认值），另一方面要确认vim设置的termencoding= 
cp936。</p>
<p>最后来看看处理中文文档最典型的几种情况和设置方式：</p>
<p>1，系统locale是utf-8（很多linux系统默认的locale形式），编辑的文档是GB2312或GBK形式的（Windows记事本
 默认保存形式，大部分编辑器也默认保存为这个形式，所以最常见），终端类型utf-8（也就是假定客户端是putty类的unicode软件）</p>
<p>则vim打开文档后，encoding=utf-8（locale决定的），fileencoding=latin1（自动编码判断机制不准导致
的），termencoding=空（默认无需转换term编码），显示文件为乱码。</p>
<p>解决方案1：首先要修正fileencoding为cp936或者euc-cn（二者一样的，只不过叫法不同），注意修正的方法不是:set 
fileencoding=cp936，这只是将文件保存为cp936，正确的方法是重新以cp936的编码方式加载文件为:edit 
++enc=cp936，可以简写为:e ++enc=cp936。</p>
<p>解决方案2：临时改变vim运行的locale环境，方法是以LANG=zh_CN vim 
abc.txt的方式来启动vim，则此时encoding=euc-cn（locale决定的），fileencoding=空（此locale下文件
 
编码自动判别功能不启用，所以fileencoding为文件本身编码方式不变，也就是euc-cn），termencoding=空（默认值，为空则等
 
于encoding）此时还是乱码的，因为我们的ssh终端认为接受的数据为utf-8，但vim发送数据为euc-cn，所以还是不对。此时再用命令:
 set termencoding=utf-8将终端数据输出为utf-8，则显示正常。</p>
<p>2，情况与1基本相同，只是使用的ssh软件为secure CRT类ansi类软件。</p>
<p>vim打开文档后，encoding=utf-8（locale决定的），fileencoding=latin1（自动编码判断机制不准导致
的），termencoding=空（默认无需转换term编码），显示文件为乱码。</p>
<p>解决方案1：首先要保证运行secure 
CRT的windows机器的默认代码页为CP936，这一点中文windows已经是默认设置了。其他的与上面方案1相同，只是要增加一步，:set 
termencoding=cp936</p>
<p>解决方案2：与上面方案2类似，不过最后一步修改termencoding省略即可，在此情况下需要的修改最少，只要以locale为zh_CN开
 启vim，则encoding=euc-cn，fileencoding和termencoding都为空即为encoding的值，是最理想的一种情
 况。</p>
<p>可见理解这3个关键点和3个参数的意义，对于编码问题有很大助力，以后就可以随心所欲的处理文档了，同时不仅仅是应用于vim，在其他需要编码转换
的环境里，都可以应用类似的思路来处理问题解决问题。</p>
<p>最后推荐一款功能强大的windows下的ssh客户端&mdash;-xshell，它具有类似secure CRT一样的多tab 
的ssh窗口的能力，但最为方便的是这款工具还有改变Term编码的功能，这样我们就可以不用频繁调整termencoding，只需在ssh软件里切换
 
编码即可，这是我用过的最为方便的ssh工具。它是商业软件，但非注册用户使用没有任何限制，只是30天试用期超出后会每次启动都提示注册，对于功能没有
 丝毫影响。</p>
<p>1、ibus输入法<br />
Ubuntu 系统安装后已经自带了ibus输入法，在英语环境下默认不启动。<br />
配置ibus自动启动可以在ubuntu系统菜单上选择System --- Preferences --- Startup 
Applications，在该窗口中增加一个程序：<br />
Name: ibus-daemon<br />
Command: ibus-daemon -d -x -r<br />
<br />
ibus默认提供的中文输入法比较弱智，需要额外安装ibus-pinyin，命令如下：<br />
sudo apt-get install ibus-pinyin<br />
<br />
这时，还需要将ibus-pinyin输入法启动。在ubuntu系统菜单上选择System --- Preferences --- IBus 
Preferences，在Input Method页中的&ldquo;Select an input method&rdquo;下拉框中选择增加Chinese &ndash; 
Pinyin，就是图标中有个一个大大的&ldquo;拼&rdquo;字的那一个，然后点击Add按钮，最后通过Up按钮将该输入法移动到最上面。<br />
<br />
系统重启后，通过Ctrl + 空格即可调出ibus输入法。<br />
<br />
ibus输入法总体来说不错，但是在我的环境下发现无法在部分Java程序中调出来，例如Netbeans、OpenProj。<br />
<br />
2、fcitx输入法<br />
由于ibus的缺陷，所以我尝试了fcitx，使用下来也非常不错，而且可以在Java程序中正常使用，只是在这种情况下光标跟随有些问题，输入界面会停
留在屏幕最下端，但是可以接受，比起ibus不能使用要好多了。<br />
<br />
安装fcitx：<br />
sudo apt-get install fcitx<br />
<br />
启动fcitx：<br />
im-switch -s fcitx<br />
<br />
注销后重新登录，fcitx就会生效。<br />
如果需要切换回ibus，可以运行im-switch -s ibus，然后注销，重新登录。<br />
<br />
fcitx同样可以通过Ctrl + 
空格调出，这时会发现fcitx显示的中文是方框，因此需要修改fcitx的配置。Fcitx的配置文件在~/.fcitx/config，该文件为 
GBK编码，在Ubuntu下显示不正常，可以通过如下方式操作：<br />
cd ~/.fcitx<br />
iconv -f gbk -t utf8 config &gt; config.tmp<br />
<br />
编辑config.tmp文件：<br />
显示字体(中)=WenQuanYi Micro Hei<br />
<br />
显示字体大小=10<br />
<br />
使用粗体=0<br />
<br />
<br />
保存退出，然后运行命令：<br />
iconv -f utf8 -t gbk config.tmp &gt; config<br />
<br />
注销后重新登录，fcitx显示正常。<br />
<br />
3、网页上Flash中的中文显示为方框的解决办法<br />
编辑/etc/fonts/conf.d/49-sansserif.conf文件，作如下修改：<br />
&lt;edit name=&quot;family&quot; mode=&quot;append_last&quot;&gt;<br />
<br />
&lt;string&gt;WenQuanYi Micro Hei&lt;/string&gt;<br />
<br />
&lt;/edit&gt;<br />
<br />
4、Java程序部分中文显示为方框的解决办法<br />
在$JAVA_HOME/jre /lib/fonts目录下建立fallback目录，将中文字体文件复制（或link）到fallback目录。<br />
sudo mkdir $JAVA_HOME/jre/lib/fonts/fallback<br />
sudo ln /usr/share/fonts/truetype/wqy/wqy-microhei.ttc 
$JAVA_HOME/jre/lib/fonts/fallback/<br />
<br />
5、转换文件内容编码<br />
Windows下生成的纯文本文件，其中文编码为GBK，在Ubuntu下显示为乱码，可以使用iconv命令进行转换：<br />
iconv -f gbk -t utf8 source_file &gt; target_file<br />
<br />
6、转换文件名编码<br />
Windows下压缩的zip文件，在 Ubuntu下解开时，中文文件名会显示乱码，可以用convmv解决。<br />
安装convmv：<br />
sudo apt-get install convmv<br />
<br />
转换文件或目录：<br />
convmv -f gbk -t utf8 -r --notest *<br />
<br />
7、解压zip文件乱码<br />
在Ubuntu下使用unzip解压Widnows环境下生成的zip文件，会发生文件名或者目录名乱码现象，解决办法是使用 
7-zip和convmv。<br />
<br />
安装7-zip和convmv：<br />
sudo apt-get install convmv p7zip-full<br />
<br />
解压zip文件：<br />
LANG=C 7z e zip_file<br />
convmv -f gbk -t utf8 -r --notest *<br />
<br />
8、解压rar文件乱码<br />
在ubuntu下解压Windows环境下生成的rar文件，同样会碰到中文乱码问题，例如使用7z来解压。<br />
解决办法是使用unrar来解压。<br />
安装unrar：<br />
sudo apt-get install unrar<br />
<br />
9、PDF中文乱码<br />
PDF文件中的中文显示出乱码的情况下，可以安装poppler-data来解决：<br />
sudo apt-get install poppler-data</p>
<p><span class="zw_txt">1.在新立得里安装 xpdf-chinese-simplified</span>
</p>
<p><span class="zw_txt">2.下载安装poppler-data-0.1者过程如下：</span>
</p>
<p><span class="zw_txt">下载poppler-data-0.1.tar.gz 
(也可以到官方下载，这是我随便搜的一个)</span>
</p>
<p><span class="zw_txt">解压放置到/opt文件夹下面。</span>
</p>
<p><span class="zw_txt">打开终端进入该目录：cd /opt/poppler-data-0.1<br />
运
行命令：sudo make install datadir=/usr/share</span>
</p>
<p><span class="zw_txt">可以了，中文乱码问题部分解决了，但可能有方框的问题，请看下文</span>
</p>
<p><span class="zw_txt">3.<a href="http://so.oklinux.cn/%20title=">Ubuntu</a>
 10.04中PDF文档出现方框</span>
</p>
<p><span class="zw_txt">在终端输入</span>
</p>
<p><span class="zw_txt">sudo gedit 
/etc/fonts/conf.d/69-language-selector-zh-cn.conf</span>
</p>
<p><span class="zw_txt">修改69-language-selector-zh-cn.conf文件如下：</span>
</p>
<p><span class="zw_txt">&lt;fontconfig&gt;<br />
&lt;match 
target=&quot;pattern&quot;&gt;<br />
&lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;<br />
&lt;string&gt;serif&lt;/string&gt;<br />
&lt;/test&gt;<br />
&lt;edit
 name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;<br />
&lt;string&gt;DejaVu
 Serif&lt;/string&gt;<br />
&lt;string&gt;AR PL UMing CN&lt;/string&gt;<br />
&lt;string&gt;AR
 PL UKai CN&lt;/string&gt;<br />
&lt;string&gt;AR PL ZenKai 
Uni&lt;/string&gt;<br />
&lt;string&gt;AR PL ShanHeiSun Uni&lt;/string&gt;<br />
&lt;string&gt;Bitstream
 Vera Serif&lt;/string&gt;<br />
&lt;string&gt;WenQuanYi Bitmap 
Song&lt;/string&gt;<br />
&lt;/edit&gt;<br />
&lt;/match&gt;<br />
&lt;match 
target=&quot;pattern&quot;&gt;<br />
&lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;<br />
&lt;string&gt;sans-serif&lt;/string&gt;<br />
&lt;/test&gt;<br />
&lt;edit
 name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;<br />
&lt;string&gt;WenQuanYi
 Bitmap Song&lt;/string&gt;<br />
&lt;string&gt;AR PL UMing 
CN&lt;/string&gt;<br />
&lt;string&gt;AR PL UKai CN&lt;/string&gt;<br />
&lt;string&gt;AR
 PL ZenKai Uni&lt;/string&gt;<br />
&lt;string&gt;WenQuanYi Zen 
Hei&lt;/string&gt;<br />
&lt;string&gt;Bitstream Vera Sans&lt;/string&gt;<br />
&lt;string&gt;AR
 PL ShanHeiSun Uni&lt;/string&gt;<br />
&lt;string&gt;DejaVu 
Sans&lt;/string&gt;<br />
&lt;/edit&gt;<br />
&lt;/match&gt;<br />
&lt;match 
target=&quot;pattern&quot;&gt;<br />
&lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;<br />
&lt;string&gt;monospace&lt;/string&gt;<br />
&lt;/test&gt;<br />
&lt;edit
 name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;<br />
&lt;string&gt;DejaVu
 Sans Mono&lt;/string&gt;<br />
&lt;string&gt;Bitstream Vera Sans 
Mono&lt;/string&gt;<br />
&lt;string&gt;WenQuanYi Bitmap 
Song&lt;/string&gt;<br />
&lt;string&gt;AR PL UMing CN&lt;/string&gt;<br />
&lt;string&gt;AR
 PL UKai CN&lt;/string&gt;<br />
&lt;string&gt;AR PL ZenKai 
Uni&lt;/string&gt;<br />
&lt;string&gt;WenQuanYi Zen Hei&lt;/string&gt;<br />
&lt;string&gt;AR
 PL ShanHeiSun Uni&lt;/string&gt;<br />
&lt;/edit&gt;<br />
&lt;/match&gt;<br />
&lt;/fontconfig&gt;
              </span>
</p>
<p><br />
<br />
10、字体安装<br />
1) 安装微软字体<br />
sudo aptitude install msttcorefonts<br />
<br />
2)手工安装其它字体<br />
在/usr/share/fonts目录下建立字体目录，例如：/usr/share/fonts/myfonts，并将字体文件复制或LINK到该目
录。<br />
<br />
cd /usr/share/fonts/myfonts/<br />
sudo mkfontscale<br />
sudo mkfontdir<br />
<br />
* 在不执行以下命令的情况下，结果正常：<br />
sudo fc-cache -f -v<br />
<br />
11、默认字体配置<br />
sudo cp /etc/fonts/conf.avail/69-language-selector-zh-cn.conf 
/etc/fonts/conf.d<br />
sudo vi /etc/fonts/conf.d/69-language-selector-zh-cn.conf<br />
<br />
12、 Evolution中文附件问题<br />
使用发现Evolution发送的名称中带有中文的附件，使用Evolution可以正常解析，但是用 
Foxmail或者Outlook接收后无法正确解析出附件。解决办法：<br />
在evolution菜单中选择Edit --- Preferences --- Composer Preferences，在Default 
Behavior中勾选Encode file names in an Outlook/GMail way。</p>
</div>
<div class="share_buttons" id="sharePanel"></div>
<!--192.168.1.236-->
<div class="article_next_prev">
    <li class="prev_article"><span>上一篇：</span><a href="/seuxiaoqi/article/details/5577116">ubuntu中firefox显示乱码</a></li>
    <li class="next_article"><span>下一篇：</span><a href="/seuxiaoqi/article/details/5579300">ubuntu10.04使用软件安装</a></li>
</div>


    
</div>
<div id="ad_cen"></div>
<script type="text/javascript">
    new Ad(4, 'ad_cen');
</script>
<div id="comment_title" class="panel_head">查看评论<a name="comments"></a></div>
<div id="comment_list"></div>
<div id="comment_bar"></div>
<div id="comment_form"></div>
<div class="announce">* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
<script type="text/javascript">
    var fileName = '5577195';
    var commentscount = 1;
    var islock = false
</script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/comment.js?v=1.8"></script>
<div id="ad_bot"></div>
<script type="text/javascript">
    new Ad(5, 'ad_bot');
</script>
<div id="report_dialog"></div>

<div id="d-top" style="display:none;">
<a id="d-top-a" href="#" title="回到顶部">
<img src="http://static.blog.csdn.net/images/top.png" alt="TOP" /></a>
</div>
<script type="text/javascript">
    $(function(){
        var d_top=$('#d-top');
        document.onscroll=function(){
            var scrTop=(document.body.scrollTop||document.documentElement.scrollTop);
            if(scrTop>500){
                d_top.show();
            }else{
                d_top.hide();
            }
        }
        $('#d-top-a').click(function(){
            scrollTo(0,0);
            this.blur();
            return false;
        });
    });
</script>



<div class="clear"></div>
</div>
</div>

<div id="side">
<div class="side">
<div id="panel_Profile" class="panel">
    <ul class="panel_head"><span>个人资料</span></ul>
    <ul class="panel_body profile">
        <div id="blog_userface">
            <a href="http://my.csdn.net/seuxiaoqi" target="_blank">
            <img src="http://avatar.csdn.net/3/0/6/1_seuxiaoqi.jpg" title="访问我的空间" style="max-width:90%"/>
            </a>
            <br />
            <span><a href="http://my.csdn.net/seuxiaoqi" class="user_name" target="_blank">seuxiaoqi</a></span>
        </div>
<div class="interact">
<!--<a href="#" class="attented" title="已关注"></a>-->
<a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>
<a href="javascript:void(0);" class="letter" onclick="loginto(1)" title="[发私信]"></a>
</div>
        <div id="blog_medal">
        </div>
        <ul id="blog_rank">
            <li>访问：<span>45156次</span></li>
            <li>积分：<span>567分</span></li>
            <li>排名：<span>第19429名</span></li>
        </ul>
        <ul id="blog_statistics">
            <li>原创：<span>22篇</span></li>
            <li>转载：<span>6篇</span></li>
            <li>译文：<span>0篇</span></li>
            <li>评论：<span>5条</span></li>
        </ul>
    </ul>
</div>
<script type="text/javascript">
    var _blogger = 'seuxiaoqi';
</script>



<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字" /></span>
        <input id="btnSubmit" type="submit" value="搜索" title="search in blog" />
        <input type="hidden" name="q" id="inputQ" />
        <input type="hidden" name="t" value="blog" />
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>文章分类</span></ul>
    <ul class="panel_body">
        <li>
        <a href="http://blog.csdn.net/seuxiaoqi/article/category/624640">c#</a><span>(0)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/seuxiaoqi/article/category/624641">c++</a><span>(0)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/seuxiaoqi/article/category/624639">linux</a><span>(10)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/seuxiaoqi/article/category/688605">Servlets&amp;amp;JSP</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/seuxiaoqi/article/category/624642">sql</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/seuxiaoqi/article/category/688606">windows</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/seuxiaoqi/article/category/655572">其他</a><span>(1)</span>
        </li>
        <li>
        <a href="http://blog.csdn.net/seuxiaoqi/article/category/654914">随感</a><span>(1)</span>
        </li>
    </ul>
</div><div id="panel_Archive" class="panel">
    <ul class="panel_head"><span>文章存档</span></ul>
    <ul class="panel_body">
        <div id="archive_list">
        <!--归档统计-->
        <li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2011/07">2011年07月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2011/04">2011年04月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2010/11">2010年11月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2010/08">2010年08月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2010/06">2010年06月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2010/05">2010年05月</a><span>(15)</span></li><li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2010/03">2010年03月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2010/02">2010年02月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/seuxiaoqi/article/month/2009/12">2009年12月</a><span>(1)</span></li>
        </div>
    </ul>
</div>
<div id="hotarticls" class="panel">
    <ul class="panel_head"><span>阅读排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="/seuxiaoqi/article/details/6003549" title="eclipse中安装tomcat插件">eclipse中安装tomcat插件</a><span>(17675)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5577195" title="linux中显示中文乱码的问题">linux中显示中文乱码的问题</a><span>(12724)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5599551" title="ubuntu10.04面板删除后添加网络管理器图标">ubuntu10.04面板删除后添加网络管理器图标</a><span>(2329)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/6342861" title="mac shell javac中文乱码">mac shell javac中文乱码</a><span>(2198)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/6489351" title="undefined reference to &#39;vtable for AnalogClock&#39;">undefined reference to &#39;vtable for AnalogClock&#39;</a><span>(1588)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5651045" title="用eclipse编写servlet">用eclipse编写servlet</a><span>(1221)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5845658" title=".netframewrok离线安装">.netframewrok离线安装</a><span>(730)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/6005888" title="ffmpeg">ffmpeg</a><span>(636)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5579404" title="vim使用">vim使用</a><span>(544)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/6645862" title="ubuntu命令模式中文乱码解决+投影仪使用">ubuntu命令模式中文乱码解决+投影仪使用</a><span>(482)</span>
        </li>
    </ul>
</div>
<div id="hotarticls2" class="panel">
    <ul class="panel_head"><span>评论排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="/seuxiaoqi/article/details/6342861" title="mac shell javac中文乱码">mac shell javac中文乱码</a><span>(2)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5652044" title="eclipse中添加tomcat">eclipse中添加tomcat</a><span>(1)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5577195" title="linux中显示中文乱码的问题">linux中显示中文乱码的问题</a><span>(1)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5651045" title="用eclipse编写servlet">用eclipse编写servlet</a><span>(1)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5601189" title="java学习之路">java学习之路</a><span>(0)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5601628" title="给Windows Server 2008设一个简单密码">给Windows Server 2008设一个简单密码</a><span>(0)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5635856" title="mysql添加用户">mysql添加用户</a><span>(0)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/4916620" title="ubuntu windows 文件夹共享 samba">ubuntu windows 文件夹共享 samba</a><span>(0)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/5845658" title=".netframewrok离线安装">.netframewrok离线安装</a><span>(0)</span>
        </li>
        <li>
            <a href="/seuxiaoqi/article/details/6003549" title="eclipse中安装tomcat插件">eclipse中安装tomcat插件</a><span>(0)</span>
        </li>
    </ul>
</div>
<div id="homepageArticles" class="panel">
    <ul class="panel_head"><span>推荐文章</span></ul>
    <ul class="panel_body" id="ad_commend">
    </ul>
</div>
<script type="text/javascript">
    new Ad(12, 'ad_commend');
</script><div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
    <a href="/seuxiaoqi/article/details/6342861#comments">mac shell javac中文乱码</a>
    <p style="margin:0px;"><a href="/cyin1528888" class="user_name">cyin1528888</a>:
java源文件中System.out.println(&quot;中文&quot;)在终端编译的时候一样出现：警告:编码...
    </p>
    </li>
    <li>
    <a href="/seuxiaoqi/article/details/5651045#comments">用eclipse编写servlet</a>
    <p style="margin:0px;"><a href="/dlmult" class="user_name">dlmult</a>:
谢谢楼主，正在为此事发愁。
    </p>
    </li>
    <li>
    <a href="/seuxiaoqi/article/details/5652044#comments">eclipse中添加tomcat</a>
    <p style="margin:0px;"><a href="/dlmult" class="user_name">dlmult</a>:
谢谢楼主，我正在配置tomcat。
    </p>
    </li>
    <li>
    <a href="/seuxiaoqi/article/details/5577195#comments">linux中显示中文乱码的问题</a>
    <p style="margin:0px;"><a href="/taoshengyijiu20008" class="user_name">taoshengyijiu20008</a>:
写的太好了
    </p>
    </li>
    <li>
    <a href="/seuxiaoqi/article/details/6342861#comments">mac shell javac中文乱码</a>
    <p style="margin:0px;"><a href="/shinedreamnt" class="user_name">shinedreamnt</a>:
有没有办法让Javac只显示英文啊？
    </p>
    </li>
</ul>
</div>
</div>
<div class="clear"></div>
</div>

<div class="clear"></div>
</div>

<script type="text/javascript" src="http://static.blog.csdn.net/scripts/newblog.min.js?v=1.1"></script>
<script type="text/javascript" src="http://medal.blog.csdn.net/showblogmedal.ashx?blogid=729154"></script>

<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer.js"></script>

<script type="text/javascript" src="http://passport.csdn.net/content/loginbox/login.js"></script>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script>
<script type="text/javascript" src="http://www.csdn.net/ui/scripts/Csdn/counter.js"></script>


<script type="text/javascript" src="http://ad.csdn.net/scripts/ad-blog.js"></script>
</div>
</body>
</html>