<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>  
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<link href="/enterprise/_skins/Default/fruitshow.css?v0.5" rel="stylesheet" type="text/css" />
<script language="javascript" src="/enterprise/fruitshow.js" type="text/javascript"></script>
<title>Group Provisioning Required Attribute 'cn' missing (Network Steve Forum)</title>
<meta name="description" content="Group Provisioning Required Attribute 'cn' missing"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="alternate" type="application/rss+xml" title="Network Steve &raquo; Forum Comments Feed" href="http://www.networksteve.com/index.php/forum-2/feed/" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.networksteve.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.networksteve.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Newsletter Signup' href='http://www.networksteve.com/index.php/newsletter-signup/' />
<link rel='next' title='Forum' href='http://www.networksteve.com/index.php/forum-links/' />
<meta name="wp_theme" content="Thesis 1.6" />

<link rel="stylesheet" href="http://www.networksteve.com/wp-content/themes/thesis_16/style.css?101509-02100" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://www.networksteve.com/wp-content/themes/thesis_16/custom/layout.css?121809-201737" type="text/css" media="screen, projection" />
<!--[if lte IE 7]><link rel="stylesheet" href="http://www.networksteve.com/wp-content/themes/thesis_16/lib/css/ie.css?090909-15000" type="text/css" media="screen, projection" /><![endif]-->
<link rel="stylesheet" href="http://www.networksteve.com/wp-content/themes/thesis_16/custom/custom.css?082909-223600" type="text/css" media="screen, projection" />

<link rel="alternate" type="application/rss+xml" title="Network Steve RSS Feed" href="http://www.networksteve.com/index.php/feed/" />

<link rel="pingback" href="http://www.networksteve.com/xmlrpc.php" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>

</head>

<body class="custom forum-2">

<div id="container">
<div id="page">
<ul class="menu">
<li class="tab tab-home"><a href="http://www.networksteve.com">Home</a></li>
<li class="tab tab-1 current"><a href="http://www.networksteve.com/index.php/forum-links">Forum</a></li>
<li class="tab tab-2"><a href="http://www.networksteve.com/index.php/archives/" title="Archives">Archives</a></li>
<li class="tab tab-3"><a href="http://www.networksteve.com/index.php/about/" title="About">About</a></li>

<li class="rss"><a href="http://www.networksteve.com/index.php/feed/" title="Network Steve RSS Feed" rel="nofollow">Subscribe</a></li>
</ul>
	<div id="header">
		<p id="logo"><a href="http://www.networksteve.com">Network Steve</a></p>
		<p id="tagline">Technology Tips and News</p>
	</div>
	<div id="content_box">
	 
		<div id="content">
	
			<div>
				
				<div class="format_text">
<script language="javascript" type="text/javascript">
<!--
rolloverInit('link', '/enterprise/graphics/link_over.jpg');
rolloverInit('email', '/enterprise/graphics/email_over.jpg');
rolloverInit('web', '/enterprise/graphics/web_over.jpg');
rolloverInit('delete', '/enterprise/graphics/delete_over.jpg');
rolloverInit('undo', '/enterprise/graphics/undo_over.jpg');
// -->
</script>

<div class="posts">
	<div style='margin-top: 20px; font-size: 20px; font-weight: bold'>Group Provisioning Required Attribute 'cn' missing</div>
		<a name="1547"></a>
	<div>
							<div class="post">I am getting the error Required Attribute 'cn' missing when I try to provision users to AD domain.  The setup is FIM 2010:
Domain A -&gt; MV -&gt; Domain B but creating the security groups in the Portal.  I have successfully been able to create groups in Domain A but going to domain B I receive the error.  My sets are domain based for the MPR's and the ERL's are showing for the groups.  Just cannot figure out what I am missing.  THe set is domain = Test, the workflow is there and the MPR is set to Create based on the set.



Synchronization Rule Configuration






Name
_Test Security Group Sync Rule


Description
Inbound and Outbound


Created Time
10/28/2009


Precedence
2


Data Flow Direction
Inbound and Outbound


Dependency
 






Scope






Metaverse Resource Type
group


External System
Test


External System Resource Type
group






Relationship






Create Resource In FIM
False


Create Resource In External System
True


Enable Deprovisioning
False






Relationship Criteria






ILM Attribute
Data Source Attribute


accountName
sAMAccountName






Inbound Attribute Flows






Destination
Source


displayName
cn






Initial Outbound Attribute Flows






Allow Nulls
Destination
Source


false
sAMAccountName
accountName


false
groupType
CustomExpression(IIF(Eq(scope,&quot;Global&quot;),-2147483646,IIF(Eq(scope,&quot;Universal&quot;),-2147483640,IIF(Eq(scope,&quot;DomainLocal&quot;),-2147483644,&quot;&quot;))))


false
dn
+(&quot;CN=&quot;,displayName,&quot;,OU=Security Groups,OU=Groups,DC=test,DC=com&quot;)






Existence Tests






Allow Nulls
Destination
Source


false
sAMAccountName
accountName






Persistent Outbound Attribute Flows






Allow Nulls
Destination
Source


false
member
member


false
managedBy
displayedOwner


true
displayName
displayName		</div>
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-1782137443787699";
/* Right Small */
google_ad_slot = "2795026775";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 5:59am</div>			<HR>
	</div>
		<a name="1555"></a>
	<div>
							<div class="post">Do displayName and accountName actually have values in the metaverse? Even though you have outbound synchronization rules that set these required values DN and sAMAccountName, if the data the sync rules need to calculate their values is not present, they won't supply a value and you will get the error you got.
Try running a preview on your sync and see if all the values you need are actually calculated and queued up to be sent to AD. The preview will sometime tell you what specificlly is missing as well.		</div>
		<div style="border: 1px solid #66bd29; background-color: #eff8e9; margin-right: 13px;">Free Windows Admin Tool Kit <a href="http://www.intelliadmin.com/index.php/network-administrator-tool-kit/">Click here and download it now</a></div>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 6:45am</div>			<HR>
	</div>
		<a name="1556"></a>
	<div>
							<div class="post">Do displayName and accountName actually have values in the metaverse? Even though you have outbound synchronization rules that set these required values DN and sAMAccountName, if the data the sync rules need to calculate their values is not present, they won't supply a value and you will get the error you got.
Try running a preview on your sync and see if all the values you need are actually calculated and queued up to be sent to AD. The preview will sometime tell you what specificlly is missing as well.
 

Perfect!
Cheers,MarkusMarkus Vilcinskas, Knowledge Engineer, Microsoft Corporation		</div>
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-1782137443787699";
/* Right Small */
google_ad_slot = "2795026775";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 7:01am</div>			<HR>
	</div>
		<a name="1557"></a>
	<div>
							<div class="post">Thanks for looking into the question.  I see both values in the metaverse.  Looking at the group in the CS properties, the export in progress tab has 'add' for displayName, groupType and sAMAccountname.  Also has the DN shown: CN=B-SH-S-O-RO,OU=Security Groups,OU=Groups,DC=test,DC=com.
The export error is Constraint-violation with The parameter is incorrect.  Validate against schema shows the Missing 'cn' attribute.
Generate preview on the group object shows provisioning summary with no errors, sAMAccountName, groupType and dn being applied.		</div>
		<div style="border: 1px solid #66bd29; background-color: #eff8e9; margin-right: 13px;">Free Windows Admin Tool Kit <a href="http://www.intelliadmin.com/index.php/network-administrator-tool-kit/">Click here and download it now</a></div>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 7:22am</div>			<HR>
	</div>
		<a name="1558"></a>
	<div>
							<div class="post">Does the OU &quot;OU=Security Groups,OU=Groups,DC=test,DC=com&quot; exist in the target AD and does the MA have that container selected?
Edit add: You have run a full import on the target AD MA to load the OU objects into the connector space right?		</div>
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-1782137443787699";
/* Right Small */
google_ad_slot = "2795026775";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 7:58am</div>			<HR>
	</div>
		<a name="1559"></a>
	<div>
							<div class="post">Yes both the OU exists and the MA has the containers selected.  In fact, I have provisioned to the same OU before.  I just changed the Set that could work with the MPR.  I do the same thing to another domain, the only difference is the OS of the DC's.  Domain A is 2003 and Domain B is 2008.		</div>
		<div style="border: 1px solid #66bd29; background-color: #eff8e9; margin-right: 13px;">Free Windows Admin Tool Kit <a href="http://www.intelliadmin.com/index.php/network-administrator-tool-kit/">Click here and download it now</a></div>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 8:11am</div>			<HR>
	</div>
		<a name="1560"></a>
	<div>
							<div class="post">The export error is Constraint-violation with The parameter is incorrect.  Validate against schema shows the Missing 'cn' attribute.
Could you please confirmg - you are getting an export error - not a provisioning error - correct?In AD, you can't set the CN; the attribute is set by setting the DN.So, apparently, there is &quot;something&quot; wrong with your DN.
Cheers, MarkusMarkus Vilcinskas, Knowledge Engineer, Microsoft Corporation		</div>
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-1782137443787699";
/* Right Small */
google_ad_slot = "2795026775";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 8:22am</div>			<HR>
	</div>
		<a name="1561"></a>
	<div>
							<div class="post">Correct, it is an export error.  I agree it is something with the DN, but I cannot find it yet.  I pulled the dn's from the CS and AD to do some comparisons and they are exactly the same.		</div>
		<div style="border: 1px solid #66bd29; background-color: #eff8e9; margin-right: 13px;">Free Windows Admin Tool Kit <a href="http://www.intelliadmin.com/index.php/network-administrator-tool-kit/">Click here and download it now</a></div>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 9:11am</div>			<HR>
	</div>
		<a name="1548"></a>
	<div>
							<div class="post">GroupType is valid as well? The &quot;missing cn&quot; error doesn't only mean an missing cn, it can also mean that something is wrong with the data.
You might try manually creating the group with the same values with ADSIedit or similar to make sure the values are valid. and it is not some other AD thing.		</div>
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-1782137443787699";
/* Right Small */
google_ad_slot = "2795026775";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 9:12am</div>			<HR>
	</div>
		<a name="1549"></a>
	<div>
							<div class="post">Good idea, I was able to create the same group in AD with ADSIEdit.  Putting in CN, sAMAccountName and groupType of -2147483646.  I went back and triple checked my configs and cannot find anything I missed.  But I am going to check everything again.		</div>
		<div style="border: 1px solid #66bd29; background-color: #eff8e9; margin-right: 13px;">Free Windows Admin Tool Kit <a href="http://www.intelliadmin.com/index.php/network-administrator-tool-kit/">Click here and download it now</a></div>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 9:41am</div>			<HR>
	</div>
		<a name="1550"></a>
	<div>
							<div class="post">Not sure how much this helps; however, I prefer looking at the tower in cases like this - because the tower is always right :-)This translates to doing a CSExport and looking at the XML blob.For lazy people like me, there is a script in the ScriptBox.
If you can create the group manually, add something to the CN - e.g.: &quot;1&quot; - to avoid a DN conflict and import the group.
If you can't spot a difference between the two XML drops, we need a plan B :-) 
Cheers,MarkusMarkus Vilcinskas, Knowledge Engineer, Microsoft Corporation		</div>
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-1782137443787699";
/* Right Small */
google_ad_slot = "2795026775";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 26th, 2010 12:13pm</div>			<HR>
	</div>
		<a name="1551"></a>
	<div>
							<div class="post">The XML drops:  The one with the error shows the Error Detail with 00000057: LdapErr: DSID-0C090C26, comment: Error in attribute conversion operation, data 0, v1772.  The one from AD has more information in it.  The glaring difference is the error DN does not show parent-anchor encoding nor the objectClass value of TOP.		</div>
		<div style="border: 1px solid #66bd29; background-color: #eff8e9; margin-right: 13px;">Free Windows Admin Tool Kit <a href="http://www.intelliadmin.com/index.php/network-administrator-tool-kit/">Click here and download it now</a></div>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 27th, 2010 4:09am</div>			<HR>
	</div>
		<a name="1552"></a>
	<div>
							<div class="post">I am getting somewhere.  I removed all the attribute flows below, then the export worked.  I am now adding them back in one by one.
 



Persistent Outbound Attribute Flows






Allow Nulls
Destination
Source


false
member
member


false
managedBy
displayedOwner


true
displayName
displayName		</div>
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-1782137443787699";
/* Right Small */
google_ad_slot = "2795026775";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 27th, 2010 6:18am</div>			<HR>
	</div>
		<a name="1553"></a>
	<div>
							<div class="post">it can be the displayedOwner to managedBy flow.
If the person used as displayedOwner is not present in the CS and in the AD, the reference can't be resolve when FIM try to initialize it in the AD.		</div>
		<div style="border: 1px solid #66bd29; background-color: #eff8e9; margin-right: 13px;">Free Windows Admin Tool Kit <a href="http://www.intelliadmin.com/index.php/network-administrator-tool-kit/">Click here and download it now</a></div>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 27th, 2010 6:22am</div>			<HR>
	</div>
		<a name="1554"></a>
	<div>
							<div class="post">I added them all back in as is and everything worked fine.  I thank you all for your help.  I am not sure if it was something I did or a corruption somewhere.		</div>
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-1782137443787699";
/* Right Small */
google_ad_slot = "2795026775";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
						<div style='margin-top: 2px; margin-bottom: 5px; font-style: italic'>March 27th, 2010 7:40am</div>			<HR>
	</div>
	
	<div class="buttons">
				<p><i>This topic is archived. No further replies will be accepted.</i></p>
				<a accesskey="t" href="/enterprise/">
			<img src="/enterprise/graphics/topics.gif" alt="Other recent topics" border="0" height="14" width="13">
			Other recent <u>t</u>opics
		</a>
		
	</div>
	</div>
		
				</div>
			</div>
				</div>

	<div id="sidebars" style="float: right">
				<div id="multimedia_box" class="custom_box">
				<div id="custom_box">
<center><div class="textwidget">
<center><br>
<a href="http://www.intelliadmin.com/index.php/network-administrator-tool-kit/"><img src="http://www.intelliadmin.com/images/Advertisement/ToolKitBoxAdvert.jpg"></a>

</center></div>
</center>
				</div>
			</div>
<br><br><br>
			<div id="multimedia_box" class="custom_box">
				<div id="custom_box">
<center><div class="textwidget">
<center><br>
<a href="http://www.intelliadmin.com/index.php/remote-control-5/"><img src="http://www.intelliadmin.com/images/Advertisement/Remote%20Control%20Advertisement.jpg"></a>
<br>
Remote Administration For Windows. Easy remote access of Windows 7, XP, 2008, 2000, and Vista Computers<br>
<p><a href="http://www.intelliadmin.com/index.php/remote-control-5/"><b>Click here to find out more</b></a>
<p>
</center></div>
</center>
				</div>
			</div>
<br><br><br>
			<div id="multimedia_box" class="custom_box">
				<div id="custom_box">
<center>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	<div class="textwidget">
<br><center><a href="http://www.intelliadmin.com/index.php/network-administrator/"><img src="http://www.intelliadmin.com/images/Advertisement/NetworkAdministratorAdvertisement.jpg"/></a><br>Reboot Hundreds of computers, disable flash drives, deploy power managements settings. <a href="http://www.intelliadmin.com/index.php/network-administrator/"><br><p><b>Click here to get your free copy of Network Administrator. Over 25 plugins to make your life easier</b></a><br><p></div>
</center>
				</div>
			</div>
<br><br><br>
			<div id="multimedia_box" class="custom_box">
				<div id="custom_box">
<center> 	<div class="textwidget"><br>
<center>
<a href="http://www.intelliadmin.com/index.php/usb-disabler-pro/"><img src="http://www.intelliadmin.com/images/Advertisement/USBDisablerProAdvertisement.jpg"></a><br>
Disable Flash Drives for specific users, or only allow specific drives. <br>
<a href="http://www.intelliadmin.com/index.php/usb-disabler-pro/"><p><b>Click here for your free trial</b></a><br><p>
</center></div>
</center>
				</div>
			</div>

		</div>
		
	</div>
	<div id="footer">
		
	</div></div>

</div>
<!--[if lte IE 7]>
<div id="ie_clear"></div>
<![endif]-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-252761-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type="text/javascript"> (function(){ var sNew = document.createElement("script"); sNew.defer = true; sNew.src = "http://tag.crsspxl.com/s1.js?d=1156"; var s0 = document.getElementsByTagName('script')[0]; s0.parentNode.insertBefore(sNew, s0); })(); 
</script>


</body>
</html>