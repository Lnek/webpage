




<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>






<!-- TwoX header.doc -->

<link rel="schema.DC" href="http://purl.org/DC/elements/1.0/"/>
<link rel="SHORTCUT ICON" href="http://www.ibm.com/favicon.ico"/>
<meta name="DC.Rights" content="© Copyright IBM Corp. 2010, 2013"/>
<meta name="Keywords" content="EJPSG0015E; CWWIM4520E; email; ibm-primaryEmail; edit my profile; selfcare; create user; SchemaViolationException; InvalidAttributeIdentifierException"/>
<meta name="DC.Date" scheme="iso8601" content="2010-08-17"/>
<meta name="Source" content="v17 Template Generator, Template 17.02"/>
<meta name="Security" content="public"/>
<meta name="Abstract" content="After configuring WebSphere® Portal security with LDAP, you are unable to create a new user via the &#34;Edit My Profile&#34; portlet when populating the &#34;Email&#34; field.  You receive one of the following error messages in the browser: [&#38;lt;tt&#38;gt;] EJPSG0015E: Data Backend Problem com.ibm.websphere.wim.exception.WIMSystemException: CWWIM4520E The 'javax.naming.directory.SchemaViolationException: [LDAP: error code 65 - Entry (cn=test user,o=ibm) failed schema check]; remaining name 'cn=test user,o=ibm'; resolved obje"/>
<meta name="IBM.Effective" scheme="W3CDTF" content="2010-08-17"/>
<meta name="IBM.Expires" scheme="W3CDTF" content="2024-08-17"/>
<meta name="DC.Subject" scheme="IBM_SubjectTaxonomy" content="SSHRKX"/>
<meta name="Owner" content="ibmsupt@us.ibm.com"/>
<meta name="DC.Language" scheme="rfc1766" content="en-US"/>
<meta name="IBM.Country" content="US"/>
<meta name="Robots" content="index,follow"/>
<meta name="DC.Type" scheme="IBM_ContentClassTaxonomy" content="CT741"/>
<meta name="Description" content="After configuring WebSphere® Portal security with LDAP, you are unable to create a new user via the &#34;Edit My Profile&#34; portlet when populating the &#34;Email&#34; field.  You receive one of the following error messages in the browser: [&#38;lt;tt&#38;gt;] EJPSG0015E: Data Backend Problem com.ibm.websphere.wim.exception.WIMSystemException: CWWIM4520E The 'javax.naming.directory.SchemaViolationException: [LDAP: error code 65 - Entry (cn=test user,o=ibm) failed schema check]; remaining name 'cn=test user,o=ibm'; resolved obje"/>
<meta name="IBM.Selective" content="sid=1010"/>


<meta name="IBM.WTMCategory" scheme="IBM_WTMCategory" content="ELSDBANONRATE"/>
<link href="http://www-01.ibm.com/support/docview.wss?uid=swg21318616" rel="canonical"/>

<title>IBM Unable to create user when populating Email field - United States</title>
<link href="//1.www.s81c.com/common/v17/css/www.css" rel="stylesheet" title="www" type="text/css" />
<script src="//1.www.s81c.com/common/js/dojo/www.js" type="text/javascript">//</script>
<link type="text/css" rel="stylesheet" href="/support/css/screen-dblue.css" />
<link type="text/css" rel="stylesheet" href="/support/include/v17/dblue.css" />
<script src="/support/include/v17/dblue.js" type="text/javascript">//</script>
<script src="/support/wordwrap4v17.js" type="text/javascript">//</script>
<script type="text/javascript" language="JavaScript1.2">
var doc_loc = "en-US";
var req_Str;
var isDD = false;
var legal_accept = false;
var user_loc = "en_US";
var legal_tile = "Terms and conditions";
var result_title = "Search result";
var rs="0";
<!-- var tpl="null";  -->
</script>
<script type="text/javascript" language="JavaScript1.2">
<!-- 
function _dSectionExpand() {
	if( document.getElementById("cSec") != null && document.getElementById("xSec") != null ) {
		document.getElementById("cSec").style.display = "none";
		document.getElementById("xSec").style.display = "";
	}
}
function _dSectionCollapse() {
	if( document.getElementById("cSec") != null && document.getElementById("xSec") != null ) {
		document.getElementById("xSec").style.display = "none";
		document.getElementById("cSec").style.display = "";
	}
}
// -->
</script>
<script type="text/javascript" language="JavaScript1.2" src="/support/dldirector/tqdl04.js"></script>
<script type="text/javascript" language="JavaScript1.2" src="/support/legal.js"></script>

<link href="//1.www.s81c.com/common/js/dojo/1.6/dijit/themes/soria/soria.css" rel="stylesheet" title="www" type="text/css" />
<link href="/support/include/star-rating/rating-widget4v17.css" rel="stylesheet" title="www" type="text/css" />
<script src="/support/include/star-rating/rating-widget4v17.js?20130730" type="text/javascript">//</script>
<script src="/support/include/star-rating/json2.js?20130730" type="text/javascript" ></script>
<script type="text/javascript" language="JavaScript1.2">
dojo.require('dojo.parser');
dojo.addOnLoad(function() {
	dojo.parser.parse();
	getRatingWidget("swg21318616", 4, "Click to rate", "star(s).", "You have rated this document today. Would you like to update your rating score?", "9.57.56.253", "(", "users", ")", "Input the verification number to submit feedback", "Comments", "Thank you for your feedback.", "Please enter the mandatory verification code.", "Please enter the correct verification code.", "Please enter your comments.", "Incorrect verification code or session expired. Please re-enter the code.", 'Input the following verification code to submit feedback:<span class="ibm-required">*</span>', 'Poor', 'Fair', 'Average', 'Good', 'Very good');
});
</script>
<link href="/support/include/social-tagging/v17/tagging-widget.css" rel="stylesheet" title="www" type="text/css" />
<script src="/support/include/social-tagging/tagging-widget4v17.js?20130730" type="text/javascript">//</script>
<script type="text/javascript" language="JavaScript1.2">
dojo.require('dojo.parser');
dojo.addOnLoad(function() {
	dojo.parser.parse();
	getTaggingWidget("swg21318616", "Tags", "My tags", "All tags", "cloud", "list", "Delete", "More", "Less", "Add a tag", "Search all tags", "View as  ", "", "", "Sign in", "&nbsp;to view your tags", "Tag already existed", "Please enter a tag following these rules,", "Only one tag per day", "You can only create 5 tags per document per day.", "Unknown error", "Session expired. Please press &quot;OK&quot; to restart.", "<br>Your tag:<br>1. Must be at least one character long<br>    (non-English and double-byte characters are supported)<br>2. Cannot be more than 30 characters<br>3. Cannot include a double quote (&quot;), semicolon (;), or dollar sign ($)<br>4. Cannot contain profanity", "The &quot;Web Identity (WI)&quot; user validation service is currently unavailable.", "Please close your browser and open the document again.", "https://www-304.ibm.com", "", "uid=swg21318616", "", "Sign in to IBM.com to add a tag for this page and to view tags that you have created in the My tags list. Click All tags to view all the active tags for this page. Click a tag in the tag cloud or tag list to see a list of pages tagged with that tag. Click Search all tags and enter a tag in the Search all tags box to find pages with that tag. Use a semicolon as the delimiter when searching multiple tags. Use the slider bar to control the number of tags in the tag cloud. Click list to display all the tags in list format.", "", "");
});
</script>


</head>
<body id="ibm-com">
<div id="ibm-top" class="ibm-liquid">

<!-- MASTHEAD_BEGIN -->




<!-- TwoX masthead -->


<div class="ibm-access"><a href="#ibm-content">Skip to main content</a></div>
<div id="ibm-masthead">
<div id="ibm-mast-options">
<ul>
<li id="ibm-geo"><a href="http://www.ibm.com/planetwide/select/selector.html"><span class="ibm-access">Select a country/region: </span>United States</a></li>
</ul>
</div>
<div id="ibm-universal-nav">
<ul id="ibm-unav-links">
<li id="ibm-home"><a href="http://www.ibm.com/us/en/">IBM®</a></li>
</ul>
<ul id="ibm-menu-links">
<li><a href="http://www.ibm.com/sitemap/us/en/">Site map</a></li>
</ul>
<div id="ibm-search-module">
<form id="ibm-search-form" action="http://www.ibm.com/Search/" method="get">
<p>
<label for="q"><span class="ibm-access">Search</span></label>
<input type="text" maxlength="100" value="" name="q" id="q"/>
<input type="hidden" value="17" name="v"/>
<input type="hidden" value="utf" name="en"/>
<input type="hidden" value="en" name="lang"/>
<input type="hidden" value="us" name="cc"/>
<input type="submit" id="ibm-search" class="ibm-btn-search" value="Submit"/>
</p>
</form>
</div>
</div>
</div>
<!-- MASTHEAD_END -->
<div id="ibm-pcon">
<!-- CONTENT_BEGIN -->
<div id="ibm-content">

<!-- TITLE_BEGIN -->





<!-- TwoX wstitle.doc -->
<div id="ibm-content-head">

<h1>Unable to create user when populating Email field</h1>
</div>

<!-- TITLE_END -->

<!-- CONTENT_BODY -->
<div id="ibm-content-body">
<div id="ibm-content-main">





<!-- TwoX body.doc -->




<div class="ibm-container ibm-alternate">

<br />
<!--BEGIN MAIN BODY CONTENT--> 
<!--BEGIN CONTENT--> 
<div class="ibm-container-body"> 
</div> 
<h2>Technote (troubleshooting)</h2> 
<div class="ibm-container-body"> 
 <br /> 
 <h2>Problem</h2> 
 <div class="ibm-domino-rtf">
  <p><br /> After configuring WebSphere&reg; Portal security with LDAP, you are unable to create a new user via the &quot;Edit My Profile&quot; portlet when populating the &quot;Email&quot; field. You receive one of the following error messages in the browser:<br /> <tt><br /> EJPSG0015E: Data Backend Problem com.ibm.websphere.wim.exception.WIMSystemException: CWWIM4520E The 'javax.naming.directory.SchemaViolationException: [LDAP: error code 65 - Entry (cn=test user,o=ibm) failed schema check]; remaining name 'cn=test user,o=ibm'; resolved object com.sun.jndi.ldap.LdapCtx@3d4e3d4e' naming exception occurred during processing. <br /> </tt><br /> or<br /> <tt><br /> EJPSG0015E: Data Backend Problem com.ibm.websphere.wim.exception.WIMSystemException:<br /> CWWIM4520E The 'javax.naming.directory.InvalidAttributeIdentifierException: [LDAP: error code 17 - Undefined Attribute Type]; remaining name '&lt;User DN&gt;'; resolved object com.sun.jndi.ldap.LdapCtx@59025902' naming exception occurred during processing.<br /> </tt><br /> or<br /> <tt><br /> ... LdapConnectio 1<br /> com.ibm.ws.wim.adapter.ldap.LdapConnection createSubcontext Exception caught: <br /> javax.naming.directory.NoSuchAttributeException: [LDAP: error code 16 - 00000057: LdapErr: DSID-0C090C26, comment: Error in attribute conversion operation, data 0, v1772\u0000]; Remaining name: 'uid=user1,dc=ibm,dc=com'<br /> </tt><br /> If you leave the Email field blank, the user is created successfully.</p>
 </div>
 <h2>Cause</h2> 
 <div class="ibm-domino-rtf">
  <p>Email attribute is not mapped between WebSphere Portal and LDAP. While the CWWIM4520E message code should be the same, the LDAP error may differ based on LDAP server type.</p>
 </div>
 <h2>Environment</h2> 
 <div class="ibm-domino-rtf">
  <p> </p>
  <p>Configuring stand-alone LDAP security with WebSphere Portal. However, this situation can potentially occur in federated security scenarios as well.</p>
 </div>
 <br /> 
 <h2>Diagnosing the problem</h2> 
 <div class="ibm-domino-rtf">
  <p> </p>
  <p>The WebSphere Portal Information Center instructions on setting up LDAP security state that the following task should be executed: </p>
  <p><tt>ConfigEngine wp-validate-standalone-ldap-attribute-config</tt><br /> <br /> If the ConfigTrace.log is reviewed after running this task, the following information is observed: </p>
  <p><tt>[wplc-validate-ldap-attribute-config] The following attribues are defined in Portal but not in LDAP - You should either flag them as unsupported or define an attribute mapping:</tt><br /> <tt>[wplc-validate-ldap-attribute-config] [groups, identifier, ibm-jobTitle, entitlementInfo, realm, viewIdentifiers, certificate, stateOrProvinceName, createTimestamp, modifyTimestamp, </tt><tt>ibm-primaryEmail</tt><tt>, parent, partyRoles, principalName, countryName, localityName]</tt></p>
 </div>
 <br /> 
 <h2>Resolving the problem</h2> 
 <div class="ibm-domino-rtf">
  <p> </p>
  <p>Based on the above information, the Information Center page <a href="http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1m0/index.jsp?topic=/com.ibm.wp.ent.doc/install/stdaln_map_attributes_win.html">Mapping Attributes</a> should be referenced to at least map the ibm-primaryEmail attribute. The steps to update the email attribute are:<br /> <br /> 1) Edit &lt;wp_root&gt;/ConfigEngine/properties/wkplc.properties to include: </p>
  <p><tt>standalone.ldap.attributes.mapping.portalName=ibm-primaryEmail<br /> standalone.ldap.attributes.mapping.ldapName=mail</tt><tt><br /> </tt><br /> 2) Run the attribute update task: </p>
  <p><tt>ConfigEngine.bat wp-update-standalone-ldap-attribute-config -DWasPassword=&lt;password&gt;</tt><br /> <br /> 3) Restart the Portal server. <br /> <br /> Now you should be able to create a user via the Edit my Profile portlet when populating the Email field. </p>
 </div>
 <br /> 
 <h2>Related information</h2> 
 <p><a href="#"></a><a href="http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1m0/index.jsp?topic=/com.ibm.wp.ent.doc/install/stdaln_win_cfg_stndalone_ldap.html">Configuring a stand-alone LDAP user registry</a><br /></p> 
 <div class="ibm-domino-rtf">
  <p></p>
 </div> 
</div> 
<ul>
 <br /> 
 <div class="ibm-container-body"> 
 </div> 
 <!--END CONTENT--> 
 <!--END MAIN BODY CONTENT-->
</ul>

</div>

<div id ="ibm-star-rating" class="ibm-container ibm-no-print">
<h2 class="ibm-first">Rate this page:</h2>
<div class="ibm-container-body">
<span class="ratingHits">(0 users)</span>Average rating <div id="ibm-star-rating-item" dojoType="dojox.form.Rating" numStars="5"></div>

<div id="ibm-ratepage">
<div class="ibm-alternate-rule"><hr></div>

<form id="ibm-docfb" action="/support/docfb.wss" class="ibm-row-form ibm-styled-form" name="docfb" method="post">
<input type="hidden" name="rs" value="0"/>
<input type="hidden" name="uid" value="swg21318616"/>
<input type="hidden" name="loc" value="en_US"/>
<input type="hidden" name="sec" value="96474"/>
<input type="hidden" name="ip" id="ibm-docfb-ip" value=""/>
<input type="hidden" name="rnumber" id="ibm-docfb-rnumber" value="0"/>


<div id="ibm-achievement-question">
<p class="ibm-form-elem-grp"><label id="ibm-grp-achievement-question">Did the information help you achieve your goal?</label>
	<span class="ibm-input-group ibm-radio-group" role="radiogroup" aria-labelledby="ibm-grp-achievement-question">
	<input type="radio" name="q3" id="scale3_1" value="yes"/><label for="scale3_1">Yes</label>
	<input type="radio" name="q3" id="scale3_2" value="no"/><label for="scale3_2">No</label>
	<input type="radio" name="q3" id="scale3_3" value="y/n"/><label for="scale3_3">Don't know</label>
	</span>
</p>
</div>

<div id="ibm-comment-box" >
<p><label for="fbtxt">Comments:<span class="ibm-required">*</span></label>
	<span><textarea id="fbtxt" cols="17" rows="3" name="comment" style="width:98%"></textarea></span>
</p>
<div id="ibm-verification-box" >
<p><label for="scale3_4"></label>
<input type="text" name="secfd" id="scale3_4" size="10" style="display: none;"/></p>
</div>
</div>

<p><input value="Submit" id="comment_submit" type="submit" name="ibm-submit" class="ibm-btn-arrow-pri" /></p>
</form>
</div>
</div>
</div>

<div class="ibm-container">
<h2>Copyright and trademark information</h2>
<div class="ibm-container-body">
	<p class="ibm-item-note-alternate">IBM, the IBM logo and ibm.com are trademarks of International Business Machines Corp., registered in many jurisdictions worldwide.  Other product and service names might be trademarks of IBM or other companies.  A current list of IBM trademarks is available on the Web at "Copyright and trademark information" at <a href="http://www.ibm.com/legal/copytrade.shtml">www.ibm.com/legal/copytrade.shtml</a>.</p>
</div>
</div>
</div>
<!-- FEATURES_BEGIN -->





<!-- TwoX sidebar.doc -->
<div id="ibm-content-sidebar">
<div id="ibm-contact-module">
<!--IBM Contact Module-->
</div>

<div id="ibm-merchandising-module">
<!--IBM Web Merchandising Module-->
</div>

<div id="ibm-sidebar-star-rating" class="ibm-no-print">
<div class="ibm-container"><h2 class="ibm-first">Rate this page:</h2>
<div class="ibm-container-body">
<div id="ibm-sidebar-star-rating-item" dojoType="dojox.form.Rating" numStars="5"></div>
<br/><span class="ratingHits">(0 users)</span>Average rating<br/>
<br>

<div id="ibm-sidebar-ratepage">
<div class="ibm-container ibm-show-hide">
<h2><a id="ibm-sibebar-dlf" href="#show-hide">Add comments</a></h2>
<div class="ibm-container-body" style="overflow-x: hidden; overflow-y: hidden; height: 1px; display: none;">

<form id="ibm-sidebar-docfb" action="/support/docfb.wss" name="docfb" method="post" class="ibm-row-form ibm-styled-form">
<input type="hidden" name="rs" value="0"/>
<input type="hidden" name="uid" value="swg21318616"/>
<input type="hidden" name="loc" value="en_US"/>
<input type="hidden" name="sec" value="27862"/>
<input type="hidden" name="ip" id="ibm-sidebar-docfb-ip" value=""/>
<input type="hidden" name="rnumber" id="ibm-sidebar-docfb-rnumber" value="0"/>


<div id="ibm-sidebar-achievement-question" class = "ibm-form-elem-grp">
	<p><label id="ibm-grp-sidebar-achievement-question" for="q3">Did the information help you achieve your goal?</label>
	<span class="ibm-input-group ibm-radio-group" role="radiogroup" aria-labelledby="ibm-grp-sidebar-achievement-question">
		<input type="radio" name="q3" id="scale3_5" value="yes"/><label for="scale3_5">Yes</label><br/>
		<input type="radio" name="q3" id="scale3_6" value="no"/><label for="scale3_6">No</label><br/>
		<input type="radio" name="q3" id="scale3_7" value="y/n"/><label for="scale3_7">Don't know</label>
	</span>
	</p>
</div>

<div id="ibm-sidebar-comment-box" >
<p><label for="sidebar_fbtxt"></label>
	<textarea id="sidebar_fbtxt" cols="17" rows="3" name="comment" style="width:95%"></textarea>
</p>
<div id="ibm-sidebar-verification-box" >
<p><label for="scale3_8"></label>
	<input type="text" name="secfd" id="scale3_8" size="10" style="display: none;"/>
</p>
</div>
</div>

<p><input value="Submit" type="submit" id="sidebar_submit" name="ibm-submit" class="ibm-btn-arrow-pri" /></p>
</form>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="ibm-container"><h2 class="ibm-first">Document information</h2>
<div class="ibm-container-body">


	<p><a href="http://www.ibm.com/support/entry/portal/Software/WebSphere/WebSphere_Portal/Overview">WebSphere Portal</a></p>

	<p>Security</p>

	<div class="ibm-rule"><hr /></div>



	<p><b>Software version:</b><br />
	6.1</p>
	<div class="ibm-rule"><hr /></div>


	<p><b>Operating system(s):</b><br />
	AIX, HP-UX, Linux, Solaris, Windows, i5/OS, z/OS</p>
	<div class="ibm-rule"><hr /></div>


	<p><b>Software edition:</b><br />
	Enable, Express, Extend, Server</p>
	<div class="ibm-rule"><hr /></div>


	<p><b>Reference #:</b><br />
1318616
</p>
<div class="ibm-rule"><hr /></div>

<p><b>Modified date:</b><br />
2010-08-17</p>
</div>
</div>

<!-- Machine Translation section start -->
<div class="ibm-container ibm-no-print"><h2>Translate my page</h2>
<div class="ibm-container-body">
<p>
<!-- rate this pop-up -->
<script type='text/javascript'>
	 showRateThis = function() {
		window.open('https://www-304.ibm.com/support/entitlement/CustAssist.wss?topic=mt&popup=1&from=' + escape(location.href),
		"custAssistPopup",
		"channelmode=no,directories=no,location=no,menubar=no,scrollbars=yes,toolbar=no,width=570,height=440");
	}
</script>
<!-- start of the source code of the customized embedded TransWidget -->
<script type="text/javascript" src="http://www-146.ibm.com/nfluent/transwidget/tw.jsp?app=ibm-esupport.dBlue&from=en_US&sl=1&banner=1&style=minimal&corr=0&cd=.ibm.com&ratefunc=showRateThis"></script>
<!-- end of the source code of the customized embedded TransWidget -->
</p>
</div>
</div>
<!-- Machine Translation section end -->

<div class="ibm-no-print">


</div>



<script src="//www.ibm.com/survey/v17/trigger.js" type="text/javascript"></script>
<script type="text/javascript" language="JavaScript1.2">
	ibmSurvey.setBrandProductData([{"brand":"SSHPST","prods":["SSCSG5N"]},{"brand":"SSHPQ5","prods":["SSCSG5N"]}]);
	ibmSurvey.launch( { page: "http://www.ibm.com/survey/oid/wsb.dll/s/ag244?wsb2=dblue&wsb48=swg21318616&wsb50=SSHRKX" , rate: .75 } );
</script>

</div>
<!-- FEATURES_END -->
<!-- CONTENT_BODY_END -->
</div>
</div>
<!-- CONTENT_END -->
<!-- NAVIGATION_BEGIN -->
<div id="ibm-navigation">




<!-- TwoX navbar -->
<h2 class="ibm-access" style="display: none;">Content navigation</h2>
</div>
<!-- NAVIGATION_END -->
</div>
<div id="ibm-related-content"></div>

<!-- OVERLAY STARTS HERE -->




<!-- TwoX overlay.doc -->
<div class="ibm-no-print">


</div>
<!-- OVERLAY ENDS HERE -->

<!-- FOOTER_BEGIN -->




<!-- TwoX footer -->


<div id="ibm-footer-module">
</div>
<div id="ibm-footer">
<h2 class="ibm-access">Footer links</h2>
<ul>
<li><a href="http://www.ibm.com/contact/us/en/">Contact</a></li>
<li><a href="http://www.ibm.com/privacy/us/en/">Privacy</a></li>
<li><a href="http://www.ibm.com/legal/us/en/">Terms of use</a></li>
<li><a href="http://www.ibm.com/accessibility/us/en/">Accessibility</a></li>
</ul>
</div>
<!-- FOOTER_END -->
</div>
<div id="ibm-metrics">
<script src="//www.ibm.com/common/stats/stats.js" type="text/javascript">//</script>
</div>
</body>
</html>