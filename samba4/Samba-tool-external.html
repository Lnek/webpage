<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.5-2squeeze5" />
		<meta name="keywords" content="Samba-tool-external" />
		<link rel="shortcut icon" href="https://www.samba.org/samba/style/2010/grey/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="SambaWiki (en)" />
		<link title="Creative Commons" type="application/rdf+xml" href="/index.php?title=Samba-tool-external&amp;action=creativecommons" rel="meta" />
		<link rel="copyright" href="/index.php/License" />
		<link rel="alternate" type="application/rss+xml" title="SambaWiki RSS feed" href="/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="SambaWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Samba-tool-external - SambaWiki</title>
		<link rel="stylesheet" href="https://wikistatic.samba.org/skins/common/shared.css?207" type="text/css" media="screen" />
		<link rel="stylesheet" href="https://wikistatic.samba.org/skins/common/commonPrint.css?207" type="text/css" media="print" />
		<link rel="stylesheet" href="https://wikistatic.samba.org/skins/monobook/main.css?207" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="https://wikistatic.samba.org/skins/monobook/IE50Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="https://wikistatic.samba.org/skins/monobook/IE55Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="https://wikistatic.samba.org/skins/monobook/IE60Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="https://wikistatic.samba.org/skins/monobook/IE70Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" media="print" />
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="https://wikistatic.samba.org/skins/common/IEFixes.js?207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "https://wikistatic.samba.org/skins";
		var wgArticlePath = "/index.php/$1";
		var wgScriptPath = "";
		var wgScript = "/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "https://wiki.samba.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Samba-tool-external";
		var wgTitle = "Samba-tool-external";
		var wgAction = "view";
		var wgArticleId = "1789";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 6284;
		var wgVersion = "1.15.5-2squeeze5";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="https://wikistatic.samba.org/skins/common/wikibits.js?207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="https://wikistatic.samba.org/skins/common/ajax.js?207"></script>
		<script type="text/javascript" src="/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Samba-tool-external skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Samba-tool-external</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From SambaWiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p>This wiki page documents the current externals of the samba-tool command in the first table below and proposed externals to the samba-tool command in the second table below.  The purpose of the proposed changes is to make the samba-tool command more consistent and easier to use.  Additionally, help for command completion will be provided in a more consistent manner, again for usability.
</p><p><b>Current commands listed in __init__.py in samba 4 Version 4.0.0alpha15-GIT-a8a6433</b>
</p>
<a name="samba-tool_current_commands" id="samba-tool_current_commands"></a><h4> <span class="mw-headline">samba-tool current commands</span></h4>  
<table border="1">
<caption><b>samba-tool current commands</caption></b>
<tr>
  <td><b>Ref Num</b></td>
  <td><b>Subcommand</b></td>
  <td><b>Description</b></td>
  <td><b>Parameters</b></td>
  <td><b>Command specific options</b></td>
  <td><b>Net command</b></td>
</tr>   
<tr>
  <td rowspan="3">1</td>
  <td rowspan="3">acl</td>
  <td rowspan="3">get or set acls on a file</td>
  <td>nt get &lt;file&gt;</td>
  <td>--as-sddl<br />--xattr\-backend=native|tdb<br />--eadb-file=&lt;file&gt;</td>
  <td></td>
</tr>
<tr>
  <td>nt set &lt;file&gt;</td>
  <td>--quiet=<br />--xattr-backend=native|tdb<br />--eadb-file=&lt;file&gt;</td>
  <td></td>
</tr>
<tr>
  <td>ds set &lt;file&gt;</td>
  <td>--host=<br />--car=...<br />--action=allow|deny<br />--objectdn=<br />--trusteedn=<br />--sddl=<br />--eadb-file=&lt;file&gt;</td>
  <td></td>
</tr>
<tr>
  <td rowspan="2">2</td>
  <td rowspan="2">domainlevel</td>
  <td rowspan="2">Raises domain and forest function level</td>
  <td>show</td>
  <td rowspan="2">-H<br />--quiet<br />--forest=2003|2008|2008_R2<br />--domain=2003|2008|2008_R2</td>
  <td rowspan="2"></td>
</tr>
<tr>
  <td>raise</td>
</tr>
<tr>
  <td rowspan="4">3</td>
  <td rowspan="4">drs</td>
  <td rowspan="4">various directory replication services</td>
  <td>bind &lt;dc&gt;</td>
  <td></td>
  <td rowspan="4"></td>
</tr>
<tr>
  <td>kcc &lt;dc&gt;</td>
  <td></td>
</tr>
<tr>
  <td>replicate &lt;dest_dc&gt; &lt;source_dc&gt; &lt;nc&gt;</td>
  <td>--add-ref<br />--sync-force</td>
</tr>
<tr>
  <td>showrepl &lt;dc&gt;</td>
  <td></td>
</tr>
<tr>
  <td>4</td>
  <td>enableaccount</td>
  <td>enable a user</td>
  <td>&lt;username&gt;</td>
  <td>--filter=</td>
  <td></td>
</tr>
<tr>
  <td>5</td>
  <td>export</td>
  <td>Dumps kerberos keys of the domain into a keytab</td>
  <td>keytab &lt;keytab&gt;</td>
  <td></td>
  <td>net export keytab &lt;keytab&gt;</td>
</tr>
<tr>
  <td rowspan="3">6</td>
  <td rowspan="3">fsmo</td>
  <td rowspan="3">Makes the target DC transfer or seize fsmo role (server connection needed)<br />transfer: request the role from current owner<br />seize: take the role by force, current master is dead</td>
  <td>show</td>
  <td>--url<br />--force<br />--role=rid|pdc|infrastructure|schema|naming|all</td>
  <td></td>
</tr>
<tr>
  <td>transfer</td>
  <td>--url<br />--force<br />--role=rid|pdc|infrastructure|schema|naming|all</td>
  <td></td>
</tr>
<tr>
  <td>seize</td>
  <td>--url<br />--force<br />--role=rid|pdc|infrastructure|schema|naming|all</td>
  <td></td>
</tr>
<tr>
  <td rowspan="4">7</td>
  <td rowspan="4">group</td>
  <td rowspan="4">Add or delete groups or add members to or remove members from a group</td>
  <td>add &lt;groupname&gt;</td>
  <td>-H<br />--groupou=<br />--group-type=Security|Distribution<br />--description=<br />--mail-address=<br />--notest=</td>
  <td rowspan="4"></td>
</tr>
<tr>
  <td>delete &lt;groupname&gt;</td>
  <td>-H</td>
</tr>
<tr>
  <td>addmembers &lt;groupname&gt; &lt;listofmembers&gt;</td>
  <td>-H<br /></td>
</tr>
<tr>
  <td>removemembers &lt;groupname&gt; &lt;listofmembers&gt;</td>
  <td>-H<br /></td>
</tr>
<tr>
  <td rowspan="2">8</td>
  <td rowspan="2">gpo2</td>
  <td rowspan="2">List group policies</td>
  <td>list &lt;username&gt;</td>
  <td rowspan="2">-H</td>
  <td rowspan="2"></td>
</tr>
<tr>
  <td>listall</td>
</tr>
<tr>
  <td rowspan="3">9</td>
  <td rowspan="3">join</td>
  <td rowspan="3">Join a domain as either a member or a backup domain controller <br />(server connection required)</td>
  <td>&lt;dnsdomain&gt; DC</td>
  <td rowspan="3">--server=<br />--site=</td>
  <td rowspan="3"></td>
</tr>
<tr>
  <td>&lt;dnsdomain&gt; RODC</td>
</tr>
<tr>
  <td>&lt;dnsdomain&gt; MEMBER</td>
</tr>
<tr>
  <td>10</td>
  <td>ldapcmp</td>
  <td>compare two ldap databases</td>
  <td>&lt;url1&gt; &lt;url2&gt; &lt;context1?&gt; &lt;context2?&gt; &lt;context3?&gt;</td>
  <td>--two<br />--quiet<br />--verbose<br />--sd<br />--sort-aces<br />--view<br />--base<br />--base2<br />--scope</td>
  <td></td>
</tr>
<tr>
  <td>11</td>
  <td>machinepw</td>
  <td>get machine PW out of SAM</td>
  <td>&lt;accountname&gt;</td>
  <td></td>
  <td>net machinepw &lt;accountname&gt;</td>
</tr>
<tr>
  <td>12</td>
  <td>newuser</td>
  <td>Create a new user</td>
  <td>&lt;username&gt; &lt;password?&gt;</td>
  <td>-H<br />--must-change-at_next-login<br />--user-username-as-cn&lt;br.--userou<br />--surname<br />--given-name<br />--initials<br />--profile-path<br />--script-path<br />--home-drive<br />--home-directory<br />--job-title<br />--department<br />--company<br />--description<br />--mail-address<br />--internet-address<br />--telephone-number<br />--physical-delivery-office</td>
  <td></td>
</tr>
<tr>
  <td rowspan="2">13</td>
  <td rowspan="2">pwsettings</td>
  <td rowspan="2">Sets password settings</td>
  <td>set</td>
  <td>-H<br />--quiet<br />--complexity=on|off|default<br />--store-plaintext=on|off|default<br />--history-length=<br />--min-pwd-length=<br />--min-pwd-age=<br />--max-pwd-age=</td>
  <td rowspan="2"></td>
</tr>
<tr>
  <td>show</td>
  <td></td>
</tr>
<tr>
  <td rowspan="2">14</td>
  <td rowspan="2">password</td>
  <td rowspan="2">set or change password, </td>
  <td>set &lt;username&gt; &lt;password&gt;</td>
  <td></td>
  <td rowspan="2"></td>
</tr>
<tr>
  <td>change</td>
  <td></td>
</tr>
<tr>
  <td>15</td>
  <td>setexpiry</td>
  <td>Sets the expiration of a user account</td>
  <td>&lt;username&gt;</td>
  <td>-H<br />--filter<br />--days=<br />--noexpiry</td>
  <td></td>
</tr>
<tr>
  <td>16</td>
  <td>setpassword</td>
  <td>set user password locally, need write access to ldb files</td>
  <td>&lt;username?&gt;</td>
  <td>-H<br />--filter<br />--newpassword<br />--must-change-at-next-login</td>
  <td></td>
</tr>
<tr>
  <td>17</td>
  <td>time</td>
  <td>Retrieve the time on a remote server (server connection needed)</td>
  <td>&lt;servername?&gt;</td>
  <td></td>
  <td>net time &lt;servername&gt;</td>
</tr>
<tr>
  <td rowspan="2">18</td>
  <td rowspan="2">user</td>
  <td rowspan="2">create or delete a user</td>
  <td>add &lt;username&gt; &lt;password?&gt;</td>
  <td></td>
  <td rowspan="2"></td>
</tr>
<tr>
  <td>delete &lt;username&gt;</td>
  <td></td>
</tr>
<tr>
  <td>19</td>
  <td>vampire</td>
  <td>Join and synchronise a remote AD domain to the local server<br />(server connection needed)</td>
  <td>domain</td>
  <td></td>
  <td></td>
</tr>
</table>
<p>General options are options that can be used on all commands and are as follows:
</p>
<ul>
<li><b>Samba Options</b></li>
<ul>
<li> list samba options here***</li>
</ul>
<li><b>Version Options</li></b>
<ul>
<li>-V</li>
<li>--version</li>
</ul>
<li><b>Credential Options</li></b>
<ul>
<li>list cred options***</li>
</ul>
</ul>
<p>Also possibly open for discussion is the formats of some of the global options.  Improvements for improved usability should be considered.
</p><p><br />
</p>
<a name="samba-tool_proposal_for_command_syntax_changes" id="samba-tool_proposal_for_command_syntax_changes"></a><h4> <span class="mw-headline"><b>samba-tool proposal for command syntax changes</b></span></h4>  
<p>The proposed format for all new / existing functions on the samba-tool command are as follows:
Where is makes sense and is possible, the command syntax will follow the format:
<b>samba-tool</b> &lt;object&gt; &lt;action&gt; &lt;parameter(s)&gt; &lt;command specific options&gt; &lt;global options&gt;
</p><p>Also, help will be improved and made consistent.
</p>
<ul>
<li>When the samba-tool command is issued without a subcommand, it will return a list of valid subcommands (it does this today)</li>
<li>After each subcommand is entered, if more parameters are required a list of what comes next will be shown (sometimes does this today)</li>
<li>If the command syntax is completely incorrect, will give the format of the subcommand (sometimes does this today)</li> 
<li>For each subcommand, help will be provided</li>
<li>Error handling will be improved, more errors will be caught with useable messages being issued where applicable</li>
<li>Would a --verbose option make sense on all the commands? consider when implementing (some commands have it today)</li>
</ul>
<table border="1">
<caption><b>samba-tool command proposed syntax changes</b></caption>
<tr>
  <td><b>Ref num from previous table</b></td>
  <td><b>Object</b></td>
  <td><b>Action</b></td>
  <td><b>Parameters</b></td>
  <td><b>Specific Options</b></td>
  <td><b>Global Options</b></td>
  <td><b>Comments and Equivalent net command (samba 3)</b></td>
</tr>   
<tr>
  <td></td>
  <td>dbcheck</td>
  <td></td>
  <td>&lt;DN&gt;</td>
  <td></td>
  <td></td>
  <td>should this be db &lt;sp&gt; check?</td>
</tr>
<tr>
  <td rowspan="5"></td>
  <td rowspan="5">delegation</td>
  <td>add-service</td>
  <td rowspan="5">&lt;accountname&gt;</td>
  <td rowspan="2">&lt;principal&gt;</td>
  <td rowspan="5">Global options</td>
  <td></td>
</tr>
<tr>
  <td>del-service</td>
  <td></td>
</tr>
<tr>
  <td>for-any-protocol</td>
  <td rowspan="2">on | off</td>
  <td></td>
</tr>
<tr>
  <td>for-any-service</td>
  <td></td>
</tr>
<tr>
  <td>show</td>
  <td></td>
  <td></td>
</tr>
<tr>
  <td rowspan="8">2,5,9,11,13</td>
  <td rowspan="8">domain</td>
  <td rowspan="2">level</td>
  <td>show</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>raise</td>
  <td>-H<br />--quiet<br />--forest<br />--domain</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>join</td>
  <td>&lt;dnsdomain&gt; DC|RODC|MEMBER</td>
  <td>--server=<br />--site=</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>exportkeytab</td>
  <td>&lt;keytab&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>machinepassword</td>
  <td>&lt;accountname&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td rowspan="2">passwordsettings</td>
  <td>show</td>
  <td></td>
  <td rowspan="2">global options</td>
  <td rowspan="2"></td>
</tr>
<tr>
  <td>set</td>
  <td>-H<br />--quiet<br />--complexity=on|off|default<br />--store-plaintext=on|off|default<br />--history-length=<br />--min-pwd-length=<br />--min-pwd-age=<br />--max-pwd-age=</td>
</tr>
<tr>
  <td>samba3upgrade</td>
  <td>&lt;samba3 smb conf&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td rowspan="5">3</td>
  <td rowspan="5">drs</td>
  <td>bind</td>
  <td>&lt;dc&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>kcc</td>
  <td>&lt;dc&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>replicate</td>
  <td>&lt;dest_dc&gt; &lt;source_dc&gt; &lt;nc&gt;</td>
  <td>--add-ref<br />--sync-force</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>showrepl</td>
  <td>&lt;dc&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>options</td>
  <td>&lt;dc&gt;</td>
  <td>--dsa-option=+|-IS_GC |<br />--dsa-option=+|-DISABLE_INBOUND_REPL<br />--dsa-option=+|-DISABLE_OUTBOUND_REPL<br />--dsa-option=+|-DISABLE_NTDSCONN_XLATE</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>1</td>
  <td>dsacl</td>
  <td>set</td>
  <td>&lt;file&gt;</td>
  <td>--objectdn=objectdn<br />--car=control right<br />--action=deny|allow<br />--trusteedn=trustee-dn</td>  
  <td>global options</td>
  <td>Could combine set and nt into one action setnt</td>
</tr>
<tr>
  <td rowspan="3">6</td>
  <td rowspan="3">fsmo</td>
  <td>show</td>
  <td rowspan="3"></td>
  <td rowspan="3">--url=<br />--force<br />--role=rid|pdc|infrastructure|schema|naming|all</td>
  <td rowspan="3">global options</td>
  <td rowspan="3"></td>
</tr>
<tr>
  <td>transfer</td>
</tr>
<tr>
  <td>seize</td>
</tr>
<tr>
  <td rowspan="2">8</td>
  <td rowspan="2">gpo</td>
  <td>list</td>
  <td></td>
  <td>-H</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>listall</td>
  <td></td>
  <td>-H</td>
  <td>global options</td>
  <td></td>
</tr>
&lt;/tr&gt;
  <td rowspan="4">7</td>
  <td rowspan="4">group</td>
  <td>create</td>
  <td>&lt;groupname&gt;</td>
  <td>-H<br />--groupou=<br />--group-type=Security|Distribution<br />--description=<br />--mail-address=<br />--notest=</td>
  <td>global options</td>
  <td>change "add" to create<br />more exact<br />now we have create/delete and <br />addmembers/removemembers</td>
<p>&lt;/tr&gt;
</p>
<tr>
  <td>delete</td>
  <td>&lt;groupname&gt;</td>
  <td>-H</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>addmembers</td>
  <td>&lt;groupname&gt; &lt;listofmembers&gt;</td>
  <td>-H</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>removemembers</td>
  <td>&lt;groupname&gt; &lt;listofmembers&gt;</td>
  <td>-H</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>10</td>
  <td>ldap</td>
  <td>compare</td>
  <td>&lt;url1&gt; &lt;url2&gt; <br />&lt;context1?&gt;<br />&lt;context2?&gt;<br />&lt;context3?&gt;</td>
  <td>--two<br />--quiet<br />--verbose<br />--sd<br />--sort-aces<br />--view<br />--base<br />--base2<br />--scope</td>
  <td>global options</td>
  <td>Change to split into ldap compare.  <br />Not done yet.</td>
</tr>
<tr>
  <td rowspan="2">1</td>
  <td rowspan="2">ntacl</td>
  <td>get</td>
  <td>&lt;file&gt;</td>
  <td>--as-sddl<br />--xattr-backend=native|tdb<br />--eadb-file=file</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td>set</td>
  <td>&lt;file&gt;</td>
  <td>--xattr-backend=native|tdb<br />--eadb-file=file</td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td></td>
  <td>rodc</td>
  <td>preload</td>
  <td>&lt;SID&gt; | &lt;DN&gt; | &lt;accountname&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td rowspan="3"></td>
  <td rowspan="3">spn</td>
  <td>add</td>
  <td rowspan="2">&lt;name&gt;</td>
  <td rowspan="2">&lt;user&gt;</td>
  <td rowspan="3">global options</td>
  <td rowspan="3"></td>
</tr>
<tr>
  <td>delete</td>
</tr>
<tr>
  <td>list</td>
  <td>&lt;user&gt;</td>
  <td></td>
</tr>
<tr>
  <td></td>
  <td>testparm</td>
  <td></td>
  <td></td>
  <td></td>
  <td>global options</td>
  <td>Prompts for file name, inconsistent...?</td>
</tr>
<tr>
  <td>17</td>
  <td>time</td>
  <td></td>
  <td>&lt;servername?&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td rowspan="10">4,12,14,15</td>
  <td rowspan="10">user</td>
  <td>create</td>
  <td>&lt;username&gt;</td>
  <td>-h,--help<br />-H URL,--URL=URL<br />--must-change-at-next-login<br />etc...</td>
  <td>global options</td>
  <td>Changing add to create<br />The help on this command already says add - create a new user<br />create makes more sense, add sounds like it already exists and adding it to a group, for instance<br />opposite of removemembers is addmembers<br />does this need to support all option supported in the GUI on windows side?</td>
</tr>
<tr>
  <td>delete</td>
  <td>&lt;username&gt;</td>
  <td></td>
  <td>global options</td>
  <td></td>
</tr>
<tr>
  <td rowspan="4">setexpiry</td>
  <td rowspan="4">&lt;username&gt;</td>
  <td>-H help</td>
  <td rowspan="4">global options</td>
  <td rowspan="3">this used to be setexpiry username command</td>
</tr>
<tr>
  <td>--days=int</td>
</tr>
<tr>
  <td>--filter=str</td>
</tr>
<tr>
  <td>--noexpiry</td>
  <td>this might be confusing<br />--noexpiry changes the password setting to "Never expires"<br />there is also an account "Never expires" setting which is what I thought this was<br />the reason I thought this is because the setexpiry --days command sets the account expiration, not the password expiration<br />--filter needs additional doc.<br />the format is --filter=samaccountname=&lt;username&gt;<br />Also, my understanding is the sam is internal and should not be on the command.<br />possibly this parameter should change, as samaccountname is an internal concept, not to be used for an external of a command.<br />comments?<br />also, I haven't yet figured out the format for second filter parameter<br /> something like accountexpires=xx (except thats not it!)</td>
</tr>
<tr>
  <td rowspan="2">enable</td>
  <td rowspan="2">&lt;username?&gt;</td>
  <td>-H help</td>
  <td rowspan="2">global options</td>
  <td rowspan="2">this used to be enableaccount username command<br />Do we need a disableaccount as well?<br />Seems like it should be easy enough to implement.<br />--filter needs additional doc<br />the format is --filter=samaccountname=&lt;username&gt;<br />Also, my understanding is the sam is internal and should not be on the command.<br />possibly this parameter should change, as samaccountname is an internal concept, not to be used for an external of a command.</td>
</tr>
<tr>
  <td>--filter=str</td>
</tr>
<tr>
  <td>setpassword</td>
  <td>&lt;username&gt; &lt;password&gt;</td>
  <td>-H<br />--filter=<br />--must-change-at-next-login</td>
  <td>global options</td>
  <td>This command combines samba-tool setpassword and samba-tool password set<br />this password command is intended to admins to set passwords for end users<br />usually requires admin password for authority<br />prompts for input if not specified on the command</td>  
</tr>
<tr>
  <td>password</td>
  <td>&lt;username&gt; &lt;password&gt;</td>
  <td></td>
  <td>global options</td>
  <td>This command is intended for end users to change their password<br />prompting for input if not specified on the command</td>
</tr>
<tr>
  <td>19</td>
  <td>vampire</td>
  <td></td>
  <td>domain</td>
  <td></td>
  <td>global options</td>
  <td>Keep as vampire command for usability / historical purposes<br />Do not change to object action format</td>
</tr>
</table>

<!-- 
NewPP limit report
Preprocessor node count: 86/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key samba_wiki:pcache:idhash:1789-0!1!0!!en!2!edit=0 and timestamp 20130729093632 -->
<div class="printfooter">
Retrieved from "<a href="https://wiki.samba.org/index.php/Samba-tool-external">https://wiki.samba.org/index.php/Samba-tool-external</a>"</div>
						<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/index.php/Samba-tool-external" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="/index.php?title=Talk:Samba-tool-external&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="/index.php?title=Samba-tool-external&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="/index.php?title=Samba-tool-external&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Samba-tool-external" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(https://www.samba.org/samba/style/2010/samba_2010_logo_transparent_151x27.png);" href="/index.php/Main_Page" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/index.php/Main_Page">Main page</a></li>
				<li id="n-User-documentation"><a href="/index.php/Samba">User documentation</a></li>
				<li id="n-Developer-documentation"><a href="/index.php/Developer_documentation">Developer documentation</a></li>
				<li id="n-portal"><a href="/index.php/SambaWiki:Community_Portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="/index.php/SambaWiki:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="/index.php/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="/index.php/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="/index.php/Help:Contents" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search SambaWiki [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/index.php/Special:WhatLinksHere/Samba-tool-external" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/index.php/Special:RecentChangesLinked/Samba-tool-external" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="/index.php/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/index.php?title=Samba-tool-external&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/index.php?title=Samba-tool-external&amp;oldid=6284" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="https://wikistatic.samba.org/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://creativecommons.org/licenses/GPL/2.0/"><img src="https://wikistatic.samba.org/cc-GPL-a.png" alt='the CC-GNU GPL v2 or later' /></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 10 October 2011, at 18:32.</li>
					<li id="viewcount">This page has been accessed 32,587 times.</li>
					<li id="copyright">Content is available under <a href="/index.php/License" title="License">the CC-GNU GPL v2 or later</a>.</li>
					<li id="privacy"><a href="/index.php/SambaWiki:Privacy_policy" title="SambaWiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="/index.php/SambaWiki:About" title="SambaWiki:About">About SambaWiki</a></li>
					<li id="disclaimer"><a href="/index.php/SambaWiki:General_disclaimer" title="SambaWiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.049 secs. --></body></html>
