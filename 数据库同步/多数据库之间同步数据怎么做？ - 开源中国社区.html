<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='zh-CN' xml:lang='zh-CN' xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
  <title>多数据库之间同步数据怎么做？ - 开源中国社区</title>
      <link rel="stylesheet" href="/css/style2013.css?ver=2014050401" type="text/css" media="screen" />
  <link rel="stylesheet" href="/css/channel.css?date=2014042202" type="text/css" media="screen" />
  <link rel="stylesheet" type="text/css" href="/js/2011/fancybox/jquery.fancybox-1.3.4.css" media="screen" />
  <link rel="alternate" type="application/rss+xml" title="最新开源项目" href="http://www.oschina.net/project/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新开源资讯" href="http://www.oschina.net/news/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新问题列表" href="http://www.oschina.net/question/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新翻译列表" href="http://www.oschina.net/translate/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新博客列表" href="http://www.oschina.net/blog/rss" />
  <link rel="alternate" type="application/rss+xml" title="最新代码分享列表" href="http://www.oschina.net/code/rss" />
  <link rel="alternate" type="application/rss+xml" title="开源中国 - 源码列表" href="http://www.oschina.net/code/source_rss" />
  <script type="text/javascript" src="/js/2012/jquery-1.7.1.min.js"></script>
  <script type="text/javascript" src="/js/2012/jquery.form.js"></script>
  <script type="text/javascript" src="/js/2011/fancybox/jquery.fancybox-fixed.js?2014031702"></script>
    <link rel="stylesheet" href="/js/poshytip/tip-yellowsimple/tip-yellowsimple.css" type="text/css" />
  <script type="text/javascript" src="/js/poshytip/jquery.poshytip.min.js"></script>
  <script type="text/javascript">
  	g_user = {
	id:0,
	name:'',
	login:false};  </script>
    <script type="text/javascript" src="/js/2011/oschina.js?ver=20121007"></script>
  <script type="text/javascript" src="/js/utils.js"></script>
  <script type="text/javascript" src="/js/channel.js?2014022501"></script>
    </head>
<body>
<div id='OSC_NavTop'>
	<div class="wp998">
        <div id="OSC_Channels">
        	<ul>
        	<li class="item"><a href="http://www.oschina.net/" class='home'>首页</a></li>        	<li class="item control_select"><a href="http://www.oschina.net/project" class='project'>开源项目</a>
				<ul class="cs_content">					
                	                	<li><a href="http://www.oschina.net/project/lang/19/java">Java 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/194/csharp">C# 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/22/php">PHP 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/21/c">C/C++ 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/26/ruby">Ruby 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/25/python">Python 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/358/go">Go开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/28/javascript">JS开源软件</a></li>
				</ul>
			</li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/question" class='question hl'>讨论区</a>				
				<ul class="cs_content">					
                	<li><a href="http://www.oschina.net/question?catalog=1"> 技术问答 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=2"> 技术分享 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=3"> IT大杂烩 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=100"> 职业生涯 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=4"> 站务/建议 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/alipay"> 支付宝专区 &raquo; </a></li>
                	<li><a href="http://www.oschina.net/hardware"> 开源硬件专区 &raquo; </a></li>
				</ul>
			</li>
        	<li class="item"><a href="http://www.oschina.net/code/list" class='code'>代码</a></li>
        	        	<li class="item"><a href="http://www.oschina.net/blog" class='blog'>博客</a></li>
        	<li class="item"><a href="http://www.oschina.net/translate" class='tran'>翻译</a></li>
            <li class="item"><a href="http://www.oschina.net/news" class='news'>资讯</a></li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/android" class='mobile'>移动开发</a>
				<ul class="cs_content cs_mobile">
                	<li class="android_"><a href="http://www.oschina.net/android">Android开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/home">iOS开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/codingList">iOS代码库</a></li>
                	<li class="wp7_"><a href="http://www.oschina.net/wp">Windows Phone</a></li>
				</ul>
			</li>
        	<li class="item t_job"><a href="http://www.oschina.net/job" class='job'>招聘</a></li>
									            <li class="item control_select">
                <a href="http://city.oschina.net/" id="MyCities" title="城市圈">城市圈</a>
							</li>
        	</ul>
        </div>
		<div id="OSC_Userbar">
                		    		当前访客身份：游客 [ <a href="http://www.oschina.net/home/login?goto_page=http%3A%2F%2Fwww.oschina.net%2Fquestion%2F147139_91804">登录</a> | <a href="http://www.oschina.net/home/reg">加入开源中国</a> ]
    				</div>
		<div class='clear'></div>
	</div>
</div>
<div id='OSC_Banner'><div class="wp998"><a href='http://www.oschina.net/' class='Logo' title='OSChina 开源中国'>开源中国</a>
<h1><a href='/question'>讨论区</a></h1>
<dl>
	<dt>当前位置：</dt>
	<dd>
					        		<a href="/question">讨论区</a>&nbsp;&raquo;
        		<a href="/question?catalog=1">技术问答</a>								&raquo;&nbsp;<a href="/p/sqlserverexpress">SQL Server</a>
										</dd>
</dl>
<form action='http://www.oschina.net/search' class='search'>
	<input type='hidden' name='scope' value='bbs'/>
	<input id='channel_q' type='text' name='q' value='' placeholder='资讯、软件、分享、代码、博客' class='TXT'/>
    <button type='submit' class='BTN'>搜 索</button>
</form>
<div class='clear'></div></div></div>
<div id="OSC_Screen">
	<div id="OSC_Content" class='CenterDiv'>
<script type="text/javascript" src="/js/scrolltopcontrol.js"></script>
<script type="text/javascript">
  	scrolltotop.offset(100,120);
  	scrolltotop.init();
	$(function(){
		$('a.ShowUserOutline img.SmallPortrait').poshytip({
			className: 'tip-yellowsimple',
			alignTo: 'target',
			alignX: 'right',
			alignY: 'inner-top',
			offsetX: 5,
			offsetY: 0,
			fade: false,
			slide: false,
			content: function(updateCallback) {
				ajax_get("/action/ajax/get_user_outline?id="+$(this).attr('user'),false,function(html){
					updateCallback(html);
				});
				return "<div style='height:100px;'>Loading...</div>";
			}
		});
	});
	function add_to_favorite(pid,concern_it){
			alert("必须登录后才能收藏");
		}
</script>
<script type="text/javascript">
    $(document).ready(function(){
		osc.show_tag_introduce_project();
		osc.show_tag_introduce_other();
	});
</script>



<div class='Question'>
	<div class='Body'>
	<div class="main">
    	<div class='Title'>
			<a class="jump_answer" href="#tags_nav" title="跳到回复"></a>
    		<div class='QTitle'>
				    			<h1><a href="http://www.oschina.net/question/147139_91804" hidefocus="true" name='top'>多数据库之间同步数据怎么做？</a></h1>
					<div class="array"></div>
    		</div>
			<div class="clear"></div>
    		
    		<div class='clear'></div>
    	</div>
		    	    					
				<div class='Content'>
												<div class='detail'><p> 从数据库A中查询数据，更新到数据库B中。如果不在A上做修改（比如触发器等等），有没有比较好的做法呢？ </p> 
<p> 1. 如果数据量比较大，每次读取A的查询结果集和B的已有数据，二者对比后更新B，这样做占用内存会不会太大？ </p> 
<p> 2. 每次更新对B进行重写，大数据量下B数据库的IO会不会太大？ </p> 
<p> 恳请各位老师赐教！ </p><div class='clear'></div><div class='EditLogs'>
	<span class="question_resupply_list">
		</span>
</div></div>
						<div class="Asker special">
				<div class="info" title="beihangsxh">
					<span class="ainfo">
						<a href="http://my.oschina.net/u/147139" class="ShowUserOutline" target="_blank" title="beihangsxh"><img src="/img/portrait.gif" align="absmiddle" alt="beihangsxh" title="beihangsxh" class="SmallPortrait" user="147139"/></a>
					</span>
					<span class="pinfo">
		    			<a href="http://my.oschina.net/u/147139" class="Asker-Name" target="_blank">beihangsxh</a><br />
		    			<span class="pub_time">发帖于&nbsp;1年前</span><br />
		    			<span><a href='#answers' class='answer_count'>10</a>回/1345阅</span>
					</span>
				</div>
				<div class='clear'></div>
			</div>
			<div class="tags_toolbars">
			<div class='Tags' id="tags_nav">
				<strong>标签：</strong>				
												<a href='http://www.oschina.net/question/tag/sqlserverexpress' class='tag project image' data-id='8081' title='微软数据库服务器 SQL Server'><img src='/img/logo/sqlserver.gif' height='18' class='prj_logo_18'>SQL Server</a> <a href='http://www.oschina.net/question/tag/java' class='tag project image' data-id='16962' title='编程语言 Java'><img src='/img/logo/java.png' height='18' class='prj_logo_18'>Java</a> 											</div>
						<div class='SameQuestions'>
			<span class="q_toolbar">
				<ul>
								<li> <a href="javascript:report('http://www.oschina.net/question/147139_91804',91804,2)">举报&nbsp;</a></li>
				<li id="Share">
					<a class="Ask_Share_Tencent" title="分享到腾讯微博"  href="javascript:(function(){window.open('http://v.t.qq.com/share/share.php?url='+encodeURIComponent(document.location)+'&amp;appkey=96f54f97c4de46e393c4835a266207f4&amp;site=&amp;title='+encodeURIComponent(document.title)+encodeURIComponent(': 从数据库A中查询数据，更新到数据库B中。如果不在A上做修改（比如触发器等等），有没有比较好的做法呢？ 1. 如果数据量比较大，每次读取A的查询结果集和B的已有数据，二...'),'', 'width=450, height=400, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no');}())"></a>
					<a class="Ask_Share_Sina" title="分享到新浪微博"  href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f='http://v.t.sina.com.cn/share/share.php?appkey=858381728',u=z||d.location,p=['&url=',e(u),'&title=',e(t||d.title),'&source=',e(r),'&sourceUrl=',e(l),'&content=',c||'gb2312','&pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(s.width-440)/2,',top=',(s.height-430)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','','多数据库之间同步数据怎么做？: 从数据库A中查询数据，更新到数据库B中。如果不在A上做修改（比如触发器等等），有没有比较好的做法呢？ 1. 如果数据量比较大，每次读取A的查询结果集和B的已有数据，二...','','utf-8'));"></a>
					|<a href="javascript:function(0);">&nbsp;分享到</a>
				</li>
				</ul>
			</span>
			<div class="clear"></div>
			</div>
					</div>
		</div>
		<div class='Vote' id='Vote'>
    		    		    		<a id="vote_up" class="vote-up-off" href="#" title="顶：这问题很有用或者很提问清晰明了"></a>
			    		<span class="q_vote_num">0</span>
    		    		<a id="vote_down" class="vote-down-off" href="#" title="踩：这问题不知道在问什么，或者没什么用"></a>
    		    		<span class="store">
    		<a title="收藏此话题" class="Tool-Store-Off" id="favor_trigger" href="javascript:;">收藏(0)</a>
    		</span>
    	</div>
	</div>
		<style type='text/css'>
		#TagsSwitcher{color:#A00;}
        #RecTags,#MyTags{margin:5px 0;}
        #RecTags a.tag{line-height:24px;}
		#favor_form p:first-child{margin:5px 0;}
		#favor_form{width:200px;}
        #favor_form p {color:#666;}
        #favor_form form{width:200px;}
        #favor_form form ._favor_input{display:block;margin:2px 0;width:199px;}
        #favor_form form ._favor_button{float:left;padding:2px 5px;}
        .favor_ok {text-align:center;font-size:10.5pt;width:199px;height:60px;margin-top:10px;}
        #TagsSwitcher{cursor:pointer;float:right;margin-top:10px;}
        #MyTags{display:none;width:199px;}
        #MyTags a.tag {float:left; background-color: #E0EAF1;border-bottom: 1px solid #3E6D8E;border-right: 1px solid #7F9FB6;color: #3E6D8E;font-size: 8pt;line-height: 16px;margin: 2px 2px 2px 0;padding: 2px 4px;text-decoration: none;white-space: nowrap;}
		#MyTags a.tag:hover{background-color: #3E6D8E;color: #FFF;}
		.osc_promotion{ position: relative; display: inline-block; padding: 10px; margin: 10px 0; border: 1px solid #ccc;}
        .osc_promotion .c{ position: absolute; right: -1px; top: -1px;}
		.ask_toolbar {float:right;list-style: none; font-size: 12px; color: #333; height: 28px;_padding-top: 5px; overflow: hidden;margin:20px 0 10px 0;}
        .ask_toolbar div{ float: left; margin-left: 5px; background: url("/img/ask-icon.gif") no-repeat; padding: 6px 0 6px 15px; padding-left: 15px; height: 16px;}
        .ask_toolbar a{ height: 16px; color: #333; text-decoration: none; display:inline-block; zoom:1; vertical-align: middle; }
        .ask_share{width: 89px;vertical-align: bottom; line-height: 15px; _line-height: 14px;}
        .ask_share a{background: url("/img/ask-icon.gif"); width: 16px; }
        a.ask_share_sina{ background: url("/img/ask-icon.gif") 0 -40px no-repeat; margin-left: 5px;  }
        a.ask_share_tencent{background-position: 0 -70px; margin-left: 5px; }
        .ask_toolbar em{ height: 28px; line-height:28px; width: 14px; display: inline-block; float: left; background: url("/img/ask-icon.gif") top right;}
        .ask_collect a,.ask_report a, .ask_vote a, .ask_collected a{padding-left: 20px; line-height: 15px; }
        .ask_collect a{ background: url("/img/ask-icon.gif") 0 -131px no-repeat; }
        .ask_collected a{ background: url("/img/ask-icon.gif") 0 -100px no-repeat; }
        div.ask_collect_count{ background: url("/img/ask-icon.gif") 0 -309px no-repeat; font-weight: bold; font-size: 14px; margin-left: 0; height: 16px;line-height: 16px;}
        .ask_report a{ background: url("/img/ask-icon.gif") 0 -160px no-repeat;}
        em.ask_collect_count_r{background-position: 59px -309px;}
        .ask_vote a{background: url("/img/ask-icon.gif");}
        		a.ask_vote_up{background-position: 3px -190px;}
        a.ask_vote_down{background-position: 0 -280px;}
        a.ask_vote_uped {background-position: 3px -190px;}
        		a.ask_vote_downed {background-position: 0 -280px;}
        .ask_vote span{ display: inline-block; margin: 0 10px; font-weight: bold; font-size: 14px; vertical-align: middle; margin-bottom: 2px; line-height: 16px;}
		</style>
		<div class='clear'></div>
        
		<div class='clear'></div>
				        <div class='QuestionReplies'>
			
        	<h2>
				<span class='sort'>
					<a href="http://www.oschina.net/question/147139_91804#answers" class='current'>按票数排序</a>&nbsp;
					<a href="?sort=time#answers">显示最新答案</a>&nbsp;&nbsp;
				</span>
				<a name='answers'></a>共有<em class='answer_count'>10</em>个答案
				<a href="?sort=time#answers" class="last_reply">(最后回答: 9个月前)</a>			</h2>
			        	<ul class='list'><span class="hr unvisible"></span><div class="Vote" id="vote_428924">
		<a href="javascript:vote_answer(428924,true,true)" id='a_post_voteup_428924' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_428924">0</span>
	<a href="javascript:vote_answer(428924,false,true)" id='a_post_votedown_428924' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_428924'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/kzhou" class="ShowUserOutline" name="AnchorAnswer428924" target="_blank"><img src="http://static.oschina.net/uploads/user/48/96894_50.jpg" align="absmiddle" alt="恺哥" title="恺哥" class="SmallPortrait" user="96894"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/kzhou" title="恺哥" target="_blank">恺哥</a>
			<span class="reply-time">1年前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'><p> A和B是异构的吗（是不是同一种数据库）？ </p> 
<p> 如果是同一种数据库的话，你同步的数据表结构是否相同，如果也相同的话，完全可以利用数据库的同步复制机制来解决；(做主从) </p> 
<p> 如果表结构不相同的话，如果不在应用层处理的话，有两种方式参考： </p> 
<p> 1，A推数据给B；A有数据的时候，实时或非实时(采用event或trigger)将数据推到B中，B再做处理； </p> 
<p> 2，B从A拉数据，用一个event(mysql中的job)定时从A中拉数据然后进行处理； </p> 
<p> 另外可以选择在应用层来做，这个我就不多介绍了，根据业务逻辑coding就行了。 </p> 
<p> 由于不清楚你的业务特点，所以无法进一步的帮你分析。 </p> 
<p> 仅供参考 </p></div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_428924'><div class='clear'></div>
<strong>--- 共有 1 条评论 --- </strong>
<ul>
		<li id='PostReply_428933'>
				<a href="http://my.oschina.net/u/147139" class='p' name='AnchorAnswer428933'>beihangsxh</a>
		<span class='b'>
		<span class='c'>谢谢您的回答！
A和B都是关系数据库，我想从A中做一些查询，将得到的结果集更新到B中，作为某个应用的基础数据，然后B中其他表存储一些应用相关的其他数据，以达到不改变A的前提下扩展应用的目的。
</span>
		<span class='t'>
				(1年前)&nbsp&nbsp;
				<span class='opts'><a href="javascript:reply_to_post(428924,147139)">回复</a></span>
		</span>
		</span>
		<div class='clear'></div>
	</li>
	</ul>	
<div class='PagerLinks'>
</div>
</div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(428924, 0)">评论(1)</a>|
		<a href="/question/answer?question=91804&amp;answer=428924">引用此答案</a>|							<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer428924',428924,17)">举报</a>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_429300">
		<a href="javascript:vote_answer(429300,true,true)" id='a_post_voteup_429300' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_429300">0</span>
	<a href="javascript:vote_answer(429300,false,true)" id='a_post_votedown_429300' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_429300'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/ren2881971" class="ShowUserOutline" name="AnchorAnswer429300" target="_blank"><img src="http://static.oschina.net/uploads/user/363/727667_50.jpg?t=1363072995000" align="absmiddle" alt="渔樵耕读" title="渔樵耕读" class="SmallPortrait" user="727667"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/ren2881971" title="渔樵耕读" target="_blank">渔樵耕读</a>
			<span class="reply-time">1年前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'>可以用开源的数据迁移工具etl。基本能满足你的要求。</div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_429300'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(429300, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=429300">引用此答案</a>|				    		<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer429300',429300,17)">举报</a>|
    		<span class="tail">来自 <a href="http://www.oschina.net/mobile" target="_blank">iPhone</a></span>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_429380">
		<a href="javascript:vote_answer(429380,true,true)" id='a_post_voteup_429380' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_429380">0</span>
	<a href="javascript:vote_answer(429380,false,true)" id='a_post_votedown_429380' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_429380'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/yond" class="ShowUserOutline" name="AnchorAnswer429380" target="_blank"><img src="http://static.oschina.net/uploads/user/458/917350_50.jpg?t=1355195730000" align="absmiddle" alt="YondWell" title="YondWell" class="SmallPortrait" user="917350"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/yond" title="YondWell" target="_blank">YondWell</a>
			<span class="reply-time">1年前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'>直接应用层处理就好了。</div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_429380'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(429380, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=429380">引用此答案</a>|				    		<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer429380',429380,17)">举报</a>|
    		<span class="tail">来自 <a href="http://www.oschina.net/mobile" target="_blank">Android</a></span>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_429391">
		<a href="javascript:vote_answer(429391,true,true)" id='a_post_voteup_429391' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_429391">0</span>
	<a href="javascript:vote_answer(429391,false,true)" id='a_post_votedown_429391' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_429391'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/u/995994" class="ShowUserOutline" name="AnchorAnswer429391" target="_blank"><img src="http://static.oschina.net/uploads/user/497/995994_50.jpg?t=1362448668000" align="absmiddle" alt="liu_kelin" title="liu_kelin" class="SmallPortrait" user="995994"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/u/995994" title="liu_kelin" target="_blank">liu_kelin</a>
			<span class="reply-time">1年前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'>楼上 这样会影响运行效率吧。 
<br /></div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_429391'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(429391, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=429391">引用此答案</a>|							<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer429391',429391,17)">举报</a>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_429608">
		<a href="javascript:vote_answer(429608,true,true)" id='a_post_voteup_429608' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_429608">0</span>
	<a href="javascript:vote_answer(429608,false,true)" id='a_post_votedown_429608' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_429608'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/u/875871" class="ShowUserOutline" name="AnchorAnswer429608" target="_blank"><img src="/img/portrait.gif" align="absmiddle" alt="Duke.Yee" title="Duke.Yee" class="SmallPortrait" user="875871"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/u/875871" title="Duke.Yee" target="_blank">Duke.Yee</a>
			<span class="reply-time">1年前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'><p> 都是oracle的话推荐用goldengate。 </p> 
<p> 更通用的做法是自己写个工具，A库产生同步指令和数据，B库根据指令和数据同步到本地 </p></div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_429608'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(429608, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=429608">引用此答案</a>|							<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer429608',429608,17)">举报</a>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_429696">
		<a href="javascript:vote_answer(429696,true,true)" id='a_post_voteup_429696' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_429696">0</span>
	<a href="javascript:vote_answer(429696,false,true)" id='a_post_votedown_429696' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_429696'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/u/220706" class="ShowUserOutline" name="AnchorAnswer429696" target="_blank"><img src="http://static.oschina.net/uploads/user/110/220706_50.jpg?t=1370676420000" align="absmiddle" alt="佐岸" title="佐岸" class="SmallPortrait" user="220706"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/u/220706" title="佐岸" target="_blank">佐岸</a>
			<span class="reply-time">1年前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'>数据交换么~</div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_429696'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(429696, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=429696">引用此答案</a>|							<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer429696',429696,17)">举报</a>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_429703">
		<a href="javascript:vote_answer(429703,true,true)" id='a_post_voteup_429703' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_429703">0</span>
	<a href="javascript:vote_answer(429703,false,true)" id='a_post_votedown_429703' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_429703'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/u/992000" class="ShowUserOutline" name="AnchorAnswer429703" target="_blank"><img src="/img/portrait.gif" align="absmiddle" alt="茶几123" title="茶几123" class="SmallPortrait" user="992000"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/u/992000" title="茶几123" target="_blank">茶几123</a>
			<span class="reply-time">1年前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'>应该有service层吧，为啥不在里面写定时器，通过A数据库里面的时间去做不行吗？ 
<br /></div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_429703'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(429703, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=429703">引用此答案</a>|							<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer429703',429703,17)">举报</a>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_429712">
		<a href="javascript:vote_answer(429712,true,true)" id='a_post_voteup_429712' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_429712">0</span>
	<a href="javascript:vote_answer(429712,false,true)" id='a_post_votedown_429712' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_429712'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/fornews" class="ShowUserOutline" name="AnchorAnswer429712" target="_blank"><img src="http://static.oschina.net/uploads/user/48/97411_50.jpg" align="absmiddle" alt="chuangyu" title="chuangyu" class="SmallPortrait" user="97411"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/fornews" title="chuangyu" target="_blank">chuangyu</a>
			<span class="reply-time">1年前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'><p> 不用触发器，不想每次都全盘复制，就要自己写判断增量的逻辑。 </p> 
<p> <br /> </p></div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_429712'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(429712, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=429712">引用此答案</a>|							<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer429712',429712,17)">举报</a>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_539438">
		<a href="javascript:vote_answer(539438,true,true)" id='a_post_voteup_539438' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_539438">0</span>
	<a href="javascript:vote_answer(539438,false,true)" id='a_post_votedown_539438' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_539438'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/u/1185571" class="ShowUserOutline" name="AnchorAnswer539438" target="_blank"><img src="/img/portrait.gif" align="absmiddle" alt="sztpzh" title="sztpzh" class="SmallPortrait" user="1185571"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/u/1185571" title="sztpzh" target="_blank">sztpzh</a>
			<span class="reply-time">9个月前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'><p> 有些网闸带有同步工具 </p></div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_539438'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(539438, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=539438">引用此答案</a>|							<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer539438',539438,17)">举报</a>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script><div class="Vote" id="vote_539439">
		<a href="javascript:vote_answer(539439,true,true)" id='a_post_voteup_539439' class=" vote-up-off " title=" 投支持票 "></a>
	<span class="a_vote_num" id="a_vote_num_539439">0</span>
	<a href="javascript:vote_answer(539439,false,true)" id='a_post_votedown_539439' class=" vote-down-off " title=" 投反对票 "></a>
				</div>
<li class='Answer ' id='answer_539439'>
	<div class='user'>
		<span class="user_img"><a href="http://my.oschina.net/u/1185571" class="ShowUserOutline" name="AnchorAnswer539439" target="_blank"><img src="/img/portrait.gif" align="absmiddle" alt="sztpzh" title="sztpzh" class="SmallPortrait" user="1185571"/></a></span>
		<span class="user_info">
			<a href="http://my.oschina.net/u/1185571" title="sztpzh" target="_blank">sztpzh</a>
			<span class="reply-time">9个月前</span>
		</span>
		<div class="clear"></div>
	</div>
	<div class='body'>
    															    			<div class='clear'></div>
		<div class='detail'>比如TIPTOP利谱</div>
	</div>
	<div class='clear'></div>
	<div class='replies' id='PostReplies_539439'></div>
	
	<div class='votes'>
				<span class="a_toolbar">
		<a href="javascript:reply_to_post(539439, 0)">评论(0)</a>|
		<a href="/question/answer?question=91804&amp;answer=539439">引用此答案</a>|							<a href="javascript:report('http://www.oschina.net/question/147139_91804#AnchorAnswer539439',539439,17)">举报</a>
				</span>
	</div>
</li>
<span class="hr"></span>
<script>
	    	$('li.Answer').bind('mouseenter',function(){var anwserId = $(this).attr('id');$("#best_"+anwserId).show();}).bind('mouseleave',function(){var anwserId = $(this).attr('id');if($('#best_'+anwserId).attr('class').indexOf('accept-off')!=-1){$('#best_'+anwserId).hide();}});
    	$('.Vote').bind('mouseenter',function(){$(this).find('a.accept-off').show();$(this).find('a.accept-on').show();$(this).next('li.Answer').find('.hover-show').show();}).bind('mouseleave',function(){$(this).find('a.accept-off').hide();$(this).next('li.Answer').find('.hover-show').hide();});
	</script></ul>
				        </div> 
		<div class='AnswerForm'>
						<form id='form_answer' action="/action/question/answer?question=91804" method="post">
				<input type='hidden' name='user' value=''/>
				<textarea id='txt_answner' name='body' style='width:650px;height:160px;'></textarea>
				<input type='submit' value=' 我要回答 ' id="FormSubmitButton" class='rndbutton'/>
				<span id='form_msg' style='display:none;'></span>
				<br/><br/>
				<a href="#answers">回答案顶部</a>&nbsp;|&nbsp;<a href="#top">回页面顶部</a>
			</form>
			<div class='clear'></div>
			<script>			
            $('#form_answer').ajaxForm({
            	dataType: 'json',
        		beforeSerialize: function($form, options) { 
        			editor.sync();           
                },
        		beforeSubmit: function(){
        			$('#FormSubmitButton').attr('disabled','disabled');
        			$('#form_msg').html("<span class='ajax_processing'>正在提交答案，请稍候...</span>");	
        			$('#form_msg').show();	
        		},
                success: function(json) {
        			$('#FormSubmitButton').removeAttr('disabled');
            		if(json.msg){
        				$('#form_msg').html("<span class='error_msg'>"+json.msg+"</span>");
        				$('#form_msg').show();
        			}
            		else if(json.id){
            			ajax_get("/question/show_answer?_answer_id="+json.id, true, function(data){
        					            				$('.QuestionReplies ul.list').append(data);
        					        					editor.html('');
        					$('.answer_count').html(json.answer_count);
            			}); 				
        				$('#form_msg').hide();
            		}
                }
            });
			</script>
		</div>
	</div>	
	<script type="text/javascript" src="/js/syntax-highlighter-2.1.382/scripts/brush.js"></script>
<link type="text/css" rel="stylesheet" href="/js/syntax-highlighter-2.1.382/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="/js/syntax-highlighter-2.1.382/styles/shThemeDefault.css"/>
<script type='text/javascript'><!--
$(document).ready(function(){
	SyntaxHighlighter.config.clipboardSwf = '/js/syntax-highlighter-2.1.382/scripts/clipboard.swf';
	SyntaxHighlighter.all();
});
//-->
</script>
	<div class='QuestionRelations'>
	<div id='QuestionWizard'>
		有什么技术问题吗？
		<a href='/question/ask' class='rndbutton'><span>我要提问</span></a>
		<div class='clear'></div>
	</div>
							<div style='text-align:center;margin-bottom:10px;'>
		<a name="question_banner_one"/>
		<a href="http://www.neitui.me/" target="_blank" title="内推网">
			<img src="http://static.oschina.net/uploads/space/2014/0508/114607_80ZS_5189.gif" width="250.0" height="250.0">
		</a>
		 </div>
		    		<div class="AskerCard">
			</div>
						
        <div class='google_ads' style='margin:20px 0;'>
           <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <!-- question-side -->
            <ins class="adsbygoogle"
                 style="display:inline-block;width:250px;height:250px"
                 data-ad-client="ca-pub-1307862221338762"
                 data-ad-slot="9547725620"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
    	</div>
				          				
		<div id='Similarity' class='Qlist'>
									<strong>类似的话题</strong>
			<ul>
        				<li><a href="http://www.oschina.net/question/7292_8380" title="数据库5大范式中的最后两个范式怎么理解，请举例说明">数据库5大范式中的最后两个范式怎么理解，请举例说明</a><span class='date'>(4回/1367阅,4年前)</span></li>						<li><a href="http://www.oschina.net/question/112251_24939" title="数据库中的存储日期的字段是String类型的，我该怎么判断它们的大小？">数据库中的存储日期的字段是String类型的，我该怎么判断它们的大小？</a><span class='date'>(9回/2743阅,2年前)</span></li>						<li><a href="http://www.oschina.net/question/140152_26788" title="都说数据库用游标对性能影响很大，哪个高手来解释下">都说数据库用游标对性能影响很大，哪个高手来解释下</a><span class='date'>(4回/609阅,2年前)</span></li>						<li><a href="http://www.oschina.net/question/101273_13233" title="本站数据库模型的几个疑问">本站数据库模型的几个疑问</a><span class='date'>(4回/227阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/113141_14608" title="java跟数据库连接">java跟数据库连接</a><span class='date'>(11回/334阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/73027_14629" title="请教数据库原理中的执行顺序问题？？？">请教数据库原理中的执行顺序问题？？？</a><span class='date'>(2回/183阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/74323_15082" title="数据库字段与java保留字重名如何解决">数据库字段与java保留字重名如何解决</a><span class='date'>(3回/258阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/96486_15223" title="对数据库进行写操作的安全问题">对数据库进行写操作的安全问题</a><span class='date'>(2回/113阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/94949_15253" title="数据库三范式">数据库三范式</a><span class='date'>(3回/514阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/74323_15744" title="大家用什么工具进行数据库和实体类的转换">大家用什么工具进行数据库和实体类的转换</a><span class='date'>(5回/520阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/107336_17459" title="聊聊数据库原理">聊聊数据库原理</a><span class='date'>(11回/508阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/100045_17940" title="在数据库中，姓名是分做两个字段好还是一个字段好？">在数据库中，姓名是分做两个字段好还是一个字段好？</a><span class='date'>(5回/418阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/134353_18875" title="数据库设计面试题求解">数据库设计面试题求解</a><span class='date'>(0回/577阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/134353_18876" title="数据库的面试题求解">数据库的面试题求解</a><span class='date'>(5回/436阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/94438_19483" title="数据库优化帮助">数据库优化帮助</a><span class='date'>(8回/366阅,3年前)</span></li>						<li><a href="http://www.oschina.net/question/137556_19668" title="【数据库设计问题】如何设计好友关系的数据库">【数据库设计问题】如何设计好友关系的数据库</a><span class='date'>(5回/1229阅,3年前)</span></li>						</ul>
					</div>		
	</div>
	<div class='clear'></div>   
</div>
<script type='text/javascript' src='/js/ke/kindeditor-min.js?v=4.1.6' charset='utf-8'></script>
<script type='text/javascript'>
<!--
var editor;
KindEditor.ready(function(K) {
    editor = K.create('#txt_answner', {
		themeType : 'oschina',
		resizeType : 1,
		urlType: 'domain',
		shadowMode : false,
		allowPreviewEmoticons : false,
		allowImageUpload : true,
		allowFlashUpload : false,
		cssPath : '/css/ke-oschina.css',
		uploadJson : '/action/blog/upload_img',
		afterCreate : function(){
			/*
			K.ctrl(this.edit.iframe.get(0).contentWindow.document, 13, function() {
				$("#txt_answner").parent().submit();
			});
			*/
			$(this.edit.iframe.get(0).contentWindow.document).keydown(function(e) {
				if ((e.ctrlKey || e.metaKey) && e.which == 13 && !e.shiftKey && !e.altKey){
					$("#txt_answner").parent().submit();
				}
			});
		},
		afterChange : function() {
			this.sync();
		},
		items : ['bold', 'italic', 'underline', 'strikethrough', 'removeformat','|','insertorderedlist', 'insertunorderedlist', 
				 'forecolor', 'hilitecolor', 'fontname', 'fontsize',  '|', 'link', 'unlink', 'emoticons', 
				 'shcode', 'image', 'flash', 'quote', '|', 'source','about'],
		htmlTags:
		{
			script : ['src'],
            font : ['color', 'size', 'face', '.background-color'],
            span : [
                    '.color', '.background-color', '.font-size', '.font-family', '.background',
                    '.font-weight', '.font-style', '.text-decoration', '.vertical-align', '.line-height'
            ],
            div : [
                    'class', 'align', '.border', '.margin', '.padding', '.text-align', '.color',
                    '.background-color', '.font-size', '.font-family', '.font-weight', '.background',
                    '.font-style', '.text-decoration', '.vertical-align', '.margin-left'
            ],
            table: [
                    'border', 'cellspacing', 'cellpadding', 'width', 'height', 'align', 'bordercolor',
                    '.padding', '.margin', '.border', 'bgcolor', '.text-align', '.color', '.background-color',
                    '.font-size', '.font-family', '.font-weight', '.font-style', '.text-decoration', '.background',
                    '.width', '.height', '.border-collapse'
            ],
            'td,th': [
                    'align', 'valign', 'width', 'height', 'colspan', 'rowspan', 'bgcolor',
                    '.text-align', '.color', '.background-color', '.font-size', '.font-family', '.font-weight',
                    '.font-style', '.text-decoration', '.vertical-align', '.background', '.border'
            ],
            a : ['href', 'target', 'name'],
            embed : ['src', 'width', 'height', 'type', 'loop', 'autostart', 'quality', '.width', '.height', 'align', 'allowscriptaccess'],
            img : ['src', 'width', 'height', 'border', 'alt', 'title', 'align', '.width', '.height', '.border'],
            'p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6' : [
                    'align', '.text-align', '.color', '.background-color', '.font-size', '.font-family', '.background',
                    '.font-weight', '.font-style', '.text-decoration', '.vertical-align', '.text-indent', '.margin-left'
            ],
            pre : ['class'],
            hr : ['class', '.page-break-after'],
            'br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del' : []
		}
    });
});
//-->
</script>
<!--[if lt IE 7]>
<script type="text/javascript" src="/js/minmax.js"></script>
<![endif]-->
<script type="text/javascript" src="/action/visit/question?id=91804"></script>
<script type='text/javascript'>
<!--
$(document).ready(function() {
	$.ajax({
		url:"/action/favorite/attentionUsersCount",
		type:"get",
		data:"id="+91804+"&type="+2,
		success:function(msg){
			$("#favor_trigger").html("收藏("+msg+")");
		}
	});
	$('.Answer .replies li').hover(
		function(){$(this).addClass('hover');},
		function(){$(this).removeClass('hover');}
	);
	
    $('.detail img').css('cursor','pointer');
    jQuery.each($('.detail img'),function(idx,v){
        if(!$(v).parent().is("a")) {
            $(v).wrap("<a href='"+$(this).attr('src')+"' target='_blank'></a>");
        }
    });
	
	$('#c').bind('mouseover mouseout',function(){
		$('#c_on').toggle();
		$('#c_off').toggle();
	});
	
	$('#favor_trigger').click(function(){
			add_to_favor(91804,2);
		});
});
function ask_too(qid, ask){
	ajax_post("/action/question/ask_too?id="+qid+"&ask="+ask,"",function(html){
		json = eval('('+html+')');
		if(json.asker_count >= 0){
			$('#c_asker_count').html(json.asker_count);
			if(json.ask_mode)
				$('#RQuestionAction').html("<span class='rect'>已问同一问题 | <a href='javascript:ask_too(91804,false)'>取消？</a></span>");
			else
				$('#RQuestionAction').html("<a href='javascript:ask_too(91804,true)' class='rndbutton'><span>我想问同样的问题</span></a>");			
		}
		else{
			$('#RQuestionAction').poshytip({
				className: 'tip-yellowsimple',
				content: json.msg,
				showOn: 'none',
				alignTo: 'target',
				alignX: 'center',
				alignY: 'top',
				offsetY: 6
			});
			$('#RQuestionAction').poshytip('show');
			var t = setTimeout(function(){
				clearTimeout(t);
				$('#RQuestionAction').poshytip('destroy');
			},4000);
		}
	});
}
function delete_q(qid){
	if(!confirm("您确认要删除此问题吗，删除的数据不可恢复？"))
		return ;
		ajax_post("/action/question/delete?id="+qid+"&hash=-2063946274","",function(html){
		if(html.length>0)
			alert(html);
		else{
			location.href = "/question";
		}
	});
}
function edit_answer(aid){
	location.href="/question/edit_answer?id="+aid;
}
function delete_answer(aid,hash){
	if(!confirm("您确认要删除此答案吗，删除的数据不可恢复？"))
		return ;
	ajax_post("/action/question/delete_answer?id="+aid+"&hash="+hash,"",function(html){
		if(html.length>0)
			alert(html);
		else{
			$('#answer_'+aid).fadeOut();
			$('#vote_'+aid).fadeOut();
			$('#answer_'+aid).next('.hr').fadeOut();
		}
	});
}
function delete_post_reply(aid,hash){
	if(!confirm("您确认要删除此评论吗，删除的数据不可恢复？"))
		return ;
	ajax_post("/action/question/delete_answer?id="+aid+"&hash="+hash,"",function(html){
		if(html.length>0)
			alert(html);
		else{
			$('#PostReply_'+aid).fadeOut();
		}
	});
}
function delete_q_rpl(qid, rid){
	if(!confirm("删除补充说明会被扣威望值，是否继续？"))
		return ;
	ajax_post("/action/question/delete_detail?id="+rid,"",function(html){
		if(html.length>0)
			alert(html);
		else
			$("#q_reply_"+rid).fadeOut();
	});
}
function close_tip(tid){$('#'+tid).poshytip('destroy');}
//答案投票
function vote_answer(qid, vote_up, need_confirm){
	if(need_confirm && !vote_up){
		if(!$('#a_post_votedown_' + qid).hasClass('bold')){
			var vote_down_confirm_msg = "<p>此操作将会扣掉你1个积分，是否继续？</p><p style='margin-top:10px;'><a href='javascript:vote_answer("+qid+",false,false)' class='rbtn' style='margin:0 10px 0 50px;'><span>确定</span></a><a href=\"javascript:close_tip('a_post_votedown_" + qid +"')\" class='rbtn'><span>取消</span></a></p>";			
			$('#a_post_votedown_' + qid).poshytip({
				className: 'tip-yellowsimple',
				content: vote_down_confirm_msg,
				showOn: 'none',
				slide: false,
				fade: false,
				alignTo: 'target',
				alignX: 'center',
				offsetY: 8
			});
			$('#a_post_votedown_' + qid).poshytip('show');
			return;
		}
	}
	if(!need_confirm){
		$('#a_post_votedown_' + qid).poshytip('destroy');
	}
	ajax_post("/action/question/vote_answer?id="+qid+"&vote="+vote_up+"&user=","",function(data){
		json = eval('('+data+')');
		if(json.msg){
			var aid = vote_up?"a_post_voteup_":"a_post_votedown_";
			aid += qid;
			$('#'+aid).poshytip({
				className: 'tip-yellowsimple',
				content: json.msg,
				showOn: 'none',
				alignTo: 'target',
				alignX: 'center',
				alignY: 'top',
				offsetY: 6
			});
			$('#'+aid).poshytip('show');
			var t = setTimeout(function(){
				clearTimeout(t);
				$('#'+aid).poshytip('destroy');
			},2000);
			//jQuery.fancybox("<div class='error_box'>"+json.msg+"</div>");
		}
		else{
			if(vote_up){
				$('#post_voteup_'+qid).html('('+json.vote+')');
				var a_post_voteup = $('#a_post_voteup_'+qid);
				if(a_post_voteup.attr('class').indexOf("vote-up-off")!=-1){
					$('#a_post_voteup_'+qid).attr('class', 'vote-up-on');
					$('#a_post_voteup_'+qid).attr('title','取消支持票');
					$('#a_vote_num_'+qid).html(parseInt($('#a_vote_num_'+qid).html())+1);
				}else{
					$('#a_post_voteup_'+qid).attr('class', 'vote-up-off');
					$('#a_post_voteup_'+qid).attr('title','投支持票');
					$('#a_vote_num_'+qid).html(parseInt($('#a_vote_num_'+qid).html())-1);
				}
			}else{
				$('#post_votedown_'+qid).html('('+json.vote+')');
				var a_post_votedown = $('#a_post_votedown_'+qid);
				if(a_post_votedown.attr('class').indexOf("vote-down-off")!=-1){
    				a_post_votedown.attr('class', 'vote-down-on').attr('title','取消反对票');
    				$('#a_vote_num_'+qid).html(parseInt($('#a_vote_num_'+qid).html())-1);
				}else{
					a_post_votedown.attr('class', 'vote-down-off');
					a_post_votedown.attr('title','投反对票');
    				$('#a_vote_num_'+qid).html(parseInt($('#a_vote_num_'+qid).html())+1);
				}
			}
		}
	});
}
//问题投票 
$('#vote_up').click(function(){
	if(this.clickTimeout){
        // 双击
        clearTimeout(this.clickTimeout);
        this.clickTimeout = null;
		alert("不用那么费劲啦，点击一下就够了:)");
    }
    else{
        // 单击
        var elem = this;
        this.clickTimeout = setTimeout(function(){
            // 执行点击动作
            elem.clickTimeout = null;
			vote_question(91804,true, true);
        }, 250);
    }
    //阻止链接onclick时的默认行为
    return false;
});
$('#vote_down').click(function(){
	vote_question(91804,false, true);
	/*
	if(this.clickTimeout){
        // 双击
        clearTimeout(this.clickTimeout);
        this.clickTimeout = null;
		alert("不用那么费劲啦，点击一下就够了:)");
    }
    else{
        // 单击
        var elem = this;
        this.clickTimeout = setTimeout(function(){
            // 执行点击动作
            elem.clickTimeout = null;
			vote_question(91804,false, true);
        }, 250);
    }
    //阻止链接onclick时的默认行为
	*/
    return false;
});
function vote_question(qid, vote_up, need_confirm){
	if(need_confirm && !vote_up){
		if($('#Vote #vote_down').hasClass('ask_vote_down')){
			var vote_down_confirm_msg = "<p>踩问题将会扣掉你1个积分，是否继续？</p><p style='margin-top:10px;'><a href='javascript:vote_question(91804,false,false)' class='rbtn' style='margin-right:10px;'><span>确定</span></a><a href=\"javascript:close_tip('vote_down')\" class='rbtn'><span>取消</span></a></p>";
			$('#Vote #vote_down').poshytip({
				className: 'tip-yellowsimple',
				content: vote_down_confirm_msg,
				slide: false,
				fade: false,
				showOn: 'none',
				alignTo: 'target',
				alignX: 'inner-right',
				alignY: 'bottom',
				offsetX: -35,
				offsetY: 5
			});
			$('#Vote #vote_down').poshytip('show');
			return;
		}
	}
	if(!need_confirm){
		$('#Vote #vote_down').poshytip('destroy');
	}
	ajax_post("/action/question/vote?user=&id="+qid+"&vote="+vote_up,"",function(data){
		json = eval('('+data+')');
		if(json.msg){
			var aid = vote_up?"vote_up":"vote_down";
			$('#'+aid).poshytip({
				className: 'tip-yellowsimple',
				content: json.msg,
				showOn: 'none',
				alignTo: 'target',
				alignX: 'inner-right',
				alignY: 'bottom',
				offsetX: 5,
				offsetX: -35
			});
			$('#'+aid).poshytip('show');
			var t = setTimeout(function(){
				clearTimeout(t);
				$('#'+aid).poshytip('destroy');
			},2000);
		}
		else{
						if(vote_up){
				$('#Vote .vote-up-count').html(json.vote_up);
				if($('#vote_up').attr('class').indexOf("vote-up-off")!=-1){
					$('#vote_up').attr('class', 'vote-up-on');
					$('#vote_up').attr('title','取消顶');
					$('.q_vote_num').html(parseInt($('.q_vote_num').html())+1);
				}else{
					$('#vote_up').attr('class', 'vote-up-off');
					$('#vote_up').attr('title','顶：这问题很有用或者很提问清晰明了');
					$('.q_vote_num').html(parseInt($('.q_vote_num').html())-1);
				}
			}
			else{
				$('#Vote .vote-down-count').html(json.vote_down);
				if($('#vote_down').attr('class').indexOf("vote-down-off")!=-1){
					$('#vote_down').attr('class', 'vote-down-on');
					$('#vote_down').attr('title','取消踩');
					$('.q_vote_num').html(parseInt($('.q_vote_num').html())-1);
				}else{
					$('#vote_down').attr('class', 'vote-down-off');
					$('#vote_down').attr('title','踩：这问题不知道在问什么，或者没什么用');
					$('.q_vote_num').html(parseInt($('.q_vote_num').html())+1);
				}
			}
		}
	});
}
//评论答案
function reply_to_post(postid,uid){
	    url = "/action/ajax/reply_to_post?id=" + postid + "&refer="+uid
    ajax_post(url,"",function(data){
        $.fancybox({
            content: data,
            onComplete: function(){
                $input = $('#ta_body');
                $input.focus();
                pos = $input.val().length;
                if (document.selection) {
                    range = $input[0].createTextRange();
                    range.move("character", pos);
                    range.select();
                } else {
                    $input[0].setSelectionRange(pos, pos);
                }
            }
        });
    });
}

function show_rp_next(postid,current,total){
	if(current < total){
		var next_page = current + 1;
    	var url = "/question/post_replies?answer="+postid+"&rp="+next_page;
    	ajax_post(url,"",function(html){
    		$('#PostReplies_'+postid).html(html);
				addRepliesHoverEvent();
			});
	}
}

function addRepliesHoverEvent(){
	$("li [id ^= 'PostReply']").hover(function(){
		$(this).addClass("hover");
	},function(){
		$(this).removeClass("hover");
	});
}

function show_rp_prev(postid,current,total){
	if(current > 1){
		var next_page = current - 1;
    	var url = "/question/post_replies?answer="+postid+"&rp="+next_page;
    	ajax_post(url,"",function(html){
    		$('#PostReplies_'+postid).html(html);
			addRepliesHoverEvent();
    	});
	}
}
function mark_as_top(qid, as_top) {
	var args = "id="+qid+"&top="+as_top;
	ajax_post("/action/question/mark_as_top",args,function(html){
		alert(html);
	});
}
function mark_as_best(postid, is_best){
	var args = "id="+postid+"&best="+(is_best?1:0);
	ajax_post("/action/question/mark_as_best",args,function(html){
    	if(html.length>0){
    		$('#best_answer_'+postid).poshytip({
    			className: 'tip-yellowsimple',
    			content: html,
    			showOn: 'none',
    			alignTo: 'target',
    			alignX: 'center',
    			alignY: 'top',
    			offsetY: 6
    		});
    		$('#best_answer_'+postid).poshytip('show');
    		var t = setTimeout(function(){
    			clearTimeout(t);
    			$('#best_answer_'+postid).poshytip('destroy');
    		},2000);
    	}
    	else{
			if(is_best){
				$('#answer_'+postid).addClass('Best');
				$('#best_answer_'+postid).attr('class', 'accept-on')
				.attr('href', 'javascript:mark_as_best('+postid+',false)')
				.attr('title','取消标记为最佳答案');
			}else{
				$('#answer_'+postid).removeClass('Best');
				$('#best_answer_'+postid).attr('class', 'accept-off')
				.attr('href', 'javascript:mark_as_best('+postid+',true)')
				.attr('title','标记为最佳答案');
			}
    	}
	});
}
function edit_tags(qid){
	popup("/question/edit_tags?question="+qid);
}
function edit_catalogs(qid){
	popup("/admin/catalog/set-catalogs?parent=1&type=2&id="+qid);
}
function event_apply(event_id){	
	popup("/action/ajax/event_apply","id="+event_id);
}
function cancel_apply(event_id){
	if(confirm("您确认要取消参加此次活动吗？")){
		ajax_post("/action/event/cancel","event="+event_id,function(html){
			if(html.length>0)
				alert(html);
			else
				alert('已取消参加此次活动，感谢您的支持:)');
		});
	}
}

var favor_ok = "<p class='favor_ok'>已成功添加到收藏夹<br/><br/> <a href='null/favorites?type=$DAISY_OBJ_TYPE'>我的收藏夹</a> | <a href='javascript:close_favor()'>关闭</a></p>";
function delete_favor(obi_id, obj_type){
	if(!confirm('确定取消收藏？')) return;
	$.post("/action/favorite/cancel?type="+obj_type+"&id="+obi_id+"&user=",function(html){
		$('#favor_trigger').parent('div').removeClass('ask_collected').addClass('ask_collect');
		$('#favor_trigger').attr('title','添加到收藏');
    	$('#p_favor_count').html(html);
		$('#favor_trigger').unbind('click');
		$('#favor_trigger').click(function(){add_to_favor(91804,2);});
	});
}
function add_to_favor(obj_id, obj_type){
	if(confirm('必须登录后才能收藏，是否现在登录？')){
		location.href="http://www.oschina.net/home/login?goto_page="+location.href;
	}
}
function close_favor(elem_id){
    $('#favor_trigger').poshytip('destroy');
}
function setTag(tv){
	var t = $("._favor_input");
	var value = t.val();
	var tags = value.replace(/，/ig,',').split(',');
	var exist = false;
	value = $.map(tags,function(v,i){
		if($.trim(tv) == $.trim(v)){
			exist = true;
			return undefined;
		}
		return v;
	}).join(',');
	if(exist){
		t.val(value);
		return;
	}
	if(value!="")
		t.val(value+","+tv);
	else
		t.val(tv)
}
//-->
</script><div class='clear'></div></div>
	<div id="OSC_Footer" class='CenterDiv'><style>
.oscapp {text-align:left; width:220px;}
.oscapp span {float:left;width:140px;}
.oscapp a {float:left;text-indent:-9999em;width:16px;margin-left:8px;}
.oscapp a.android {background:url('/img/android.gif') no-repeat left center;}
.oscapp a.iphone {background:url('/img/iphone.gif') no-repeat left center;}
.oscapp a.wp7 {background:url('/img/wp7.gif') no-repeat left center;}
</style>
<table width='100%'><tr>
<td align='left'>&copy; 开源中国(OsChina.NET) | <a href="http://www.oschina.net/home/aboutosc">关于我们</a> | <a href="mailto:oschina.net@gmail.com">广告联系</a> | <a href="http://weibo.com/oschina2010" target="_blank">@新浪微博</a> | <a href="http://m.oschina.net/">开源中国手机版</a> | <a href='http://www.miitbeian.gov.cn/' target='_blank' style='color:#737573;text-decoration:none;'>粤ICP备12009483号-3</a></td>
<td class='oscapp'>
	<span>开源中国手机客户端：</span>
	<a href="http://www.oschina.net/app" class='android' title='Android客户端'>Android</a>
	<a href="http://www.oschina.net/app" class='iphone' title='iPhone 客户端'>iPhone</a>
	<a href="http://www.oschina.net/app" class='wp7' title='Windows Phone 客户端'>WP7</a>
</td>
</tr>
</table>
<script type='text/javascript'>
<!--
if (top.location != self.location)top.location=self.location;
//-->
</script></div>
</div>
</body>
</html>
<!-- Generated by OsChina.NET (init:0[ms],page:96[ms],ip:49.5.1.198) -->