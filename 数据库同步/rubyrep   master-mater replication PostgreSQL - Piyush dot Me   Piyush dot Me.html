<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>rubyrep : master-mater replication PostgreSQL - Piyush dot Me | Piyush dot Me</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://piyush.me/wp-content/themes/twentyeleven/style.css" />
<link rel="pingback" href="http://piyush.me/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://piyush.me/wp-content/themes/twentyeleven/js/html5.js" type="text/javascript"></script>
<![endif]-->

<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.18 - http://yoast.com/wordpress/seo/ -->
<link rel="canonical" href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel="dns-prefetch" href="//connect.facebook.net" />
<link rel="alternate" type="application/rss+xml" title="Piyush dot Me &raquo; Feed" href="http://piyush.me/feed/" />
<link rel="alternate" type="application/rss+xml" title="Piyush dot Me &raquo; Comments Feed" href="http://piyush.me/comments/feed/" />

            <script type="text/javascript">//<![CDATA[
            // Google Analytics for WordPress by Yoast v4.3.3 | http://yoast.com/wordpress/google-analytics/
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-7414272-1']);
				            _gaq.push(['_trackPageview']);
            (function () {
                var ga = document.createElement('script');
                ga.type = 'text/javascript';
                ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(ga, s);
            })();
            //]]></script>
			<link rel="alternate" type="application/rss+xml" title="Piyush dot Me &raquo; rubyrep : master-mater replication PostgreSQL Comments Feed" href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/feed/" />
<link rel='stylesheet' id='flare-css'  href='http://piyush.me/wp-content/plugins/flare/css/flare.css?ver=1.2.6' type='text/css' media='all' />
<link rel='stylesheet' id='flare-oswald-font-css'  href='http://fonts.googleapis.com/css?family=Oswald%3A700%3Alatin&#038;text=1234567890MK.&#038;ver=1.2.6' type='text/css' media='all' />
<script type='text/javascript' src='http://piyush.me/wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='http://piyush.me/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://piyush.me/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://piyush.me/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.6.1" />
<link rel='shortlink' href='http://piyush.me/?p=212' />

<!-- All in One SEO Pack 2.0.4 by Michael Torbert of Semper Fi Web Design[355,436] -->
<meta name="description" content="rubyrep Database replication that doesn't hurt. Unlike Oracle &amp; MySQL : PostgreSQL doesn't' have built in replication solutions but there are many other" />

<meta name="keywords" content="database replication,postgresql replication,replication solution,rubyrep,automation,linux-cp" />

<link rel="canonical" href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/" />
<!-- /all in one seo pack -->
<meta property="og:type" content="article" />
<meta property="og:url" content="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/" />
<meta property="og:title" content="rubyrep : master-mater replication PostgreSQL" />
<meta property="og:site_name" content="Piyush dot Me" />
<meta property="og:locale" content="en_US" />
<meta property="og:description" content="rubyrep Database replication that doesn't hurt. Unlike Oracle &amp; MySQL : PostgreSQL doesn't' have built in replication solutions but there are many other replication solutions available for PostgreSQL liked listed here :- http://wiki.postgresql.org/wiki..." />
<meta property="fb:app_id" content="385891278145296" />
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #f1f1f1; }
</style>
<meta property="og:site_name" content="Piyush dot Me" />
<meta property="og:type" content="article" />
<meta property="og:locale" content="en_US" />
<meta property="fb:app_id" content="385891278145296" />
<meta property="og:url" content="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/" />
<meta property="og:title" content="rubyrep : master-mater replication PostgreSQL - Piyush dot Me" />
<meta property="og:description" content="rubyrep Database replication that doesn&#8217;t hurt. Unlike Oracle &amp; MySQL : PostgreSQL doesn&#8217;t&#8217; have built in replication solutions but there are many other replication solutions available for PostgreSQL liked listed here :- http://wiki.postgresql.org/wiki/Replication%2C_Clustering%2C_and_Connection_Pooling and some additional proprietary solutions for the &hellip; Continue reading &rarr;" />
<meta property="article:published_time" content="2010-07-05T03:15:26+00:00" />
<meta property="article:modified_time" content="2010-07-05T03:33:30+00:00" />
<meta property="article:author" content="http://piyush.me/author/admin/" />
<meta property="article:section" content="automation" />
<meta property="article:tag" content="linux-cp" />
<meta property="article:tag" content="database replication" />
<meta property="article:tag" content="postgresql replication" />
<meta property="article:tag" content="replication solution" />
<meta property="article:tag" content="rubyrep" />
</head>

<body class="single single-post postid-212 single-format-standard custom-background single-author singular two-column right-sidebar">
<div id="page" class="hfeed">
	<header id="branding" role="banner">
			<hgroup>
				<h1 id="site-title"><span><a href="http://piyush.me/" title="Piyush dot Me" rel="home">Piyush dot Me</a></span></h1>
				<h2 id="site-description">Piyush&#039;s thoughts | Technology+Open Source|/home/piyushk</h2>
			</hgroup>

			
								<form method="get" id="searchform" action="http://piyush.me/">
		<label for="s" class="assistive-text">Search</label>
		<input type="text" class="field" name="s" id="s" placeholder="Search" />
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search" />
	</form>
			
			<nav id="access" role="navigation">
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="#content" title="Skip to primary content">Skip to primary content</a></div>
				<div class="skip-link"><a class="assistive-text" href="#secondary" title="Skip to secondary content">Skip to secondary content</a></div>
								<div class="menu-menu-1-container"><ul id="menu-menu-1" class="menu"><li id="menu-item-297" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-297"><a href="http://piyush.me/" >Home</a></li>
<li id="menu-item-299" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-299"><a href="http://piyush.me/piyush/" >Contact</a></li>
</ul></div>			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">

		<div id="primary">
			<div id="content" role="main">

				
					<nav id="nav-single">
						<h3 class="assistive-text">Post navigation</h3>
						<span class="nav-previous"><a href="http://piyush.me/2010/06/27/scalable-internet-architecture/" rel="prev"><span class="meta-nav">&larr;</span> Previous</a></span>
						<span class="nav-next"><a href="http://piyush.me/2010/12/05/dev-and-ops-collaboration-and-awareness-at-etsy-and-flickr/" rel="next">Next <span class="meta-nav">&rarr;</span></a></span>
					</nav><!-- #nav-single -->

					
<article id="post-212" class="post-212 post type-post status-publish format-standard hentry category-automation category-linux-cp tag-database-replication tag-postgresql-replication tag-replication-solution tag-rubyrep">
	<header class="entry-header">
		<h1 class="entry-title">rubyrep : master-mater replication PostgreSQL</h1>

				<div class="entry-meta">
			<span class="sep">Posted on </span><a href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/" title="8:45 am" rel="bookmark"><time class="entry-date" datetime="2010-07-05T08:45:26+00:00">July 5, 2010</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://piyush.me/author/admin/" title="View all posts by admin" rel="author">admin</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		
<div class="fb-social-plugin fb-like" data-ref="above-post" data-href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/" data-send="true" data-width="584"></div>
<div class="flare-horizontal flare-position-top flare-backgroundcolor-light enablecounters enabletotal" data-humbleflarecount="5">
    <span class="loading"><span></span></span>
    <span class="flare-total first"><strong>0</strong> Flares</span>
    
                    <span data-type="facebook" class="flare-button button-type-facebook flare-iconstyle-round-bevel first" style="background-color:#0b59aa;z-index:5">
            <span class="flare-button-wrap">
                <span class="flare-button-icon">Facebook</span>
            </span>
        </span>
        <span class="flare-button-count">0</span>
            
        <span class="flare-flyout flare-flyout-facebook first">
            <span class="flare-flyout-inner">
                <span class="flare-arrow"></span>
            </span>
            <span class="flare-iframe-wrapper" data-code-snippet="&lt;iframe src=&quot;//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fpiyush.me%2F2010%2F07%2F05%2Frubyrep-master-mater-replication-postgresql%2F&amp;send=false&amp;layout=button_count&amp;width=120&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; style=&quot;border:none; overflow:hidden; width:120px; height:21px;&quot; allowTransparency=&quot;true&quot;&gt;&lt;/iframe&gt;"></span>
        </span>
        
                    <span data-type="twitter" class="flare-button button-type-twitter flare-iconstyle-round-bevel" style="background-color:#00aced;z-index:4">
            <span class="flare-button-wrap">
                <span class="flare-button-icon">Twitter</span>
            </span>
        </span>
        <span class="flare-button-count">0</span>
            
        <span class="flare-flyout flare-flyout-twitter">
            <span class="flare-flyout-inner">
                <span class="flare-arrow"></span>
            </span>
            <span class="flare-iframe-wrapper" data-code-snippet="&lt;a href=&quot;https://twitter.com/share&quot; class=&quot;twitter-share-button&quot;  &gt;Tweet&lt;/a&gt;
&lt;script&gt;!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=&quot;//platform.twitter.com/widgets.js&quot;;fjs.parentNode.insertBefore(js,fjs);}}(document,&quot;script&quot;,&quot;twitter-wjs&quot;);&lt;/script&gt;"></span>
        </span>
        
                    <span data-type="googleplus" class="flare-button button-type-googleplus flare-iconstyle-round-bevel" style="background-color:#d84d2f;z-index:3">
            <span class="flare-button-wrap">
                <span class="flare-button-icon">Google+</span>
            </span>
        </span>
        <span class="flare-button-count">0</span>
            
        <span class="flare-flyout flare-flyout-googleplus">
            <span class="flare-flyout-inner">
                <span class="flare-arrow"></span>
            </span>
            <span class="flare-iframe-wrapper" data-code-snippet="&lt;g:plusone&gt;&lt;/g:plusone&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function() {
    var po = document.createElement(&quot;script&quot;); po.type = &quot;text/javascript&quot;; po.async = true;
    po.src = &quot;https://apis.google.com/js/plusone.js&quot;;
    var s = document.getElementsByTagName(&quot;script&quot;)[0]; s.parentNode.insertBefore(po, s);
  })();
&lt;/script&gt;"></span>
        </span>
        
                    <span data-type="linkedin" class="flare-button button-type-linkedin flare-iconstyle-round-bevel" style="background-color:#0375b3;z-index:2">
            <span class="flare-button-wrap">
                <span class="flare-button-icon">LinkedIn</span>
            </span>
        </span>
        <span class="flare-button-count">0</span>
            
        <span class="flare-flyout flare-flyout-linkedin">
            <span class="flare-flyout-inner">
                <span class="flare-arrow"></span>
            </span>
            <span class="flare-iframe-wrapper" data-code-snippet="&lt;script src=&quot;//platform.linkedin.com/in.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;script type=&quot;IN/Share&quot; data-counter=&quot;right&quot;&gt;&lt;/script&gt;"></span>
        </span>
        
                    <span data-type="email" class="flare-button button-type-email flare-iconstyle-round-bevel last" style="background-color:#f2d446;z-index:1">
            <span class="flare-button-wrap">
                <span class="flare-button-icon">Email</span>
            </span>
        </span>
        <span class="flare-button-count">--</span>
            
        <span class="flare-flyout flare-flyout-email">
            <span class="flare-flyout-inner">
                <span class="flare-arrow"></span>
            </span>
            <span class="flare-iframe-wrapper" data-code-snippet="&lt;a href=&quot;mailto:?body=Check%20out%20this%20article%20I%20found%20on%20Piyush%20dot%20Me%3A%0D%0A%0D%0Arubyrep%20%3A%20master-mater%20replication%20PostgreSQL%0D%0Ahttp%3A%2F%2Fpiyush.me%2F2010%2F07%2F05%2Frubyrep-master-mater-replication-postgresql%2F&amp;subject=Check%20out%20this%20article%20I%20found%20on%20Piyush%20dot%20Me&quot; title=&quot;Email to a friend&quot; target=&quot;_blank&quot;&gt;Email to a friend&lt;/a&gt;"></span>
        </span>
        
        
        
    <span class="flare-total last"><strong>0</strong> Flares</span>

    <span class="close">
        <a href="#close">&#215;</a>
    </span>
</div><p><a href="http://www.rubyrep.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.rubyrep.org']);" target="_blank">rubyrep</a> Database replication that doesn&#8217;t hurt.</p>
<p>Unlike Oracle &amp; MySQL : PostgreSQL doesn&#8217;t&#8217; have built in replication solutions but there are many other replication solutions available for PostgreSQL liked listed here :-</p>
<p><a href="http://wiki.postgresql.org/wiki/Replication%2C_Clustering%2C_and_Connection_Pooling" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://wiki.postgresql.org']);" target="_blank">http://wiki.postgresql.org/wiki/Replication%2C_Clustering%2C_and_Connection_Pooling</a></p>
<p>and some additional proprietary solutions for the custom needs by different companies.</p>
<p>Mostly people use Slony : <a href="http://www.slony.info/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.slony.info']);" target="_blank">http://www.slony.info/ </a>for master &#8211; slave replication solution &#8211; Slony is a &#8220;master to multiple slaves&#8221;           replication system supporting cascading (<em>e.g.</em> &#8211; a  node can feed another node which feeds another node&#8230;)  and failover.</p>
<p>but Slony has limitations as mentioned <a href="http://bit.ly/v5eOJ" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://bit.ly']);" target="_blank">here</a> :</p>
<ul>
<li>Replicated tables must have a unique or primary key</li>
<li>It  does not support replication of large objects</li>
<li>Schema  changes are not propagated (though they can be coordinated)</li>
<li>It  does not support synchronizing databases outside of replication</li>
<li>There  are limitations on version compatibility; you can not replicate from  PostgreSQL 8.2 to PostgreSQL 8.4 for example</li>
<li>It is more  difficult to set up than many other replication solutions</li>
</ul>
<p>There are many new replication and clustering solutions being there but most of them in development phases only.</p>
<p>To provide mater-master replication in PostgreSQL &#8211; mostly used solutions are :-</p>
<p>- <a href="http://bucardo.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://bucardo.org']);" target="_blank">Bucardo</a></p>
<p>- <a href="http://www.rubyrep.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.rubyrep.org']);" target="_blank">RubyRep</a></p>
<p>and RubyRep is most easy to setup and configure.</p>
<p><strong>RubyRep </strong>Mission:-</p>
<p>Development of an open-source solution for  asynchronous, master-master replication of relational databases that is</p>
<ul>
<li>ridiculously easy to use</li>
<li>database independent</li>
</ul>
<p>It currently supports PostgreSQL and MySQL and is currently developed by <a href="http://www.arndtlehmann.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.arndtlehmann.com']);">Arndt  Lehmann</a>,.  He also provides great support to the <a href="http://groups.google.com/group/rubyrep" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://groups.google.com']);">RubyRep mailing list</a>,  especially for adding new features or fixing bugs.</p>
<p>RubyRep always operates on two databases. To make it simple to  understand, the databases are referred to as &#8220;left&#8221; and &#8220;right&#8221; database  respectively.</p>
<p>RubyRep&#8217;s key features includes:</p>
<ul>
<li>Simple  configuration, complete setup can be done via single configuration  file.</li>
<li>Simple Installation, if you have a JVM installed, then  you just have to download and extract the files.</li>
<li>Platform  Independent, it runs on Unix and Windows platform.</li>
<li>Table  Design Independent, meaning that all commands work on tables no matter  if they have a simple primary key (all data types acceptable), a  combined primary key, or no primary key at all. It successfully  processes multi-byte texts and &#8220;big&#8221; data types</li>
<li>It replicates  tsvector datatype</li>
</ul>
<p>In addition to the above, RubyRep  actually provides three tools in one; a Compare, Sync, and Replication  tools.</p>
<h3>Compare</h3>
<p>This tool scans corresponding tables of  left and right database, looking for diverging data. Key features of the  comparison tool are:</p>
<ul>
<li>Different output modes, from a  count of differences to full row dumps.</li>
<li>Low bandwidth mode  available, reducing the number of round-trips so only actual differences  go through the network.</li>
<li>A progress bar with estimated  remaining amount of work.</li>
<li>Server load is targeted toward  only the &#8220;right&#8221; database server.</li>
</ul>
<h3>Sync</h3>
<p>The sync tool is used to synchronize data in  corresponding tables of a left and right pair of databases. Key features  of the sync tool are:</p>
<ul>
<li>All features of the Compare tool  also apply to syncs</li>
<li>Automatically orders table syncs to  avoid foreign key conflicts.</li>
<li>You can configure the Sync  policy to ignore deletes in left database, or to ignore creating records  in right database, and other such combinations</li>
<li>Provides two  prebuilt conflict resolution methods, either left db wins or right db  wins</li>
<li>Custom conflict resolution methods specifiable via ruby  code snippets</li>
<li>Merge decisions can optionally be logged in  the rubyrep event log table.</li>
</ul>
<h3>Replicate</h3>
<p>Of course RubyRep also provides a replication  tool. Some of the key features of the replication tool include:</p>
<ul>
<li>Automatically  sets up all necessary triggers, log tables, etc.</li>
<li>Automatically  discovers newly added tables and synchronizes the table content</li>
<li>Automatically  reconfigures sequences to avoid duplicate key conflicts</li>
<li>Tracks  changes to primary key columns</li>
<li>Can implement either  master-slave or master-master replication</li>
<li>Prebuilt conflict  resolution methods available include left or right wins, or earlier,  later change wins</li>
<li>Custom conflict resolution specifiable via  ruby code snippets</li>
<li>Replication decisions can optionally be  logged in the rubyrep event log table</li>
</ul>
<p>One of the  problems common to replication solutions is that of setting up new  nodes. With Slony, there are always some headaches caused by high load  on master database server, as a result of the TRUNCATE/COPY cycle Slony  goes through. In the case of RubyRep, most of the CPU load is on the  slave server, and you can use the Sync command in advance before you  start replicating database. RubyRep also provides some flexibility to  ignore the Sync commands if you don&#8217;t want to sync the database again.</p>
<p>For installation refer to <a href="http://www.rubyrep.org/installation.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.rubyrep.org']);" target="_blank">http://www.rubyrep.org/installation.html</a></p>
<p>Help</p>
<ul>
<pre><samp></samp># rubyrep --help
Usage: /usr/local/bin/rubyrep [general options] command [parameters, ...]

Asynchronous master-master replication of relational databases.

Available options:
 --verbose                    Show errors with full stack trace
 -v, --version                    Show version information.
 --help                       Show this message

Available commands:
 generate        Generates a configuration file template
 help            Shows detailed help for the specified command
 proxy           Proxies connections from rubyrep commands to the database
 replicate       Starts a replication process
 scan            Scans for differing records between databases
 sync            Syncs records between databases
 uninstall       Removes all rubyrep tables, triggers, etc. from "left" and "right" database
</pre>
<li> Generate configuration file</li>
<pre> <samp></samp> #<code>rubyrep generate myrubyrep.conf</code></pre>
</ul>
<p>Checkout <a href="http://www.rubyrep.org/tutorial.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.rubyrep.org']);" target="_blank">http://www.rubyrep.org/tutorial.html</a> for scanning &amp; sync &amp; replication configs</p>
<p>Ref: <a href="http://denishjpatel.blogspot.com/2009/08/yet-another-postgresql-replication-tool.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://denishjpatel.blogspot.com']);" target="_blank">Denish Patel Blog Post</a></p>
			</div><!-- .entry-content -->

	<footer class="entry-meta">
		This entry was posted in <a href="http://piyush.me/category/automation/" title="View all posts in automation" rel="category tag">automation</a>, <a href="http://piyush.me/category/linux-cp/" title="View all posts in linux-cp" rel="category tag">linux-cp</a> and tagged <a href="http://piyush.me/tag/database-replication/" rel="tag">database replication</a>, <a href="http://piyush.me/tag/postgresql-replication/" rel="tag">postgresql replication</a>, <a href="http://piyush.me/tag/replication-solution/" rel="tag">replication solution</a>, <a href="http://piyush.me/tag/rubyrep/" rel="tag">rubyrep</a> by <a href="http://piyush.me/author/admin/">admin</a>. Bookmark the <a href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/" title="Permalink to rubyrep : master-mater replication PostgreSQL" rel="bookmark">permalink</a>.		
			</footer><!-- .entry-meta -->
</article><!-- #post-212 -->

					
<div id="comments" class="comments-area">
	<h2 class="comments-title">Comments</h2>	<ol class="comment-list">		<li class="comment byuser comment-author-admin bypostauthor even thread-even depth-1" id="comment-1720">
				<div id="div-comment-1720" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/62ef17f232dc439d61ae6844f0829038?s=32&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D32&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />			<cite class="fn"><a href="http://piyush.me"   rel='external nofollow' class='url'>admin</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/comment-page-1/#comment-1720">
			July 30, 2010 at 5:21 pm</a>		</div>

		<p>So to configure one-way syncs (left to right), the following settings<br />
are necessary:<br />
  config.options[:right_record_handling] = :ignore<br />
  config.options[:sync_conflict_handling] = :left_wins</p>
<p>And in case in the future you also would like to start one-way<br />
replication:<br />
  config.options[:right_change_handling] = :ignore<br />
  config.options[:replication_conflict_handling] = :left_wins </p>
<p>via gg @ Arndt</p>

		<div class="reply">
					</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2967">
				<div id="div-comment-2967" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/17f646d45255a30ae6bb26e8c0ea8a74?s=32&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D32&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />			<cite class="fn"><a href="http://www.nux.ro" onclick="javascript:_gaq.push(['_trackEvent','outbound-commentauthor','http://www.nux.ro']);"  rel='external nofollow' class='url'>Nux</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/comment-page-1/#comment-2967">
			October 22, 2010 at 11:49 pm</a>		</div>

		<p>PostgreSQL v9 has built-in replication.</p>
<p><a href="http://developer.postgresql.org/pgdocs/postgres/release-9-0.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-comment','http://developer.postgresql.org']);" rel="nofollow">http://developer.postgresql.org/pgdocs/postgres/release-9-0.html</a></p>

		<div class="reply">
					</div>
				</div>
		</li><!-- #comment-## -->
</ol><div id="respond" class="comment-respond">
<div class="fb-social-plugin comment-form fb-comments" id="commentform" data-href="http://piyush.me/2010/07/05/rubyrep-master-mater-replication-postgresql/" data-width="584" data-order-by="social"></div>
</div></div>

				
			</div><!-- #content -->
		</div><!-- #primary -->


	</div><!-- #main -->

	<footer id="colophon" role="contentinfo">

			

			<div id="site-generator">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->

<!--[if IE]><style type="text/css">.flare-flyout{visibility:visible;}</style><![endif]--><!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="http://piyush.me/wp-content/plugins/flare/css/flare.ie.css" /><![endif]--><script type="text/javascript">
  var __flare_count_url = "http://piyush.me/wp-admin/admin-ajax.php?action=flare_get_counts&url=http%3A%2F%2Fpiyush.me%2F2010%2F07%2F05%2Frubyrep-master-mater-replication-postgresql%2F&post_id=212&_wpnonce=8b09f28631";
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var FB_WP=FB_WP||{};FB_WP.queue={_methods:[],flushed:false,add:function(fn){FB_WP.queue.flushed?fn():FB_WP.queue._methods.push(fn)},flush:function(){for(var fn;fn=FB_WP.queue._methods.shift();){fn()}FB_WP.queue.flushed=true}};window.fbAsyncInit=function(){FB.init({"channelUrl":"http:\/\/piyush.me\/wp-content\/plugins\/facebook\/channel.php","xfbml":true,"appId":"385891278145296"});if(FB_WP && FB_WP.queue && FB_WP.queue.flush){FB_WP.queue.flush()}}
/* ]]> */
</script>
<div id="fb-root"></div><script type="text/javascript">(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="http:\/\/connect.facebook.net\/en_US\/all.js";fjs.parentNode.insertBefore(js,fjs)}(document,"script","facebook-jssdk"));</script>
<script type='text/javascript' src=''></script>
<script type='text/javascript' src='http://piyush.me/wp-content/plugins/flare/js/flare.dev.js?ver=1.2.6'></script>

</body>
</html>