<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>SWIFT API 使用文档</title>
<meta name="keywords" content="黑鹰,hiying,崔洪民,mysql,优化，虚拟化，云计算，xen，lxc，image" />
<meta name="description" content="" />
<meta name="generator" content="emlog" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://hiying.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://hiying.net/wlwmanifest.xml" />
<link rel="alternate" type="application/rss+xml" title="RSS"  href="http://hiying.net/rss.php" />
<link href="http://hiying.net/content/templates/Vigour/main.css" rel="stylesheet" type="text/css" />
<script src="http://hiying.net/include/lib/js/common_tpl.js" type="text/javascript"></script>
<script type="text/javascript" src="http://hiying.net/include/lib/js/jquery/jquery-1.7.1.js"></script>
<script type="text/javascript" src="http://hiying.net/content/templates/Vigour/index.js"></script>
<script type="text/javascript" src="http://hiying.net/include/lib/js/jquery/jquery-1.2.6.js"></script>
<script type="text/javascript">jQuery(function($){$("a[href*=://]:not(a[href^=http://hiying.net/],a[href^=javascript:])").attr("target", "_blank");})</script>
</head>
<body>
<div id="page-top"></div>
<div id="wrap">
  <div id="header">
    <h1><a href="http://hiying.net/">黑鹰</a></h1>
    <h3>记录生命，关注技术和美女</h3>
	<div class="clear"></div>
  </div>
<div class="clear"></div>

  <div id="nav">
    	<ul>
			<li class="common"><a href="http://hiying.net/" >首页</a></li>
			<li class="common"><a href="http://hiying.net/t" >微语</a></li>
			<li class="common"><a href="http://hiying.net/admin" >登录</a></li>
		</ul>
      <div class="clear"></div>
  </div><!-- end #nav-->
<div id="content">
<div id="contentleft">
	<h2 id="blog_title">SWIFT API 使用文档</h2>
	<div id="blog_info">
			<span class="author"><a href="http://hiying.net/author/1" title="黑鹰，山东人士，出生于上世纪七十年代末的农村，现居深圳。 825211@qq.com">黑鹰</a></span>			<span class="date">2013-06-05 22:38</span>
					<span class="sort"><a href="http://hiying.net/sort/python">Python</a></span>
								</div>
	<p align="center" style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">SWIFT API 使用文档</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><strong>1、</strong><strong>背景知识</strong></p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">OpenStack Object Storage (Swift) 是用来创建冗余的、可扩展的对象存储（引擎）的开源软件。 swift使用标准化的服务器存储 PB 级的访问数据。它并不是文件系统或者实时的数据存储系统 ，而是一个用于存储永久类型的静态数据的长期存储系统 ，这些数据可以检索、调整、必要时进行更新。最适合存储的数据类型的首要例子是虚拟机镜像，图片存储，邮件存储，存档备份。因为没有中心单元或者主控结点，swift提供了更强的扩展性、冗余和持久性。</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">OpenStack Object Storage (Swift)使用RESTful API对外提供服务，通过HTTP协议来进行数据间的交互，数据存放在request中。Swift支持单个无文件最大5G，大于5G的文件在客户端切分上传，并上传manifest文件。</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p align="center" style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">图 1-1 SWIFT数据交互</p>
<p align="center" style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><strong>2、</strong><strong>API</strong><strong>使用描述</strong></p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">1）获取token</p>
<table border="1" cellspacing="0" cellpadding="0" style="border:1px solid #c0c0c0;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><tbody><tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口名称：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">获取一个token ID</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -X POST -d '</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">{"auth":</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {"tenantName": “{租户名}”,</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "passwordCredentials": {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "username": “{用户名}”,</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "password": “{用户密码}”}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> }' </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">-H "Content-type: application/json" http://localhost:35357/v2.0/tokens | python -mjson.tool</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">传入参数定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">{"tenantName": “{租户名}”,</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; "passwordCredentials": {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; "username": “{用户名}”,</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; "password": “{用户密码}”}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">返回结果：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">返回的结果比较冗长，请自己在实验环境192.168.0.191上操作，并观察。而需要注意的是其中token的结果：</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">"token": {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; "expires": "2012-09-27T13:41:15Z", </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id": "d8444bd1ab8140ceb136d748eef86647", </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"tenant": {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "description": null, </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"enabled": true, </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id": "e8b18580e5b44cb79b10bd0f7a03bbdc", </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"name": "admin"</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">在以下的接口操作中，都需要从该token中获取它的id，以及其对应租户（tenant）的id。</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">协议：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">http</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">示例：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -X POST -d '{"auth": {"tenantName": "admin", "passwordCredentials":{"username": "admin", "password": "pengchao"}}}' -H "Content-type: application/json" http://192.168.0.191:35357/v2.0/tokens | python -mjson.tool</pre></td>
</tr>
</tbody>
</table>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">2）容器列表</p>
<table border="1" cellspacing="0" cellpadding="0" style="border:1px solid #c0c0c0;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><tbody><tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口名称：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">获取容器列表</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://localhost:8080/v1/AUTH_{Tenant_id} \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -X GET \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -H "X-Auth-Token: { Token_id}"</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">传入参数定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Tenant_id：租户id</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Token_id：租户对应的token的id</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">返回结果：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;">&nbsp;</td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">协议：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">http</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">示例：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://192.168.0.191:8080/v1/AUTH_e8b18580e5b44cb79b10bd0f7a03bbdc -X GET -H "X-Auth-Token: 22ec6a37ed6b4b23a435e6b9050f21a4"</pre></td>
</tr>
</tbody>
</table>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">3）创建容器</p>
<table border="1" cellspacing="0" cellpadding="0" style="border:1px solid #c0c0c0;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><tbody><tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口名称：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">创建容器</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://localhost:8080/v1/AUTH_{Tenant_id}/{Container_name} \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -X PUT \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -H "X-Auth-Token: { Token_id}"</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">传入参数定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Tenant_id：租户id</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Container_name: 所创建的容器名称</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Token_id：租户对应的token的id</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">返回结果：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">如果创建成功，返回“201 Created”</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">协议：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">http</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">示例：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://192.168.0.191:8080/v1/AUTH_e8b18580e5b44cb79b10bd0f7a03bbdc -X GET -H "X-Auth-Token: 22ec6a37ed6b4b23a435e6b9050f21a4"</pre></td>
</tr>
</tbody>
</table>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">4）删除容器</p>
<table border="1" cellspacing="0" cellpadding="0" style="border:1px solid #c0c0c0;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><tbody><tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口名称：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">删除容器</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://localhost:8080/v1/AUTH_{Tenant_id}/{Container_name} \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -X DELETE \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -H "X-Auth-Token: { Token_id}"</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">传入参数定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Tenant_id：租户id</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Container_name: 所删除的容器名称</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Token_id：租户对应的token的id</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">返回结果：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">如果删除成功，什么也没返回。可以使用列出容器的api验证。</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">协议：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">http</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">示例：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://192.168.0.191:8080/v1/AUTH_e8b18580e5b44cb79b10bd0f7a03bbdc/my_container -X DELETE -H "X-Auth-Token: 22ec6a37ed6b4b23a435e6b9050f21a4"</pre></td>
</tr>
</tbody>
</table>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">5）列出对象</p>
<table border="1" cellspacing="0" cellpadding="0" style="border:1px solid #c0c0c0;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><tbody><tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口名称：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">列出容器对象</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://localhost:8080/v1/AUTH_{Tenant_id}/{Container_name}[?parm=value] \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -X GET \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -H "X-Auth-Token: { Token_id}"</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">传入参数定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Tenant_id：租户id</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Container_name: 容器名称</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Token_id：租户对应的token的id</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">返回结果：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">协议：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">http</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">示例：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http192.168.0.191:8080/v1/AUTH_AUTH_e8b18580e5b44cb79b10bd0f7a03bbdc/my_container?format=json -X GET -H "X-Auth-Token: 22ec6a37ed6b4b23a435e6b9050f21a4" | python -mjson.tool</pre></td>
</tr>
</tbody>
</table>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">6）创建对象</p>
<table border="1" cellspacing="0" cellpadding="0" style="border:1px solid #c0c0c0;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><tbody><tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口名称：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">创建对象</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl –X PUT -i \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp; -H "X-Auth-Token: { Token_id}" \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp; -T {obj_path} \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp; http://localhost:8080/v1/AUTH_{Tenant_id}/{Container_name}/{obj_name}</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">传入参数定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Tenant_id：租户id</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Obj_path：对象的完整路径</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">obj_name：对象名称</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Container_name: 容器名称</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Token_id：租户对应的token的id</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">返回结果：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&lt;html&gt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> &lt;head&gt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp; &lt;title&gt;201 Created&lt;/title&gt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> &lt;/head&gt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> &lt;body&gt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp; &lt;h1&gt;201 Created&lt;/h1&gt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp; &lt;br /&gt;&lt;br /&gt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> &lt;/body&gt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&lt;/html&gt;</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">协议：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">http</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">示例：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -X PUT -i -H "X-Auth-Token: 22ec6a37ed6b4b23a435e6b9050f21a4" -T ufw.log&nbsp; http://192.168.0.191:8080/v1/AUTH_e8b18580e5b44cb79b10bd0f7a03bbdc/my_container/ufw.log</pre></td>
</tr>
</tbody>
</table>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">7）删除对象</p>
<table border="1" cellspacing="0" cellpadding="0" style="border:1px solid #c0c0c0;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><tbody><tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口名称：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">删除对象</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">接口定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://localhost:8080/v1/AUTH_{Tenant_id}/{Container_id}/{object_name} \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -X DELETE \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">&nbsp;&nbsp;&nbsp;&nbsp; -H "X-Auth-Token: { Token_id}"</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">传入参数定义：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Tenant_id：租户id</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Obj_name：对象名称</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Container_name: 所删除的容器名称</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">Token_id：租户对应的token的id</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">返回结果：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">无返回</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">协议：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">http</pre></td>
</tr>
<tr><td valign="top" width="109" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><p style="margin:10px auto;">示例：</p>
</td>
<td valign="top" width="459" style="color:#454545;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;border:1px solid #c0c0c0;border-collapse:collapse;padding:3px;word-break:normal !important;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">curl -s http://192.168.0.191:8080/v1/AUTH_e8b18580e5b44cb79b10bd0f7a03bbdc/my_container/history24 -X DELETE -H "X-Auth-Token: 22ec6a37ed6b4b23a435e6b9050f21a4"</pre></td>
</tr>
</tbody>
</table>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><strong>3、</strong><strong>实例：使用</strong><strong>Python</strong><strong>实现</strong></p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">3.1、前提条件</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">由于数据是存放在request中，为了方便，先构造request，使用python（urllib2）代码实现如下：</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param：server_api&nbsp; 根据需要定义的rest url</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param：autho_token 管理员token</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param：send_data 需要发送的数据</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param：method 定义的方法【GET、PUT、DELETE、POST】，默认是POST</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def get_server_request(server_api=None, auth_token=None, send_data=None, method=None):</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_api:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_request = urllib2.Request(server_api)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_request.add_header('Content-Type', 'application/json;charset=utf8')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_request.add_header('Accept', 'application/json')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_request.add_header('User-Agent', 'python-mikeyp')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if auth_token:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request.add_header('X-Auth-Token', auth_token)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if send_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request.add_data(send_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if method:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request.get_method = lambda: method</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; return server_request</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><strong>1）</strong>获取keystone认证，进行任何CURD操作，都需要从keystone中获取管理员的租户ID和管理员的token，用Python代码实现如下：</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param：user_name 管理员</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param：password 管理员密码</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param：tenant_name 管理员对应的租户名称</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def get_keystone_token(user_name=None, password=None, tenant_name=None):</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_api = get_Keystone_Endpoint() + 'tokens'</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; send_data = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if user_name and password and tenant_name:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; send_data = {'auth': {'tenantName': tenant_name, 'passwordCredentials': \</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {'username': user_name, 'password': password}}}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not send_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_request = get_server_request(server_api, None, json.dumps(send_data), None)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; try:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_response = urllib2.urlopen(server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receiver_data = server_response.read()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if receiver_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data = json.loads(receiver_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; token = data['access']['token']['id']</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tenant_id = data['access']['token']['tenant']['id']</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return (tenant_id, token)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; except Exception:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return None</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">3.2、主要功能实现</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">以下的代码都能单独使用，实现的关键在于对request操作，实现如下：</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">server_response = urllib2.urlopen(server_request)</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">1）列出容器</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''列出swift容器列表</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@type:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@return:"count","bytes","name"</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@rtype:json</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def Container_list():</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_api = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if tenant_id:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_api = untils.get_Swift_Endpoint() + tenant_id</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_api:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.error('Container_list server_api: %s.' % server_api)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; try:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request = untils.get_server_request(server_api, token)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Container_list server_request: %s.' % server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_response = urllib2.urlopen(server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Container_list server_response: %s.' % server_response)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receiver_data = server_response.read()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if receiver_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data = json.loads(receiver_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; con_list = []</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for d in data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; con_list.append(d['name'])</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return con_list</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; except Exception:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.critical('Container_list function caught an exception.')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(False, True)</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">2）创建容器&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''创建一个容器</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@type:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@return:"count","bytes","name"</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@rtype:json</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def Container_create(name=None):</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_api = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if tenant_id:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_api = untils.get_Swift_Endpoint() + tenant_id + "/" + name</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_api:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.error('Container_create server_api: %s.' % server_api)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; try:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request = untils.get_server_request(server_api, token, None, "PUT")</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Container_create server_request: %s.' % server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_response = urllib2.urlopen(server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Container_create server_response: %s.' % server_response)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receiver_data = server_response.read()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if receiver_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data = json.dumps(receiver_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False, data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; except Exception:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.critical('Container_create function caught an exception.')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(False, True)</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">3）删除容器</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''删除一个容器</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@type:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@return:"count","bytes","name"</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@rtype:json</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def Container_delete(con_name=None):</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if con_name not in Container_list():</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; obj_list= Object_list(con_name)[0]</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if obj_list:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info("the contaniner is not empty!")</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for obj in obj_list:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Object_delete(con_name,obj)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_api = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if tenant_id:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_api = untils.get_Swift_Endpoint() + tenant_id + "/" + con_name</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_api:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.error('Container_delete server_api: %s.' % server_api)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; try:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request = untils.get_server_request(server_api, token, None, "DELETE")</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Container_delete server_request: %s.' % server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_response = urllib2.urlopen(server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Container_delete server_response: %s.' % server_response)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receiver_data = server_response.read()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if receiver_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data = json.dumps(receiver_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False, data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; except Exception:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.critical('Container_delete function caught an exception.')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(False, True)</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">4）列出对象</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''列出swift某容器的对象列表</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param container_name:容器名称</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@type:char</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@return:"bytes","last_modified","hash","name","content_type"</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@rtype:json</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def Object_list(container_name=None):</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_api = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if tenant_id:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_api = untils.get_Swift_Endpoint() + tenant_id + "/" + container_name</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_api:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.error('Object_list server_api: %s.' % server_api)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; try:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request = untils.get_server_request(server_api, token)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Object_list server_request: %s.' % server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_response = urllib2.urlopen(server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;api_logger.info('Object_list server_response: %s.' % server_response)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receiver_data = server_response.read()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if receiver_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data = json.loads(receiver_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c_l = []</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for d in data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c_l.append(d['name'])</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False, c_l)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; except Exception:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.critical('Object_list function caught an exception.')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(False, True)</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">5）上传对象</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''在一个容器内创建、上传一个对象</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param container_name:容器名称</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param file_name:对象名称</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@type:char</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@return:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@rtype:json</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def Object_upload(container_name=None, obj_path=None, obj_name=None):</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; send_data = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; obj_full_path = os.path.join(obj_path, obj_name)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; with open(obj_full_path) as obj:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; send_data = json.dumps(obj.read())</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_api = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if tenant_id:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_api = untils.get_Swift_Endpoint() + tenant_id + "/" + container_name + "/" + obj_name</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_api:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;api_logger.error('Object_upload server_api: %s.' % server_api)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; try:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request = untils.get_server_request(server_api, token, send_data, 'PUT')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Object_upload server_request: %s.' % server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_response = urllib2.urlopen(server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Object_upload server_response: %s.' % server_response)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receiver_data = server_response.read().strip()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if receiver_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data = json.dumps(receiver_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False, data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;except Exception:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.critical('Object_upload function caught an exception.')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(False, True)</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">6）下载对象</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''从容器下载一个对象</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param container_name:容器名称</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param file_name:对象名称</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@type:char</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@return:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@rtype:json</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def Object_download(container_name=None, obj_path=None, obj_name=None):</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_api = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if tenant_id:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_api = untils.get_Swift_Endpoint() + tenant_id + "/" + container_name + "/" + obj_name</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_api:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.error('Object_download server_api: %s.' % server_api)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; try:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request = untils.get_server_request(server_api, token)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Object_download server_request: %s.' % server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_response = urllib2.urlopen(server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Object_download server_response: %s.' % server_response)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receiver_data = server_response.read()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if receiver_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; obj_full_path = os.path.join(obj_path, obj_name)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with open(obj_full_path, "wb") as code:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; code.write(receiver_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; except Exception:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.critical('Object_download function caught an exception.')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(False, True)</pre><p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">7）删除对象</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''从容器删除一个对象</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param container_name:容器名称</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@param file_name:对象名称</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@type:char</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@return:</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">@rtype:json</p>
<p style="line-height:19px;margin:10px auto;color:#4b4b4b;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">'''</p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">def Object_delete(container_name=None, obj_name=None):</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; server_api = None</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if tenant_id:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_api = untils.get_Swift_Endpoint() + tenant_id + "/" + container_name + "/" + obj_name</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; if not server_api:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.error('Object_delete server_api: %s.' % server_api)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; try:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_request = untils.get_server_request(server_api, token, None, 'DELETE')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Object_delete server_request: %s.' % server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not server_request:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_response = urllib2.urlopen(server_request)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.info('Object_delete server_response: %s.' % server_response)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receiver_data = server_response.read()</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if receiver_data:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data = json.dumps(receiver_data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False, data)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(True, False)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp; except Exception:</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_logger.critical('Object_delete function caught an exception.')</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return untils.rest_result(False, True)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;color:#4b4b4b;font-size:13px;line-height:19px;"><a href="http://www.cnblogs.com/lxguidu/archive/2013/04/25/3042137.html">http://www.cnblogs.com/lxguidu/archive/2013/04/25/3042137.html</a></pre>	<div id="related_log" style="font-size:12px"><p><b>相关日志：</b></p><p><a href="http://hiying.net/post-46.html">从swift-init main start 开始看swift代码</a></p></div>	<div class="nextlog">
	<a href="http://hiying.net/post-46.html" class="prev">&nbsp;从swift-init main start 开始看swift代码</a><a href="http://hiying.net/post-44.html" class="next">&nbsp;Openstack api 使用方法</a>
</div>
				    <div id="pagenavi">
	        </div>
		<div style="clear:both;"></div>
</div><!--end #contentleft-->
<ul id="sidebar">
	<li>
	<h3><span>分类</span></h3>
	<ul id="blogsort">
		<li>
	<a href="http://hiying.net/sort/life">人生感悟(1)</a>
	<a href="http://hiying.net/rss.php?sort=1"><img src="http://hiying.net/content/templates/Vigour/images/rss.png" alt="订阅该分类"/></a>
	</li>
		<li>
	<a href="http://hiying.net/sort/mysql">Mysql数据库(0)</a>
	<a href="http://hiying.net/rss.php?sort=2"><img src="http://hiying.net/content/templates/Vigour/images/rss.png" alt="订阅该分类"/></a>
	</li>
		<li>
	<a href="http://hiying.net/sort/python">Python(2)</a>
	<a href="http://hiying.net/rss.php?sort=3"><img src="http://hiying.net/content/templates/Vigour/images/rss.png" alt="订阅该分类"/></a>
	</li>
		<li>
	<a href="http://hiying.net/sort/hot">热点(4)</a>
	<a href="http://hiying.net/rss.php?sort=5"><img src="http://hiying.net/content/templates/Vigour/images/rss.png" alt="订阅该分类"/></a>
	</li>
		<li>
	<a href="http://hiying.net/sort/php">PHP技巧(0)</a>
	<a href="http://hiying.net/rss.php?sort=6"><img src="http://hiying.net/content/templates/Vigour/images/rss.png" alt="订阅该分类"/></a>
	</li>
		<li>
	<a href="http://hiying.net/sort/it">综合技术(0)</a>
	<a href="http://hiying.net/rss.php?sort=7"><img src="http://hiying.net/content/templates/Vigour/images/rss.png" alt="订阅该分类"/></a>
	</li>
		</ul>
	</li>
	<li>
	<h3><span> </span></h3>
	<ul>
	<script type="text/javascript"><!--
google_ad_client = "ca-pub-1476599646217916";
/* 200-200 */
google_ad_slot = "4454763468";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>	</ul>
	</li>
	<li>
	<h3><span>搜索</span></h3>
	<ul id="logserch">
	<form name="keyform" method="get" action="http://hiying.net/index.php">
	<input name="keyword" class="search" type="text" />
	</form>
	</ul>
	</li>
	<li>
	<h3><span>最新评论</span></h3>
	<ul id="newcomment">
		</ul>
	</li>
	<li>
	<h3><span>链接</span></h3>
	<ul id="link">
		<li><a href="http://guitar.tradeant.com/" title="free study guitar" target="_blank">The Guitar Library</a></li>
		<li><a href="http://www.reeai.com" title="爱时尚、爱生活、热爱你的热爱！" target="_blank">热爱网</a></li>
		<li><a href="http://www.gamemm.net" title="" target="_blank">时尚生活@游戏人生</a></li>
		<li><a href="http://www.ruanyifeng.com" title="阮一峰的网络日志" target="_blank">阮一峰的网络日志</a></li>
		<li><a href="http://www.alidba.net/" title="Alibaba DBA Team" target="_blank">Alibaba DBA Team</a></li>
		<li><a href="http://www.netpigp.com/" title="网络猪屁" target="_blank">网络猪屁</a></li>
		<li><a href="http://coolshell.cn/" title="" target="_blank">酷壳</a></li>
		<li><a href="http://www.erevus.tk/" title="" target="_blank">小E的博客</a></li>
		<li><a href="http://blogold.chinaunix.net/u3/111930/index.php" title="新时代海怪的窝" target="_blank">新时代海怪的窝</a></li>
		<li><a href="http://blog.longwin.com.tw/" title="Tsung's Blog" target="_blank">Tsung's Blog</a></li>
		<li><a href="http://fengzhiyi.tk" title="风之翼博客" target="_blank">风之翼博客</a></li>
		<li><a href="http://www.cnblogs.com/lisperl/" title="" target="_blank">芥子须弥</a></li>
		</ul>
	</li>
</ul><!--end #siderbar-->
</div><!--end #content-->
<div style="clear:both;"></div>
<div id="footerbar">
&copy; 2009 黑鹰 all rights reserved. Powered by <a href="http://www.emlog.net" title="emlog 5.2.1">emlog</a><script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fe44a5d12da84b7bddf0ed343be130a60' type='text/javascript'%3E%3C/script%3E"));
</script>  </div><!--end #footerbar-->
</div><!--end #wrap-->
</body>
</html>