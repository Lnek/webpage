<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>  WebOb的简单介绍</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	<link rel="pingback" href="http://bingotree.cn/xmlrpc.php" />
	<link rel="alternate" type="application/rss+xml" title="bingotree &raquo; Feed" href="http://bingotree.cn/?feed=rss2" />
<link rel="alternate" type="application/rss+xml" title="bingotree &raquo; 评论Feed" href="http://bingotree.cn/?feed=comments-rss2" />
<link rel="alternate" type="application/rss+xml" title="bingotree &raquo; WebOb的简单介绍评论Feed" href="http://bingotree.cn/?feed=rss2&#038;p=109" />
<link rel='stylesheet' id='flat-template-css'  href='http://bingotree.cn/wp-content/themes/flat/assets/css/template.css?ver=1.3.7' type='text/css' media='all' />
<link rel='stylesheet' id='flat-style-css'  href='http://bingotree.cn/wp-content/themes/flat/style.css?ver=1.3.7' type='text/css' media='all' />
<script type='text/javascript' src='http://bingotree.cn/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://bingotree.cn/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://bingotree.cn/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://bingotree.cn/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='如何使用Paste.Deploy' href='http://bingotree.cn/?p=100' />
<link rel='next' title='Routes的简单介绍' href='http://bingotree.cn/?p=115' />
<meta name="generator" content="WordPress 4.0.1" />
<link rel='canonical' href='http://bingotree.cn/?p=109' />
<link rel='shortlink' href='http://bingotree.cn/?p=109' />
<!--[if lt IE 9]>
<script src="http://bingotree.cn/wp-content/themes/flat/assets/js/html5shiv.js"></script>
<script src="http://bingotree.cn/wp-content/themes/flat/assets/js/respond.min.js"></script>
<![endif]-->
<style type="text/css">#page:before, .sidebar-offcanvas, #secondary { background-color: #333; }@media (max-width: 1199px) { #page > .container { background-color: #333; } }body { background-size: cover; }</style>	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css" id="custom-background-css">
body.custom-background { background-image: url('http://115.29.7.234/wp-content/themes/flat/assets/img/default-background.jpg'); background-repeat: repeat; background-position: top left; background-attachment: fixed; }
</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="single single-post postid-109 single-format-standard custom-background">
<div id="page">
	<div class="container">
		<div class="row row-offcanvas row-offcanvas-left">
			<div id="secondary" class="col-lg-3">
				<header id="masthead" class="site-header" role="banner">
					<div class="hgroup">
						<h1 class="site-title display-title"><a href="http://bingotree.cn/" title="bingotree" rel="home">bingotree</a></h1><h2 class="site-description">Pauca sed matura --- Carl Friedrich Gauss</h2>					</div>
					<button type="button" class="btn btn-link hidden-lg toggle-sidebar" data-toggle="offcanvas"><i class="fa fa-gear"></i></button>
					<button type="button" class="btn btn-link hidden-lg toggle-navigation"><i class="fa fa-bars"></i></button>
					<nav id="site-navigation" class="navigation main-navigation" role="navigation">
						<ul id="menu-bingotree" class="nav-menu"><li id="menu-item-12" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12"><a href="http://bingotree.cn/?cat=2">DB2</a></li>
<li id="menu-item-13" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-13"><a href="http://bingotree.cn/?cat=4">Openstack</a></li>
<li id="menu-item-14" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-14"><a href="http://bingotree.cn/?cat=6">Python</a>
<ul class="sub-menu">
	<li id="menu-item-521" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-521"><a href="http://bingotree.cn/?cat=25">eventlet</a></li>
	<li id="menu-item-571" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-571"><a href="http://bingotree.cn/?cat=27">自动化测试</a></li>
	<li id="menu-item-522" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-522"><a href="http://bingotree.cn/?cat=26">语言本身&#038;工具模块</a></li>
</ul>
</li>
<li id="menu-item-15" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-15"><a href="http://bingotree.cn/?cat=9">TSM</a></li>
<li id="menu-item-502" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-502"><a href="http://bingotree.cn/?cat=23">MySQL</a></li>
<li id="menu-item-17" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-17"><a href="http://bingotree.cn/?cat=3">Hypervisor</a></li>
<li id="menu-item-438" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-438"><a href="http://bingotree.cn/?cat=21">Storage &#038; IO</a></li>
<li id="menu-item-24" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-24"><a href="http://bingotree.cn/?cat=5">Others</a>
<ul class="sub-menu">
	<li id="menu-item-301" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-301"><a href="http://bingotree.cn/?cat=18">Smart Cloud Orchestrator</a></li>
	<li id="menu-item-284" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-284"><a href="http://bingotree.cn/?cat=17">Chef &#038; Puppet</a></li>
	<li id="menu-item-27" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-27"><a href="http://bingotree.cn/?cat=8">TSAM &#038; RSCT</a></li>
	<li id="menu-item-321" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-321"><a href="http://bingotree.cn/?cat=20">Bash Shell</a></li>
	<li id="menu-item-447" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-447"><a href="http://bingotree.cn/?cat=22">Socks Server &#038; VPN &#038; Proxy</a></li>
	<li id="menu-item-26" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-26"><a href="http://bingotree.cn/?cat=12">Linux</a></li>
	<li id="menu-item-162" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-162"><a href="http://bingotree.cn/?cat=15">GIT</a></li>
	<li id="menu-item-25" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-25"><a href="http://bingotree.cn/?cat=11">ITM</a></li>
	<li id="menu-item-176" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-176"><a href="http://bingotree.cn/?cat=16">Security</a></li>
</ul>
</li>
<li id="menu-item-23" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-23"><a href="http://bingotree.cn/?cat=10">TU CAO</a></li>
<li id="menu-item-314" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-314"><a href="http://bingotree.cn/?cat=19">PROJECTS &#038; SCRIPTS</a></li>
<li id="menu-item-56" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-56"><a href="http://bingotree.cn/?cat=7">TODO</a></li>
<li id="menu-item-16" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16"><a href="http://bingotree.cn/?page_id=10">About Me</a></li>
</ul>					</nav>
				</header>
				
				<div class="sidebar-offcanvas">
					<div id="main-sidebar" class="widget-area" role="complementary">
	<aside id="search-2" class="widget widget_search">	<form method="get" id="searchform" action="http://bingotree.cn/">
		<label for="s" class="assistive-text">Search</label>
		<input type="text" class="field" name="s" id="s" placeholder="Search" />
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search" />
	</form>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">近期文章</h3>		<ul>
					<li>
				<a href="http://bingotree.cn/?p=577">使用mock模块来帮助python测试</a>
						</li>
					<li>
				<a href="http://bingotree.cn/?p=569">Python中的导入</a>
						</li>
					<li>
				<a href="http://bingotree.cn/?p=567">如何参与开源项目</a>
						</li>
					<li>
				<a href="http://bingotree.cn/?p=564">KVM动态迁移测试注意点及命令</a>
						</li>
					<li>
				<a href="http://bingotree.cn/?p=562">KVM学习笔记总结</a>
						</li>
				</ul>
		</aside><aside id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widget-title">近期评论</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">thuanqin</span>发表在《<a href="http://bingotree.cn/?p=577#comment-4688">使用mock模块来帮助python测试</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href='http://mytrix.me' rel='external nofollow' class='url'>MatheMatrix</a></span>发表在《<a href="http://bingotree.cn/?p=204#comment-4687">kombu的学习</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href='http://mytrix.me' rel='external nofollow' class='url'>MatheMatrix</a></span>发表在《<a href="http://bingotree.cn/?p=577#comment-4686">使用mock模块来帮助python测试</a>》</li><li class="recentcomments"><span class="comment-author-link">thuanqin</span>发表在《<a href="http://bingotree.cn/?page_id=10#comment-4512">About Me</a>》</li><li class="recentcomments"><span class="comment-author-link">thuanqin</span>发表在《<a href="http://bingotree.cn/?p=204#comment-4511">kombu的学习</a>》</li></ul></aside></div>				</div>
			</div>
			<div id="primary" class="content-area col-lg-9">
			<div id="content" class="site-content" role="main">

			
				<article id="post-109" class="post-109 post type-post status-publish format-standard hentry category-python category-26">
	<header class="entry-header">
		<h1 class="entry-title">WebOb的简单介绍</h1>
          <div class="entry-meta"><span class="entry-date"><a href="http://bingotree.cn/?p=109" rel="bookmark"><time class="entry-date" datetime="2014-04-13T21:14:07+00:00">2014年4月13日</time></a></span> by <span class="byline"><span class="author vcard"><a class="url fn n" href="http://bingotree.cn/?author=1" rel="author">thuanqin</a></span></span><span class="sep">&middot;</span><a href="http://bingotree.cn/?p=109#respond" title="《WebOb的简单介绍》上的评论">0 Comment</a><span class="comments-link"></span></div>
    	</header>
		
	<div class="entry-content">
		<p>在之前的文章中我写了有关于如何使用PasteDeploy生成WSGI的Application。在Openstack的源码中，除了PasteDeploy外，还有一个和WSGI密切相关的工具包WebOb。这篇文章就来讲讲这个WebOb。官网在这：http://webob.org/</p>
<p>简单的说，WebOb是一个用于对WSGI request环境进行包装（也就是变得易用）以及<span id="more-109"></span>用于创建WSGI response的一个包。</p>
<p>1.Request<br />
webob.Request是WebOb中的一个重要对象。其会的对WSGI的environ(就是传递给WSGI APP的那个参数)参数进行封装。<br />
一个简单的例子：</p>
<pre class="brush: python; title: ; notranslate" title="">
from webob import Request

req = Request.blank('/article?id=1')
from pprint import pprint
pprint(req.environ)
</pre>
<p>输出：</p>
<pre class="brush: plain; title: ; notranslate" title="">
[root@OS_DEV dev]# python webobtest.py
{'HTTP_HOST': 'localhost:80',
 'PATH_INFO': '/article',
 'QUERY_STRING': 'id=1',
 'REQUEST_METHOD': 'GET',
 'SCRIPT_NAME': '',
 'SERVER_NAME': 'localhost',
 'SERVER_PORT': '80',
 'SERVER_PROTOCOL': 'HTTP/1.0',
 'wsgi.errors': &lt;open file '&lt;stderr&gt;', mode 'w' at 0x7f83c59d21e0&gt;,
 'wsgi.input': &lt;io.BytesIO object at 0x7f83c592b590&gt;,
 'wsgi.multiprocess': False,
 'wsgi.multithread': False,
 'wsgi.run_once': False,
 'wsgi.url_scheme': 'http',
 'wsgi.version': (1, 0)}
</pre>
<p>既然是request，那么必然有个body，并且也有request的方法（GET？POST？DELETE？），所以文档里有这么个例子：</p>
<pre class="brush: plain; title: ; notranslate" title="">
&gt;&gt;&gt; hasattr(req.body_file, 'read')
True
&gt;&gt;&gt; req.body
''
&gt;&gt;&gt; req.method = 'PUT'
&gt;&gt;&gt; req.body = 'test'
&gt;&gt;&gt; hasattr(req.body_file, 'read')
True
&gt;&gt;&gt; req.body
'test'
</pre>
<p>对request请求头部的操作如下:</p>
<pre class="brush: plain; title: ; notranslate" title="">
&gt;&gt;&gt; req.headers['Content-Type'] = 'application/x-www-urlencoded'
&gt;&gt;&gt; sorted(req.headers.items())
[('Content-Length', '4'), ('Content-Type', 'application/x-www-urlencoded'), ('Host', 'localhost:80')]
&gt;&gt;&gt; req.environ['CONTENT_TYPE']
'application/x-www-urlencoded'
</pre>
<p>对请求参数的处理如下：</p>
<pre class="brush: plain; title: ; notranslate" title="">
&gt;&gt;&gt; req = Request.blank('/test?check=a&amp;check=b&amp;name=Bob')
&gt;&gt;&gt; req.GET
MultiDict([(u'check', u'a'), (u'check', u'b'), (u'name', u'Bob')])
&gt;&gt;&gt; req.GET['check']
u'b'
&gt;&gt;&gt; req.GET.getall('check')
[u'a', u'b']
&gt;&gt;&gt; req.GET.items()
[(u'check', u'a'), (u'check', u'b'), (u'name', u'Bob')]
</pre>
<p>下面这个是比较常见的查看参数的方法：</p>
<pre class="brush: plain; title: ; notranslate" title="">
&gt;&gt;&gt; req.params
NestedMultiDict([(u'check', u'a'), (u'check', u'b'), (u'name', u'Bob'), (u'name', u'Joe'), (u'email', u'joe@example.com')])
&gt;&gt;&gt; req.params['name']
u'Bob'
&gt;&gt;&gt; req.params.getall('name')
[u'Bob', u'Joe']
&gt;&gt;&gt; for name, value in req.params.items():
...     print '%s: %r' % (name, value)
check: u'a'
check: u'b'
name: u'Bob'
name: u'Joe'
email: u'joe@example.com'
</pre>
<p>一个把request传递给WSGI应用的例子：</p>
<pre class="brush: python; title: ; notranslate" title="">
from webob import Request

req = Request.blank('/')

def wsgi_app(environ, start_response):
    start_response('200 OK', [('Content-type', 'text/plain')])
    return ['Hi!']

print req.call_application(wsgi_app)
</pre>
<p>输出：</p>
<pre class="brush: plain; title: ; notranslate" title="">
[root@OS_DEV dev]# python webobtest.py
('200 OK', [('Content-type', 'text/plain')], ['Hi!'])
</pre>
<p>2.Response<br />
webob.Response包含了标准WSGI response的所有要素。其本身也可以看成是一个WSGI的application。你可以通过req.call_application(res)对其调用。</p>
<p>最简单的例子如下：</p>
<pre class="brush: plain; title: ; notranslate" title="">
&gt;&gt;&gt; from webob import Response
&gt;&gt;&gt; res = Response()
&gt;&gt;&gt; res.status
'200 OK'
&gt;&gt;&gt; res.headerlist
[('Content-Type', 'text/html; charset=UTF-8'), ('Content-Length', '0')]
&gt;&gt;&gt; res.body
''
</pre>
<p>如何写入body：</p>
<pre class="brush: plain; title: ; notranslate" title="">
&gt;&gt;&gt; res = Response(content_type='text/plain', charset=None)
&gt;&gt;&gt; f = res.body_file
&gt;&gt;&gt; f.write('hey')
&gt;&gt;&gt; f.write(u'test')
Traceback (most recent call last):
  . . .
TypeError: You can only write unicode to Response if charset has been set
&gt;&gt;&gt; f.encoding
&gt;&gt;&gt; res.charset = 'utf8'
&gt;&gt;&gt; f.encoding
'utf8'
&gt;&gt;&gt; f.write(u'test')
&gt;&gt;&gt; res.app_iter
['', 'hey', 'test']
&gt;&gt;&gt; res.body
'heytest'
</pre>
<p>注意下这个例子，这个例子把普通的WSGI的应用通过Request和Response做了一个简单的包装，虽然没有太大的修改，但对于之后使用装饰器的情况来说，是个不错的例子：</p>
<pre class="brush: python; title: ; notranslate" title="">
&gt;&gt;&gt; def my_app(environ, start_response):
...     req = Request(environ)
...     res = Response()
...     res.content_type = 'text/plain'
...     parts = []
...     for name, value in sorted(req.environ.items()):
...         parts.append('%s: %r' % (name, value))
...     res.body = 'n'.join(parts)
...     return res(environ, start_response)
&gt;&gt;&gt; req = Request.blank('/')
&gt;&gt;&gt; res = req.get_response(my_app)
&gt;&gt;&gt; print res
200 OK
Content-Type: text/plain; charset=UTF-8
Content-Length: ...

HTTP_HOST: 'localhost:80'
PATH_INFO: '/'
QUERY_STRING: ''
REQUEST_METHOD: 'GET'
SCRIPT_NAME: ''
SERVER_NAME: 'localhost'
SERVER_PORT: '80'
SERVER_PROTOCOL: 'HTTP/1.0'
wsgi.errors: &lt;open file '&lt;stderr&gt;', mode 'w' at ...&gt;
wsgi.input: &lt;...IO... object at ...&gt;
wsgi.multiprocess: False
wsgi.multithread: False
wsgi.run_once: False
wsgi.url_scheme: 'http'
wsgi.version: (1, 0)
</pre>
<p>3.Exceptions<br />
其实就是对HTTP错误代码的一个封装。也可以看成是一个WSGI的应用。</p>
<p>一个简单的例子：</p>
<pre class="brush: python; title: ; notranslate" title="">
&gt;&gt;&gt; from webob.exc import *
&gt;&gt;&gt; exc = HTTPTemporaryRedirect(location='foo')
&gt;&gt;&gt; req = Request.blank('/path/to/something')
&gt;&gt;&gt; print str(req.get_response(exc)).strip()
307 Temporary Redirect
Location: http://localhost/path/to/foo
Content-Length: 126
Content-Type: text/plain; charset=UTF-8

307 Temporary Redirect

The resource has been moved to http://localhost/path/to/foo; you should be redirected automatically.
</pre>
<p>4. WSGIfy decorator<br />
结合上面的例子，既然WebOb可以让WSGI的请求变得更加简单、强大，那么能不能不用原始的那种WSGI的参数和返回格式，而全部用WebOb替代？可以的，通过WSGIfy decorator这个装饰器。</p>
<p>比如这个最简单的例子：</p>
<pre class="brush: python; title: ; notranslate" title="">
@wsgify
def myfunc(req):
    return webob.Response('hey there')
</pre>
<p>调用的时候有两个选择：</p>
<pre class="brush: python; title: ; notranslate" title="">
app_iter = myfunc(environ, start_response)
</pre>
<p>或：</p>
<pre class="brush: python; title: ; notranslate" title="">
resp = myfunc(req)
</pre>
<p>第一种选择就是最原始和标准的的WSGI格式，第二种选择则是WebOb封装过后的格式。说实话后者看上去更加符合逻辑（给你个请求，给我个响应）。</p>
<p>如果myfanc直接返回一个Exception，那么就会的相当于直接调用Exception这个WebOb的WSGI Application，可以很容易的返回异常页面。</p>
<p>另外也可以对Request进行继承，修改其内容，对真正的Request做一些判断（个人感觉像是在过滤），比如：</p>
<pre class="brush: python; title: ; notranslate" title="">
class MyRequest(webob.Request):
    @property
    def is_local(self):
        return self.remote_addr == '127.0.0.1'
@wsgify(RequestClass=MyRequest)
def myfunc(req):
    if req.is_local:
        return Response('hi!')
    else:
        raise webob.exc.HTTPForbidden
</pre>
<p>需要记住一点：被@wsgify修饰过后的那些func，其Return的是个对Response的调用。</p>
<p>5.总结<br />
总结一下WebOb。既然有人用WebOb，那它必然有它的好用的地方，好用的地方在哪里呢？我个人觉得有两个：一是兼容性好，二是使用简单。<br />
首先先说兼容性吧。之前写过文章介绍过PasteDeploy，后者可以通过标准的配置文件生成WSGI应用。那么通过WebOb写出的WSGI应用是否可以用在这里呢？答案是可以的，上面的装饰器的例子已经介绍了，经过装饰器装饰后的func可以通过标准的WSGI方法去调用。<br />
然后说说使用上的感觉。简单就是好用。其把WSGI的几个参数、返回的方法都封装成了Reqeust、Response这两个对象，同时还提供了一个好用的Exception对象，就这三个对象，记起来也不难，读起来也一看就知道是啥意思，所以说用起来方便。</p>
<p>个人觉得最有代表的例子是这个，一目了然，使人一读就懂。最神奇的是可以通过WSGI标准对其进行调用，写的时候完全可以忘了WSGI标准是啥，同时还能写出兼容WSGI工具（比如PasteDeploy）的代码，真是不错。</p>
<pre class="brush: python; title: ; notranslate" title="">
@wsgify
def myfunc(req):
    return webob.Response('hey there')
</pre>
			</div>

	</article>

				    <nav class="navigation post-navigation" role="navigation">
        <h1 class="screen-reader-text">Post navigation</h1>
        <div class="nav-links">

            <a href="http://bingotree.cn/?p=100" rel="prev"><span class="meta-nav">&larr;</span> 如何使用Paste.Deploy</a>            <a href="http://bingotree.cn/?p=115" rel="next">Routes的简单介绍 <span class="meta-nav">&rarr;</span></a>
        </div>
    </nav>
    
				
<div id="comments" class="comments-area">

	
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/?p=109#respond" style="display:none;">取消回复</a></small></h3>
									<form action="http://bingotree.cn/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
																			<p class="comment-notes">电子邮件地址不会被公开。 必填项已用<span class="required">*</span>标注</p>							<p class="comment-form-author"><label for="author">姓名 <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">电子邮件 <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">站点</label> <input id="url" name="url" type="url" value="" size="30" /></p>
<p>
<label for="mcspvalue">Spam protection: Sum of 1 + 6 ?</label> <span class="required">*</span>
<input id="mcspvalue" name="mcspvalue" type="text" value="" size="30" aria-required="true" />
<input type="hidden" name="mcspinfo" value="9f1ff" />
</p>												<p class="comment-form-comment"><label for="comment">评论</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">您可以使用这些<abbr title="HyperText Markup Language">HTML</abbr>标签和属性： <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="发表评论" />
							<input type='hidden' name='comment_post_ID' value='109' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
											</form>
							</div><!-- #respond -->
			
</div>				
			
			</div>

									<div class="site-info">
												<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>.
						Theme: Flat by <a href="http://www.yoarts.com/" title="Webmaster Tutorials &amp; Resources">YoArts</a>.	
备案号: <a href="http://www.miitbeian.gov.cn/">苏ICP备14017676号-1</a>
					</div><!-- .site-info -->
							</div>
		</div>
	</div>
</div>
<script type="text/javascript"><!--//--><![CDATA[//><!--
var cf = document.getElementById("commentform");
if(cf){
	var msghtml = "<strong>NOTICE:</strong> You should type some Chinese word (like “你好”) in your comment to pass the spam-check, thanks for your patience!";
	if(cf.insertAdjacentHTML){
		cf.insertAdjacentHTML("afterEnd", msghtml);
	}else{/* FireFox */
		var range = cf.ownerDocument.createRange();
		range.setStartAfter(cf);
		var frag = range.createContextualFragment(msghtml);
		cf.parentNode.insertBefore(frag, cf.nextSibling);
	}
}
//--><!]]></script><script type='text/javascript' src='http://bingotree.cn/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://bingotree.cn/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://bingotree.cn/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://bingotree.cn/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://bingotree.cn/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDjango.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '帮助';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = '无法找到Brush：';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush不能设置 html-script选项';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://bingotree.cn/wp-includes/js/comment-reply.min.js?ver=4.0.1'></script>
<script type='text/javascript' src='http://bingotree.cn/wp-content/themes/flat/assets/js/bootstrap-3.1.1.min.js?ver=3.1.1'></script>
<script type='text/javascript' src='http://bingotree.cn/wp-content/themes/flat/assets/js/functions.js?ver=1.3.7'></script>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fe29575ba78b5fa3ce123d20a9a03026c' type='text/javascript'%3E%3C/script%3E"));
</script>
</body>
</html>