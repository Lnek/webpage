<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>16.3. ColorButton and FontButton Widgets</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="PyGTK 2.0 Tutorial"><link rel="up" href="ch-NewInPyGTK2.4.html" title="Chapter 16. New Widgets in PyGTK 2.4"><link rel="prev" href="sec-ComboBoxAndComboboxEntry.html" title="16.2. ComboBox and ComboBoxEntry Widgets"><link rel="next" href="sec-EntryCompletion.html" title="16.4. EntryCompletion Objects"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">16.3. ColorButton and FontButton Widgets</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sec-ComboBoxAndComboboxEntry.html">Prev</a> </td><th width="60%" align="center">Chapter 16. New Widgets in PyGTK 2.4</th><td width="20%" align="right"> <a accesskey="n" href="sec-EntryCompletion.html">Next</a></td></tr></table><hr></div><div class="sect1" title="16.3. ColorButton and FontButton Widgets"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sec-ColorButtonAndFontButton"></a>16.3. ColorButton and FontButton Widgets</h2></div></div></div><div class="sect2" title="16.3.1. ColorButton Widgets"><div class="titlepage"><div><div><h3 class="title"><a name="sec-ColorButton"></a>16.3.1. ColorButton Widgets</h3></div></div></div><p>A <code class="classname">ColorButton</code> widget provides a convenient
way of displaying a color in a button that can be clicked to open a
<code class="classname">ColorSelectionDialog</code>. It's useful for displaying and
setting colors in a user preference dialog. A
<code class="classname">ColorButton</code> takes care of setting up, displaying and
retrieving the result of a <code class="classname">ColorSelectionDialog</code>. A
<code class="classname">ColorButton</code> is created using the constructor:</p><pre class="programlisting">
  colorbutton = gtk.ColorButton(<strong class="parameter"><code>color</code></strong>=gtk.gdk.Color(0,0,0))
</pre><p>The initial color can be specified using the
<em class="parameter"><code>color</code></em> parameter or set later using the method:</p><pre class="programlisting">
  colorbutton.set_color(<strong class="parameter"><code>color</code></strong>)
</pre><p>The title for the <code class="classname">ColorSelectionDialog</code> that
is displayed when the button is clicked can be set and retrieved using the
methods:</p><pre class="programlisting">
  colorbutton.set_title(<strong class="parameter"><code>title</code></strong>)

  title = colorbutton.get_title()
</pre><p>The opacity of the color is set using the alpha channel. The
following methods get and set the color opacity in the range from 0
(transparent) to 65535 (opaque):</p><pre class="programlisting">
  alpha = colorbutton.get_alpha()

  colorbutton.set_alpha(<strong class="parameter"><code>alpha</code></strong>)
</pre><p>By default the alpha is ignored because the "use_alpha" property
is <code class="literal">FALSE</code>.  The value of the "use_alpha" property can be
set and retrieved using the method:</p><pre class="programlisting">
  colorbutton.set_use_alpha(<strong class="parameter"><code>use_alpha</code></strong>)

  use_alpha = colorbutton.get_use_alpha()
</pre><p>If "use_alpha" is <code class="literal">TRUE</code> the
<code class="classname">ColorSelectionDialog</code> displays a slider for setting
the opacity and displays the color using a checkerboard background.</p><p>You can track changes in the selected color by connecting to the
"color-set" signal that is emitted when the user sets the color. The signal
callback signature is:</p><pre class="programlisting">
  def color_set_cb(colorbutton, user_data):
</pre><p>The example program <a class="ulink" href="examples/colorbutton.py" target="_top">colorbutton.py</a> illustrates the use of
a <code class="classname">ColorButton</code>. <a class="xref" href="sec-ColorButtonAndFontButton.html#colorbuttonfig" title="Figure 16.8. ColorButton Example">Figure 16.8, “ColorButton Example”</a> shows
the program in operation.</p><div class="figure"><a name="colorbuttonfig"></a><p class="title"><b>Figure 16.8. ColorButton Example</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="figures/colorbutton.png" align="middle" alt="ColorButton Example"></div></div></div><br class="figure-break"><p></p></div><div class="sect2" title="16.3.2. FontButton Widgets"><div class="titlepage"><div><div><h3 class="title"><a name="sec-FontButton"></a>16.3.2. FontButton Widgets</h3></div></div></div><p>Like the <code class="classname">ColorButton</code>, the
<code class="classname">FontButton</code> is a convenience widget that provides a
display of the currently selected font and, when clicked, opens a
<code class="classname">FontSelectionDialog</code>. A
<code class="classname">FontButton</code> takes care of setting up, displaying and
retrieving the result of a <code class="classname">FontSelectionDialog</code>. A
FontButton is created using the constructor:</p><pre class="programlisting">
  fontbutton = gtk.FontButton(<strong class="parameter"><code>fontname</code></strong>=None)
</pre><p>where <em class="parameter"><code>fontname</code></em> is a string specifying the
current font for the <code class="classname">FontSelectionDialog</code>. For example
the font name can be specified like 'Sans 12', 'Sans Bold 14', or 'Monospace
Italic 14'. You need to specify the font family and size at minimum.</p><p>The current font can also be set and retrieved using the following
methods:</p><pre class="programlisting">
  result = fontbutton.set_font_name(<strong class="parameter"><code>fontname</code></strong>)

  fontname = fontbutton.get_font_name()
</pre><p>where <em class="parameter"><code>result</code></em> returns
<code class="literal">TRUE</code> or <code class="literal">FALSE</code> to indicate whether the
font was successfully set. The <code class="classname">FontButton</code> has a
number of properties and associated methods that affect the display of the
current font in the <code class="classname">FontButton</code>. The "show-size" and
show-style" properties contain boolean values that control whether the font
size and style will be displayed in the button label. The following methods
set and retrieve the value of these properties:</p><pre class="programlisting">
  fontbutton.set_show_style(<strong class="parameter"><code>show_style</code></strong>)
  show_style = fontbutton.get_show_style()

  fontbutton.set_show_size(<strong class="parameter"><code>show_size</code></strong>)
  show_size = fontbutton.get_show_size()
</pre><p>Alternatively, you can have the current font size and style used
by the label to directly illustrate the font selection. The "use-size" and
"use-font" properties and the associated methods:</p><pre class="programlisting">
  fontbutton.set_use_font(<strong class="parameter"><code>use_font</code></strong>)
  use_font = fontbutton.get_use_font()

  fontbutton.set_use_size(<strong class="parameter"><code>use_size</code></strong>)
  use_size = fontbutton.get_use_size()
</pre><p>Using the current font in the label seems like a useful
illustration technique in spite of the inevitable changes in size of the
button but using the selected size doesn't seem as useful especially when
using really large or small font sizes. Note if you set "use-font" or
"use-size" to <code class="literal">TRUE</code> and later set them to
<code class="literal">FALSE</code>, the last set font and size will be retained. For
example, if "use-font" and "use-size" are <code class="literal">TRUE</code> and the
current font is <code class="literal">Monospace Italic 20</code>, the
<code class="classname">FontButton</code> label is displayed using
<code class="literal">Monospace Italic 20</code>; then if "use-font" and "use-size"
are set to <code class="literal">FALSE</code> and then the current font is changed to
<code class="literal">Sans 12</code> the label will still be displayed in
<code class="literal">Monospace Italic 20</code>. Use the example program <a class="ulink" href="examples/fontbutton.py" target="_top">fontbutton.py</a> to see how this
works.</p><p>Finally, the title of the
<code class="classname">FontSelectionDialog</code> can be set and retrieved using
the methods:</p><pre class="programlisting">
  fontbutton.set_title(<strong class="parameter"><code>title</code></strong>)

  title = fontbutton.get_title()
</pre><p>Like the <code class="classname">ColorButton</code>, you can track changes
in the current font by connecting to the "font-set" signal that is emitted
when the user sets the font. The signal callback signature is:</p><pre class="programlisting">
  def font_set_cb(fontbutton, user_data):
</pre><p>The example program <a class="ulink" href="examples/fontbutton.py" target="_top">fontbutton.py</a> illustrates the use of a
<code class="classname">FontButton</code>. You can set the "use-font", "use-size",
"show-size" and "show-style" properties using toggle buttons. <a class="xref" href="sec-ColorButtonAndFontButton.html#fontbuttonfig" title="Figure 16.9. FontButton Example">Figure 16.9, “FontButton Example”</a> shows the program in operation.</p><div class="figure"><a name="fontbuttonfig"></a><p class="title"><b>Figure 16.9. FontButton Example</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="figures/fontbutton.png" align="middle" alt="FontButton Example"></div></div></div><br class="figure-break"><p></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sec-ComboBoxAndComboboxEntry.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch-NewInPyGTK2.4.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="sec-EntryCompletion.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">16.2. ComboBox and ComboBoxEntry Widgets </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 16.4. EntryCompletion Objects</td></tr></table></div></body></html>
