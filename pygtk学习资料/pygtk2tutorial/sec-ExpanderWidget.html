<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>16.5. Expander Widgets</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="PyGTK 2.0 Tutorial"><link rel="up" href="ch-NewInPyGTK2.4.html" title="Chapter 16. New Widgets in PyGTK 2.4"><link rel="prev" href="sec-EntryCompletion.html" title="16.4. EntryCompletion Objects"><link rel="next" href="sec-FileChoosers.html" title="16.6. File Selections using FileChooser-based Widgets"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">16.5. Expander Widgets</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sec-EntryCompletion.html">Prev</a> </td><th width="60%" align="center">Chapter 16. New Widgets in PyGTK 2.4</th><td width="20%" align="right"> <a accesskey="n" href="sec-FileChoosers.html">Next</a></td></tr></table><hr></div><div class="sect1" title="16.5. Expander Widgets"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sec-ExpanderWidget"></a>16.5. Expander Widgets</h2></div></div></div><p>The <code class="classname">Expander</code> widget is a fairly simple
container widget that can reveal or hide its child widget by clicking on a
triangle similar to the triangle in a <code class="classname">TreeView</code>. A new
<code class="classname">Expander</code> is created using the constructor:</p><pre class="programlisting">
  expander = gtk.Expander(<strong class="parameter"><code>label</code></strong>=None)
</pre><p>where <em class="parameter"><code>label</code></em> is a string to be used as the
expander label. If <em class="parameter"><code>label</code></em> is <code class="literal">None</code>
or not specified, no label is created. Alternatively, you can use the
function:</p><pre class="programlisting">
  expander = gtk.expander_new_with_mnemonic(<strong class="parameter"><code>label</code></strong>=None)
</pre><p>that sets the character in label preceded by an underscore as a
mnemonic keyboard accelerator.</p><p>The <code class="classname">Expander</code> widget uses the
<code class="classname">Container</code> API to add and remove its child
widget:</p><pre class="programlisting">
  expander.add(<strong class="parameter"><code>widget</code></strong>)

  expander.remove(<strong class="parameter"><code>widget</code></strong>)
</pre><p>The child widget can be retrieved using the
<code class="classname">Bin</code> "child" attribute or the
<code class="methodname">get_child</code>() method.</p><p>The setting that controls the interpretation of label underscores
can be retrieved and changed using the methods:</p><pre class="programlisting">
  use_underline = expander.get_use_underline()

  expander.set_use_underline(use_underline)
</pre><p>If you want to use Pango markup (see the <a class="ulink" href="http://www.pygtk.org//pygtk2reference/pango-markup-language.html" target="_top">Pango
Markup reference</a> for more detail) in the label string, use the
following methods to set and retrieve the setting of the "use-markup"
property:</p><pre class="programlisting">
  expander.set_use_markup(<strong class="parameter"><code>use_markup</code></strong>)

  use_markup = expander.get_use_markup()
</pre><p>Finally, you can use any widget as the label widget using the
following method:</p><pre class="programlisting">
  expander.set_label_widget(<strong class="parameter"><code>label_widget</code></strong>)
</pre><p>This allows you, for example, to use an <code class="classname">HBox</code>
packed with an <code class="classname">Image</code> and a
<code class="classname">Label</code> as the <code class="classname">Expander</code>
label.</p><p>The state of the <code class="classname">Expander</code> can be retrieved
and set using the methods:</p><pre class="programlisting">
  expanded = expander.get_expanded()

  expander.set_expanded(<strong class="parameter"><code>expanded</code></strong>)
</pre><p>If <em class="parameter"><code>expanded</code></em> is <code class="literal">TRUE</code> the
child widget is revealed.</p><p>In most cases the <code class="classname">Expander</code> automatically does
exactly what you want when revealing and hiding the child widget. In some
cases your application might want to create a child widget at expansion
time. The "notify::expanded" signal can be used to track changes in the
state of the expander triangle. The signal handler can then create or change
the child widget as needed.</p><p>The example program <a class="ulink" href="examples/expander.py" target="_top">expander.py</a> demonstrates the use of the
<code class="classname">Expander</code>. <a class="xref" href="sec-ExpanderWidget.html#expanderfig" title="Figure 16.11. Expander Widget">Figure 16.11, “Expander Widget”</a> illustrates the program
in operation:</p><div class="figure"><a name="expanderfig"></a><p class="title"><b>Figure 16.11. Expander Widget</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="figures/expander.png" align="middle" alt="Expander Widget"></div></div></div><br class="figure-break"><p>The program creates a <code class="classname">Label</code> containing the
current time and shows it when the expander is expanded.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sec-EntryCompletion.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch-NewInPyGTK2.4.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="sec-FileChoosers.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">16.4. EntryCompletion Objects </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 16.6. File Selections using FileChooser-based Widgets</td></tr></table></div></body></html>
