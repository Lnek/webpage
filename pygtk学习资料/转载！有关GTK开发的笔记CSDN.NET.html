<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>转载！有关GTK开发的笔记[整理中] - 坚持写下去 - 博客频道 - CSDN.NET</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="1、关于窗口&#160;&#160;&#160;&#160; // 创建顶层窗体，后面有POPUP的&#160;&#160;&#160; GtkWidget *main_window;&#160;&#160;&#160;&#160;main_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);&#160;&#160;&#160;&#160;&#160;// 设置title文字，注意UTF8格式的文字转换，否则是乱码&#160;&#160; &#160;gtk_window_set_title (GTK_WINDOW (main_window), g_locale_to_utf8(哈哈,-1,NULL,NULL,NULL));&#160;" />
<script src="http://static.blog.csdn.net/scripts/jquery.js" type="text/javascript"></script>
<script src="http://static.blog.csdn.net/scripts/plugins.js" type="text/javascript"></script>
<script src="http://static.blog.csdn.net/scripts/common.js?v=1.2" type="text/javascript"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/ad.js?v=1.1"></script>
<link rel="Stylesheet" type="text/css" href="http://static.blog.csdn.net/skin/default/css/style.css?v=1.1" />
<link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="/nwpucoder/rss/list" />
<link rel="shortcut icon" href="/favicon.ico" />
<link type="text/css" rel="stylesheet" href="http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/default.css" />
</head>
<body>
<script src="http://csdnimg.cn/pubnav/js/pub_topnav_2011.js"type="text/javascript"></script>
<div id="container">
<div id="header">
    <div class="header">
        <div id="blog_title">
            <h1><a href="/nwpucoder">坚持写下去</a></h1>
            <h2></h2>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg"></div>
    <div class="navigator">
        <ul>
            <li id="btnContents"><a href="/nwpucoder?viewmode=contents"><span><img src="http://static.blog.csdn.net/images/ico_list.gif">目录视图</span></a></li>
            <li id="btnView"><a href="/nwpucoder?viewmode=list"><span><img src="http://static.blog.csdn.net/images/ico_summary.gif">摘要视图</span></a></li>
            <li id="btnRss"><a href="/nwpucoder/rss/list"><span><img src="http://static.blog.csdn.net/images/ico_rss.gif">订阅</span></a></li>
</ul>
    </div>
</div>
<script type="text/javascript">
    var username = "nwpucoder";
    var blog_address = "http://blog.csdn.net/nwpucoder";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";
</script>
        
<div id="body">
<div id="main">
<div class="main">
<div class="notice"> 

<a href="http://blog.csdn.net/blogdevteam/article/details/8472541" target="_blank">
<font color=blue>
2013年1月当选微软MVP名单揭晓！   </font></a>



&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/8534797
" target="_blank"><font color=red>智能开发框架 JEECG 作者张代浩专访</font></a>


<br />





<a href="http://vote.blog.csdn.net/details/blogstar"target="_blank">
<font color=red>2012CSDN博客之星火热出炉！ </font></a>


&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/csdnstudent/article/details/8077932"target="_blank">
<font color=red>2013年全国百所高校巡讲讲师招募  </font></a>


</div><div id="article_details" class="details">
    <div class="article_title">
    <span class="ico ico_type_Repost"></span>
    <h3>
        <span class="link_title"><a href="/nwpucoder/article/details/5744541">
        转载！有关GTK开发的笔记[整理中]
        </a></span>
    </h3>
</div>

        
    <div class="article_manage">
    <span class="link_postdate">2010-07-18 17:00</span>
    <span class="link_view" title="阅读次数">609人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments">评论</a>(3)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:collectArticle('转载！有关GTK开发的笔记[整理中]','5744541');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report"  onclick="javascript:report(5744541,2);return false;" title="举报">举报</a></span>
    
</div>
<div class="tag2box"><a href='http://blog.csdn.net/tag/details.html?tag=gtk' target=_blank>gtk</a><a href='http://blog.csdn.net/tag/details.html?tag=button' target=_blank>button</a><a href='http://blog.csdn.net/tag/details.html?tag=image' target=_blank>image</a><a href='http://blog.csdn.net/tag/details.html?tag=null' target=_blank>null</a><a href='http://blog.csdn.net/tag/details.html?tag=signal' target=_blank>signal</a><a href='http://blog.csdn.net/tag/details.html?tag=object' target=_blank>object</a></div>


    
<div id="article_content" class="article_content">
<p>
<div><strong><span style="font-size: small;">1、关于窗口</span></strong></div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 创建顶层窗体，后面有POPUP的</div>
<div>&nbsp;&nbsp;&nbsp; GtkWidget *main_window;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;main_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;// 设置title文字，注意UTF8格式的文字转换，否则是乱码<br />&nbsp;&nbsp; &nbsp;gtk_window_set_title (GTK_WINDOW (main_window), g_locale_to_utf8("哈哈",-1,NULL,NULL,NULL));</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 设置窗体图标，用这条语句使所有窗体使用同一个图标，也有独立设置（GTK手册）<br />&nbsp;&nbsp; &nbsp;gtk_window_set_default_icon_from_file( ICON_WNDICON, NULL);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;// 设置边框宽度，基本随意<br />&nbsp;&nbsp; &nbsp;gtk_container_set_border_width (GTK_CONTAINER (main_window), 8);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 设置模式窗口</div>
<div>&nbsp;&nbsp;&nbsp; gtk_window_set_modal(GTK_WINDOW (window), TRUE);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 让窗口总在最前</div>
<div>&nbsp;&nbsp;&nbsp; gtk_window_set_keep_above(GTK_WINDOW (window), TRUE);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; //&nbsp;移动窗口位置</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;gtk_window_move(GTK_WINDOW (window), left, top);&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 也是设置位置的，简单点</div>
<div>&nbsp;&nbsp;&nbsp; gtk_window_set_position(GTK_WINDOW (main_window), GTK_WIN_POS_CENTER);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 这个让叉叉无效<br />&nbsp;&nbsp;&nbsp; gtk_window_set_deletable(GTK_WINDOW (main_window), FALSE);</div>
<div><strong>&nbsp;&nbsp;&nbsp; 设置全屏显示的几种办法：</strong></div>
<div>&nbsp;&nbsp;&nbsp; a）简单一点就用这个。</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gtk_window_maximize(GTK_WINDOW (main_window));</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; b）下面这个有边框但都给挤到屏幕外面了<br />&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_window_fullscreen( GTK_WINDOW(main_window));&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; c）采用设置窗体大小等于screen大小的办法，就是麻烦点</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GdkScreen *screen;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;screen = gtk_window_get_screen( GTK_WINDOW( main_window));&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_window_set_default_size( GTK_WINDOW( main_window),&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gdk_screen_get_width(screen),&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gdk_screen_get_height(screen));</div>
<div>&nbsp;</div>
<div><strong>&nbsp;&nbsp;&nbsp; 让窗体尺寸不可调整，但是好像与全屏使用时有些问题，会自动地调整窗口的大小<br /></strong>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_window_set_resizable(GTK_WINDOW(main_window),FALSE);</div>
<div>&nbsp;&nbsp;&nbsp; 或<br />&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_window_set_policy(GTK_WINDOW(main_window), FALSE, FALSE, TRUE);</div>
<div>&nbsp;</div>
<div><strong>&nbsp;&nbsp;&nbsp; 常用的信号：</strong></div>
<div>&nbsp;&nbsp;&nbsp; a）点击叉叉</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gint delete_event (GtkWidget *widget, GdkEvent *event, gpointer data)</div>
<div><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_signal_connect (G_OBJECT (main_window), "delete_event", G_CALLBACK (delete_event), NULL);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;b）窗口变化，gboolean返回TRUE就行了，继续执行默认过程，同下</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gboolean window_state_event (GtkWidget *widget, GdkEventWindowState *event, gpointer user_data)</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_signal_connect (G_OBJECT (main_window), "window_state_event", G_CALLBACK (window_state_event), main_window);</div>
<div>&nbsp;&nbsp;&nbsp; c）点击别的窗口</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gboolean focus_out_event(GtkWidget *widget, GdkEventFocus *event, gpointer user_data)</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_signal_connect (GTK_OBJECT(window), "focus-out-event", GTK_SIGNAL_FUNC(popuptoolbar_fout_event), window);&nbsp;</div>
<div><strong>&nbsp;&nbsp;&nbsp; POPUP窗口也不错，而且不会在任务栏出现。</strong></div>
<div>&nbsp;&nbsp;&nbsp; window = gtk_window_new(GTK_WINDOW_POPUP);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; 用起来和这个差不多</div>
<div>&nbsp;&nbsp; &nbsp;window = gtk_window_new(GTK_WINDOW_TOPLEVEL);<br />&nbsp;&nbsp; &nbsp;gtk_window_set_decorated(GTK_WINDOW (window), FALSE);</div>
<div><br /><strong>&nbsp;&nbsp;&nbsp; 设置一个背景图片，对于整个窗体的，这还真需要点前期策划和艺术细胞，不然效果挺吓人。我还是喜欢后面的那一个办法。</strong></div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;GdkPixbuf *pixbuf;<br />&nbsp;&nbsp;&nbsp;&nbsp;GdkPixmap *pixmap;</div>
<div><br />&nbsp;&nbsp;&nbsp;&nbsp;gtk_widget_set_app_paintable (main_window, TRUE);<br />&nbsp;&nbsp;&nbsp;&nbsp;gtk_widget_realize (main_window);<br />&nbsp;&nbsp;&nbsp;&nbsp;pixbuf = gdk_pixbuf_new_from_file (ICON_BGPIC, NULL);<br />&nbsp;&nbsp;&nbsp;&nbsp;gdk_pixbuf_render_pixmap_and_mask (pixbuf, &amp;pixmap, NULL, 128);<br />&nbsp;&nbsp;&nbsp;&nbsp;gdk_window_set_back_pixmap (main_window-&gt;window, pixmap, FALSE);<br />&nbsp;&nbsp;&nbsp;&nbsp;g_object_unref (pixbuf);<br />&nbsp;&nbsp; &nbsp;g_object_unref (pixmap);</div>
<div><strong>&nbsp;&nbsp;&nbsp; 对一部分区域设背景图，这个办法比较随意也简单，麻烦一点的地方是需要先做个计算，screen在前面有获得办法。</strong></div>
<div><strong>&nbsp;&nbsp;&nbsp; 同时有说到一个图片缩放的办法。</strong></div>
<div>&nbsp;&nbsp; &nbsp;GdkPixbuf *pixbuf;</div>
<div><br />&nbsp;&nbsp; &nbsp;image = gtk_image_new_from_file (ICON_BGPIC);<br />&nbsp;&nbsp; &nbsp;pixbuf = gtk_image_get_pixbuf (GTK_IMAGE(image));<br />&nbsp;&nbsp; &nbsp;pixbuf = gdk_pixbuf_scale_simple(pixbuf,&nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;gdk_screen_get_width(screen) - 16, // 16: window border SHIFT&nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;gdk_screen_get_height(screen) - 140, // 140: height SHIFT<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;GDK_INTERP_BILINEAR);<br />&nbsp;&nbsp; &nbsp;gtk_image_set_from_pixbuf(GTK_IMAGE(image), pixbuf);</div>
<div>&nbsp;&nbsp;&nbsp; // 我放到fixed里了，这个随便<br />&nbsp;&nbsp;&nbsp;&nbsp;gtk_fixed_put(GTK_FIXED(fixed), image, 0, 0);</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div><strong><span style="font-size: small;">&nbsp;&nbsp;&nbsp;2、关于按钮</span></strong></div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 建立按钮</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;GtkWidget * button;<br />&nbsp;&nbsp;&nbsp; button = gtk_button_new ();</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 简单一点的</div>
<div>&nbsp;&nbsp;&nbsp; button = gtk_button_new_with_label ("XX");</div>
<div>&nbsp;</div>
<div>
<div>&nbsp;&nbsp;&nbsp; // 要产生那种能用键盘快捷键的按钮</div>
<div>&nbsp;&nbsp;&nbsp; button = gtk_button_new_with_mnemonic(g_locale_to_utf8("确定(_O)", -1,NULL,NULL,NULL));</div>
<div>&nbsp;</div>
&nbsp;&nbsp;&nbsp; // 要好看一点就用一个图片的</div>
<div>&nbsp;&nbsp;&nbsp; // 函数产生一个hbox，然后把botton当作容器放进去，GTK的widget几乎都是容器，所以这个函数还是比较有用的，在产生toolbar的时候也用到。</div>
<div>&nbsp;&nbsp;&nbsp; GtkWidget * create_imagetext_hbox(const char *text,const char *image_path)<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; GtkWidget *box;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GtkWidget *label;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GtkWidget *image;</div>
<div><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; image = gtk_image_new_from_file (image_path);</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; label = gtk_label_new (g_locale_to_utf8(text, -1,NULL,NULL,NULL));</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; box = gtk_hbox_new (FALSE, 0);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_container_set_border_width (GTK_CONTAINER (box), 2);<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; gtk_box_pack_start (GTK_BOX (box), image, FALSE, FALSE, 3);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_box_pack_start (GTK_BOX (box), label, FALSE, FALSE, 3);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gtk_widget_showall (box);</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;return box;<br />&nbsp;&nbsp;&nbsp; }</div>
<div>&nbsp;&nbsp;&nbsp; GtkWidget * create_image_button(const char *text,const char *image_path)<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GtkWidget * button;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;GtkWidget *box;</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;box = create_imagetext_hbox(text, image_path);<br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;button = gtk_button_new ();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_container_add (GTK_CONTAINER (button), box);</div>
<div>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; gtk_widget_show (button);</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;return button;<br />&nbsp;&nbsp;&nbsp; }</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // clicked信号定义</div>
<div>&nbsp;&nbsp;&nbsp; void user_function (GtkButton *button, gpointer user_data)</div>
<div><br />&nbsp;</div>
<div><strong><span style="font-size: small;">&nbsp;&nbsp;&nbsp;3、关于entry</span></strong></div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 建立entry</div>
<div>&nbsp;&nbsp; &nbsp;GtkWidget *entry;</div>
<div>&nbsp;&nbsp;&nbsp; entry = gtk_entry_new ();</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 让entry显示****</div>
<div>&nbsp;&nbsp;&nbsp; gtk_entry_set_visibility(GTK_ENTRY(entry), FALSE);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 让entry直接响应回车</div>
<div>&nbsp;&nbsp; &nbsp;gtk_signal_connect (GTK_OBJECT(entry), "activate", GTK_SIGNAL_FUNC(enter_event), usrdata);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 读/写entry，读出的数据指针指向entry的widget内部，不能直接释放。</div>
<div>&nbsp;&nbsp;&nbsp; gchar *gtk_entry_get_text (GTK_ENTRY (entry))</div>
<div>&nbsp;&nbsp;&nbsp; gtk_entry_set_text (GTK_ENTRY (entry), "XX")</div>
<div>&nbsp;</div>
<div><strong><span style="font-size: small;">&nbsp;&nbsp;&nbsp;4、关于label</span></strong></div>
<div>&nbsp;&nbsp;&nbsp; // 简单一点</div>
<div>&nbsp;&nbsp;&nbsp; label = gtk_label_new("XX");</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 让label接受键盘快捷键，并聚焦到某widget</div>
<div>&nbsp; &nbsp;&nbsp;label = gtk_label_new_with_mnemonic (g_locale_to_utf8("输入(_I)", -1,NULL,NULL,NULL));<br />&nbsp;&nbsp;&nbsp; gtk_label_set_mnemonic_widget (GTK_LABEL (label), widget);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // 使用&lt;span&gt;&lt;/span&gt;控制显示</div>
<div>&nbsp; &nbsp;&nbsp;gtk_label_set_markup(GTK_LABEL(label), &lt;span background='red'&gt;"XXXX"&lt;/span&gt;);</div>
<div>&nbsp;&nbsp;&nbsp; // -----------还有好多label用法，慢慢加</div>
<div>&nbsp;</div>
<div><strong><span style="font-size: small;">&nbsp;&nbsp;&nbsp;5、BOX参数小记</span></strong></div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;// 建立box</div>
<div>&nbsp;&nbsp;&nbsp; box = gtk_hbox_new (gboolean homogeneous, gint spacing);</div>
<div>&nbsp;&nbsp;&nbsp; 或</div>
<div>&nbsp;&nbsp;&nbsp; box = gtk_vbox_new (gboolean homogeneous, gint spacing);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; homogeneous：TRUE，内部widget平均分配box空间，Widget大小不变，只是占地大了，其他地方padding；一般用FALSE即可，是否平均可在pack指定的widget时进行控制。</div>
<div>&nbsp;&nbsp;&nbsp; spacing：内部widget间的间隔，pixel单位。</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; 结合gtk_container_set_border_width (GTK_CONTAINER (box), 8);效果也不错。</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; // Pack指定widget到box中</div>
<div>&nbsp;&nbsp;&nbsp; gtk_box_pack_start (GtkBox *box, GtkWidget *child, gboolean expand, gboolean fill, guint padding);</div>
<div>&nbsp;&nbsp;&nbsp; 或</div>
<div>&nbsp;&nbsp;&nbsp; gtk_box_pack_end (GTK_BOX (box), widget, FALSE, FALSE, 0);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; expand：TRUE，对所有TRUE参数打包进来的widget平均分配box中剩余的空间，但并不填充，仍保持widget原大小。</div>
<div>&nbsp;&nbsp;&nbsp; fill：TRUE，只有在expand为TRUE时有效，widget改变大小填充满其在box中占有的空间。</div>
<div>&nbsp;&nbsp;&nbsp; padding：widget与他后面的控件的间隔，pixel单位，最后一个widget将作为与box边缘的间隔。</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; box其乐无穷呀！</div>
<div>&nbsp;</div>
<div><strong><span style="font-size: small;">&nbsp;&nbsp;&nbsp;X、封装的代码</span></strong></div>
<div>&nbsp;&nbsp;&nbsp; 虽然丧失了一定的随意性，但是平常也就这些应用了。</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; X.1 treeview =&gt; LGX_storeview</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://blog.chinaunix.net/u/2244/showart.php?id=2151103" target="_blank">lgx_storeview的说明和代码</a></div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; X.2 toolbar</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; X.3 calendar</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; X.4 inputdialog</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div><strong><span style="font-size: small;">&nbsp;&nbsp;&nbsp;Y、Widget的一些常用方法</span></strong></div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; Y.1、设定大小</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gtk_widget_set_usize(widget, x, y);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp; Y.2、使其&ldquo;变灰色&rdquo;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gtk_widget_set_sensitive(widget, FALSE);</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;gtk_misc_set_alignment(GTK_MISC(label), 0, 0);</div>
<div>&nbsp;</div>
<div>PangoFontDescription *fontdesc;</div>
<div><br />fontdesc = pango_font_description_from_string("uming 15");<br />gtk_widget_modify_font(treeview, fontdesc);<br />pango_font_description_free(fontdesc);</div>
<div>&nbsp;</div>
<div>fontdesc = pango_font_description_from_string("uming");<br />pango_font_description_set_size (font_desc, 12*PANGO_SCALE);<br /></div>
<div>&nbsp;</div>
<div><strong><span style="font-size: small;">&nbsp;&nbsp;&nbsp;Z、其他小技巧</span></strong></div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;Z.1 获得widget的上下左右</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; widget-&gt;allocation.x</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; widget-&gt;allocation.y</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; widget-&gt;allocation.height</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; widget-&gt;allocation.width</div>
</p>
</div>
<div class="share_buttons" id="sharePanel"></div>
<!--192.168.1.237-->
<div class="article_next_prev">
    <li class="prev_article"><span>上一篇：</span><a href="/nwpucoder/article/details/5705379">C++语言特性性能分析</a></li>
    <li class="next_article"><span>下一篇：</span><a href="/nwpucoder/article/details/5935686">win7下安装PostgreSQL无服务器问题</a></li>
</div>


    
</div>
<div id="ad_cen"></div>
<script type="text/javascript">
    new Ad(4, 'ad_cen');
</script>
<div id="comment_title" class="panel_head">查看评论<a name="comments"></a></div>
<div id="comment_list"></div>
<div id="comment_bar"></div>
<div id="comment_form"></div>
<div class="announce">* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
<script type="text/javascript">
    var fileName = '5744541';
    var commentscount = 3;
    var islock = false
</script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/comment.js?v=1.8"></script>
<div id="ad_bot"></div>
<script type="text/javascript">
    new Ad(5, 'ad_bot');
</script>
<div id="report_dialog"></div>

<div id="d-top">
<a href="#" onclick="javascript:document.body.scrollTop=0;document.documentElement.scrollTop=0;this.blur();return false;" title="回到顶部">
<img src="http://static.blog.csdn.net/images/top.png" alt="TOP" /></a>
</div>



<div class="clear"></div>
</div>
</div>

<div id="side">
<div class="side">
<div id="panel_Profile" class="panel">
    <ul class="panel_head"><span>个人资料</span></ul>
    <ul class="panel_body profile">
        <div id="blog_userface">
            <a href="http://my.csdn.net/nwpucoder" target="_blank">
            <img src="http://avatar.csdn.net/5/0/5/1_nwpucoder.jpg" title="访问我的空间" style="max-width:90%"/>
            </a>
            <br />
            <span><a href="http://my.csdn.net/nwpucoder" class="user_name" target="_blank">nwpucoder</a></span>
        </div>
<div class="interact">
<!--<a href="#" class="attented" title="已关注"></a>-->
<a href="#" class="attent" id="span_add_follow" title="[加关注]"></a>
<a href="http://my.csdn.net/my/letter/send/nwpucoder" class="letter" title="[发私信]"></a>
</div>
        <div id="blog_medal">
        </div>
        <ul id="blog_rank">
            <li>访问：<span>1542次</span></li>
            <li>积分：<span>110分</span></li>
            <li>排名：<span>千里之外</span></li>
        </ul>
        <ul id="blog_statistics">
            <li>原创：<span>8篇</span></li>
            <li>转载：<span>2篇</span></li>
            <li>译文：<span>0篇</span></li>
            <li>评论：<span>3条</span></li>
        </ul>
    </ul>
</div>
<script type="text/javascript">
    var _blogger = 'nwpucoder';
</script>
<script type='text/javascript'>
$(document).ready(function () {
    var un = getUN().toLowerCase();
    if (un == _blogger.toLowerCase()) {
        $('.interact').hide();
    } else if(un) {
        var url = "http://my.csdn.net/index.php/follow/check_is_followed/" + encodeURIComponent(un) + "/" + encodeURIComponent(_blogger) + "?jsonpcallback=?";
        $.getJSON(url, {}, function (data) {
            if (data.succ == 1 && data.info == 1) {
                $('#span_add_follow').attr('class', 'attented');
            } else {
                $('#span_add_follow').click(guanzhu);
            }
        }, 'json');
    }
});
function guanzhu() {
    var url = "http://my.csdn.net/index.php/follow/do_follow?jsonpcallback=?";
    $.getJSON(url, { "username": _blogger }, function (data) {
        if (data.succ == 1) {
            alert('关注成功！');
            $('#span_add_follow').attr('class', 'attented').click(function () { return false; });
        } else {
            alert(data.msg);
        }
    });
    return false;
}
function getUN() {
    var m = document.cookie.match(new RegExp("(^| )UserName=([^;]*)(;|$)"));
    if (m) return m[2];
    else return '';
}
</script>

<div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" type="text" class="blogsearch" title="请输入关键字" /></span>
        <input id="btnSubmit" type="submit" value="搜索" title="search in blog" />
        <input type="hidden" name="q" id="inputQ" />
        <input type="hidden" name="t" value="blog" />
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div><div id="panel_Archive" class="panel">
    <ul class="panel_head"><span>文章存档</span></ul>
    <ul class="panel_body">
        <div id="archive_list">
        <!--归档统计-->
        <li><a href="http://blog.csdn.net/nwpucoder/article/month/2010/12">2010年12月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/nwpucoder/article/month/2010/11">2010年11月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/nwpucoder/article/month/2010/10">2010年10月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/nwpucoder/article/month/2010/07">2010年07月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/nwpucoder/article/month/2010/06">2010年06月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/nwpucoder/article/month/2010/03">2010年03月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/nwpucoder/article/month/2009/10">2009年10月</a><span>(2)</span></li>
        </div>
    </ul>
</div>
<div id="hotarticls" class="panel">
    <ul class="panel_head"><span>阅读排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="/nwpucoder/article/details/5744541" title="转载！有关GTK开发的笔记[整理中]">转载！有关GTK开发的笔记[整理中]</a><span>(609)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5935686" title="win7下安装PostgreSQL无服务器问题">win7下安装PostgreSQL无服务器问题</a><span>(124)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/6044581" title="喜欢爱C/C++的人不要浮躁">喜欢爱C/C++的人不要浮躁</a><span>(86)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5430607" title="GTK-2.0 的安装和配置">GTK-2.0 的安装和配置</a><span>(63)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/6064266" title="大牛的经典">大牛的经典</a><span>(58)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5349283" title="Who do you think is the best coder, and why?”">Who do you think is the best coder, and why?”</a><span>(57)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5705379" title="C++语言特性性能分析">C++语言特性性能分析</a><span>(44)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5400567" title="The Google Search toolbar">The Google Search toolbar</a><span>(41)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/4646873" title="处女作">处女作</a><span>(34)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/4646924" title="编程与女人">编程与女人</a><span>(29)</span>
        </li>
    </ul>
</div>
<div id="hotarticls2" class="panel">
    <ul class="panel_head"><span>评论排行</span></ul>
    <ul class="panel_body itemlist">
        <li>
            <a href="/nwpucoder/article/details/5744541" title="转载！有关GTK开发的笔记[整理中]">转载！有关GTK开发的笔记[整理中]</a><span>(3)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/4646873" title="处女作">处女作</a><span>(0)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/6044581" title="喜欢爱C/C++的人不要浮躁">喜欢爱C/C++的人不要浮躁</a><span>(0)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5935686" title="win7下安装PostgreSQL无服务器问题">win7下安装PostgreSQL无服务器问题</a><span>(0)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5705379" title="C++语言特性性能分析">C++语言特性性能分析</a><span>(0)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5430607" title="GTK-2.0 的安装和配置">GTK-2.0 的安装和配置</a><span>(0)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5400567" title="The Google Search toolbar">The Google Search toolbar</a><span>(0)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/5349283" title="Who do you think is the best coder, and why?”">Who do you think is the best coder, and why?”</a><span>(0)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/4646924" title="编程与女人">编程与女人</a><span>(0)</span>
        </li>
        <li>
            <a href="/nwpucoder/article/details/6064266" title="大牛的经典">大牛的经典</a><span>(0)</span>
        </li>
    </ul>
</div>
<div id="homepageArticles" class="panel">
    <ul class="panel_head"><span>推荐文章</span></ul>
    <ul class="panel_body" id="ad_commend">
    </ul>
</div>
<script type="text/javascript">
    new Ad(12, 'ad_commend');
</script><div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
    <a href="/nwpucoder/article/details/5744541#comments">转载！有关GTK开发的笔记[整理中]</a>
    <p style="margin:0px;"><a href="/chunqiudmq" class="user_name">chunqiudmq</a>:

    </p>
    </li>
    <li>
    <a href="/nwpucoder/article/details/5744541#comments">转载！有关GTK开发的笔记[整理中]</a>
    <p style="margin:0px;"><a href="/nwpucoder" class="user_name">nwpucoder</a>:
回复 b9myzhou：转载的，一起努力吧。
    </p>
    </li>
    <li>
    <a href="/nwpucoder/article/details/5744541#comments">转载！有关GTK开发的笔记[整理中]</a>
    <p style="margin:0px;"><a href="/b9myzhou" class="user_name">b9myzhou</a>:

    </p>
    </li>
</ul>
</div>
</div>
<div class="clear"></div>
</div>

<div class="clear"></div>
</div>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/SyntaxHighlighter/shCore-src.js"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.js"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/article_code.js"></script>
<script type="text/javascript" src="http://static.blog.csdn.net/scripts/cnick.js"></script>

<script type="text/javascript" src="http://medal.blog.csdn.net/scripts/show.js"></script>
<script type="text/javascript" src="http://medal.blog.csdn.net/showblogmedal.ashx?blogid=687287"></script>

<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer.js"></script>

<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script>
<script type="text/javascript" src="http://www.csdn.net/ui/scripts/Csdn/counter.js"></script>

<!--ad.csdn.net-->
<script type="text/javascript" src="http://ad.csdn.net/scripts/ad-blog.js"></script>



</div>
</body>
</html>