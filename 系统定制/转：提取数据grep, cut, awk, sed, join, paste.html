<html><head><title>转：提取数据grep, cut, awk, sed, join, paste_既不回头，何必不忘_百度空间</title><meta http-equiv=content-type content="text/html; charset=GBK"><link rel=alternate type="application/rss+xml" title="订阅该空间的博客文章" href="http://hi.baidu.com/watermoon_littlegui/rss"><style type="text/css">.error{color:#F00;font-size:12px}.shareUser,.shareLastEditor{line-height:20px;color:#666;text-align:left}.shareLastEditor{margin:5px 0 8px}</style><script>
	    var g_pageTimerStart=new Date().getTime();
	</script><script src="http://hi.bdimg.com/static/cblog/js/other/global.js?v=009301b8.js"></script><script src="http://hi.bdimg.com/static/cblog/js/other/libs.js?v=48b209f9.js"></script><script src="http://img.baidu.com/js/tangram-1.1.0.js?v=1334907755.js"></script><script>
var Session = {
    isLogin: true,
    isHost: 0,
    loginStatus : 2,
    userName: "watermoon008",   
    userPortrait:'925e77617465726d6f6f6e3030385901',
    spaceURL: "\/watermoon_littlegui",
    spBasicURL:"http:\/\/hi.baidu.com\/watermoon_littlegui",
    spBasicURLEnc:"http%3A%2F%2Fhi.baidu.com%2Fwatermoon_littlegui",
    visitorName:    "zhu__feng001",
    visitorPortrait:'a0a27a68755f5f66656e673030314312',
    isActive: '1',   /*{cmt 访问者是否激活空间}*/
    visitorURL: "\/zhu__feng001",        // 
    pageURL: "http://hi.baidu.com\/watermoon_littlegui\/blog\/item\/953dbcdacd94836fd1164e0e.html",    
    refer: "http:\/\/www.baidu.com\/s?tn=baiduhome_pg&bs=sed+%C9%BE%B3%FD%D0%D0&f=8&rsv_bp=1&rsv_spt=1&wd=grep+%BB%F1%C8%A1+%D0%D0&inputT=3969",
    spToken: '159a0de2f990e4cff4c560e7c876c5be', 
    spFriendDomain: 'http://frd.baidu.com',
    spSpaceDomain: 'http://hi.baidu.com',
    spPortraitDomain: 'http://tx.bdimg.com',
    spSpaceStaticDomain: 'http://hi.bdimg.com', /*{cmt TODO RD似乎还不有提供这个变量，记得补成呀！}*/
    spImgDomain : 'http://img.baidu.com',
    spStaticDomain : 'http://hi.bdimg.com',

    isDrag: false  /*{cmt 是否在拖动页：是为了通用，只对模块内容有作用，这里也作为一个通用属性}*/
    ,isProfile: false   /*{cmt 是否在拖动页：是为了通用，只对模块内容有作用，这里也作为一个通用属性}*/
    ,isPortraitVerify:!true
    };
</script></head><body> <script>
/*<![CDATA[*/
if(top.location != self.location){
	top.location = self.location;
}
var myref = encodeURIComponent("http://hi.baidu.com\/watermoon_littlegui\/blog\/item\/953dbcdacd94836fd1164e0e.html");
/*]]>*/
</script><!--[if (lt IE 8.0)]><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/ui/mods.css?v=774e31a7.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/ui/mods_datauri.css?v=a1661a70.css"><!--<![endif]--><link rel=stylesheet type=text/css href="http://hitn.bdimg.com/2402050202/css/item/09638f7afeccecf40bd187d9.css"><!--[if (lt IE 8.0)]><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/space.css?v=674c899c.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/space_datauri.css?v=b27686c7.css"><!--<![endif]--><div class=userbar><center> <div id=nav><a class=logo href=http://hi.baidu.com/index.htm><img src=http://img.baidu.com/hi/logo/logo_93_30.gif border=0 alt="百度空间"></a> <ul class=topmenu><li><a href="/zhu__feng001/ihome">个人中心</a><li class=vline><li><a href="/zhu__feng001/home" >我的主页</a><li class=vline><li><a href="/zhu__feng001/ihome/frdme">好友</a><li class=vline><li id=topMsgLi><a href="http://hi.baidu.com/msg/index" id=topMsgTab>消息</a> </ul> <dl class=manage> <dd id=tary_space_name class=nolink>zhu__feng001<dt>|<dd id=user_disguise_link><a href="/zhu__feng001/modify/spmodules/0">装扮</a><dt id=user_disguise_l>|<dd><a href="/zhu__feng001/ihome/basicconfig">设置</a><dt>| <dd><a href="https://passport.baidu.com/?logout&bdstoken=159a0de2f990e4cff4c560e7c876c5be&u=">退出</a></dl> </div></center></div><script src="http://hi.bdimg.com/static/base/js/conf/base.js?v=1334907755.js"></script><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/base/css/base.css?v=1334907755.css"><script>			
		(function(){
			function initMessage(){
				Space.msgConfig={
					staticDomain:'http://hi.bdimg.com'
					,portraitDomain:'http://tx.bdimg.com'
					,appsDomain:'http://apps.hi.baidu.com'
					,domain:'http://hi.baidu.com'
					,userPortrait:"a0a27a68755f5f66656e673030314312"
					,userName:"zhu__feng001"
					,spToken:"159a0de2f990e4cff4c560e7c876c5be"
					,spaceUrl:"\/zhu__feng001"
					,pageType:"blog"
				};
				if(Space.msgConfig.spaceUrl.indexOf("/")==0) {
					Space.msgConfig.spaceUrl = Space.msgConfig.spaceUrl.substr(1);
				}

				var job = new Space.Libs.Jobs();
				job.add("message_tip");
				job.start();
			}
			
			if(window.addEventListener){
				window.addEventListener('load', initMessage, false );
			}else if(window.attachEvent){
				window.attachEvent('onload', initMessage);
			}
		})();
	</script><script language=javascript src="http://hi.bdimg.com/static/cblog/js/ui/dialog.js?v=f1d92f7b.js"></script><center><div id=main align=left><!--[if IE]><script>
var objmain = document.getElementById("main");
function updatesize(){ var bodyw = window.document.body.offsetWidth; if(bodyw <= 790) objmain.style.width="772px"; else if(bodyw >= 1016) objmain.style.width="996px"; else objmain.style.width="100%"; }
updatesize(); window.onresize = updatesize;
</script><![endif]--><div id=header><div class=lc><div class=rc></div></div><div class=tit><a href="/watermoon_littlegui" class=titlink title="watermoon008的空间 http://hi.baidu.com/watermoon_littlegui">既不回头，何必不忘</a></div><div class=desc></div><div id=tabline>&nbsp;</div><div id=tab><a href="http://hi.baidu.com/watermoon_littlegui/home">主页</a><a href="http://hi.baidu.com/watermoon_littlegui/blog" class=on>博客</a><a href="http://hi.baidu.com/watermoon_littlegui/album">相册</a><span>|</span><a href="http://hi.baidu.com/watermoon_littlegui/profile">个人档案</a><span>|</span><a href="http://hi.baidu.com/watermoon_littlegui/friends">好友</a><span>|</span><a href="http://tieba.baidu.com/i/sys/jump?un=watermoon008&fr=spacebar" onclick="BdUtil.ns_trackerLink('m_20110330_spacebar','')" target=_blank>i贴吧</a></div></div><div class=stage><div class=stagepad><div style="width:100%"><table width="100%" border=0 cellspacing=0 cellpadding=0 class=modth><tr><td class=modtl width=7>&nbsp;<td class=modtc nowrap><div class=modhead><span class=modtit>查看文章</span></div><td class=modtc nowrap align=right><td class=modtr width=7>&nbsp;</table><div id=m_blog class=modbox style="overflow-x:hidden;"><div class=tit>转：提取数据grep, cut, awk, sed, join, paste</div><div class=date>2009-08-24 19:41</div><table style="table-layout:fixed;width:100%"><tr><td><div id=blog_text class=cnt><p>source:http://www.oracle.com/technology/global/cn/pub/articles/dulaney_extracting.html<br>
<span class="italicbodycopy">作者：Emmett Dulaney</span></p>
<p><span class="boldbodycopy">有关从标准 Linux 文件中提取宝贵数据片段的几点建议</span></p>
<p><span class="bodycopy">Linux 操作系统由许多文件组成。其中包括配置设置文件、文本文件、文档文件、日志文件等等。通常，这些文件包含为查找重要数据而需要访问的信息。尽管您可以轻松地使用标准实用程序（如 cat、more 等）将大多数文件的内容打印到屏幕，但某些实用程序更适合于分析相关值。</span></p>
<p><span class="bodycopy">本文介绍了 </span><tt><font face="新宋体">grep、cut、paste、join、sed</font></tt><span class="bodycopy"> 和 </span><tt><font face="新宋体">awk</font></tt><span class="bodycopy"> 等实用程序，但它并不是仅仅重复参考手册页以及介绍每个实用程序存在的原因。相反，我们将首先了解每个实用程序及其选项，将该实用程序应用于 Linux 文件中所通用的冒号分隔的文件格式，然后了解每个工具为什么以及如何用于从文件中提取数据。</span></p>
<p><span class="parahead1"><tt><strong><font face="新宋体">grep</font></strong></tt> 的强大功能</span></p>
<p><span class="bodycopy">名称 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 是 Global Regular Expression Print（全局正则表达式打印）的缩写，它实际上源自下面这个用于打印与指定模式匹配的所有行的命令：</span></p>
<p> </p>
<pre>g/re/p</pre>
<p> </p>
<p><span class="bodycopy">其中，&ldquo;re&rdquo;表示&ldquo;正则表达式&rdquo;。自从 UNIX 及其各种同类产品（包括 Linux）推出以来，grep 衍生了两个其他变体：</span><tt><font face="新宋体">fgrep</font></tt><span class="bodycopy">（固定 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy">）和 </span><tt><font face="新宋体">egrep</font></tt><span class="bodycopy">（扩展 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy">）。</span><tt><font face="新宋体">fgrep</font></tt><span class="bodycopy"> 实用程序只搜索固定字符串，而 </span><tt><font face="新宋体">egrep</font></tt><span class="bodycopy"> 因采用了一个更复杂的内部算法而提供了更多功能。</span></p>
<p><span class="bodycopy">在了解 </span><tt><font face="新宋体">grep、fgrep</font></tt><span class="bodycopy"> 和 </span><tt><font face="新宋体">egrep</font></tt><span class="bodycopy"> 的功能之前，必须先了解正则表达式的概念及其用法。</span></p>
<p><span class="boldbodycopy">使用正则表达式。</span><span class="bodycopy">就其最简单的形式而言，正则表达式是用于在文件中定位文本的搜索条件。例如，要查找所有包含单词&ldquo;add&rdquo;的行，您可以搜索&ldquo;add&rdquo;&mdash;这样，&ldquo;add&rdquo;便构成了一个正则表达式。如果不但要查找该单词，而且还要将其更改为&ldquo;sum&rdquo;，则可以在实用程序中提供相应的命令将&ldquo;add&rdquo;替换为&ldquo;sum&rdquo;&mdash;这样，&ldquo;add&rdquo;和&ldquo;sum&rdquo;便构成了正则表达式。 </span></p>
<p><span class="bodycopy">问题是&ldquo;addition&rdquo;将更改为&ldquo;sumition&rdquo;，&ldquo;address&rdquo;将更改为&ldquo;sumress&rdquo;。要解决此问题，可以指定仅当某些项两侧各包含一个空格时才替换这些项&mdash;&ldquo; add &rdquo;变为&ldquo; sum &rdquo;。该方法在大多数情况下均有效，仅当&ldquo;add&rdquo;是某一行的第一个或最后一个单词（意味着它的两侧没有所需的空格来实现匹配）时，才会出现问题。</span></p>
<p><span class="bodycopy">使用正则表达式可以增强灵活性。例如，如果只希望在&ldquo;add&rdquo;是一行中的前三个字符的情况下进行更改，则可以使用插入符号 (^) 表示行首：&ldquo;^add &rdquo;。相反，如果只希望在指定的字母是一行中的后三个字母时进行更改，则可以使用美元符号 ($) 表示行尾：&ldquo; add$&rdquo;。</span></p>
<p><span class="bodycopy">以下是正则表达式遵循的基本规则：</span></p>
<p> </p>
<ul>
    <li><span class="bodycopy">任何单个字符或字符序列可用于与自身进行匹配，如以上的&ldquo;add&rdquo;示例所示。</span></li>
    <li><span class="bodycopy">插入符号表示行首；美元符号表示行尾。</span></li>
    <li><span class="bodycopy">要按字面搜索一行中的特殊字符（如美元符号或插入符号），请在这些字符前加上一个反斜杠 (\)。例如，&ldquo;\$&rdquo;搜索&ldquo;$&rdquo;而不是行尾。</span></li>
    <li><span class="bodycopy">句点 (.) 表示任何单个字符。例如，&ldquo;uu3..2&rdquo;表示六个字符项，其中的前三个字符为&ldquo;uu3&rdquo;，最后一个字符为&ldquo;2&rdquo;。中间的两个字符可以是任意字符，但个数只能为两个。</span></li>
    <li><span class="bodycopy">如果正则表达式包含在斜线中（如&ldquo;/re/&rdquo;），则将按从头到尾的顺序搜索文件。如果它括在问号中（&ldquo;?re?&rdquo;），则按反向搜索文件。</span></li>
    <li><span class="bodycopy">方括号 ([]) 可用于表示多个值，而减号 (-) 则表示介于两个值之间的值。例如，[0-9] 与 [0123456789] 相同，而 [a-z] 与 [abcdefghijklmnopqrstuvwxyz] 相同。如果列表的第一个字符是插入符号，则它匹配列表之外的任何字符。下表总结了这些匹配：</span>
    <p> </p>
    <p><span class="italicbodycopy">表达式匹配</span></p>
    <p>
    <table class="FCK__ShowTableBorders" border="0" cellpadding="5" width="40%" align="left" vspace="5" hspace="5">
        <tbody>
            <tr>
                <td><span class="boldbodycopy">示例</span></td>
                <td><span class="boldbodycopy">说明</span></td>
            </tr>
            <p> </p>
            <p>
            <tr>
                <td><span class="bodycopy">[abc]</span></td>
                <td><span class="bodycopy">匹配 a、b、c 中的一个</span></td>
            </tr>
            <tr>
                <td><span class="bodycopy">[a-z]</span></td>
                <td><span class="bodycopy">匹配 a 到 z 中的任意一个小写字母</span></td>
            </tr>
            <tr>
                <td><span class="bodycopy">[A-Z] </span></td>
                <td><span class="bodycopy">匹配 A 到 Z 中的任意一个大写字母</span></td>
            </tr>
            <tr>
                <td><span class="bodycopy">[0-9] </span></td>
                <td><span class="bodycopy">匹配 0 到 9 中的任意一个数字</span></td>
            </tr>
            <tr>
                <td><span class="bodycopy">[^0-9]</span></td>
                <td><span class="bodycopy">从 0 到 9 的任意字符</span></td>
            </tr>
            <tr>
                <td><span class="bodycopy">[-0-9] </span></td>
                <td><span class="bodycopy">从 0 到 9 的任意字符或&ldquo;-&rdquo;</span></td>
            </tr>
            <tr>
                <td><span class="bodycopy">[0-9-] </span></td>
                <td><span class="bodycopy">从 0 到 9 或&ldquo;-&rdquo;中的任意字符</span></td>
            </tr>
            <tr>
                <td><span class="bodycopy">[^-0-9] </span></td>
                <td><span class="bodycopy">除 0 到 9 的和&ldquo;-&rdquo;外的任意字符</span></td>
            </tr>
            <tr>
                <td><span class="bodycopy">[a-zA-Z0-9]</span></td>
                <td><span class="bodycopy">匹配任意字母字符或数字字符</span></td>
            </tr>
            </p>
        </tbody>
    </table>
    </p>
    </li>
</ul>
<br clear="all">
<p> </p>
<p><span class="boldbodycopy">像 grep 一样看世界。</span>有许多工具与 <tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 实用程序相似，如大多数其他操作系统中的 </span><tt><font face="新宋体">find</font></tt><span class="bodycopy"> 命令或一些编程语言中的 </span><tt><font face="新宋体">instr</font></tt><span class="bodycopy"> 命令。它用于在文件内查找与指定模式匹配的项。 </span></p>
<p><span class="bodycopy">为了解释其用法和结果，我们需要一个用来处理的核心文件。下框代表一个名为 MEMO 的文件，将用于多个示例中：</span></p>
<p>
<table border="1" cellpadding="5" width="60%" bgcolor="#dddddd" align="left" vspace="5" hspace="5">
    <tbody>
        <tr>
            <td><span class="bodycopy">TO: All Employees</span>
            <p> </p>
            <p><span class="bodycopy">FROM: Human Resources</span></p>
            <p><span class="bodycopy">Dist. Via:</span><br>
            <table class="FCK__ShowTableBorders" border="0" cellpadding="5" width="35%" bgcolor="#dddddd" align="left" vspace="5" hspace="5">
                <tbody>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73945</span></td>
                        <td><span class="bodycopy">REARICK</span></td>
                        <td><span class="bodycopy">RALPH</span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73947</span></td>
                        <td><span class="bodycopy">KELLEY</span></td>
                        <td><span class="bodycopy">PHIL </span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73949</span></td>
                        <td><span class="bodycopy">DUGAN</span></td>
                        <td><span class="bodycopy">GEORGE</span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73950</span></td>
                        <td><span class="bodycopy">WAGNER</span></td>
                        <td><span class="bodycopy">EVAN </span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73951</span></td>
                        <td><span class="bodycopy">BOWL</span></td>
                        <td><span class="bodycopy">GORDON </span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73952</span></td>
                        <td><span class="bodycopy">PALMER</span></td>
                        <td><span class="bodycopy">SCOTT</span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73954</span></td>
                        <td><span class="bodycopy">MAY</span></td>
                        <td><span class="bodycopy">JAN</span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73955</span></td>
                        <td><span class="bodycopy">HARRIS</span></td>
                        <td><span class="bodycopy">SHANNON </span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73956</span></td>
                        <td><span class="bodycopy">BOYCE</span></td>
                        <td><span class="bodycopy">WILLIAM </span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73958</span></td>
                        <td><span class="bodycopy">BRUMMER</span></td>
                        <td><span class="bodycopy">RICHARD </span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73960</span></td>
                        <td><span class="bodycopy">WADDY</span></td>
                        <td><span class="bodycopy">RICHARD </span></td>
                    </tr>
                    <tr>
                        <td> </td>
                        <td><span class="bodycopy">73962</span></td>
                        <td><span class="bodycopy">CHEESMAN</span></td>
                        <td><span class="bodycopy">BOB</span></td>
                    </tr>
                </tbody>
            </table>
            </p>
            <p> </p>
            <p><span class="bodycopy">In order to better serve the needs of our mass market customers, Alden Publishing is integrating the groups selling to this channel for Alden General Reference and Alden Computer Publishing.This change will allow us to better coordinate our selling and marketing efforts, as well as simplify Alden's relationships with these customers in the areas of customer service, co-op management, and credit and collection.Two national account managers, Susan April and Bob Cheesman, have joined the sales team as result of these changes.</span></p>
            <p><span class="bodycopy">To achieve this goal, we have also organized the new mass sales group into three distinct teams reporting to our current sales directors, Phil Kelley and Ralph Rearick.I have outlined below the national account managers and their respective accounts in each of the teams.We have also hired two new national account managers and a new sales administrator to complete our account coverage.They include</span></p>
            <p><span class="bodycopy">Jan May, who joins us from Acme Consumer Electronics as a national account manager covering traditional mass merchants</span></p>
            <p><span class="bodycopy">Richard Waddy, who comes to us via PepsiCo and Proctor &amp; Gamble and will be responsible for managing our West Coast territory</span></p>
            <p><span class="bodycopy">Shannon Harris, who will become an account administrator for our warehouse clubs business and joins us from Westvaco's Envelope division</span></p>
            <p><span class="bodycopy">Please join me in welcoming each of our new team members.</span></p>
            </td>
        </tr>
    </tbody>
</table>
</p>
<br clear="all">
<p> </p>
<p><span class="bodycopy">作为一个简单的示例，要查找包含单词&ldquo;welcoming&rdquo;的行，最好的方法是</span></p>
<p> </p>
<pre>$ grep welcoming MEMO
Please join me in welcoming each of our new team members.
 $</pre>
<p> </p>
<p><span class="bodycopy">如果要查找单词&ldquo;market&rdquo;，结果只略有不同：</span></p>
<p> </p>
<pre>$ grep market MEMO
 In order to better serve the needs of the mass market customers,
 Alden Publishing is integrating This change will allow us to
 better coordinate our selling and marketing efforts, as well as
 $</pre>
<p> </p>
<p><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 实用程序在一个文件（或多个文件）的每一行中搜索给定字符串的第一个匹配项。如果找到该字符串，则打印此行；否则不打印此行。以这种方式，在请求的&ldquo;market&rdquo;和&ldquo;marketing&rdquo;之间找到匹配项。如果该文档中存在&ldquo;marketable&rdquo;、&ldquo;marketed&rdquo;、&ldquo;markets&rdquo;以及其他类似单词，则还将找到这些单词的匹配项。可以使用通配符和元字符，强烈建议将这些字符放在引号中，以便 shell 不会将其当作命令。</span></p>
<p><span class="bodycopy">要查找所有包含数字的行，请使用以下方法：</span></p>
<p> </p>
<pre>$ grep &quot;[0-9]&quot; MEMO
73945   REARICK RALPH
73947   KELLEY PHIL    
73949   DUGAN GEORGE
73950   WAGNER EVAN    
73951   BOWL GORDON
73952   PALMER SCOTT
73954   MAY JAN      
73955   HARRIS SHANNON 
73956   BOYCE WILLIAM 
73958   BRUMMER RICHARD 
73960   WADDY RICHARD 
73962   CHEESMAN BOB      
$</pre>
<p> </p>
<p><span class="bodycopy">要查找所有包含&ldquo;the&rdquo;的行，请使用以下方法：</span></p>
<p> </p>
<pre>$ grep the MEMO
In order to better serve the needs of the mass market customers,
Alden Publishing is integrating
the groups selling to this channel for Alden General Reference and
Alden Computer Publishing. 
simplify Alden's relationships with these customers in the areas
of customer service, 
and Bob Cheesman have joined the sales team as result of these
changes.
To achieve this goal, we have also organized the new mass sales
group into three distinct teams
the national account managers and their respective accounts in
each of the teams.We have also
$</pre>
<p> </p>
<p><span class="bodycopy">找到了六行，其中一行实际上包含单词&ldquo;these&rdquo;，余下几行包含单词&ldquo;the&rdquo;的精确匹配。</span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 实用程序（几乎与其他每个 UNIX/Linux 实用程序一样）区分大小写，这意味着查找&ldquo;The&rdquo;（而不是&ldquo;the&rdquo;）将产生完全不同的结果：</span></p>
<p> </p>
<pre>$ grep The MEMO
coverage.They include:
$</pre>
<p> </p>
<p><span class="bodycopy">如果不考虑文件中使用的大小写而要查找某个特定词组，则可以采用下面两种方法。第一种方法是使用方括号查找&ldquo;The&rdquo;和&ldquo;the&rdquo;：</span></p>
<p> </p>
<pre>$ grep &quot;[T,t]he&quot; MEMO
In order to better serve the needs of the mass market customers,
Alden Publishing is integrating
the groups selling to this channel for Alden General Reference and
Alden Computer Publishing. 
simplify Alden's relationships with these customers in the areas
of customer service, 
and Bob Cheesman have joined the sales team as result of these
changes.
To achieve this goal, we have also organized the new mass sales
group into three distinct teams
the national account managers and their respective accounts in
each of the teams.We have also
coverage.They include:
 $</pre>
<p> </p>
<p><span class="bodycopy">第二种方法是使用&ldquo;-i&rdquo;选项，该选项指示 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 不区分大小写：</span></p>
<p> </p>
<pre>$ grep -i the MEMO
In order to better serve the needs of the mass market customers,
Alden Publishing is integrating
the groups selling to this channel for Alden General Reference and
Alden Computer Publishing. 
simplify Alden's relationships with these customers in the areas
of customer service, 
and Bob Cheesman have joined the sales team as result of these
changes.
To achieve this goal, we have also organized the new mass sales
group into three distinct teams
the national account managers and their respective accounts in
each of the teams.We have also
coverage.They include:
 $</pre>
<p> </p>
<p><span class="bodycopy">除&ldquo;-i&rdquo;以外，您还可以使用几个其他选项来更改输出。最相关的选项包括：</span></p>
<p> </p>
<ul>
    <li><span class="bodycopy">&ldquo;-c&rdquo;&mdash;抑制标准输出；相反，打印每个输入文件的匹配行数。 </span></li>
    <li><span class="bodycopy">&ldquo;-l&rdquo;&mdash;抑制标准输出；相反，打印通常从中打印输出的每个输入文件的名称。</span></li>
    <li><span class="bodycopy">&ldquo;-n&rdquo;&mdash;使用其输入文件中的行号为输出的每一行加上前缀。 </span></li>
    <li><span class="bodycopy">&ldquo;-v&rdquo;&mdash;颠倒匹配的含义，选择不匹配的行。 </span></li>
</ul>
<p> </p>
<p><span class="boldbodycopy">使用 <tt><strong><font face="新宋体">fgrep</font></strong></tt> 和 <tt><strong><font face="新宋体">egrep</font></strong></tt>。</span><tt><font face="新宋体">fgrep</font></tt><span class="bodycopy"> 实用程序也可以称作快速 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 和固定 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy">。同 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 一样，它在文件中搜索字符串，并打印所有包含该字符串的行。与 </span><tt><font face="新宋体">grep</font></tt> 不同的是，<tt><font face="新宋体">fgrep</font></tt><span class="bodycopy"> 搜索字符串，而不是搜索与表达式匹配的模式。可以将 </span><tt><font face="新宋体">fgrep</font></tt><span class="bodycopy"> 看作是具有几个增强功能的 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy">：</span></p>
<p> </p>
<ul>
    <li><span class="bodycopy">您可以同时搜索多个对象。</span>
    <p> </p>
    <p> </p>
    </li>
    <li><tt><font face="新宋体">fgrep</font></tt><span class="bodycopy"> 实用程序通常要比 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 快很多。</span>
    <p> </p>
    <p> </p>
    </li>
    <li><span class="bodycopy">您不能使用 </span><tt><font face="新宋体">fgrep</font></tt><span class="bodycopy"> 搜索带有模式的正则表达式。</span></li>
</ul>
<p> </p>
<p><span class="bodycopy">例如，假设您要从前面的 MEMO 文件中找出大写名称。要查找&ldquo;HARRIS&rdquo;和&ldquo;BOB&rdquo;，必须发出两个不同的 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 命令：</span></p>
<p> </p>
<pre>$ grep HARRIS MEMO
73955   HARRIS SHANNON 
$

$ grep BOB MEMO
73962   CHEESMAN BOB      
$</pre>
<p> </p>
<p><span class="bodycopy">您可以只使用一个 </span><tt><font face="新宋体">fgrep</font></tt><span class="bodycopy"> 命令来完成同一操作：</span></p>
<p> </p>
<pre>$ fgrep &quot;HARRIS
&gt; BOB&quot; MEMO
73955   HARRIS SHANNON 
73962   CHEESMAN BOB      
$</pre>
<p> </p>
<p><span class="bodycopy">注意，在各项之间需要有一个回车符。如果没有回车符，搜索将在每行上查找与&ldquo;HARRIS BOB&rdquo;匹配的包含 10 个字母的字符串。如果有回车符，则查找&ldquo;HARRIS&rdquo;的匹配项和&ldquo;BOB&rdquo;的匹配项。还应注意，必须在目标文本两侧使用引号。这样做是为了区分文本和文件名。</span></p>
<p><span class="bodycopy">您不必在命令行上指定搜索项，而是可以将其置于文件中并使用该文件的内容搜索其他文件。使用 </span><tt><font face="新宋体">-f</font></tt><span class="bodycopy"> 选项，该技术使您可以创建一个包含您经常搜索的名称或数字的主文件，并重复使用它：</span></p>
<p> </p>
<pre>$ cat  pull_list
HARRIS
BOB
$

$ fgrep -f pull_list MEMO
73955   HARRIS SHANNON 
73962   CHEESMAN BOB      
$</pre>
<p> </p>
<p><span class="bodycopy">同其前辈 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 和 </span><tt><font face="新宋体">fgrep 一样，egrep</font></tt><span class="bodycopy">用于在文件中搜索指定文本的匹配项。从本质上而言，您可以将它看作是 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 的一个更强大的版本，通过它一次可以搜索多个对象。要搜索的对象由回车符分隔（与 </span><tt><font face="新宋体">fgrep</font></tt><span class="bodycopy"> 一样）或由管道符号 (|) 分隔：</span></p>
<p> </p>
<pre>$ egrep &quot;HARRIS
&gt; BOB&quot; MEMO
73955   HARRIS SHANNON 
73962   CHEESMAN BOB      
$

$ egrep &quot;HARRIS|BOB&quot; MEMO
73955   HARRIS SHANNON 
73962   CHEESMAN BOB     
$</pre>
<p> </p>
<p><span class="bodycopy">除了能够搜索多个对象以外，</span><tt><font face="新宋体">egrep</font></tt><span class="bodycopy"> 提供的 </span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 所不具备的功能还包括能够搜索重复项和组：</span></p>
<p><span class="bodycopy">? 搜索前面字符的零个或一个重复项</span><br>
<span class="bodycopy">+ 搜索前面字符的一个或多个重复项</span><br>
<span class="bodycopy">( ) 表示一个组。</span></p>
<p><span class="bodycopy">例如，假设您不知道 Jan 的姓是&ldquo;May&rdquo;还是&ldquo;Mays&rdquo;：</span></p>
<p> </p>
<pre>$ egrep &quot;MAYS?&quot;MEMO
73954   MAY  JAN      
$</pre>
<p> </p>
<p><span class="bodycopy">该方法查找&ldquo;MAY&rdquo;和&ldquo;MAYS&rdquo;的匹配项，而</span></p>
<p> </p>
<pre>$ egrep &quot;HARRIS+&quot; MEMO
73955   HARRIS SHANNON 
$</pre>
<p> </p>
<p><span class="bodycopy">匹配&ldquo;HARRIS&rdquo;、&ldquo;HARRISS&rdquo;、&ldquo;HARRISSS&rdquo;，依此类推。如果要搜索某个单词及其可能的派生词，则将派生词的特征字符括在括号中：</span></p>
<p> </p>
<pre>$ egrep -i &quot;electron(ic)?s&quot; MEMO
Jan May, who joins us from Acme Consumer Electronics as a National Account Manager
$</pre>
<p> </p>
<p><span class="bodycopy">该方法查找&ldquo;electrons&rdquo;和&ldquo;electronics&rdquo;的匹配项。因此，后跟&ldquo;+&rdquo;的正则表达式查找此正则表达式的一个或多个匹配项，而后跟&ldquo;?&rdquo;的正则表达式查找此正则表达式的零个或一个匹配项。由&ldquo;|&rdquo;或回车符分隔的多个正则表达式查找由其中任意表达式所查找的字符串，且正则表达式可以用括号 ( ) 进行分组。可以使用的参数有 </span><tt><font face="新宋体">-c、-f、-i、-l、-n</font></tt><span class="bodycopy"> 和 </span><tt><font face="新宋体">-v</font></tt><span class="bodycopy">。</span></p>
<p><span class="boldbodycopy">实例。</span><tt><font face="新宋体">grep</font></tt><span class="bodycopy"> 实用程序系列可以用于任何文本格式的系统文件，在其行中查找匹配项。例如，要在 /etc/passwd 文件中查找任何名为 Kristin 的用户项，可以使用以下方法：</span></p>
<p> </p>
<pre>$ grep kristin /etc/passwd
kristin:petKv.fLWG/Ig:506:100:kristin dulaney:/home/kristin:/bin/bash
kscott:#Jknidies^v:610:100:kristin scott:/home/kscott:/bin/bash
$</pre>
<p> </p>
<p><span class="bodycopy">注意：本文的很多示例都使用了 /etc/passwd，这是因为它代表了通用冒号分隔文件。与其相关的规则可以适用于任何类似文件。</span></p>
<p><span class="bodycopy">由于它在行中的任意位置搜索匹配项，因此它将找到 Kristin Dulaney 和 Kristin Scott 两项。如果只希望搜索用户名（第一个域）为 kristin 的项，则可以按如下所示修改此命令：</span></p>
<p> </p>
<pre>$ grep &quot;^kristin&quot; /etc/passwd kristin:petKv.fLWG/Ig:506:100:kristin
dulaney:/home/kristin:/bin/bash
$</pre>
<p> </p>
<p><span class="parahead1">使用 <tt><strong><font face="新宋体">cut、paste</font></strong></tt> 和 <tt><strong><font face="新宋体">join</font></strong></tt></span></p>
<p><span class="bodycopy">cut 实用程序能够将可能构成数据域的列与文件分离。默认分隔符为制表符，</span><tt><font face="新宋体">-f</font></tt><span class="bodycopy"> 选项用于指定所需的域。例如，如果名为&ldquo;august&rdquo;的文本文件包含三列，如下所示：</span></p>
<p> </p>
<pre>one two  three
four five  six
seven eight  nine
ten eleven twelve</pre>
<p> </p>
<p><span class="bodycopy">则命令</span></p>
<p> </p>
<pre>$ cut -f2 august</pre>
<p> </p>
<p><span class="bodycopy">将返回</span></p>
<p> </p>
<pre>two
five
eight
eleven</pre>
<p> </p>
<p><span class="bodycopy">而</span></p>
<p> </p>
<pre>$ cut -f1,3 august</pre>
<p> </p>
<p><span class="bodycopy">将返回相反的结果：</span></p>
<p> </p>
<pre>one three
four six
seven nine
ten twelve</pre>
<p> </p>
<p><span class="bodycopy">该命令有多个可用选项。除 </span><tt><font face="新宋体">-f</font></tt><span class="bodycopy"> 以外的两个比较常见的选项是</span></p>
<p><tt><font face="新宋体">-c</font></tt><span class="bodycopy">&mdash;用于指定字符而非域</span><br>
<tt><font face="新宋体">-d</font></tt><span class="bodycopy">&mdash;用于指定除制表符以外的分隔符</span></p>
<p><span class="boldbodycopy">其他 cut 选项。</span><span class="bodycopy"> </span><tt><font face="新宋体">ls -l</font></tt><span class="bodycopy"> 命令显示权限、链接数、所有者、组、大小、日期和文件名&mdash;以上所有内容均由空格分隔，并在权限与链接之间包含两个字符。如果您只想知道谁将文件保存在目录中，而不关注其他数据，则可以使用</span></p>
<p> </p>
<pre>$ ls -l | cut -d&quot; &quot; -f5</pre>
<p> </p>
<p><span class="bodycopy">该命令忽略权限（第一个域）、两组空格（第二和第三个域）以及链接数（第四个域）。随后，它将显示所有者（第五个域），并忽略其后的所有内容。获得此结果的另一种方法是使用 </span><tt><font face="新宋体">ls -l</font></tt><span class="bodycopy">，权限通常由 10 个字符组成，其中三个 3 字符空格，其后是链接数和空格。所有者的名称通常从显示的第 16 个字符开始，并延续整个名称的长度。命令</span></p>
<p> </p>
<pre>$ ls -l | cut -c16</pre>
<p> </p>
<p><span class="bodycopy">返回第 16 个字符，即所有者名称的第一个字母。如果我们假设大多数用户将使用八个或八个以下的字符表示其名称，则命令</span></p>
<p> </p>
<pre>$ ls -l | cut -c16-24</pre>
<p> </p>
<p><span class="bodycopy">将返回名称域中的那些项。</span></p>
<p><span class="bodycopy">文件名从第 55 个字符开始，但您无法确定该字符之后的字符数，这是因为某些文件名要比其他文件名长很多。解决该问题的方法是从第 55 个字符开始，但不指定结束字符（这意味着将占用行的全部剩余位置），如下所示：</span></p>
<p> </p>
<pre>$ ls -l | cut -c55-</pre>
<p> </p>
<p><tt><font face="新宋体">cut</font></tt><span class="bodycopy"> 实用程序从文件中提取域，然后可以使用 </span><tt><font face="新宋体">paste</font></tt><span class="bodycopy"> 或 </span><tt><font face="新宋体">join</font></tt><span class="bodycopy"> 合并这些域。这两个实用程序中，</span><tt><font face="新宋体">paste</font></tt><span class="bodycopy"> 相对比较简单；它只从源文件中提取一行，并将其与从其他源文件中提取的另一行合并。例如，如果第一个文件的内容为</span></p>
<p> </p>
<pre>Indianapolis
Columbus
Peoria
Livingston
Scottsdale</pre>
<p> </p>
<p><span class="bodycopy">第二个文件的内容为</span></p>
<p> </p>
<pre>Indiana
Ohio
Illinois
Montana
Arizona</pre>
<p> </p>
<p><span class="bodycopy">则以下内容（包括提示）将为生成的结果：</span></p>
<p> </p>
<pre>$ paste fileone filetwo
Indianapolis Indiana
Columbus Ohio
Peoria  Illinois
Livingston Montana
Scottsdale Arizona
$</pre>
<p> </p>
<p><span class="bodycopy">如果第一个文件中的行数比第二个文件多，则只粘贴制表符之后的空白项。制表符是默认分隔符，但可以使用 </span><tt><font face="新宋体">-d</font></tt><span class="bodycopy"> 选项将其更改为其他分隔符：</span></p>
<p> </p>
<pre>$ paste -d&quot;, &quot; fileone filetwo
Indianapolis, Indiana
Columbus, Ohio
Peoria, Illinois
Livingston, Montana
Scotttsdale, Arizona
$</pre>
<p> </p>
<p><span class="bodycopy">也可以使用 </span><tt><font face="新宋体">-s</font></tt><span class="bodycopy"> 选项将第一个文件的所有数据输出到一行，其后依次是一个回车符和第二个文件：</span></p>
<p> </p>
<pre>$ paste -s fileone filetwo
Indianapolis Columbus Peoria Livingston Scotttsdale 
Indiana Ohio Illinois Montana Arizona
$</pre>
<p> </p>
<p><span class="bodycopy">可以将 </span><tt><font face="新宋体">join</font></tt><span class="bodycopy"> 实用程序看作是 </span><tt><font face="新宋体">paste</font></tt><span class="bodycopy"> 的显著增强版本。但该实用程序只有在所联接的文件存在一个公共域时才起作用，这一点非常重要。例如，如果像前面 </span><tt><font face="新宋体">paste</font></tt><span class="bodycopy"> 示例中那样使用 </span><tt><font face="新宋体">join</font></tt><span class="bodycopy">，则结果将如下所示：</span></p>
<p> </p>
<pre>$ join fileone filetwo
$</pre>
<p> </p>
<p><span class="bodycopy">换言之，不显示任何内容。join 实用程序必须在所针对的两个文件中找到一个公共域，并且在默认情况下，它要求此公共域是第一个域。例如，假设第一个文件现在包含以下项：</span></p>
<p>
<table class="FCK__ShowTableBorders" border="0" cellpadding="5" width="25%" align="left" vspace="5" hspace="5">
    <tbody>
        <tr>
            <td><span class="bodycopy">11111</span></td>
            <td><span class="bodycopy">Indianapolis</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">22222</span></td>
            <td><span class="bodycopy">Columbus</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">33333</span></td>
            <td><span class="bodycopy">Peoria</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">44444</span></td>
            <td><span class="bodycopy">Livingston</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">55555</span></td>
            <td><span class="bodycopy">Scottsdale</span></td>
        </tr>
    </tbody>
</table>
</p>
<p><span class="bodycopy">第二个文件的内容包括</span></p>
<p>
<table class="FCK__ShowTableBorders" border="0" cellpadding="5" width="40%" align="left" vspace="5" hspace="5">
    <tbody>
        <tr>
            <td><span class="bodycopy">11111</span></td>
            <td><span class="bodycopy">Indiana</span></td>
            <td><span class="bodycopy">500 race</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">22222</span></td>
            <td><span class="bodycopy">Ohio</span></td>
            <td><span class="bodycopy">Buckeye State</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">33333</span></td>
            <td><span class="bodycopy">Illinois</span></td>
            <td><span class="bodycopy">Wrigley Field</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">44444</span></td>
            <td><span class="bodycopy">Montana</span></td>
            <td><span class="bodycopy">Yellowstone Park</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">55555</span></td>
            <td><span class="bodycopy">Arizona</span></td>
            <td><span class="bodycopy">Grand Canyon</span></td>
        </tr>
    </tbody>
</table>
</p>
<p><span class="bodycopy">以下内容（包括提示）是生成的结果：</span></p>
<p> </p>
<pre>$ join fileone filetwo
11111 Indianapolis Indiana 500 race
22222 Columbus Ohio Buckeye State
33333 Peoria Illinois Wrigley Field
44444 Livingston Montana Yellowstone Park
55555 Scottsdale Arizona Grand Canyon
$</pre>
<p> </p>
<p><span class="bodycopy">已识别第一个域相同，并合并了匹配项。</span><span class="boldbodycopy">paste</span><span class="bodycopy"> 盲目地从每个文件中提取一行以创建显示，而 join 只合并匹配的行（这一点<u>至关重要</u>），且该匹配必须是与另一个文件中相应行的完全匹配。对这一点怎么强调都不过分。例如，如果第二个文件在中间额外增加了一行：</span></p>
<p>
<table class="FCK__ShowTableBorders" border="0" cellpadding="5" width="40%" align="left" vspace="5" hspace="5">
    <tbody>
        <tr>
            <td><span class="bodycopy">11111</span></td>
            <td><span class="bodycopy">Indiana</span></td>
            <td><span class="bodycopy">500 race</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">22222</span></td>
            <td><span class="bodycopy">Ohio</span></td>
            <td><span class="bodycopy">Buckeye State</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">66666</span></td>
            <td><span class="bodycopy">Tennessee</span></td>
            <td><span class="bodycopy">Smokey Mountains</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">33333</span></td>
            <td><span class="bodycopy">Illinois</span></td>
            <td><span class="bodycopy">Wrigley Field</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">44444</span></td>
            <td><span class="bodycopy">Montana</span></td>
            <td><span class="bodycopy">Yellowstone Park</span></td>
        </tr>
        <tr>
            <td><span class="bodycopy">55555</span></td>
            <td><span class="bodycopy">Arizona</span></td>
            <td><span class="bodycopy">Grand Canyon</span></td>
        </tr>
    </tbody>
</table>
</p>
<p><span class="bodycopy">则以下内容（包括提示）是生成的结果：</span></p>
<p> </p>
<pre>$ join fileone filetwo
11111 Indianapolis Indiana 500 race
22222 Columbus Ohio Buckeye State
$</pre>
<p> </p>
<p><span class="bodycopy">只要文件不再匹配，就不再执行操作。检查而且仅检查两个文件中的对应行，在默认域上查找匹配。如果找到匹配，则将其合并到结果中；否则不合并。使用原始的第二个文件再进行一次演示：</span></p>
<p> </p>
<pre>$ tac filetwo &gt; filethree
$ join fileone filethree
55555 Scottsdale Arizona Grand Canyon
$</pre>
<p> </p>
<p><span class="bodycopy">尽管这两个文件中的每一行都匹配，但只找到一个匹配项。强烈建议您首先对每个要使用的文件进行排序以使其采用相同的顺序来解决 </span><tt><font face="新宋体">join</font></tt><span class="bodycopy"> 存在的问题。</span></p>
<p><span class="bodycopy">您不必保留 </span><tt><font face="新宋体">join</font></tt><span class="bodycopy"> 的默认设置，即只查看前几个域是否匹配，或输出所有列。</span><tt><font face="新宋体">-1</font></tt><span class="bodycopy"> 选项使您能够指定将哪个域用作第一个文件中的匹配域，</span><tt><font face="新宋体">-2</font></tt><span class="bodycopy"> 选项使您能够指定将哪个域用作第二个文件中的匹配域。例如，如果第一个文件的第二个域匹配第二个文件的第三个域，则语法为</span></p>
<p> </p>
<pre>$ join -1 2 -2 3 fileone filethree</pre>
<p> </p>
<p><tt><font face="新宋体">-o</font></tt><span class="bodycopy"> 选项用于以格式 {file.field} 指定输出域。因此，要在匹配行上打印第一个文件的第二个域和第二个文件的第三个域，则语法为</span></p>
<p> </p>
<pre>$ join -o 1.2 2.3 fileone filethree
Indianapolis 500
Columbus Buckeye
Peoria Wrigley
Livingston Yellowstone
Scottsdale Grand
$</pre>
<p> </p>
<p><span class="boldbodycopy">实例。</span><span class="bodycopy">由于 </span><tt><font face="新宋体">cut</font></tt><span class="bodycopy"> 可用于从文件中提取域，因此它对于处理系统文件是不可或缺的。例如，要获取系统上所有用户的列表，可以从先前示例中使用的 /etc/passwd 文件中只提取第一个域：</span></p>
<p> </p>
<pre>$ cut -d&quot;:&quot;-f1 /etc/passwd
root
daemon
bin
sys
adm
uucp
mail
kristin
$</pre>
<p> </p>
<p><span class="bodycopy">要收集用户名及其相应的主目录，可以提取第一个和第六个域：</span></p>
<p> </p>
<pre>$ cut -d&quot;:&quot;-f1 /etc/passwd
root:/
daemon:/
bin:/usr/bin
sys:/
adm:/var/adm
uucp:/usr/lib/uucp
mail:/etc/mail
kristin:/home/kristin
$</pre>
<p> </p>
<p><tt><font face="新宋体">join</font></tt><span class="bodycopy"> 实用程序最明显的示例是从 /etc/passwd 文件中提取用户名和相应的主目录，并从 /etc/group 文件中提取 alpha 组名称。组以数字格式显示在 /etc/passwd 文件的第四个域（该格式就是组在 /etc/group 文件的第三个域中的显示格式）中：</span></p>
<p> </p>
<pre>$ join -1 4 -2 3 -o 1.1 2.1 1.6 -t :/etc/passwd /etc/group</pre>
<p> </p>
<p><span class="parahead1">千万别忽视 <tt><strong><font face="新宋体">sed</font></strong></tt> 和 <tt><strong><font face="新宋体">awk</font></strong></tt></span></p>
<p>
<table border="1" cellpadding="5" width="40%" bgcolor="#dddddd" align="right" vspace="5" hspace="5">
    <tbody>
        <tr>
            <td><center><span class="parahead1"><a name="RES"></a>资源</span></center>
            <p> </p>
            <p><span class="boldbodycopy">下载用于 Linux 的 Oracle 数据库 10<em>g</em></span><br>
            <span class="bodycopy">Oracle 数据库 10<em>g</em> 第 1 版 (10.1.0.2) 现在可用于 Linux x86 和 Linux Itanium 平台；请<a href="http://www.oracle.com/technology/global/cn/software/products/database/oracle10g/index.html" target="_blank"><span class="bodylink">在此</span></a>从 OTN 上免费下载。 </span></p>
            <p><span class="boldbodycopy">访问 Linux 技术中心</span><br>
            <span class="bodycopy">收藏<a href="http://www.oracle.com/technology/global/cn/tech/linux" target="_blank"><span class="bodylink">本页</span></a>，以获取有关 Linux 系统管理员最佳实践的一般技术信息，以及有关 Oracle-on-Linux 产品群的具体技术信息。</span></p>
            <p><span class="boldbodycopy">相关文章</span><br>
            <a href="http://www.oracle.com/technology/global/cn/pub/articles/tech_dba.html#linux" target="_blank"><span class="bodylink">Linux 相关技术文章存档</span></a></p>
            </td>
        </tr>
    </tbody>
</table>
<span class="bodycopy">Linux 工具中两个最强大的实用程序是 </span><tt><font face="新宋体">sed</font></tt><span class="bodycopy"> 和 </span><tt><font face="新宋体">awk</font></tt><span class="bodycopy">。</span><tt><font face="新宋体">sed</font></tt><span class="bodycopy"> 流编辑器可用于编辑大量数据，而不需要任何的手动干预。</span><tt><font face="新宋体">awk</font></tt><span class="bodycopy"> 实用程序本身实际上是一种编程语言，可用于复杂的逻辑语句以及简化文本片段的提取。</span></p>
<p><span class="bodycopy">这两个实用程序是<a href="http://www.oracle.com/technology/pub/articles/tech_dba.html#linux" target="_blank"><span class="bodylink">先前文章</span></a>的主题；建议您在进行下一个示例前先查看这些文章。</span></p>
<p><span class="boldbodycopy">实例。</span><span class="bodycopy"> 要从 /etc/passwd 文件中提取第六个域，请使用命令</span></p>
<p> </p>
<pre>$ awk -F:'{print $6}' /etc/passwd</pre>
<p> </p>
<p><span class="bodycopy">要打印该文件（使用短划线代替域之间的分隔符）并只打印第一个和第六个域（按相反的顺序），请使用命令</span></p>
<p> </p>
<pre>$ awk -F&quot;:&quot;'{OFS=&quot;-&quot;}{print $6,$1}}' /etc/passwd</pre>
<p> </p>
<p><span class="parahead1">结论</span></p>
<p><span class="bodycopy">本文重点介绍了用于从标准 Linux 文件中提取数据的实用程序。提取数据后，可以整理数据以查看和打印，或将数据导入其他数据库。知道如何使用这几个工具可以帮助您减少普通任务所需的时间，使您成为一个更高效的管理员。</span></p></div></table><br><div class=opt id=blogOpt><a href="http://hi.baidu.com/watermoon_littlegui/blog/category/Linux" title="查看该分类中所有文章">类别：Linux</a><span class=x-blog-opt-sp>|</span><a href="#" onclick="addToShare(); return false;" target=_blank><img src=http://img.baidu.com/hi/apps/share/share_btn.gif border=0 align=absbottom></a><span class=x-blog-opt-sp>|</span><a title="将此文章添加到百度搜藏" href=http://cang.baidu.com/do/add onClick="return addToFavor();" target=_blank>添加到搜藏</a> <span class=x-blog-opt-sp>|</span><a title="将此文章分享到i贴吧" href="#" onclick="addToiTieba(); return false;" target=_blank>分享到i贴吧</a><span class=x-blog-opt-sp>|</span>浏览(<span id=result>1381</span>)<span class=x-blog-opt-sp>|</span><a href="#send">评论</a>&nbsp;(<span id=blogCmtCount>0</span>)<script language=javascript>
										/*<![CDATA[*/
										var pre = [true,'转：23种设计模式的“十大误解”', '转：23种设计模式的“十大误解”','\/watermoon_littlegui/blog/item/8bcb7dddbbfc70a8cc116699.html'];
										var post = [true,'转：epoll的ET和LT模式详解','转：epoll的ET和LT模式详解', '\/watermoon_littlegui/blog/item/bdf7c909c394fe9c0b7b82f0.html'];
										if(pre[0] || post[0]){
											document.write('<div style="height:5px;line-height:5px;">&nbsp;</div><div id="in_nav">');
											if(pre[0]){
												document.write('上一篇：<a href="' + pre[3] + '" title="' + pre[1] + '">' +  pre[2] + '</a>&nbsp;&nbsp;&nbsp;&nbsp;');
											}
											if(post[0]){
												document.write('下一篇：<a href="' + post[3] + '" title="' + post[1] + '">' +  post[2] + '</a>');
											}
											document.write('</div>');
										}
										/*]]>*/
									</script></div><div class=line>&nbsp;</div><style type="text/css">#in_related_doc a{text-decoration:none}</style><div id=in_related_tmp></div><div id=in_reader> <div class=tit>最近读者：</div></div><div class=line>&nbsp;</div><div id=in_comment> <a name=comment></a> <div class=tit>网友评论：</div> <span id=userCommentList></span> <div id=page></div></div><form action='/watermoon_littlegui/commit' id=blogCmtSubmitForm name=blogCmtSubmitForm method=post> <input type=hidden name=bdstoken value='159a0de2f990e4cff4c560e7c876c5be'> <input type=hidden name=ct value=8> <input type=hidden name=cm value=2> <input type=hidden name=spBlogID value='953dbcdacd94836fd1164e0e'> <input type=hidden name=spBlogCmtID value=''> <input type=hidden name=spRefURL value=''></form><div id=in_send><a name=send></a><form name=form1 id=popFormSubmit action="/watermoon_littlegui/commit" method=post onSubmit="return checkcmtform()"><input type=hidden name=bdstoken value="159a0de2f990e4cff4c560e7c876c5be"><input type=hidden name=ct value=8><input type=hidden name=cm value=1><input type=hidden name=spBlogID value="953dbcdacd94836fd1164e0e"><input type=hidden name=spRefURL id=spRefURL><script>
										    document.getElementById("spRefURL").value = window.location.href;
										</script><div class=tit>发表评论：</div><table width=620 border=0 cellspacing=5 cellpadding=0><tr><td class=f14>姓　名：<td>zhu__feng001<input name=spBlogCmtor id=spBlogCmtor style="display:none;" maxlength=50 value="zhu__feng001"><div style=display:none id=nmerror>*姓名最长为50字节</div><input type=hidden name=spBlogCmtURL id=spBlogCmtURL style=width:360px maxlength=128 onChange='checkeandu("spBlogCmtURL")' value='http://hi.baidu.com/zhu__feng001'><tr id=2_err style=display:none><td>&nbsp;<td><div class=error id=2_err_con></div><tr><td valign=top class=f14 id=reTitle>内　容：<td> <textarea name="spBlogCmtText" id="spBlogCmtText" style="width:520px;height:155px" tabindex="3" onFocus="hidErr(3);" ></textarea><tr id=3_err style=display:none><td>&nbsp;<td><div class=error id=3_err_con></div><tr id=share_blog> <td> <td valign=top><input type=checkbox id=shareBlog autocomplete=off style="vertical-align:text-bottom; margin-bottom:2px; margin-bottom:-2px\9;"><label for=shareBlog>同时将此文章分享给好友</label><input type=hidden id=shareBlogEchoback name=echoback><tr id=vercode><td valign=top class=f14>验证码：<td valign=top><input type=hidden name=spVcode value=""><input onFocus="f_focus()" id=spVerifyKey name=spVerifyKey size=6 maxlength=4 autocomplete=off tabindex=4> 请点击后输入四位验证码，字母不区分大小写<br><div id=yanzheng style=display:none><img id=verifypic width=120 height=40><wbr><a onFocus="this.blur();" href="#" onClick="return newverifypic();" title="看不清左边的字符">看不清?</a></div><tr><td valign=top class=f14>&nbsp;<td valign=top class=f14><input id=btn_ok name=btn_ok type=submit autocomplete=off value="发表评论" tabindex=5>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#" id=cancleReLink onClick="canclereply(); return false;" style="display:none; font-size:12px;color:#666;">取消回复</a></table></form></div><br></div><table width="100%" border=0 cellspacing=0 cellpadding=0 height=8><tr><td class=modbl width=7>&nbsp;<td class=modbc>&nbsp;<td class=modbr width=7>&nbsp;</table></div></div></div></div><div class=clearfix></div><div style="text-align:center;margin:30px auto 15px;font-family:Arial,simsun;font-size:12px;"><div style="margin:0 auto 6px;"><a href=http://help.baidu.com/question?prod_en=space target=_blank style="color:#00C;">帮助中心</a><span>&nbsp;|&nbsp;</span><a href="http://tieba.baidu.com/f?kw=%B0%D9%B6%C8%BF%D5%BC%E4&fr=wwwt" target=_blank style="color:#00C;">空间客服</a><span>&nbsp;|&nbsp;</span><a href=http://tousu.baidu.com/hi/ target=_blank style="color:#00C;">投诉中心</a><span>&nbsp;|&nbsp;</span><a href=http://www.baidu.com/search/hi_contract.html target=_blank style="color:#00C;">空间协议</a></div><div style="color:#7A77C8;">&copy;2012&nbsp;Baidu</div></div></center><ul id=blogCmtContentList style="display:none;"></ul><script>	var g_blogTitle = '转：提取数据grep, cut, awk, sed, join, paste';
		var g_blogId = '953dbcdacd94836fd1164e0e';
		var g_isAllowCmt =  true ;
		var g_isByShared =  false ;
		var g_isAddRelate =  true ;
		var g_latestReader = [
									["http:\/\/hi.baidu.com\/ylbhz","fa06796c62687aa607","ylbhz"],
									["http:\/\/hi.baidu.com\/kknd_vii","318c4b4b4e445f5649498513","KKND_VII"],
									["http:\/\/hi.baidu.com\/joansky","d3a76a6f616e736b79d316","joansky"],
									["http:\/\/hi.baidu.com\/ye_chengyin","88aa79655f6368656e6779696ee703","ye_chengyin"],
									["http:\/\/hi.baidu.com\/beijiqieys","c6ec6265696a6971696579736504","beijiqieys"],
									["http:\/\/hi.baidu.com\/stweiyy2010","416573747765697979323031308513","stweiyy2010"],
									["http:\/\/hi.baidu.com\/donkeydog","688a646f6e6b6579646f67ec0a","donkeydog"],
									["http:\/\/hi.baidu.com\/ibidi","e217646f64363030395504","dod6009"],
								{}
			];
	</script><iframe id=submitiframe name=submitiframe src="http://hi.bdimg.com/static/cblog/html/blank.html?v=20111213" style="display:none;"></iframe><script src="http://hi.bdimg.com/static/base/js/conf/comment.js?v=1334907755.js"></script><script src="http://hi.bdimg.com/static/cblog/js/job/detailpage.js?v=ee7931cf.js"></script><script>
/*<![CDATA[*/
/*{cmt
    这个相当一个代理器  
  在这里想实现一种这种加载效果：加载时注册（用一个 初始化数据.数组 记录要绑定的ID），文档ready后，按需加载js+css资源，js加载完，就初始化据执行

  有个问题，有些结构是 动态 执行这个绑定的，可能会发生资源还没有加载的情况。可以考虑给初始化数据，加一个标志位，说明加载完未，如果未，则把数据push到 初始化数据中(因为是用 dom.onxxx 的方式，所以不怕多次对同一个ID执行的问题)


  }*/
var SP = SP || {};
if(!SP.mycard){
    SP.mycard = new (function(){
        var me = this;
        var _cancleAction = Session.isDrag;  /*{cmt 标记在特殊情况下，所有的注册都被abort 如拖动页面}*/
        var _list = [];
        var _sourceLoaded = false;    /*{cmt 这里用了一种资源加载结束后，回调的机制，这个标志资源是否加载结束}*/
        me.bind = function (_id){
            if(_cancleAction){  //abort
                return;
            }
            if(!_sourceLoaded){
                _list.push(_id);
            } else {
                baidu.space.mycard.bind(_id);
            }
        }
        me.init = function (_config){
            _cancleAction = !!_config.cancle;
        }
        me.onSourceLoaded = function (){
            _sourceLoaded = true;
            baidu.space.mycard.init({portrait: Session.visitorPortrait});
            for(var i=0,len=_list.length; i<len; i++){
                baidu.space.mycard.bind(_list[i]);
            }
        }
    })();
    baidu.dom.ready(function(){
        BdAjax.loadCSS('http://hi.bdimg.com/static/cblog/css/ui/ucard/ucard.css?v=50de96ca.css');
        BdAjax.loadJS('http://hi.bdimg.com/static/cblog/js/ui/ucard/ucard.js?v=fcbffbf8.js');
    });
}
SP.mycard.bind('m_blog');  /*{cmt 只有文档加载完才真正绑定，这里只是append记录 }*/
/*]]>*/
</script>