<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gbk" />
<title>Kickstart 配置 - CEway - ChinaUnix个人空间  - Powered by X-Space  - Powered by SupeSite</title>
<meta name="keywords" content="文件,命令,系统,设置,网络,服务,服务器,shell,管理,Windows,linux,Linux,协议,win,空间,应用,Kickstart,数据,Win,解决,方案 空间,博客,space,blog,linux,unix,IT" />
<meta name="description" content="1. kickstart 选项下列选项可以被放置在 kickstart 文件中。 注意如果某选项后面跟随了一个等号（=），它后面就必须指定一个值。在示例命令中，括号（[]）中的选项是命令的可选参数。autostep（可选） 和 interac. 打造中国最有价值的IT技术个人空间" />
<link rel="stylesheet" type="text/css" href="http://hi.chinaunix.net/templates/softsea/css/style.css" />
<script type="text/javascript">
var siteUrl = "http://hi.chinaunix.net";
</script>
<script src="http://hi.chinaunix.net/include/js/ajax.js" type="text/javascript" language="javascript"></script>
<script src="http://hi.chinaunix.net/include/js/common.js" type="text/javascript" language="javascript"></script>
</head>

<body>
<div id="wrap">
<div id="header">
<table border="0" cellpadding="0" cellspacing="0" id="headertab">
<tr>
<td id="logo">
<a href="http://hi.chinaunix.net/"><img src="http://hi.chinaunix.net/templates/softsea/images/logo.jpg" alt="ChinaUnix个人空间" style="border:none;" /></a>
</td>
<td id="topmenu">
<ul>
<li><a href="http://hi.chinaunix.net/?action-blog" class="blog">日志</a></li>
<li><a href="http://hi.chinaunix.net/?action-group" class="group">圈子</a></li>
<li><a href="http://hi.chinaunix.net/?action-video" class="video">视频</a></li>
<li><a href="http://hi.chinaunix.net/?action-image" class="image">相册</a></li>
<li><a href="http://hi.chinaunix.net/?action-file" class="file">软件</a></li>
<li><a href="http://hi.chinaunix.net/?action-link" class="link">书签</a></li>
<li><a href="http://hi.chinaunix.net/m.php?name=love" class="love">交友</a></li>
<li><a href="http://hi.chinaunix.net/m.php?name=party" class="party">聚会</a></li>
</ul>
</td>
</tr>
</table>
</div>

<div id="menu"><ul>
<li><a href="http://hi.chinaunix.net/?action-category-catid-92">操作系统</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-93">程序开发</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-94">数据库技术</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-95">网络技术</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-96">服务器/存储</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-98">信息安全</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-97">网站设计</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-127">信息化</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-126">其它技术</a></li>
<li><a href="http://hi.chinaunix.net/?action-category-catid-119">生活空间</a></li>
</ul>
</div><link id="commonstyle" rel="stylesheet" type="text/css" href="http://hi.chinaunix.net/css/space.css" />
<!-- Content内容 -->
<div class="content topcontent">

<div class="mainarea">
<div id="show"><h1 class="xspace-title">Kickstart 配置</h1>
<p class="xspace-smalltxt">
<a href="http://hi.chinaunix.net/batch.common.php?action=viewspace&amp;op=up&amp;itemid=37602&amp;uid=21673321">上一篇</a> / 
<a href="http://hi.chinaunix.net/batch.common.php?action=viewspace&amp;op=next&amp;itemid=37602&amp;uid=21673321">下一篇</a> &nbsp;2009-05-25 23:36:55




/ 个人分类：<a href="http://hi.chinaunix.net/?uid-21673321-action-spacelist-type-blog-itemtypeid-2578">个人学习笔记</a>
</p>

<div class="xspace-itemdata">
<a href="#xspace-tracks">查看( 32 )</a> / 
<a href="#xspace-itemreply">评论( 0 )</a> / 
<a href="#xspace-itemform">评分( <span class="xspace-rategood" title="好评">0</span> / <span class="xspace-ratebad" title="差评">0</span> )</a>
</div>
<div id="xspace-showmessage" class="xspace-itemmessage">
<DIV style="MARGIN: 15px" id=art><DIV>1. <a href="javascript:;" onClick="javascript:tagshow(event, 'kickstart');" target="_self"><u><strong>kickstart</strong></u></a> 选项<BR>下列选项可以被放置在 kickstart <a href="javascript:;" onClick="javascript:tagshow(event, '%CE%C4%BC%FE');" target="_self"><u><strong>文件</strong></u></a>中。<BR>&nbsp;<BR>注意<BR>&nbsp;&nbsp;如果某选项后面跟随了一个等号（=），它后面就必须指定一个值。在示例<a href="javascript:;" onClick="javascript:tagshow(event, '%C3%FC%C1%EE');" target="_self"><u><strong>命令</strong></u></a>中，括号（[]）中的选项是命令的可选参数。<BR>autostep（可选）<BR>和 interactive 相似，只不过它自动为你转到下一屏幕。它大多用于调试。<BR>auth 或 authconfig（必需）<BR>为<a href="javascript:;" onClick="javascript:tagshow(event, '%CF%B5%CD%B3');" target="_self"><u><strong>系统</strong></u></a><a href="javascript:;" onClick="javascript:tagshow(event, '%C9%E8%D6%C3');" target="_self"><u><strong>设置</strong></u></a>验证选项。它和 authconfig 命令相似，后者可以在安装后运行。按照默认设置，口令通常是加密的却并不是屏蔽的。<BR>--enablemd5<BR>每个用户口令都使用 md5 加密。<BR>--enablenis<BR>启用 NIS 支持。按照默认设置，--enablenis 使用它在<a href="javascript:;" onClick="javascript:tagshow(event, '%CD%F8%C2%E7');" target="_self"><u><strong>网络</strong></u></a>上发现的任何域。几乎在所有情况下，域都应该使用 --nisdomain= 选项来手工设置。<BR>--nisdomain=<BR>用在 NIS <a href="javascript:;" onClick="javascript:tagshow(event, '%B7%FE%CE%F1');" target="_self"><u><strong>服务</strong></u></a>的 NIS 域名。<BR>--nisserver=<BR>用来提供 NIS 服务的<a href="javascript:;" onClick="javascript:tagshow(event, '%B7%FE%CE%F1%C6%F7');" target="_self"><u><strong>服务器</strong></u></a>（默认通过广播）。<BR>--useshadow 或 --enableshadow<BR>使用屏蔽口令。<BR>--enableldap<BR>启用 /etc/nsswitch.conf 中的 LDAP 支持，允许你的系统从 LDAP 目录中检索关于用户的信息（UID、主目录、<a href="javascript:;" onClick="javascript:tagshow(event, 'shell');" target="_self"><u><strong>shell</strong></u></a> 等等）。要使用该选项，你必须安装了 nss_ldap 软件包。你必须还得使用 --ldapserver= 和 --ldapbasedn= 来指定服务器和基准 DN。<BR>--enableldapauth<BR>使用 LDAP 验证方法。它启用了 pam_ldap 模块和 LDAP 目录来验证及改变口令。要使用该选项，你必须安装了 nss_ldap 软件包。你必须还得使用 --ldapserver= 和 --ldapbasedn= 来指定服务器和基准 DN。<BR>--ldapserver=<BR>如果你指定了 --enableldap 或 --enableldapauth，则使用该选项来指定要使用的 LDAP 服务器的名称。该选项在 /etc/ldap.conf 文件中被设置。<BR>--ldapbasedn=<BR>如果你指定了 --enableldap 或 --enableldapauth，则该选项指定了贮存用户信息的 LDAP 目录树中的 DN（识别名称）。它设置在 /etc/ldap.conf 文件中。<BR>--enableldaptls<BR>使用 TLS（传输层安全）查寻。该选项允许 LDAP 在验证前向 LDAP 服务器发送加密的用户名和口令。<BR>--enablekrb5<BR>使用 Kerberos 5 来验证用户。Kerberos 自身并不知道关于主目录、UID、或 shell 的信息。因此，如果你启用了 Kerberos，你将需要使该工作站了解这些用户帐号的信息，方法是使用 /usr/sbin/useradd 命令，或启用 LDAP、NIS、或 Hesiod。如果你要使用该选项，你必须装有 pam_krb5 软件包。<BR>--krb5realm=<BR>你的工作站所属的 Kerberos 5 领域。<BR>--krb5kdc=<BR>为领域请求提供服务的 KDC。如果你的领域内有多个 KDC，使用逗号（,）来分隔它们。<BR>--krb5adminserver=<BR>你的领域内还运行 kadmind 的 KDC。该服务器处理改变口令以及其它<a href="javascript:;" onClick="javascript:tagshow(event, '%B9%DC%C0%ED');" target="_self"><u><strong>管理</strong></u></a>请求。如果你有不止一个 KDC，该服务器必须是主 KDC。<BR>--enablehesiod<BR>为查寻用户主目录、UID、和 shell 而启用 Hesiod 支持。关于如何在你的网络上设置和使用 Hesiod 的详情，请参阅 /usr/share/doc/glibc-2.x.x/README.hesiod 文件。它包括在 glibc 软件包中。Hesiod 是 DNS 的一个扩展，它使用 DNS 记录来贮存关于用户、组群以及其它项目的信息。<BR>--hesiodlhs<BR>Hesiod LHS（“左首，left-hand side”）选项，设置在 /etc/hesiod.conf 中。该选项被 Hesiod 库用来判定在查寻 DNS 信息时用来搜索的名称，与 LDAP 使用基准 DN 的意义相似。<BR>--hesiodrhs<BR>Hesiod RHS（“右首，right-hand side”）选项，设置在 /etc/hesiod.conf 文件中。该选项被 Hesiod 库用来判定在查寻 DNS 信息时用来搜索的名称，与 LDAP 使用基准 DN 的意义相似。<BR>&nbsp;<BR>窍门<BR>&nbsp;&nbsp;要查寻用户“jim”的信息，Hesiod 库查寻 jim.passwd&lt;LHS&gt;&lt;RHS&gt;，它应该被解析成类似他的 passwd 项目的 TXT 记录（jim:*:501:501:Jungle Jim:/home/jim:/bin/bash）。组群的情况也是如此，只不过使用的是 jim.group&lt;LHS&gt;&lt;RHS&gt;。<BR>要按号码来查寻用户和组群，指定“501.uid” 为“jim.passwd”的 CNAME，指定“501.gid”为“jim.group” 的 CNAME。注意，在库判定搜索名称时，LHS 和 RHS 的前面不放“点[.]”，因此 LHS 和 RHS 通常用点开头。<BR>--enablesmbauth<BR>使用 SMB 服务器（典型为 Samba 或 <a href="javascript:;" onClick="javascript:tagshow(event, 'Windows');" target="_self"><u><strong>Windows</strong></u></a> 服务器）来验证用户。SMB 验证支持不知道关于主目录、UID、或 shell 的信息。因此，若你启用该选项，你将需要使该工作站了解这些用户帐号的信息，方法是使用 /usr/sbin/useradd 命令，或启用 LDAP、NIS、或 Hesiod。如果你要使用该选项，你必须装有 pam_smb 软件包。<BR>--smbservers=<BR>用来做 SMB 验证的服务器名称。要指定不止一个服务器，用逗号（,）来分隔它们。<BR>--smbworkgroup=<BR>SMB 服务器的工作组名称。<BR>--enablecache<BR>启用 nscd 服务。nscd 服务缓存关于用户、组群和各类其它信息。如果你选择要通过网络，使用 LDAP、NIS、或 hesiod 来传递关于用户和组群的信息，缓存就会特别有用。<BR>bootloader（必需）<BR>指定引导装载程序应该如何被安装，以及应该安装 LILO 还是 GRUB。安装和升级都需要这个选项。对升级而言，如果没有指定 --useLilo，而且 LILO 是当前的引导装载程序，引导装载程序就会被改为 GRUB。要在升级时保留 LILO，使用 bootloader --upgrade 选项。<BR>--append=<BR>指定内核参数。要指定多个参数，使用空格分隔它们。例如：<BR>bootloader --location=mbr --append="hdd=ide-scsi ide=nodma"<BR>--location=<BR>指定写入引导记录的位置。有效值如下：mbr（默认值）；partition（在包含内核分区的第一个扇区上安装引导装载程序）；或 none（不安装引导转载程序）。<BR>--password=<BR>如果使用 GRUB，使用这个选项来设置 GRUB 引导装载程序口令。它应该被用来限制对 GRUB shell 的访问，因为在那里你可以传递任意内核选项。<BR>--md5pass=<BR>若使用 GRUB，和 --password= 相似，只不过口令应该已经被加密。<BR>--useLilo<BR>使用 LILO 而非 GRUB 引导装载程序。<BR>--linear<BR>若使用 LILO，使用 linear LILO 选项；它的目的仅是后向兼容（现在默认使用 linear）。<BR>--nolinear<BR>若使用 LILO，使用 nolinear LILO 选项；linear 是默认。<BR>--lba32<BR>若使用 LILO，强制使用 lba32 模式而非自动检测。<BR>--upgrade<BR>升级现存的引导装载程序配置，保留其中原有的项目。该选项 仅可用于升级。<BR>clearpart（可选）<BR>在创建新分区之前，从系统上删除分区。默认不会删除任何分区。<BR>&nbsp;<BR>注记<BR>&nbsp;&nbsp;如果使用了 clearpart 命令，那么 --onpart 命令就不能被用在逻辑分区上。<BR>--linux<BR>删除所有 <a href="javascript:;" onClick="javascript:tagshow(event, 'Linux');" target="_self"><u><strong>Linux</strong></u></a> 分区。<BR>--all<BR>删除系统上所有分区。<BR>--drives=<BR>指定要从中删除分区的驱动器。例如，以下命令删除主要 IDE 控制器上的前两个驱动器上的分区：<BR>clearpart --drives hda,hdb<BR>--initlabel<BR>把磁盘卷标初始为你的体系的默认值（例如：x86 使用 msdos，Itanium 使用 gpt）。这个选项很有用，因为在安装了新硬盘驱动器后，安装程序就不会问你是否应初始磁盘卷标。<BR>device（可选）<BR>在多数 PCI 系统上，安装程序会正确地自动探测到以太网卡和 SCSI 卡。然而，在较老的系统上和某些 PCI 系统上， kickstart 需要一点提示才能找到正确的设备。device 命令告诉安装程序来安装额外的模块，它的格式是：<BR>device &lt;type&gt; &lt;moduleName&gt; --opts=&lt;options&gt;<BR>&lt;type&gt;<BR>使用 scsi 或 eth 来替换<BR>&lt;moduleName&gt;<BR>使用应该被安装的内核模块的名称来替换。<BR>--opts=<BR>传递给内核模块的选项。注意，如果把选项放在引号里，你可以传递多个选项。譬如：<BR>--opts="aic152x=0x340 io=11"<BR>deviceprobe（可选）<BR>强制探测 PCI 总线，并为所有设备载入可用的模块。<BR>driverdisk（可选）<BR>驱动程序盘可以在 kickstart 安装中使用。你需要把驱动程序盘的内容复制到系统硬盘驱动器某分区的根目录中。然后，你需要使用 driverdisk 命令来告诉安装程序到哪里区寻找驱动程序盘。<BR>driverdisk &lt;partition&gt; [--type=&lt;fstype&gt;]<BR>&lt;partition&gt;<BR>包含驱动程序盘的分区。<BR>--type=<BR>文件系统类型（如：vfat、ext2、ext3）。<BR>firewall（可选）<BR>防火墙选项可以在 kickstart 中配置。该配置和安装程序中的「防火墙配置」 屏幕相对应：<BR>firewall &lt;securitylevel&gt; [--trust=] &lt;incoming&gt; [--port=]<BR>&lt;securitylevel&gt;<BR>使用以下安全级别之一来替换：<BR>?&nbsp;--high<BR>?&nbsp;--medium<BR>?&nbsp;--disabled<BR>--trust=<BR>在这里列出设备，如 eth0，会允许所有来自该设备的交通能穿过防火墙。要列出不止一个设备，使用 --trust eth0 --trust eth1。千万不要使用象 --trust eth0, eth1 这样用逗号分隔的格式。<BR>&lt;incoming&gt;<BR>使用以下服务来替换，从而允许指定的服务穿过防火墙。<BR>?&nbsp;--dhcp<BR>?&nbsp;--ssh<BR>?&nbsp;--telnet<BR>?&nbsp;--smtp<BR>?&nbsp;--http<BR>?&nbsp;--ftp<BR>--port=<BR>你可以使用“端口：<a href="javascript:;" onClick="javascript:tagshow(event, '%D0%AD%D2%E9');" target="_self"><u><strong>协议</strong></u></a>”的格式来指定允许穿过防火墙的端口。譬如，如果你想允许 IMAP 访问通过防火墙，你可以指定 imap:tcp。你还可以具体指定数字端口，譬如，要允许 UDP 包在端口 1234 上通过，指定 1234:udp。要指定多个端口，用逗号分隔它们。<BR>install（可选）<BR>告诉系统重新安装而不是升级现有系统。这是默认模式。对安装而言，你必须从 cdrom、harddrive、nfs、或 url（用于 ftp 或 http 安装）中指定一个安装类型。install 命令和安装方法命令必须在分开的行上。<BR>cdrom<BR>从系统上的第一个光盘驱动器中安装。<BR>harddrive<BR>从本地驱动器的 Red Hat 安装树中安装，它必须是 vfat 或 ext2。<BR>?&nbsp;--partition=<BR>要从中安装的分区（如 sdb2）。<BR>?&nbsp;--dir=<BR>包含安装树的 RedHat 目录的目录。<BR>例如：<BR>harddrive --partition=hdb2 --dir=/tmp/install-tree<BR>nfs<BR>从指定的 NFS 服务器安装。<BR>?&nbsp;--server=<BR>要从中安装的服务器（主机名或 IP）。<BR>?&nbsp;--dir=<BR>包含安装树的 RedHat 目录的目录。<BR>例如：<BR>nfs --server=nfsserver.example.com --dir=/tmp/install-tree<BR>url<BR>通过 FTP 或 HTTP 从远程服务器上的安装树中安装。<BR>例如：<BR>url --url<A href="http://%3cserver%3e/%3Cdir">http://&lt;server&gt;/&lt;dir</A>&gt;<BR>或：<BR>url --url<A href="ftp://%3Cusername%3E:%3Cpassword%3E@%3cserver%3e/%3Cdir">ftp://&lt;username&gt;:&lt;password&gt;@&lt;server&gt;/&lt;dir</A>&gt;<BR>interactive（可选）<BR>在安装中使用 kickstart 文件中提供的信息，但是允许查看和修改给定值。你会看到安装程序中的每个屏幕，其中预填了 kickstart 文件中选定的值，你可以点击「下一步」来接受这些值，也可以改变这些值再点击「下一步」来继续。请参阅 autostep。<BR>keyboard（必需）<BR>设置系统键盘类型。这里是 i386、Itanium、和 Alpha 机器上可用键盘的列表：<BR>be-latin1, bg, br-abnt2, cf, cz-lat2, cz-us-qwertz, de,<BR>de-latin1, de-latin1-nodeadkeys, dk, dk-latin1, dvorak, es, et,<BR>fi, fi-latin1, fr, fr-latin0, fr-latin1, fr-pc, fr_CH, fr_CH-latin1,<BR>gr, hu, hu101, is-latin1, it, it-ibm, it2, jp106, la-latin1, mk-utf,<BR>no, no-latin1, pl, pt-latin1, ro_win, ru, ru-cp1251, ru-ms, ru1, ru2,<BR>ru_win, se-latin1, sg, sg-latin1, sk-qwerty, slovene, speakup,<BR>speakup-lt, sv-latin1, sg, sg-latin1, sk-querty, slovene, trq, ua,<BR>uk, us, us-acentos<BR>文件 /usr/lib/python2.2/site-packages/rhpl/keyboard_models.py 中也包含了这个列表，它是 rhpl 软件包的一部分。<BR>lang（必需）<BR>设置安装中使用的语言。譬如，要把语言设为英语，kickstart 文件应该包括下面一行：<BR>lang en_US<BR>文件 /usr/share/redhat-config-language/locale-list 的每一行的第一列提供了有效的语言代号的列表，它是 redhat-config-languages 软件包的一部分。<BR>langsupport（必需）<BR>设置要在系统上安装的语言。它使用的语言代号和 lang 一样。<BR>如果你只想安装一种语言，请指定它。譬如，要安装和 使用法语 fr_FR：<BR>langsupport fr_FR<BR>--default=<BR>如果你想安装不止一种语言支持，你必须指定默认语言。<BR>譬如，要安装英语和法语，并使用英语为默认语言：<BR>langsupport --default=en_US fr_FR<BR>如果你使用 --default，后面仅跟一种语言，那么，所有语言将会被安装，指定的语言为默认。<BR>lilo（被 bootloader 替换）<BR>&nbsp;<BR>警告<BR>&nbsp;&nbsp;该选项已被 bootloader 代替，它的目的只是提供后向兼容。请参阅 bootloader。<BR>指定引导装载程序应如何在系统上被安装。按照默认设置，LILO 安装在第一张磁盘上的 MBR 上，如果 DOS 分区存在，则默认安装双引导系统（如果用户在 LILO: 提示下键入 dos，DOS/Windows 系统就会被引导）。<BR>--append &lt;params&gt;<BR>指定内核参数。<BR>--linear<BR>使用 linear LILO 选项；它的目的只是提供后向兼容（现在默认使用 linear）。<BR>--nolinear<BR>使用 nolinear LILO 选项；现在默认使用 linear。<BR>--location=<BR>指定写入 LILO 引导记录的位置。有效的值有：mbr （默认）或 partition（在包含内核的分区上的第一个扇区上安装引导安装程序）。如果不指定位置，LILO 就不会被安装。<BR>--lba32<BR>强制使用 lba32 模式而非自动检测。<BR>lilocheck（可选）<BR>如果 lilocheck 存在，安装程序就会在第一个硬盘驱动器的 MBR 上检查 LILO，若找到，就会重新引导系统 ― 在这种情况下，不会执行任何安装。这会防止 kickstart 重新安装一个已安装了的系统。<BR>logvol（必需）<BR>使用以下语法来为逻辑卷管理（LVM）创建逻辑卷：<BR>logvol mountpoint --vgname=name --size=size --name=name<BR>首先创建分区，然后创建逻辑卷组，再创建逻辑卷。例如：<BR>part pv.01 --size 3000<BR>volgroup myvg pv.01<BR>logvol / --vgname=myvg --size=2000 --name=rootvol<BR>mouse（必需）<BR>为系统的 GUI 和文本模式配置鼠标。选项有：<BR>--device=<BR>鼠标所在的设备（如 --device=ttyS0）。<BR>--emulthree<BR>若存在，同时点击鼠标的左右两键就会被 X 窗口系统当做点击了鼠标的中间按钮。如果你有一个两键鼠标，应使用该选项。<BR>在选项之后，鼠标类型可使用以下类型之一：<BR>alpsps/2, ascii, asciips/2, atibm, generic, generic3, genericps/2,<BR>generic3ps/2, genericwheelps/2, genericusb, generic3usb, genericwheelusb,<BR>geniusnm, geniusnmps/2, geniusprops/2, geniusscrollps/2, geniusscrollps/2+,<BR>thinking, thinkingps/2, logitech, logitechcc, logibm, logimman,<BR>logimmanps/2, logimman+, logimman+ps/2, logimmusb, microsoft, msnew,<BR>msintelli, msintellips/2, msintelliusb, msbm, mousesystems, mmseries,<BR>mmhittab, sun, none<BR>这个列表可以在 /usr/lib/python2.2/site-packages/rhpl/mouse.py 文件中找到。该文件是 rhpl 软件包的一部分。<BR>如果给出的鼠标命令没有附带任何参数，或这个命令被省略，安装程序就会试图自动检查鼠标。该进程可用于多数现代鼠标。<BR>network（可选）<BR>为系统配置网络信息。如果 kickstart 安装不需要联网（换一句话说，它不是通过 NFS、HTTP、或 FTP 安装的），系统的联网就不会被配置。如果安装确实需要联网，但网络信息在 kickstart 文件中没有被提供，Red Hat Linux 安装程序会假定安装应该通过 eth0 和动态 IP 地址来进行（BOOTP/DHCP），并把最终的安装了的系统配置成动态地判定 IP 地址。network 选项为 kickstart 安装和已安装系统通过网络配置联网信息。<BR>--bootproto=<BR>dhcp、bootp、或 static 中的一个。<BR>它默认为 dhcp。 bootp 和 dhcp 被同等对待。<BR>DHCP 方法使用 DHCP 服务器系统来获取它的联网配置。你可以会猜到，BOOTP 方法和它很相似，要求 BOOTP 服务器来提供网络配置。要指示系统使用 DHCP：<BR>network --bootproto=dhcp<BR>要指示某机器使用 BOOTP 来获取它的联网配置，在 kickstart 文件中使用以下行：<BR>network --bootproto=bootp<BR>静态方法要求你在 kickstart 文件中输入所有必需的联网信息。如它的名称所暗示，这些信息是静态的，将会在安装中和安装后使用。 用于静态联网的这一行比较复杂，因为你必须把所有网络配置信息在一行内包括。你必须指定 IP 地址、子网掩码、网关和名称服务器。例如（“\”表明它们在一行）：<BR>network --bootproto=static --ip=10.0.2.15 --netmask=255.255.255.0 \<BR>--gateway=10.0.2.254 --nameserver=10.0.2.1<BR>如果你使用静态方法，请注意以下两个限制：<BR>?&nbsp;所有静态联网配置信息都必须在一行上指定；你不能使用反斜线来换行。<BR>?&nbsp;你只能在此指定一个名称服务器。不过，若需要，你可以使用 kickstart file 的 %post 节（在第 7.7 节中被描述）来添加更多名称服务器。<BR>--device=<BR>用来选择用于安装的指定以太网设备。注意，除非 kickstart 文件是本地文件（如 ks=floppy），使用 --device= 将不会有效，因为安装程序将会配置网络来寻找 kickstart 文件。例如：<BR>network --bootproto=dhcp --device=eth0<BR>--ip=<BR>要安装的机器的 IP 地址。<BR>--gateway=<BR>IP 地址形式的默认网关。<BR>--nameserver=<BR>主名称服务器，IP 地址格式。<BR>--nodns<BR>不要配置任何 DNS 服务器。<BR>--netmask=<BR>安装的系统的子网掩码。<BR>--hostname=<BR>安装的系统的主机名。<BR>part 或 partition（安装所必需的，升级所忽略的）<BR>在系统上创建分区。<BR>如果系统上的不同分区上存在不止一个 Red Hat Linux 安装，安装程序会询问用户应该升级哪个安装。<BR>&nbsp;<BR>警告<BR>&nbsp;&nbsp;除非使用了 --noformat 和 --onpart，所有创建的分区都会被格式化，这是安装过程的一部分。<BR>&lt;mntpoint&gt;<BR>&lt;mntpoint&gt; 是分区将要挂载的位置，必须使用以下格式之一：<BR>?&nbsp;/&lt;path&gt;<BR>例如：/、 /usr、/home<BR>?&nbsp;swap<BR>该分区将被用作交换<a href="javascript:;" onClick="javascript:tagshow(event, '%BF%D5%BC%E4');" target="_self"><u><strong>空间</strong></u></a>。<BR>要自动决定交换区的大小，使用 --recommended选项：<BR>swap --recommended<BR>自动生成的交换区的最小值将不会小于系统的内存，不会大于系统内存的两倍。<BR>?&nbsp;raid.&lt;id&gt;<BR>该分区将会被用作软件 RAID（请参见 raid）。<BR>?&nbsp;pv.&lt;id&gt;<BR>将会用于 LVM 的分区（请参见 logvol）。<BR>--size=<BR>以 MB 为单位的分区最小值。在此处指定一个整数值，如 500。不要在数字后面加 MB。<BR>--grow<BR>告诉分区使用所有可用空间（若有），或使用设置的最大值。<BR>--maxsize=<BR>当分区被设置为可扩充时，以 MB 为单位的分区最大值。在这里指定一个整数值，不要在数字后加 MB。<BR>--noformat<BR>告诉安装程序不要格式化分区，和 --onpart 命令一起使用。<BR>--onpart= or --usepart=<BR>把分区放在已存在的设备上。例如：<BR>partition /home --onpart=hda1<BR>会把 /home 放在 /dev/hda1 上，而这个分区必须已经存在。<BR>--ondisk= 或 --ondrive=<BR>强制分区在特定磁盘上创建。譬如，--ondisk sdb 会把分区放在系统的第二个 SCSI 磁盘上。<BR>--asprimary<BR>把分区强行自动指派为主分区，否则分区过程就会失败。<BR>--bytes-per-inode=<BR>指定的数字代表文件系统上每个节点在创建时的字节数。它必须使用十进制格式。对于你想增加文件系统上的节点数量的<a href="javascript:;" onClick="javascript:tagshow(event, '%D3%A6%D3%C3');" target="_self"><u><strong>应用</strong></u></a>程序，该选项就会很有用。<BR>--type=（被 fstype 替换）<BR>该选项已不再可用。请使用 fstype。<BR>--fstype=<BR>为分区设置文件系统类型。合法值有：ext2、ext3、swap、和 vfat。<BR>--start=<BR>指定分区的起始柱面。它要求使用 --ondisk 或 ondrive 来指定驱动器。它还要求使用 --end 来指定终结柱面，或使用 --size 来指定分区大小。<BR>--end=<BR>指定分区的终结柱面。它要求使用 --start 来指定分区的起始柱面。<BR>--badblocks<BR>指定分区应检查坏块。 sectors.<BR>&nbsp;<BR>注记<BR>&nbsp;&nbsp;如果由于某种原因，分区失败了，诊断迅息会显示在第三号虚拟控制台上。<BR>raid（可选）<BR>组成软件 RAID 设备。该命令的格式是：<BR>raid &lt;mntpoint&gt; --level=&lt;level&gt; --device=&lt;mddevice&gt; &lt;partitions*&gt;<BR>&lt;mntpoint&gt;<BR>挂载 RAID 文件系统的位置。如果它是 /，RAID 级别必须是 1，除非引导分区（/boot）存在。如果引导分区存在，/boot 分区必须是级别 1，根（/）分区可以是任何可用的类型。&lt;partitions*&gt;（代表多个分区可以被列举）列举了要添加到 RAID 阵列的 RAID 标记。<BR>--level=<BR>要使用的 RAID 级别（0、1、或 5）。<BR>--device=<BR>要使用的 RAID 设备的名称（如 md0 或 md1）。RAID 设备的范围从 md0 直到 md7，每个设备只能被使用一次。<BR>--spares=<BR>指定 RAID 阵列应该被指派 N 个备用驱动器。备用驱动器可以被用来在驱动器失败时重建阵列。<BR>--fstype=<BR>为 RAID 阵列设置文件系统类型。合法值有：ext2、ext3、swap、和 vfat。<BR>--noformat<BR>不要格式化 RAID 阵列。<BR>下面的例子显示了如何为 / 创建 RAID 级别 1 分区，为 /usr 创建 RAID 级别 5 分区，假定你的系统上有三个 SCSI 磁盘。它还创建三个交换分区，每个驱动器上一个。<BR>part raid.01 --size=60 --ondisk=sda<BR>part raid.02 --size=60 --ondisk=sdb<BR>part raid.03 --size=60 --ondisk=sdc<BR>part swap --size=128 --ondisk=sda<BR>part swap --size=128 --ondisk=sdb<BR>part swap --size=128 --ondisk=sdc<BR>part raid.11 --size=1 --grow --ondisk=sda<BR>part raid.12 --size=1 --grow --ondisk=sdb<BR>part raid.13 --size=1 --grow --ondisk=sdc<BR>raid / --level=1 --device=md0 raid.01 raid.02 raid.03<BR>raid /usr --level=5 --device=md1 raid.11 raid.12 raid.13<BR>reboot（可选）<BR>安装完成后重新引导系统（无参数）。通常，kickstart 显示一条消息，并等待用户按任意键后才重新引导。<BR>rootpw（必需）<BR>把系统的根口令设置为 &lt;password&gt; 参数。<BR>rootpw [--iscrypted] &lt;password&gt;<BR>--iscrypted<BR>如果该选项存在，口令就会假定已被加密。<BR>skipx（可选）<BR>如果存在，安装的系统上就不会配置 X。<BR>text（可选）<BR>在文本模式下执行 kickstart 安装。 kickstart 安装默认在图形模式下安装。<BR>timezone（必需）<BR>把系统的时区设置为 &lt;timezone&gt;，它可以是 timeconfig 列举的任何时区。<BR>timezone [--utc] &lt;timezone&gt;<BR>--utc<BR>如果存在，系统就会假定硬件时钟被设置为 UTC（格林威治标准）时间。<BR>upgrade（可选）<BR>告诉系统升级现存系统，而不是安装一个新系统。你必须从 cdrom、harddrive、nfs、或 url（用于 ftp 和 http）中指定安装树的位置。详情请参见 install。<BR>xconfig（可选）<BR>配置 X 窗口系统。如果该选项没有给出，而 X 被安装了，用户将需要在安装过程中手工配置 X；如果你的最终系统上没有安装 X，则不应该使用该选项。<BR>--noprobe<BR>不要探测显示器。<BR>--card=<BR>使用指定的视频卡；该卡的名称应该来自 hwdata 软件包的 /usr/share/hwdata/Cards 中的视频卡列表。这个列表还可以在 Kickstart 配置器的 X 配置器屏幕上找到。如果参数没有提供，安装程序会探测该卡的 PCI 总线。由于 AGP 是 PCI 总线的一部分，若支持，AGP 卡就会被探测到。探测顺序由母板的 PCI 扫描顺序决定。<BR>--videoram=<BR>指定视频卡的视频内存数量。<BR>--monitor=<BR>使用指定显示器；显示器的名称应该来自 hwdata 的 /usr/share/hwdata/MonitorsDB 中的显示器列表。这个列表还可以在 Kickstart 配置器的 X 配置器屏幕上找到。如果提供了 --hsync 或 --vsync，该选项会被忽略。如果没有提供显示器信息，安装程序会试图自动探测它。<BR>--hsync=<BR>指定显示器的水平频率。<BR>--vsync=<BR>指定显示器的垂直频率。<BR>--defaultdesktop=<BR>把默认桌面设置成 GNOME 或 KDE（假定 GNOME 和/或 KDE 通过 %packages 被安装了）。<BR>--startxonboot<BR>在安装的系统上使用图形化登录。<BR>--resolution=<BR>指定安装的系统上 X 窗口系统的默认分辨率。有效值有：640x480、800x600、1024x768、1152x864、1280x1024、1400x1050、1600x1200。请确定指定与视频卡和显示器兼容的分辨率。<BR>--depth=<BR>指定安装的系统上的 X 窗口系统的默认色彩深度。有效值有：8、16、24、和 32。请确定指定与视频卡和显示器兼容的色彩深度。<BR>volgroup（可选）<BR>用来创建逻辑卷管理（LVM）组，其语法格式为：<BR>volgroup name partition<BR>首先创建分区，然后创建逻辑卷组，再创建逻辑卷。例如：<BR>part pv.01 --size 3000<BR>volgroup myvg pv.01<BR>logvol / --vgname=myvg --size=2000 --name=rootvol<BR>zerombr（可选）<BR>如果 zerombr 被指定，它唯一的参数是 yes，所有在磁盘上发现的无效分区表就会被初始化。这会破坏带有无效分区表的磁盘上的所有<a href="javascript:;" onClick="javascript:tagshow(event, '%CA%FD%BE%DD');" target="_self"><u><strong>数据</strong></u></a>。该命令的格式如下：<BR>zerombr yes<BR>其它格式均无效。<BR>%include<BR>使用 %include /path/to/file 命令来在 kickstart 文件中包括另一个文件的内容，就好像这些内容本来就在 kickstart 文件里 %include 所在的位置中一样。<BR>________________________________________<BR>2. 软件包选择<BR>使用 %packages 命令来开始 kickstart 文件中列举要安装的软件包的部分（只限于安装，因为升级中软件包选择不被支持）。<BR>你可以使用单个软件包名称或软件包组的名称来指定它们。安装程序定义了许多包含相关软件包的软件包组。请参见第一张 Red Hat Linux 光盘上的 RedHat/base/comps.xml 文件来获取软件包组的列表。每组都有 id、用户可见性值、名称、描述、以及其中包含的软件包列表。在软件包列表中，若该组被选定要安装，被标为必需的软件包总是被安装。被标为默认的软件包会被默认选择，而标为可选的软件包必须被具体指定才能被安装，即便该组已经选定要被安装。<BR>在多数情况下，你只需列举想要的软件包组，而不必一一列举单个软件包。注意，Core 和 Base 软件包组总是被默认选择，因此你不必在 %packages 部分中指定它们。<BR>以下是 %packages 部分的示例：<BR>%packages<BR>@ X Window System<BR>@ GNOME Desktop Environment<BR>@ Graphical Internet<BR>@ Sound and Video<BR>galeon<BR>如上所示，组群被一行行地指定，以 @ 符号起首，然后是空格，然后是如 comps.xml 文件中指定的组群的全名。不加附带的起首符号会指定单个软件包（如以上例子中的 galeon 行指定的是单个软件包）。<BR>你还可以从默认的软件包列表中指定要不安装的软件包：<BR>@ Games and Entertainment<BR>-kdegames<BR>%packages 有两个可用选项。<BR>--resolvedeps<BR>安装列举的软件包，并自动<a href="javascript:;" onClick="javascript:tagshow(event, '%BD%E2%BE%F6');" target="_self"><u><strong>解决</strong></u></a>软件包依赖关系。如果该选项没有被指定，而软件包依赖关系却存在，自动安装就会暂停并提示用户。例如：<BR>%packages --resolvedeps<BR>--ignoredeps<BR>忽略未解决的依赖关系，并安装所列举的没有依赖关系的软件包。例如：<BR>%packages --ignoredeps<BR>--ignoremissing[1]<BR>忽略缺少的软件包或软件包组，而不是暂停安装来向用户询问是中止还是继续安装。例如：<BR>%packages --ignoremissing<BR>注<BR>[1]<BR>该选项是 Red Hat Linux 9 中新添的。<BR>3. 预安装脚本<BR>你可以添加系统要在解析 ks.cfg 文件之后立即运行的命令。这一节必须位于 kickstart 文件的结尾处（在命令之后），而且必须以 %pre 命令开头。注意，你在 %pre 部分可以访问网络；然而，名称服务（name service）在此时还没有被配置，因此只有 IP 地址才能奏效。<BR>&nbsp;<BR>注记<BR>&nbsp;&nbsp;注意，预安装脚本不在改换了的根环境（chroot）中运行。<BR>--interpreter /usr/bin/python<BR>允许你指定不同的脚本语言，如 Python。把 /usr/bin/python 替换成你想使用的脚本语言。<BR>7.6.1. 范例<BR>以下是 %pre 节的示例：<BR>%pre</DIV><DIV>#!/bin/sh</DIV><DIV>hds=""<BR>mymedia=""</DIV><DIV>for file in /proc/ide/h*<BR>do<BR>&nbsp; mymedia=`cat $file/media`<BR>&nbsp; if [ $mymedia == "disk" ] ; then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hds="$hds `basename $file`"<BR>&nbsp; fi<BR>done</DIV><DIV>set $hds<BR>numhd=`echo $#`</DIV><DIV>drive1=`echo $hds | cut -d' ' -f1`<BR>drive2=`echo $hds | cut -d' ' -f2`</DIV><DIV>#Write out partition scheme based on whether there are 1 or 2 hard drives</DIV><DIV>if [ $numhd == "2" ] ; then<BR>&nbsp; #2 drives<BR>&nbsp; echo "#partitioning scheme generated in %pre for 2 drives" &gt; /tmp/part-include<BR>&nbsp; echo "clearpart --all" &gt;&gt; /tmp/part-include<BR>&nbsp; echo "part /boot --fstype ext3 --size 75 --ondisk hda" &gt;&gt; /tmp/part-include<BR>&nbsp; echo "part / --fstype ext3 --size 1 --grow --ondisk hda" &gt;&gt; /tmp/part-include<BR>&nbsp; echo "part swap --recommended --ondisk $drive1" &gt;&gt; /tmp/part-include<BR>&nbsp; echo "part /home --fstype ext3 --size 1 --grow --ondisk hdb" &gt;&gt; /tmp/part-include<BR>else<BR>&nbsp; #1 drive<BR>&nbsp; echo "#partitioning scheme generated in %pre for 1 drive" &gt; /tmp/part-include<BR>&nbsp; echo "clearpart --all" &gt;&gt; /tmp/part-include<BR>&nbsp; echo "part /boot --fstype ext3 --size 75" &gt;&gt; /tmp/part-includ<BR>&nbsp; echo "part swap --recommended" &gt;&gt; /tmp/part-include<BR>&nbsp; echo "part / --fstype ext3 --size 2048" &gt;&gt; /tmp/part-include<BR>&nbsp; echo "part /home --fstype ext3 --size 2048 --grow" &gt;&gt; /tmp/part-include<BR>fi<BR>该脚本判定系统上的硬盘驱动器的数量，并根据系统上有一个还是两个驱动器而编写带有不同分区<a href="javascript:;" onClick="javascript:tagshow(event, '%B7%BD%B0%B8');" target="_self"><u><strong>方案</strong></u></a>的文本文件。与其在 kickstart 文件中有一组分区命令，你可以包括以下行：<BR>%include /tmp/part-include&nbsp;<BR>在脚本中选择的分区命令会被使用。<BR>4. 安装后脚本<BR>你可以添加系统在安装完成后要运行的命令。这一节必须位于 kickstart 文件的结尾处，而且必须以 %post 命令开头。它对于安装额外软件包或配置额外名称服务器等任务很有帮助。<BR>&nbsp;<BR>注记<BR>&nbsp;&nbsp;如果你使用静态 IP 信息配置了网络，包括名称服务器，你可以在 %post 部分中访问网络并解析 IP 地址。如果你使用 DHCP 配置网络，当安装执行到 %post 部分时，/etc/resolv.conf 文件还没有完成。你可以访问网络，但是你不能解析 IP 地址。因此，如果你使用 DHCP，你必须在 %post 这一节中指定 IP 地址。<BR>&nbsp;<BR>注记<BR>&nbsp;&nbsp;安装后脚本在 chroot 环境中运行；因此，象复制安装介质中的脚本或 RPM 之类的任务将不能被执行。<BR>--nochroot<BR>允许你指定你想在 chroot 环境之外运行的命令。<BR>下面的例子把 /etc/resolv.conf 文件复制到刚刚安装了的文件系统上。<BR>%post --nochroot<BR>cp /etc/resolv.conf /mnt/sysimage/etc/resolv.conf<BR>--interpreter /usr/bin/python<BR>允许你指定不同的脚本语言，如 Python。 用你想用的脚本语言来替换 /usr/bin/python。<BR>5. 范例<BR>要启动和关闭服务：<BR>/sbin/chkconfig --level 345 telnet off<BR>/sbin/chkconfig --level 345 finger off<BR>/sbin/chkconfig --level 345 lpd off<BR>/sbin/chkconfig --level 345 httpd on<BR>要从 NFS 共享中运行叫做 runme 的脚本：<BR>mkdir /mnt/temp<BR>mount 10.10.0.2:/usr/new-machines /mnt/temp<BR>open -s -w -- /mnt/temp/runme<BR>umount /mnt/temp<BR>给系统添加用户：<BR>/usr/sbin/useradd bob<BR>/usr/bin/chfn -f "Bob Smith" bob<BR>/usr/sbin/usermod -p 'kjdf$04930FTH/ ' bob<BR></DIV></DIV><br />
<div class="xspace-imginlog">
</div>
</div>
<p class="xspace-itemlinks">
<a href="http://bbs.chinaunix.net/post.php?action=import&amp;itemid=37602" target="_blank">导入论坛</a>
<a href="javascript:;" onclick="showajaxdiv('http://hi.chinaunix.net/batch.common.php?action=trackback&amp;itemid=37602', 300);">引用链接</a>
<a href="javascript:;" onclick="joinfavorite(37602);">收藏</a>
<a href="javascript:;" onclick="showajaxdiv('http://hi.chinaunix.net/batch.common.php?action=emailfriend&amp;itemid=37602', 400);">分享给好友</a>
<a href="javascript:;" onclick="showajaxdiv('http://hi.chinaunix.net/batch.common.php?action=group&amp;itemid=37602', 300);">推荐到圈子</a>
<a href="http://hi.chinaunix.net/batch.manage.php?itemid=37602" target="_blank">管理</a>
<a href="javascript:;" onclick="report(37602);">举报</a>
</p>

<p class="xspace-itemtag">TAG: 
<a href="http://hi.chinaunix.net/?action-tag-tagname-Kickstart" target="_blank">Kickstart</a>
</p>

<div id="xspace-itemreply">
<div id="xspace-multipage-div" class="xspace-multipage"><a href="javascript:;" onclick="javascript:showcomment(1);">查看全部评论</a></div>
</div>

<div id="xspace-itemform">
<form id="xspace-commentform" action="http://hi.chinaunix.net/batch.comment.php" method="post" target="xspace-phpframe">
<fieldset id="xspace-rates">
<div id="xspace-rates-bg">
<div id="xspace-rates-star" class="xspace-rates0">&nbsp;</div>
<div id="xspace-rates-a">
<a href="javascript:;" onmouseover="rateHover(-5);" onmouseout="rateOut();" onclick="setRate('-5', '37602');">-5</a>
<a href="javascript:;" onmouseover="rateHover(-3);" onmouseout="rateOut();" onclick="setRate('-3', '37602');">-3</a>
<a href="javascript:;" onmouseover="rateHover(-1);" onmouseout="rateOut();" onclick="setRate('-1', '37602');">-1</a>
<a href="javascript:;" onmouseover="rateHover(0);" onmouseout="rateOut();" onclick="setRate('0', '37602');">-</a>
<a href="javascript:;" onmouseover="rateHover(1);" onmouseout="rateOut();" onclick="setRate('1', '37602');">+1</a>
<a href="javascript:;" onmouseover="rateHover(3);" onmouseout="rateOut();" onclick="setRate('3', '37602');">+3</a>
<a href="javascript:;" onmouseover="rateHover(5);" onmouseout="rateOut();" onclick="setRate('5', '37602');">+5</a>
</div>
<input type="hidden" id="xspace-rates-value" name="rates" value="0" />
</div>
<p>评分：<span id="xspace-rates-tip">0</span></p>
</fieldset>
<fieldset>
<legend>我来说两句</legend>
<p>
<span onclick="moresmilies();" class="xspace-moresmilies">显示全部</span>
<div id="xspace-smilies">
<img src="http://hi.chinaunix.net/images/smilies/loveliness.gif" border="0" alt=":loveliness:" id="smilie_0" onClick="insertSmilies(0)" />
<img src="http://hi.chinaunix.net/images/smilies/handshake.gif" border="0" alt=":handshake" id="smilie_1" onClick="insertSmilies(1)" />
<img src="http://hi.chinaunix.net/images/smilies/victory.gif" border="0" alt=":victory:" id="smilie_2" onClick="insertSmilies(2)" />
<img src="http://hi.chinaunix.net/images/smilies/funk.gif" border="0" alt=":funk:" id="smilie_3" onClick="insertSmilies(3)" />
<img src="http://hi.chinaunix.net/images/smilies/time.gif" border="0" alt=":time:" id="smilie_4" onClick="insertSmilies(4)" />
<img src="http://hi.chinaunix.net/images/smilies/kiss.gif" border="0" alt=":kiss:" id="smilie_5" onClick="insertSmilies(5)" />
<img src="http://hi.chinaunix.net/images/smilies/call.gif" border="0" alt=":call:" id="smilie_6" onClick="insertSmilies(6)" />
<img src="http://hi.chinaunix.net/images/smilies/hug.gif" border="0" alt=":hug:" id="smilie_7" onClick="insertSmilies(7)" />
<img src="http://hi.chinaunix.net/images/smilies/lol.gif" border="0" alt=":lol" id="smilie_8" onClick="insertSmilies(8)" />
<img src="http://hi.chinaunix.net/images/smilies/cry.gif" border="0" alt=":'(" id="smilie_9" onClick="insertSmilies(9)" />
<img src="http://hi.chinaunix.net/images/smilies/mad.gif" border="0" alt=":Q" id="smilie_10" onClick="insertSmilies(10)" />
<img src="http://hi.chinaunix.net/images/smilies/sweat.gif" border="0" alt=":L" id="smilie_11" onClick="insertSmilies(11)" />
<img src="http://hi.chinaunix.net/images/smilies/titter.gif" border="0" alt=";P" id="smilie_12" onClick="insertSmilies(12)" />
<img src="http://hi.chinaunix.net/images/smilies/shy.gif" border="0" alt=":$" id="smilie_13" onClick="insertSmilies(13)" />
<img src="http://hi.chinaunix.net/images/smilies/tongue.gif" border="0" alt=":P" id="smilie_14" onClick="insertSmilies(14)" />
<img src="http://hi.chinaunix.net/images/smilies/shocked.gif" border="0" alt=":o" id="smilie_15" onClick="insertSmilies(15)" />
<img src="http://hi.chinaunix.net/images/smilies/huffy.gif" border="0" alt=":@" id="smilie_16" onClick="insertSmilies(16)" />
<img src="http://hi.chinaunix.net/images/smilies/biggrin.gif" border="0" alt=":D" id="smilie_17" onClick="insertSmilies(17)" />
<img src="http://hi.chinaunix.net/images/smilies/sad.gif" border="0" alt=":(" id="smilie_18" onClick="insertSmilies(18)" />
<img src="http://hi.chinaunix.net/images/smilies/smile.gif" border="0" alt=":)" id="smilie_19" onClick="insertSmilies(19)" />
</div>
</p>
<p>
<label for="xspace-commentmsg">内容</label>
<textarea id="xspace-commentmsg" name="message"></textarea>
</p>
<p>
<label for="xspace-nickname">昵称</label>
<input type="text" size="20" id="xspace-nickname" name="nickname" value="" />
</p>
<p>
<input type="hidden" name="itemid" value="37602" />
<button value="true" type="submit" name="submitcomment" id="xspace-btncomment">提交评论</button>
</p>
</fieldset>
</form>
</div>

<script language="javascript" type="text/javascript">
<!--
function showcomment(page) {
var x = new Ajax('statusid', 'XML');
x.get('http://hi.chinaunix.net/batch.comment.php?action=view&itemid=37602&page='+page, function(s) {
getbyid("xspace-itemreply").innerHTML = s.lastChild.firstChild.nodeValue;
});
}
function deletecomment(cid) {
var x = new Ajax('statusid', 'XML');
x.get('http://hi.chinaunix.net/batch.comment.php?action=delete&cid='+cid, function(s) {
alert(s.lastChild.firstChild.nodeValue);
});
}

function moresmilies() {
var smilies = document.getElementById('xspace-smilies');
if (smilies.style.height=='auto') {
smilies.style.height = '';
} else {
smilies.style.height = 'auto';
}
}
addImgLink("xspace-showmessage");
addMediaAction('xspace-showmessage');
//-->
</script>
<iframe id="xspace-phpframe" name="xspace-phpframe" width="0" height="0" marginwidth="0" frameborder="0" src="about:blank"></iframe></div>
</div>

<div class="side">

<div class="block topblock">
<h3>关于作者</h3>
<div id="avatar" class="xspace-sideblock"><div id="xspace-avatar"><a href="http://hi.chinaunix.net/?uid-21673321-action-viewpro-showpro-1"><img src="http://hi.chinaunix.net/images/base/space_noface.gif" alt="chinaunixwei" class="xspace-imgstyle" /></a>
<p><a href="http://hi.chinaunix.net/?uid-21673321">chinaunixwei</a></p></div></div>
</div>
</div>
</div>
<!-- /Content -->
<script language="javascript" type="text/javascript">
<!--
addMediaAction('articlebody');
addImgLink("articlebody");
//-->
</script>
<!-- Footer -->	
<div class="content" id="footerlink">
<a href="http://hi.chinaunix.net/">ChinaUnix个人空间</a> | 
<a href="http://bbs.chinaunix.net/" target="_blank">交流论坛</a> | 
<a href="http://hi.chinaunix.net/?action/site/type/panel">快捷面板</a> | 
<a href="http://hi.chinaunix.net/?action/site/type/map">站点地图</a> | 
<a href="http://hi.chinaunix.net/?action/site/type/link">友情链接</a> | 
<a href="http://hi.chinaunix.net/?action/spaces">空间列表</a> | 
<a href="http://hi.chinaunix.net/archiver/">站点存档</a> | 
<a href="mailto:admin2@staff.chinaunix.net">联系我们</a>
</div>
</div>

<div id="footer">
<p id="copyright">
Powered by <a href="http://www.supesite.com" target="_blank"><strong>Supe<span>Site</span></strong></a> <em>6.0Final</em> 
&copy; 2001-2008 <a href="http://www.comsenz.com" target="_blank">Comsenz Inc.</a>
<br />Processed in 0.056047 second(s), 8 queries, Gzip enabled<br /><a href="http://www.miibeian.gov.cn" target="_blank">京ICP证041476号</a><br /></p>
</div>
<!-- /Footer -->
<script type="text/javascript" src="http://www.chinaunix.net/statpv.js"></script>
</body>
</html>