<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=uft-8">
<title>Python命令行参数选择_Python编程_脚本语言_文档_源码天空</title>
<meta name="Keywords" content="Python命令行参数选择">
<meta NAME="description" CONTENT="">
<link href="http://www.codesky.net/article/statics/css/style.css" rel="stylesheet" type="text/css">
<script language="JavaScript" src="http://www.codesky.net/article/statics/js/article.js"></script>
<body>
<!-- 顶部 -->
<div id="top" style="width:100%">
	<div>
	<div class="left" id="topnav" style="line-height:22px">
	    &nbsp;&nbsp;<a href="http://www.codesky.net/delphi/" target="_blank">Delphi源码</a> 
		<a href="http://www.codesky.net/vb/" target="_blank">VB源码</a>
		<a href="http://www.codesky.net/vc/" target="_blank">VC源码</a>
		<a href="http://www.codesky.net/java/" target="_blank">Java源码</a>
		<a href="http://www.codesky.net/pb/" target="_blank">PB源码</a>
		<a href="http://www.codesky.net/dotnet/" target="_blank">.NET源码</a>
		<a href="http://www.codesky.net/codedown/asp/" target="_blank">ASP源码</a>
		<a href="http://www.codesky.net/codedown/php/" target="_blank">PHP源码</a>
		<a href="http://www.codesky.net/codedown/jsp/" target="_blank">JSP源码</a>
		<a href="http://www.codesky.net/codedown/javascript/" target="_blank">JS源码</a>
	</div>
	<div class="right" style="line-height:22px">
		<a href="javascript:addFav()">加入收藏</a>&nbsp;&nbsp;<a href="http://www.codesky.net/server/adservice.asp">广告服务</a>&nbsp;&nbsp;<a href="http://www.codesky.net/server/about.asp">关于我们</a>&nbsp;&nbsp;
	</div>
	</div>
	<div class="clear"></div>
</div>
<!-- 头部 -->
<div id="header">
	<div class="logo"><a href="http://www.codesky.net/" target=_self><img src="http://www.codesky.net/images/headlogo.gif"></a></div>
	<div class="memb">
		<div class="y1"></div>
		<div class="y2">
			<div class="yy">
				<ul>
				<li class="l1"><a href="http://www.codesky.net/" target="_blank">源码下载</a></li>
				<li class="l2"><a href="http://www.codesky.net/club/" target="_blank">技术论坛</a></li>
				<li class="l3"><a href="http://www.codesky.net/pubcode.asp" target="_blank">发表源码</a></li>
				</ul>
			</div>
		</div>
		<div class="y3"></div>
	</div>
	<div class="bann">
<script type="text/javascript">
alimama_pid="mm_12337059_1592491_8953902";
alimama_titlecolor="0000FF";
alimama_descolor ="000000";
alimama_bgcolor="FFFFFF";
alimama_bordercolor="E6E6E6";
alimama_linkcolor="008000";
alimama_bottomcolor="FFFFFF";
alimama_anglesize="0";
alimama_bgpic="0";
alimama_icon="0";
alimama_sizecode="12";
alimama_width=460;
alimama_height=60;
alimama_type=2;
</script>
<script src="http://a.alimama.cn/inf.js" type="text/javascript"></script>
	</div>
	<div class="clear"></div>
</div>
<!-- 头部 -->
<div id="menu">
	<ul>
		<li><a href="http://www.codesky.net/article/">首页</a></li>
		<li><a href="/article/program/index.html">软件开发</a></li>
		<li><a href="/article/web/index.html">WEB开发</a></li>
		<li class="current"><a href="/article/script/index.html">脚本语言</a></li>
		<li><a href="/article/database/index.html">数据库专题</a></li>
		<li><a href="/article/webarch/index.html">网站架构</a></li>
		<li><a href="/article/network/index.html">网络与安全</a></li>
		<li><a href="/article/html/index.html">网页制作</a></li>
		<li><a href="/article/design/index.html">平面设计</a></li>
		<li><a href="/article/os/index.html">操作系统</a></li>
		<li><a href="/article/website/index.html">网站运营</a></li>
	</ul>
	<div class="clear"></div>
</div>
 
 
<div id="submenu">
<ul>
<li><a href="/article/script/36-1.html">Python编程</a></li>
</ul>
<ul>
<li><a href="/article/script/37-1.html">Ruby编程</a></li>
</ul>
<ul>
<li><a href="/article/script/38-1.html">Perl编程</a></li>
</ul>
</div>
 
<div class="clear"></div>

<div id="submenu2">
<script type="text/javascript">
alimama_pid="mm_12337059_1592491_8967530";
alimama_titlecolor="0000FF";
alimama_descolor ="000000";
alimama_bgcolor="FFFFFF";
alimama_bordercolor="E6E6E6";
alimama_linkcolor="008000";
alimama_bottomcolor="FFFFFF";
alimama_anglesize="0";
alimama_bgpic="0";
alimama_icon="0";
alimama_sizecode="15";
alimama_width=950;
alimama_height=90;
alimama_type=2;
</script>
<script src="http://a.alimama.cn/inf.js" type="text/javascript"></script>
</div>

<div id="submenu2">
<script type="text/javascript">
var cpro_id = 'u838276';
</script>
<script src="http://cpro.baidu.com/cpro/ui/c.js" type="text/javascript"></script>
</div>

<div id="search">
	<div class="keywords"> 　
		<a href="http://www.codesky.net/article/search/?s=js%E7%89%B9%E6%95%88" target="_blank">js特效</a> 　<a href="http://www.codesky.net/article/search/?s=jQuery%E6%8F%92%E4%BB%B6" target="_blank">jQuery插件</a>
		 　<a href="http://www.codesky.net/article/search/?s=%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1" target="_blank">负载均衡</a>
	</div>
	<div class="search">
		<form action="/article/search/" name="formsearch">
		标题&nbsp;<input name="s" type="text" class="text" size="25">
		<input type="submit" value="搜 索" align="absmiddle" class="s_button">
		</form>
	</div>
	<div class="clear"></div>
</div>
<div class="clear"></div>

<div id="archives">
	<div class="cl">
		<div class="index">
			<div class="indext">&nbsp;<a href="http://www.codesky.net/article/">文挡</a> &raquo; <a href="/article/script/index.html">脚本语言</a> &raquo; <a href="/article/script/36-1.html">Python编程</a></div>
			<h1>Python命令行参数选择</h1>
			<div class="writer">
				阅读：<font color=red>98</font>次&nbsp;&nbsp;&nbsp;时间：2010-03-09 09:03:13&nbsp;&nbsp; 
				字体：[<a href='javascript:FontZoom(16)'>大</a> <a href='javascript:FontZoom(14)'>中</a> <a href='javascript:FontZoom(12)'>小</a>]
			</div>
			<div></div>
			<div id="arctext">
			<p></p><p>本文主要介绍的是Python 命令行参数,Python 命令行参数在广泛的应用中会遇到很多的困难例如，python中sys, getopt模块处理命令行参数，下面我们将做一详细介绍。如果想对python脚本传参数，python中对应的argc, argv(c语言的命令行参数)是什么呢？</p>
<p>需要模块：sys<br />参数个数：len(sys.argv)<br />脚本名：&nbsp;&nbsp;&nbsp; sys.argv[0]<br />参数1：&nbsp;&nbsp;&nbsp;&nbsp; sys.argv[1]<br />参数2：&nbsp;&nbsp;&nbsp;&nbsp; sys.argv[2]</p><pre><ol class="dp-xml"><li class="alt"><span><span>est.py &nbsp;</span></span></li><li><span>view&nbsp;sourceprint?1&nbsp;import&nbsp;sys&nbsp;&nbsp; &nbsp;</span></li><li><span>print&nbsp;"脚本名：",&nbsp;sys.argv[0]&nbsp;&nbsp; &nbsp;</span></li><li><span>for&nbsp;i&nbsp;in&nbsp;range(1,&nbsp;len(sys.argv)):&nbsp; &nbsp;</span></li><li><span>print&nbsp;"参数",&nbsp;i,&nbsp;sys.argv[i]&nbsp; &nbsp;</span></li><li><span>python&nbsp;test.py&nbsp;hello&nbsp;world &nbsp;</span></li></ol></pre>
<p>脚本名：test.py<br />参数 1 hello<br />参数 2 world</p>
<p><strong>python中使用命令行选项：</strong></p>
<p>例如我们需要一个convert.py脚本。它的作用是处理一个文件,并将处理后的结果输出到另一个文件中。<br />要求该脚本满足以下条件：<br />1.通过-i -o选项来区别Python 命令行参数<br />参数是输入文件还是输出文件. python convert.py -i inputfile -o outputfile<br />2.当不知道convert.py需要哪些参数时，用-h打印出帮助信息<br />python convert.py -h</p>
<p>getopt函数原形:</p><pre><ol class="dp-xml"><li class="alt"><span><span>getopt.getopt(args,&nbsp;options[,&nbsp;long_options]) &nbsp;</span></span></li><li><span>convert.py &nbsp;</span></li><li><span>view&nbsp;sourceprint?01&nbsp;import&nbsp;sys,&nbsp;getopt&nbsp; &nbsp;</span></li><li><span>opts,&nbsp;</span><span class="attribute">args</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">getopt</span><span>.getopt(sys.argv[1:],&nbsp;"hi:o:")&nbsp; &nbsp;</span></li><li><span class="attribute">input_file</span><span>=</span><span class="attribute-value">""</span><span>&nbsp;&nbsp; &nbsp;</span></li><li><span class="attribute">output_file</span><span>=</span><span class="attribute-value">""</span><span>&nbsp;&nbsp; &nbsp;</span></li><li><span>for&nbsp;op,&nbsp;value&nbsp;in&nbsp;opts:&nbsp; &nbsp;</span></li><li><span>if&nbsp;</span><span class="attribute">op</span><span>&nbsp;==&nbsp;"-i": &nbsp;</span></li><li><span class="attribute">input_file</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">value</span><span>&nbsp;&nbsp; &nbsp;</span></li><li><span>elif&nbsp;</span><span class="attribute">op</span><span>&nbsp;==&nbsp;"-o":&nbsp;&nbsp; &nbsp;</span></li><li><span class="attribute">output_file</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">value</span><span>&nbsp;&nbsp; &nbsp;</span></li><li><span>elif&nbsp;</span><span class="attribute">op</span><span>&nbsp;==&nbsp;"-h":&nbsp; &nbsp;</span></li><li><span>usage()&nbsp;&nbsp; &nbsp;</span></li><li><span>sys.exit()&nbsp; &nbsp;</span></li></ol></pre>
<p></p>
<p>代码解释：<br />a) sys.argv[1:]为要处理的参数列表，sys.argv[0]为脚本名，所以用sys.argv[1:]过滤掉脚本名。<br />b) "hi:o:": 当一个选项只是表示开关状态时，即后面不带附加参数时，在分析串中写入选项字符。当选项后面是带一个附加参数时，在分析串中写入选项字符同时后面加一个":"号。所以"hi:o:"就表示"h"是一个开关选项；"i:"和"o:"则表示后面应该带一个参数。<br />c) 调用getopt函数。函数返回两个列表：opts和args。opts为分析出的格式信息。args为不属于格式信息的剩余的Python 命令行参数<br />命令行参数。opts是一个两元组的列表。每个元素为：(选项串,附加参数)。如果没有附加参数则为空串''。</p>
<p>getopt函数的第三个参数[, long_options]为可选的长选项参数，上面例子中的都为短选项(如-i -o)<br />长选项格式举例:</p><pre><ol class="dp-xml"><li class="alt"><span><span>version &nbsp;</span></span></li><li><span class="attribute">file</span><span>=</span><span class="attribute-value">error</span><span>.txt &nbsp;</span></li></ol></pre>
<p>让一个脚本同时支持短选项和长选项即可。</p>
<p>编辑推荐】</p>
<ol>
<li><a href="http://doc.codesky.net/art/201003/187983.htm" target="_blank">Python编程语言在网站开发中的妙用</a></li>
<li><a href="http://doc.codesky.net/art/201003/187979.htm" target="_blank">Python编程语言与Zpoe之间不解的情缘</a></li>
<li><a href="http://doc.codesky.net/art/201003/187957.htm" target="_blank">Python IDE如何顺应目前动荡的市场</a></li>
<li><a href="http://doc.codesky.net/art/201003/187953.htm" target="_blank">Python编程基础环境测验</a></li>
<li><a href="http://doc.codesky.net/art/201003/187947.htm" target="_blank">讲述Python序列如何进行解包教程</a></li></ol>
<br />
<p class="blank10"></p>
<script language="javascript"> 
getcountscom(187986,11);
getcountscom(187986,12);
getcountscom(187986,13);
getcountscom(187986,14);
getcountscom(187986,15);
getcountscom(187986,16); 
</script>
<p class="blank10"></p>
<p class="blank1"></p>
			</div>
			<div class="break">
			<script type="text/javascript">/*468*15，创建于2012-3-30*/ var cpro_id = 'u830116';</script><script src="http://cpro.baidu.com/cpro/ui/c.js" type="text/javascript"></script>
			</div>
			<!--
			<div class="break">
				上一篇：<a href=""><$lasttitle$></a>  <br />下一篇：<a href=""><$nexttitle$></a> 
			</div>
			-->
			<div class="relread">
			<div class="title">&nbsp;<b>相关阅读</b></div>
			<ul>
							<li><a href="/article/201112/122116.html" alt="python下函数参数的传递(参数带星号的说明)" target="_blank">python下函数参数的传递(参数带星号的说明)</a></li>
								<li><a href="/article/201112/122204.html" alt="Python 命令行参数sys.argv" target="_blank">Python 命令行参数sys.argv</a></li>
								<li><a href="/article/201003/122388.html" alt="用Python GUI程序“禁止”命令行窗口的出现的方案" target="_blank">用Python GUI程序“禁止”命令行窗口的出现的方案</a></li>
								<li><a href="/article/201003/122576.html" alt="Python Web中通过命令行工具启动导出源操作" target="_blank">Python Web中通过命令行工具启动导出源操作</a></li>
								<li><a href="/article/201003/122582.html" alt="用Python小程序建立命令行的实际应用方案" target="_blank">用Python小程序建立命令行的实际应用方案</a></li>
								<li><a href="/article/201003/122709.html" alt="Python命令行代码强化记忆宝典" target="_blank">Python命令行代码强化记忆宝典</a></li>
								<li><a href="/article/201002/123005.html" alt="有关Python 命令行进行学习研究" target="_blank">有关Python 命令行进行学习研究</a></li>
								<li><a href="/article/200811/123184.html" alt="用Python扩展命令行工具来学习编写插件(1)" target="_blank">用Python扩展命令行工具来学习编写插件(1)</a></li>
								<li><a href="/article/201007/131348.html" alt="Perl命令行参数应用指导" target="_blank">Perl命令行参数应用指导</a></li>
								<li><a href="/article/201007/131349.html" alt="常用Perl命令行参数应用分析" target="_blank">常用Perl命令行参数应用分析</a></li>
								<li><a href="/article/201007/131350.html" alt="实例解析Perl命令行实用程序" target="_blank">实例解析Perl命令行实用程序</a></li>
								<li><a href="/article/201007/131369.html" alt="Perl学习笔记----Perl命令行" target="_blank">Perl学习笔记----Perl命令行</a></li>
								<li><a href="/article/201007/131497.html" alt="Perl命令行常见用法及技巧解析" target="_blank">Perl命令行常见用法及技巧解析</a></li>
								<li><a href="/article/201007/131500.html" alt="全面解析Perl命令行应用" target="_blank">全面解析Perl命令行应用</a></li>
								<li><a href="/article/201007/131501.html" alt="解析Perl命令行程序用法" target="_blank">解析Perl命令行程序用法</a></li>
								<li><a href="/article/201007/131502.html" alt="Perl命令行用法解析" target="_blank">Perl命令行用法解析</a></li>
								<li><a href="/article/201007/131506.html" alt="浅析Perl命令行应用" target="_blank">浅析Perl命令行应用</a></li>
								<li><a href="/article/201007/131507.html" alt="常用Perl命令行参数应用介绍" target="_blank">常用Perl命令行参数应用介绍</a></li>
								<li><a href="/article/201110/165327.html" alt="python简明教程练习--命令行 地址簿 程序" target="_blank">python简明教程练习--命令行 地址簿 程序</a></li>
								<li><a href="/article/200910/166609.html" alt="ruby：查看版本，命令行运行程序" target="_blank">ruby：查看版本，命令行运行程序</a></li>
							</ul>
			</div>
		</div>	
	</div>

<div class="cr"><!--cr-->
		<div class="index">
			<div class="indext">&nbsp;<b>源码推荐</b></div>
			<div class="indexc list">
				<ul>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=10" target=_blank>仿管家婆进销存管理软件</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=9" target=_blank>大型企业通用ERP系统</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=8" target=_blank>IM即时通讯源码</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=7" target=_blank>某企业专用OA系统</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=6" target=_blank>管家婆分销ERP系统</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=4" target=_blank>某ERP管理系统源代</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=3" target=_blank>某大型ERP系统源码</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=2" target=_blank>凯达OA协同办公系统</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=1" target=_blank>OA2009网络智能办公系统</a></li>
				<li><font color=red>[商业源码]</font>&nbsp;<a href="http://www.codesky.net/shop/view.asp?id=5" target=_blank>QQ群发软件</a></li>
				</ul>
			</div>
		</div>
		<div class="index" style="text-align:center">
			<script src="http://www.codesky.net/article/statics/js/rigthad.js"></script>
		</div>
		<div class="index">
			<div class="indext">&nbsp;<b>热门文章</b></div>
			<div class="indexc list">
				<ul>
								<li>1.<a href="/article/201202/165218.html" target="_blank">AttributeError: 'module' object has no attribute 的解决方法</a></li>
								<li>2.<a href="/article/201002/122972.html" target="_blank">如何正确定义Python数组</a></li>
								<li>3.<a href="/article/201202/165214.html" target="_blank">python命名规范</a></li>
								<li>4.<a href="/article/201112/122142.html" target="_blank">python 自动提交和抓取网页</a></li>
								<li>5.<a href="/article/201112/122246.html" target="_blank">Python入门教程 超详细1小时学会Python</a></li>
								<li>6.<a href="/article/201112/122135.html" target="_blank">python encode和decode的妙用</a></li>
								<li>7.<a href="/article/201112/122122.html" target="_blank">Python+Django在windows下的开发环境配置图解</a></li>
								<li>8.<a href="/article/201003/122537.html" target="_blank">Python入门的相对路径和绝对路径详解</a></li>
								<li>9.<a href="/article/201202/165216.html" target="_blank">Python:通过执行100万次打印来比较C和python的性能，以及用C和python结合来解决性能问题的方法</a></li>
								<li>10.<a href="/article/201112/122197.html" target="_blank">Python 网络编程起步(Socket发送消息)</a></li>
								<li>11.<a href="/article/201202/165226.html" target="_blank">python和php模拟POST提交</a></li>
								<li>12.<a href="/article/201003/122747.html" target="_blank">Python读写文件实际操作的五大步骤</a></li>
								<li>13.<a href="/article/201112/122209.html" target="_blank">比较详细Python正则表达式操作指南(re使用)</a></li>
								<li>14.<a href="/article/201112/122198.html" target="_blank">Python  __getattr__与__setattr__使用方法</a></li>
								<li>15.<a href="/article/201112/122106.html" target="_blank">python将多个文本文件合并为一个文本的代码（便于搜索）</a></li>
								<li>16.<a href="/article/201112/122160.html" target="_blank">python 判断一个进程是否存在</a></li>
								<li>17.<a href="/article/201003/122740.html" target="_blank">Python命令行参数选择</a></li>
								<li>18.<a href="/article/201202/165211.html" target="_blank">python下selenium测试报告整合</a></li>
								<li>19.<a href="/article/201112/122137.html" target="_blank">Python 网络编程说明</a></li>
								<li>20.<a href="/article/201112/122099.html" target="_blank">python 生成不重复的随机数的代码</a></li>
								</ul>
			</div>
		</div>
</div><!--cr-->

</div>

<div class="clear"></div>

<div id="server">
	<a href="http://www.codesky.net/server/about.asp" target="_blank">关于本站</a> - <a href="http://www.codesky.net/server/adservice.asp" target="_blank">广告服务</a> - <a href="http://www.codesky.net/server/member.asp" target="_blank">会员指南</a> - <a href="http://www.codesky.net/contact.asp" target="_blank">联系方法</a>
</div>
<div id="copy">
Copyright &copy;2003-2011 <a href="http://www.codesky.net" target="_self">源码天空</a> All Rights Reserved<br />
</div>
<div id="divad" style="visibility: hidden">
<script language="javascript" src="http://www.codesky.net/article/count.php?id=122740"></script>
<script type="text/javascript">
/*300*250，创建于2012-4-10*/ 
var cpro_id = 'u843624';
</script>
<script src="http://cpro.baidu.com/cpro/ui/f.js" type="text/javascript"></script>
<script language="javascript" src="http://count16.51yes.com/click.aspx?id=169437375&logo=1"></script>
</div>
</body>
</html>
</body>                              
</html>  