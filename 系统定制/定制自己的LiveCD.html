<html><head><title>定制自己的LiveCD(centos)_凤凰涅磐_百度空间</title><meta http-equiv=content-type content="text/html; charset=GBK"><link rel=alternate type="application/rss+xml" title="订阅该空间的博客文章" href="http://hi.baidu.com/l172/rss"><style type="text/css">.error{color:#F00;font-size:12px}.shareUser,.shareLastEditor{line-height:20px;color:#666;text-align:left}.shareLastEditor{margin:5px 0 8px}</style><script>
	    var g_pageTimerStart=new Date().getTime();
	</script><script src="http://hi.bdimg.com/static/cblog/js/other/global.js?v=009301b8.js"></script><script src="http://hi.bdimg.com/static/cblog/js/other/libs.js?v=48b209f9.js"></script><script src="http://img.baidu.com/js/tangram-1.1.0.js?v=1334907755.js"></script><script>
var Session = {
    isLogin: true,
    isHost: 0,
    loginStatus : 2,
    userName: "l172",   
    userPortrait:'44b76c3137328200',
    spaceURL: "\/l172",
    spBasicURL:"http:\/\/hi.baidu.com\/l172",
    spBasicURLEnc:"http%3A%2F%2Fhi.baidu.com%2Fl172",
    visitorName:    "zhu__feng001",
    visitorPortrait:'a0a27a68755f5f66656e673030314312',
    isActive: '1',   /*{cmt 访问者是否激活空间}*/
    visitorURL: "\/zhu__feng001",        // 
    pageURL: "http://hi.baidu.com\/l172\/blog\/item\/bd25c9d8918d3c2710df9b04.html",    
    refer: "http:\/\/www.baidu.com\/s?tn=baiduhome_pg&bs=centos+%C8%ED%BC%FE%D2%C0%C0%B5&f=8&rsv_bp=1&rsv_spt=1&wd=centos+livecd-tools&inputT=9716",
    spToken: 'c4293139abfbbd0a2dcab6ca450b2683', 
    spFriendDomain: 'http://frd.baidu.com',
    spSpaceDomain: 'http://hi.baidu.com',
    spPortraitDomain: 'http://tx.bdimg.com',
    spSpaceStaticDomain: 'http://hi.bdimg.com', /*{cmt TODO RD似乎还不有提供这个变量，记得补成呀！}*/
    spImgDomain : 'http://img.baidu.com',
    spStaticDomain : 'http://hi.bdimg.com',

    isDrag: false  /*{cmt 是否在拖动页：是为了通用，只对模块内容有作用，这里也作为一个通用属性}*/
    ,isProfile: false   /*{cmt 是否在拖动页：是为了通用，只对模块内容有作用，这里也作为一个通用属性}*/
    ,isPortraitVerify:!true
    };
</script></head><body> <script>
/*<![CDATA[*/
if(top.location != self.location){
	top.location = self.location;
}
var myref = encodeURIComponent("http://hi.baidu.com\/l172\/blog\/item\/bd25c9d8918d3c2710df9b04.html");
/*]]>*/
</script><!--[if (lt IE 8.0)]><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/ui/mods.css?v=774e31a7.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/ui/mods_datauri.css?v=a1661a70.css"><!--<![endif]--><link rel=stylesheet type=text/css href="http://hitn.bdimg.com/2402050202/css/item/e0d8bade5fea51136327989a.css"><!--[if (lt IE 8.0)]><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/space.css?v=674c899c.css"><![endif]--><!--[if (!IE)|(gte IE 8.0)]><!--><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/cblog/css/space_datauri.css?v=b27686c7.css"><!--<![endif]--><div class=userbar><center> <div id=nav><a class=logo href=http://hi.baidu.com/index.htm><img src=http://img.baidu.com/hi/logo/logo_93_30.gif border=0 alt="百度空间"></a> <ul class=topmenu><li><a href="/zhu__feng001/ihome">个人中心</a><li class=vline><li><a href="/zhu__feng001/home" >我的主页</a><li class=vline><li><a href="/zhu__feng001/ihome/frdme">好友</a><li class=vline><li id=topMsgLi><a href="http://hi.baidu.com/msg/index" id=topMsgTab>消息</a> </ul> <dl class=manage> <dd id=tary_space_name class=nolink>zhu__feng001<dt>|<dd id=user_disguise_link><a href="/zhu__feng001/modify/spmodules/0">装扮</a><dt id=user_disguise_l>|<dd><a href="/zhu__feng001/ihome/basicconfig">设置</a><dt>| <dd><a href="https://passport.baidu.com/?logout&bdstoken=c4293139abfbbd0a2dcab6ca450b2683&u=">退出</a></dl> </div></center></div><script src="http://hi.bdimg.com/static/base/js/conf/base.js?v=1334907755.js"></script><link rel=stylesheet type=text/css href="http://hi.bdimg.com/static/base/css/base.css?v=1334907755.css"><script>			
		(function(){
			function initMessage(){
				Space.msgConfig={
					staticDomain:'http://hi.bdimg.com'
					,portraitDomain:'http://tx.bdimg.com'
					,appsDomain:'http://apps.hi.baidu.com'
					,domain:'http://hi.baidu.com'
					,userPortrait:"a0a27a68755f5f66656e673030314312"
					,userName:"zhu__feng001"
					,spToken:"c4293139abfbbd0a2dcab6ca450b2683"
					,spaceUrl:"\/zhu__feng001"
					,pageType:"blog"
				};
				if(Space.msgConfig.spaceUrl.indexOf("/")==0) {
					Space.msgConfig.spaceUrl = Space.msgConfig.spaceUrl.substr(1);
				}

				var job = new Space.Libs.Jobs();
				job.add("message_tip");
				job.start();
			}
			
			if(window.addEventListener){
				window.addEventListener('load', initMessage, false );
			}else if(window.attachEvent){
				window.attachEvent('onload', initMessage);
			}
		})();
	</script><script language=javascript src="http://hi.bdimg.com/static/cblog/js/ui/dialog.js?v=f1d92f7b.js"></script><center><div id=main align=left><!--[if IE]><script>
var objmain = document.getElementById("main");
function updatesize(){ var bodyw = window.document.body.offsetWidth; if(bodyw <= 790) objmain.style.width="772px"; else if(bodyw >= 1016) objmain.style.width="996px"; else objmain.style.width="100%"; }
updatesize(); window.onresize = updatesize;
</script><![endif]--><div id=header><div class=lc><div class=rc></div></div><div class=tit><a href="/l172" class=titlink title="l172的空间 http://hi.baidu.com/l172">凤凰涅磐</a></div><div class=desc></div><div id=tabline>&nbsp;</div><div id=tab><a href="http://hi.baidu.com/l172/home">主页</a><a href="http://hi.baidu.com/l172/blog" class=on>博客</a><a href="http://hi.baidu.com/l172/album">相册</a><span>|</span><a href="http://hi.baidu.com/l172/profile">个人档案</a><span>|</span><a href="http://hi.baidu.com/l172/friends">好友</a><span>|</span><a href="http://tieba.baidu.com/i/sys/jump?un=l172&fr=spacebar" onclick="BdUtil.ns_trackerLink('m_20110330_spacebar','')" target=_blank>i贴吧</a></div></div><div class=stage><div class=stagepad><div style="width:100%"><table width="100%" border=0 cellspacing=0 cellpadding=0 class=modth><tr><td class=modtl width=7>&nbsp;<td class=modtc nowrap><div class=modhead><span class=modtit>查看文章</span></div><td class=modtc nowrap align=right><td class=modtr width=7>&nbsp;</table><div id=m_blog class=modbox style="overflow-x:hidden;"><div class=tit>定制自己的LiveCD(centos)</div><div class=date>2010/01/19 18:39</div><table style="table-layout:fixed;width:100%"><tr><td><div id=blog_text class=cnt><div>
<p>1、建立自己的yum-repository或者使用官方的（考虑到你需要的软件小，所以这一步不是很必要）。</p>
<p>2、安装一个centos系统，修改etc/yum.repos.d/centos-livecd.repo文件内容</p>
<div class="wp_syntax">
<div class="code">
<pre class="php"><span style="color: #666666; font-style: italic"># Name: CentOS LiveCD repository
</span><span style="color: #009900">[</span>livecd<span style="color: #009900">]</span>
name <span style="color: #339933">=</span> CentOS <span style="color: #000088">$releasever</span> <span style="color: #339933">-</span> LiveCD
baseurl <span style="color: #339933">=</span> http<span style="color: #339933">:</span><span style="color: #666666; font-style: italic">//www.nanotechnologies.qc.ca/propos/linux/centos-live/$basearch/live</span>
enabled<span style="color: #339933">=</span><span style="color: #cc66cc">1</span>
protect<span style="color: #339933">=</span><span style="color: #cc66cc">0</span>
gpgkey <span style="color: #339933">=</span> http<span style="color: #339933">:</span><span style="color: #666666; font-style: italic">//www.nanotechnologies.qc.ca/propos/linux/RPM-GPG-KEY-PGuay</span></pre>
</div>
</div>
<p>保存之后，执行以下命令：</p>
<p> </p>
<p># yum install livecd-tools syslinux</p>
<p>这样就安装好了工具，接下来就是写自己想要的ks脚本；</p>
<p>3、ks脚本</p>
<p>名称：centos-livecd-minimal.ks（这个就是你所说的linux+GNOME）</p>
<p>内容：</p>
<div class="wp_syntax">
<div class="code">
<pre class="php">lang en_US<span style="color: #339933">.</span>UTF<span style="color: #339933">-</span><span style="color: #cc66cc">8</span>
keyboard us
timezone US<span style="color: #339933">/</span>Eastern
auth <span style="color: #339933">--</span>useshadow <span style="color: #339933">--</span>enablemd5
selinux <span style="color: #339933">--</span>disabled
firewall <span style="color: #339933">--</span>disabled
 
 
repo <span style="color: #339933">--</span>name<span style="color: #339933">=</span>base <span style="color: #339933">--</span>baseurl<span style="color: #339933">=</span>http<span style="color: #339933">:</span><span style="color: #666666; font-style: italic">//ftp.telus.net/pub/centos/5/os/$basearch</span>
repo <span style="color: #339933">--</span>name<span style="color: #339933">=</span>updates <span style="color: #339933">--</span>baseurl<span style="color: #339933">=</span>http<span style="color: #339933">:</span><span style="color: #666666; font-style: italic">//ftp.telus.net/pub/centos/5/updates/$basearch</span>
repo <span style="color: #339933">--</span>name<span style="color: #339933">=</span>extras <span style="color: #339933">--</span>baseurl<span style="color: #339933">=</span>http<span style="color: #339933">:</span><span style="color: #666666; font-style: italic">//ftp.telus.net/pub/centos/5/extras/$basearch</span>
<span style="color: #666666; font-style: italic">#repo --name=base --baseurl=http://isoredirect.centos.org/centos/5/os/$basearch
</span><span style="color: #666666; font-style: italic">#repo --name=updates --baseurl=http://isoredirect.centos.org/centos/5/updates/$basearch
</span><span style="color: #666666; font-style: italic">#repo --name=extras --baseurl=http://isoredirect.centos.org/centos/5/extras/$basearch
</span>repo <span style="color: #339933">--</span>name<span style="color: #339933">=</span>live <span style="color: #339933">--</span>baseurl<span style="color: #339933">=</span>http<span style="color: #339933">:</span><span style="color: #666666; font-style: italic">//www.nanotechnologies.qc.ca/propos/linux/centos-live/$basearch/live</span>
 
<span style="color: #339933">%</span>packages
bash
kernel
syslinux
passwd
policycoreutils
chkconfig
authconfig
rootfiles
comps<span style="color: #339933">-</span>extras
xkeyboard<span style="color: #339933">-</span>config
gnome<span style="color: #339933">-</span>desktop</pre>
</div>
</div>
<p>4、生成</p>
<p># LANG=C livecd-creator &ndash;config=centos-livecd-minimal.ks &ndash;fslabel=linux-gnome</p>
<p>执行这个命令需要一会时间，你耐心等下，执行成功后，你会看到一个linux-gnome.iso的文件，这个文件可以刻录到光盘，在光驱中直接启动，也可以安装到硬盘，并且你可以定制里面的配置和桌面背景之类的，都是通过ks脚本实现。注意(ks 脚本路径要写对,上面那样写，要在ks脚本所在目录执行）</p>
</div></div></table><br><div class=opt id=blogOpt><a href="http://hi.baidu.com/l172/blog/category/%B2%D9%D7%F7%CF%B5%CD%B3" title="查看该分类中所有文章">类别：操作系统</a><span class=x-blog-opt-sp>|</span><a href="#" onclick="addToShare(); return false;" target=_blank><img src=http://img.baidu.com/hi/apps/share/share_btn.gif border=0 align=absbottom></a><span class=x-blog-opt-sp>|</span><a title="将此文章添加到百度搜藏" href=http://cang.baidu.com/do/add onClick="return addToFavor();" target=_blank>添加到搜藏</a> <span class=x-blog-opt-sp>|</span><a title="将此文章分享到i贴吧" href="#" onclick="addToiTieba(); return false;" target=_blank>分享到i贴吧</a><span class=x-blog-opt-sp>|</span>浏览(<span id=result>443</span>)<span class=x-blog-opt-sp>|</span><a href="#send">评论</a>&nbsp;(<span id=blogCmtCount>0</span>)<script language=javascript>
										/*<![CDATA[*/
										var pre = [true,'如何实现虚拟串口一对多', '如何实现虚拟串口一对多','\/l172/blog/item/6d40e1ec7fe0ecdfb21cb1f1.html'];
										var post = [true,'升级Linux内核的方法','升级Linux内核的方法', '\/l172/blog/item/27a633230e6d67f8d6cae201.html'];
										if(pre[0] || post[0]){
											document.write('<div style="height:5px;line-height:5px;">&nbsp;</div><div id="in_nav">');
											if(pre[0]){
												document.write('上一篇：<a href="' + pre[3] + '" title="' + pre[1] + '">' +  pre[2] + '</a>&nbsp;&nbsp;&nbsp;&nbsp;');
											}
											if(post[0]){
												document.write('下一篇：<a href="' + post[3] + '" title="' + post[1] + '">' +  post[2] + '</a>');
											}
											document.write('</div>');
										}
										/*]]>*/
									</script></div><div class=line>&nbsp;</div><style type="text/css">#in_related_doc a{text-decoration:none}</style><div id=in_related_tmp></div><div id=in_reader> <div class=tit>最近读者：</div></div><div class=line>&nbsp;</div><div id=in_comment> <a name=comment></a> <div class=tit>网友评论：</div> <span id=userCommentList></span> <div id=page></div></div><form action='/l172/commit' id=blogCmtSubmitForm name=blogCmtSubmitForm method=post> <input type=hidden name=bdstoken value='c4293139abfbbd0a2dcab6ca450b2683'> <input type=hidden name=ct value=8> <input type=hidden name=cm value=2> <input type=hidden name=spBlogID value='bd25c9d8918d3c2710df9b04'> <input type=hidden name=spBlogCmtID value=''> <input type=hidden name=spRefURL value=''></form><div id=in_send><a name=send></a><form name=form1 id=popFormSubmit action="/l172/commit" method=post onSubmit="return checkcmtform()"><input type=hidden name=bdstoken value="c4293139abfbbd0a2dcab6ca450b2683"><input type=hidden name=ct value=8><input type=hidden name=cm value=1><input type=hidden name=spBlogID value="bd25c9d8918d3c2710df9b04"><input type=hidden name=spRefURL id=spRefURL><script>
										    document.getElementById("spRefURL").value = window.location.href;
										</script><div class=tit>发表评论：</div><table width=620 border=0 cellspacing=5 cellpadding=0><tr><td class=f14>姓　名：<td>zhu__feng001<input name=spBlogCmtor id=spBlogCmtor style="display:none;" maxlength=50 value="zhu__feng001"><div style=display:none id=nmerror>*姓名最长为50字节</div><input type=hidden name=spBlogCmtURL id=spBlogCmtURL style=width:360px maxlength=128 onChange='checkeandu("spBlogCmtURL")' value='http://hi.baidu.com/zhu__feng001'><tr id=2_err style=display:none><td>&nbsp;<td><div class=error id=2_err_con></div><tr><td valign=top class=f14 id=reTitle>内　容：<td> <textarea name="spBlogCmtText" id="spBlogCmtText" style="width:520px;height:155px" tabindex="3" onFocus="hidErr(3);" ></textarea><tr id=3_err style=display:none><td>&nbsp;<td><div class=error id=3_err_con></div><tr id=share_blog> <td> <td valign=top><input type=checkbox id=shareBlog autocomplete=off style="vertical-align:text-bottom; margin-bottom:2px; margin-bottom:-2px\9;"><label for=shareBlog>同时将此文章分享给好友</label><input type=hidden id=shareBlogEchoback name=echoback><tr id=vercode><td valign=top class=f14>验证码：<td valign=top><input type=hidden name=spVcode value=""><input onFocus="f_focus()" id=spVerifyKey name=spVerifyKey size=6 maxlength=4 autocomplete=off tabindex=4> 请点击后输入四位验证码，字母不区分大小写<br><div id=yanzheng style=display:none><img id=verifypic width=120 height=40><wbr><a onFocus="this.blur();" href="#" onClick="return newverifypic();" title="看不清左边的字符">看不清?</a></div><tr><td valign=top class=f14>&nbsp;<td valign=top class=f14><input id=btn_ok name=btn_ok type=submit autocomplete=off value="发表评论" tabindex=5>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#" id=cancleReLink onClick="canclereply(); return false;" style="display:none; font-size:12px;color:#666;">取消回复</a></table></form></div><br></div><table width="100%" border=0 cellspacing=0 cellpadding=0 height=8><tr><td class=modbl width=7>&nbsp;<td class=modbc>&nbsp;<td class=modbr width=7>&nbsp;</table></div></div></div></div><div class=clearfix></div><div style="text-align:center;margin:30px auto 15px;font-family:Arial,simsun;font-size:12px;"><div style="margin:0 auto 6px;"><a href=http://help.baidu.com/question?prod_en=space target=_blank style="color:#00C;">帮助中心</a><span>&nbsp;|&nbsp;</span><a href="http://tieba.baidu.com/f?kw=%B0%D9%B6%C8%BF%D5%BC%E4&fr=wwwt" target=_blank style="color:#00C;">空间客服</a><span>&nbsp;|&nbsp;</span><a href=http://tousu.baidu.com/hi/ target=_blank style="color:#00C;">投诉中心</a><span>&nbsp;|&nbsp;</span><a href=http://www.baidu.com/search/hi_contract.html target=_blank style="color:#00C;">空间协议</a></div><div style="color:#7A77C8;">&copy;2012&nbsp;Baidu</div></div></center><ul id=blogCmtContentList style="display:none;"></ul><script>	var g_blogTitle = '定制自己的LiveCD(centos)';
		var g_blogId = 'bd25c9d8918d3c2710df9b04';
		var g_isAllowCmt =  true ;
		var g_isByShared =  false ;
		var g_isAddRelate =  true ;
		var g_latestReader = [
									["http:\/\/hi.baidu.com\/zhu__feng001","a0a27a68755f5f66656e673030314312","zhu__feng001"],
									["http:\/\/hi.baidu.com\/yindan510","037979696e64616e353130010c","yindan510"],
									["http:\/\/hi.baidu.com\/pauldu104","b0477061756c647531313034bb09","pauldu1104"],
									["http:\/\/hi.baidu.com\/jhting","b6536a6874696e673531355900","jhting515"],
									["http:\/\/hi.baidu.com\/xautll","0039786175746c6c270a","xautll"],
									["http:\/\/hi.baidu.com\/jiaozhu21","9c536a69616f7a687532312007","jiaozhu21"],
									["http:\/\/hi.baidu.com\/xql2008","1f5478716c323030389e03","xql2008"],
									["http:\/\/hi.baidu.com\/izaxaca","32e2697a61786163611d10","izaxaca"],
								{}
			];
	</script><iframe id=submitiframe name=submitiframe src="http://hi.bdimg.com/static/cblog/html/blank.html?v=20111213" style="display:none;"></iframe><script src="http://hi.bdimg.com/static/base/js/conf/comment.js?v=1334907755.js"></script><script src="http://hi.bdimg.com/static/cblog/js/job/detailpage.js?v=ee7931cf.js"></script><script>
/*<![CDATA[*/
/*{cmt
    这个相当一个代理器  
  在这里想实现一种这种加载效果：加载时注册（用一个 初始化数据.数组 记录要绑定的ID），文档ready后，按需加载js+css资源，js加载完，就初始化据执行

  有个问题，有些结构是 动态 执行这个绑定的，可能会发生资源还没有加载的情况。可以考虑给初始化数据，加一个标志位，说明加载完未，如果未，则把数据push到 初始化数据中(因为是用 dom.onxxx 的方式，所以不怕多次对同一个ID执行的问题)


  }*/
var SP = SP || {};
if(!SP.mycard){
    SP.mycard = new (function(){
        var me = this;
        var _cancleAction = Session.isDrag;  /*{cmt 标记在特殊情况下，所有的注册都被abort 如拖动页面}*/
        var _list = [];
        var _sourceLoaded = false;    /*{cmt 这里用了一种资源加载结束后，回调的机制，这个标志资源是否加载结束}*/
        me.bind = function (_id){
            if(_cancleAction){  //abort
                return;
            }
            if(!_sourceLoaded){
                _list.push(_id);
            } else {
                baidu.space.mycard.bind(_id);
            }
        }
        me.init = function (_config){
            _cancleAction = !!_config.cancle;
        }
        me.onSourceLoaded = function (){
            _sourceLoaded = true;
            baidu.space.mycard.init({portrait: Session.visitorPortrait});
            for(var i=0,len=_list.length; i<len; i++){
                baidu.space.mycard.bind(_list[i]);
            }
        }
    })();
    baidu.dom.ready(function(){
        BdAjax.loadCSS('http://hi.bdimg.com/static/cblog/css/ui/ucard/ucard.css?v=50de96ca.css');
        BdAjax.loadJS('http://hi.bdimg.com/static/cblog/js/ui/ucard/ucard.js?v=fcbffbf8.js');
    });
}
SP.mycard.bind('m_blog');  /*{cmt 只有文档加载完才真正绑定，这里只是append记录 }*/
/*]]>*/
</script>